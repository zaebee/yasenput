/*

 Lo-Dash 1.3.1 (Custom Build) lodash.com/license
 Build: `lodash modern -o ./dist/lodash.js`
 Underscore.js 1.4.4 underscorejs.org/LICENSE
*/
"object"!==typeof JSON&&(JSON={});
(function(){function f(a){return 10>a?"0"+a:a}function g(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=k[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(b,d){var f,k,q,x,h=e,p,y=d[b];y&&("object"===typeof y&&"function"===typeof y.toJSON)&&(y=y.toJSON(b));"function"===typeof l&&(y=l.call(d,b,y));switch(typeof y){case "string":return g(y);case "number":return isFinite(y)?String(y):"null";case "boolean":case "null":return String(y);
case "object":if(!y)return"null";e+=a;p=[];if("[object Array]"===Object.prototype.toString.apply(y)){x=y.length;for(f=0;f<x;f+=1)p[f]=c(f,y)||"null";q=0===p.length?"[]":e?"[\n"+e+p.join(",\n"+e)+"\n"+h+"]":"["+p.join(",")+"]";e=h;return q}if(l&&"object"===typeof l){x=l.length;for(f=0;f<x;f+=1)"string"===typeof l[f]&&(k=l[f],(q=c(k,y))&&p.push(g(k)+(e?": ":":")+q))}else for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&(q=c(k,y))&&p.push(g(k)+(e?": ":":")+q);q=0===p.length?"{}":e?"{\n"+e+p.join(",\n"+
e)+"\n"+h+"}":"{"+p.join(",")+"}";e=h;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,a,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,d,f){var k;a=e="";if("number"===typeof f)for(k=0;k<f;k+=1)a+=" ";else"string"===typeof f&&(a=f);if((l=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return c("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,d){function e(a,b){var h,c,f=a[b];if(f&&"object"===typeof f)for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c=e(f,h),void 0!==c?f[h]=c:delete f[h]);return d.call(a,b,f)}var c;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),"function"===typeof d?e({"":c},""):c;throw new SyntaxError("JSON.parse");})})();
!function(f){function g(a,h){return function(b){return l(a.call(this,b),h)}}function c(a,h){return function(b){return this.lang().ordinal(a.call(this,b),h)}}function b(){}function d(h){a(this,h)}function e(a){var h=a.years||a.year||a.y||0,b=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,c=a.hours||a.hour||a.h||0,p=a.minutes||a.minute||a.m||0,v=a.seconds||a.second||a.s||0,f=a.milliseconds||a.millisecond||a.ms||0;this._input=a;this._milliseconds=f+1E3*v+6E4*p+36E5*c;this._days=
e+7*d;this._months=b+12*h;this._data={};this._bubble()}function a(a,h){for(var b in h)h.hasOwnProperty(b)&&(a[b]=h[b]);return a}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,h){for(var b=a+"";b.length<h;)b="0"+b;return b}function r(a,h,b,d){var e,c,p=h._milliseconds,v=h._days;h=h._months;p&&a._d.setTime(+a._d+p*b);(v||h)&&(e=a.minute(),c=a.hour());v&&a.date(a.date()+v*b);h&&a.month(a.month()+h*b);p&&!d&&t.updateOffset(a);(v||h)&&(a.minute(e),a.hour(c))}function n(a,h){var b,d=Math.min(a.length,
h.length),e=Math.abs(a.length-h.length),c=0;for(b=0;d>b;b++)~~a[b]!==~~h[b]&&c++;return c+e}function m(a){return a?ba[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function u(a){if(!a)return t.fn._lang;if(!M[a]&&H)try{require("./lang/"+a)}catch(h){return t.fn._lang}return M[a]}function q(a){var h,b,d=a.match(T);h=0;for(b=d.length;b>h;h++)d[h]=X[d[h]]?X[d[h]]:d[h].match(/\[.*\]/)?d[h].replace(/^\[|\]$/g,""):d[h].replace(/\\/g,"");return function(e){var c="";for(h=0;b>h;h++)c+=d[h]instanceof Function?
d[h].call(e,a):d[h];return c}}function x(a,h){function b(h){return a.lang().longDateFormat(h)||h}for(var d=5;d--&&N.test(h);)h=h.replace(N,b);return U[h]||(U[h]=q(h)),U[h](a)}function h(a,h){switch(a){case "DDDD":return F;case "YYYY":return B;case "YYYYY":return I;case "S":case "SS":case "SSS":case "DDD":return v;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return O;case "a":case "A":return u(h._l)._meridiemParse;case "X":return la;case "Z":case "ZZ":return Q;case "T":return fa;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return J;
default:return RegExp(a.replace("\\",""))}}function p(a){a=((Q.exec(a)||[])[0]+"").match(ga)||["-",0,0];var h=+(60*a[1])+~~a[2];return"+"===a[0]?-h:h}function y(a){var h,b=[];if(!a._d){for(h=0;7>h;h++)a._a[h]=b[h]=null==a._a[h]?2===h?1:0:a._a[h];b[3]+=~~((a._tzm||0)/60);b[4]+=~~((a._tzm||0)%60);h=new Date(0);a._useUTC?(h.setUTCFullYear(b[0],b[1],b[2]),h.setUTCHours(b[3],b[4],b[5],b[6])):(h.setFullYear(b[0],b[1],b[2]),h.setHours(b[3],b[4],b[5],b[6]));a._d=h}}function A(a){var b,d,e=a._f.match(T),c=
a._i;a._a=[];for(b=0;b<e.length;b++)if((d=(h(e[b],a).exec(c)||[])[0])&&(c=c.slice(c.indexOf(d)+d.length)),X[e[b]]){var v=a,f=void 0,A=v._a;switch(e[b]){case "M":case "MM":A[1]=null==d?0:~~d-1;break;case "MMM":case "MMMM":f=u(v._l).monthsParse(d);null!=f?A[1]=f:v._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=d&&(A[2]=~~d);break;case "YY":A[0]=~~d+(68<~~d?1900:2E3);break;case "YYYY":case "YYYYY":A[0]=~~d;break;case "a":case "A":v._isPm=u(v._l).isPM(d);break;case "H":case "HH":case "h":case "hh":A[3]=
~~d;break;case "m":case "mm":A[4]=~~d;break;case "s":case "ss":A[5]=~~d;break;case "S":case "SS":case "SSS":A[6]=~~(1E3*("0."+d));break;case "X":v._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":v._useUTC=!0,v._tzm=p(d)}null==d&&(v._isValid=!1)}c&&(a._il=c);a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&12===a._a[3]&&(a._a[3]=0);y(a)}function w(a,h,b,d,e){return e.relativeTime(h||1,!!b,a,d)}function K(a,h,b){var d;h=b-h;b-=a.day();return b>h&&(b-=7),h-7>b&&(b+=7),d=t(a).add("d",b),{week:Math.ceil(d.dayOfYear()/
7),year:d.year()}}function E(h){var b=h._i,e=h._f;if(null===b||""===b)h=null;else{"string"==typeof b&&(h._i=b=u().preparse(b));if(t.isMoment(b))h=a({},b),h._d=new Date(+b._d);else if(e)if("[object Array]"===Object.prototype.toString.call(e)){var b=h,c,p,v,k=99;for(v=0;v<b._f.length;v++)c=a({},b),c._f=b._f[v],A(c),e=new d(c),c=n(c._a,e.toArray()),e._il&&(c+=e._il.length),k>c&&(k=c,p=e);a(b,p)}else A(h);else if(p=h,b=p._i,e=G.exec(b),b===f)p._d=new Date;else if(e)p._d=new Date(+e[1]);else if("string"==
typeof b)if(b=p._i,e=va.exec(b)){p._f="YYYY-MM-DD"+(e[2]||" ");for(e=0;4>e;e++)if(ra[e][1].exec(b)){p._f+=ra[e][0];break}Q.exec(b)&&(p._f+=" Z");A(p)}else p._d=new Date(b);else"[object Array]"===Object.prototype.toString.call(b)?(p._a=b.slice(0),y(p)):p._d=b instanceof Date?new Date(+b):new Date(b);h=new d(h)}return h}function P(a,h){t.fn[a]=t.fn[a+"s"]=function(a){var b=this._isUTC?"UTC":"";return null!=a?(this._d["set"+b+h](a),t.updateOffset(this),this):this._d["get"+b+h]()}}function C(a){t.duration.fn[a]=
function(){return this._data[a]}}function L(a,h){t.duration.fn["as"+a]=function(){return+this/h}}for(var t,D,R=Math.round,M={},H="undefined"!=typeof module&&module.exports,G=/^\/?Date\((\-?\d+)/i,z=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,T=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,J=/\d\d?/,v=/\d{1,3}/,F=/\d{3}/,B=/\d{1,4}/,I=/[+\-]?\d{1,6}/,
O=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Q=/Z|[\+\-]\d\d:?\d\d/i,fa=/T/i,la=/[\+\-]?\d+(\.\d{1,3})?/,va=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ra=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ga=/([\+\-]|\d\d)/gi,ma=["Date","Hours","Minutes","Seconds","Milliseconds"],ha={Milliseconds:1,Seconds:1E3,
Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},ba={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},U={},sa="DDD w W M D d".split(" "),ca="MDHhmswW".split(""),X={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,
a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},
GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/
10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+l(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};sa.length;)D=sa.pop(),X[D+"o"]=c(X[D],D);for(;ca.length;)D=ca.pop(),X[D+D]=g(X[D],2);X.DDDD=g(X.DDD,3);b.prototype={set:function(a){var h,b;for(b in a)h=a[b],"function"==typeof h?
this[b]=h:this["_"+b]=h},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var h,b,d;this._monthsParse||(this._monthsParse=[]);for(h=0;12>h;h++)if(this._monthsParse[h]||(b=t([2E3,h]),d="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),
this._monthsParse[h]=RegExp(d.replace(".",""),"i")),this._monthsParse[h].test(a))return h},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var h,b,d;this._weekdaysParse||
(this._weekdaysParse=[]);for(h=0;7>h;h++)if(this._weekdaysParse[h]||(b=t([2E3,1]).day(h),d="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[h]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[h].test(a))return h},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var h=this._longDateFormat[a];return!h&&this._longDateFormat[a.toUpperCase()]&&(h=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=h),h},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,h,b){return 11<a?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,h){var b=this._calendar[a];return"function"==typeof b?b.apply(h):b},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,h,b,d){var e=this._relativeTime[b];return"function"==typeof e?e(a,h,b,d):e.replace(/%d/i,a)},pastFuture:function(a,h){var b=this._relativeTime[0<a?"future":"past"];return"function"==typeof b?b(h):b.replace(/%s/i,h)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return K(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};t=function(a,h,b){return E({_i:a,_f:h,_l:b,_isUTC:!1})};t.utc=function(a,h,b){return E({_useUTC:!0,_isUTC:!0,_l:b,_i:a,_f:h})};t.unix=function(a){return t(1E3*a)};t.duration=function(a,h){var b,d,c=t.isDuration(a),p="number"==typeof a,v=c?a._input:p?{}:a,f=z.exec(a);return p?h?v[h]=a:v.milliseconds=a:f&&(b="-"===f[1]?-1:1,v={y:0,d:~~f[2]*b,h:~~f[3]*b,m:~~f[4]*b,s:~~f[5]*b,ms:~~f[6]*b}),d=new e(v),c&&a.hasOwnProperty("_lang")&&
(d._lang=a._lang),d};t.version="2.1.0";t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";t.updateOffset=function(){};t.lang=function(a,h){return a?(h?(h.abbr=a,M[a]||(M[a]=new b),M[a].set(h)):M[a]||u(a),t.duration.fn._lang=t.fn._lang=u(a),void 0):t.fn._lang._abbr};t.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),u(a)};t.isMoment=function(a){return a instanceof d};t.isDuration=function(a){return a instanceof e};t.fn=d.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d+
6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return x(t(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!n(this._a,(this._isUTC?
t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=x(this,a||t.defaultFormat);return this.lang().postformat(a)},add:function(a,h){var b;return b="string"==typeof a?t.duration(+h,a):t.duration(a,h),r(this,b,1),this},subtract:function(a,h){var b;return b="string"==typeof a?t.duration(+h,a):t.duration(a,h),r(this,b,-1),this},diff:function(a,h,b){var d,e;a=
this._isUTC?t(a).zone(this._offset||0):t(a).local();var c=6E4*(this.zone()-a.zone());return h=m(h),"year"===h||"month"===h?(d=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),e+=(this-t(this).startOf("month")-(a-t(a).startOf("month")))/d,e-=6E4*(this.zone()-t(this).startOf("month").zone()-(a.zone()-t(a).startOf("month").zone()))/d,"year"===h&&(e/=12)):(d=this-a,e="second"===h?d/1E3:"minute"===h?d/6E4:"hour"===h?d/36E5:"day"===h?(d-c)/864E5:"week"===h?
(d-c)/6048E5:d),b?e:k(e)},from:function(a,h){return t.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!h)},fromNow:function(a){return this.from(t(),a)},calendar:function(){var a=this.diff(t().startOf("day"),"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||
this.zone()<this.clone().month(5).zone()},day:function(a){var h=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-h}):h},month:function(a){var h,b=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(h=this.date(),this.date(1),this._d["set"+b+"Month"](a),this.date(Math.min(h,this.daysInMonth())),t.updateOffset(this),this):this._d["get"+
b+"Month"]()},startOf:function(a){switch(a=m(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,h){return h="undefined"!=typeof h?h:"millisecond",+this.clone().startOf(h)>+t(a).startOf(h)},isBefore:function(a,h){return h="undefined"!=typeof h?
h:"millisecond",+this.clone().startOf(h)<+t(a).startOf(h)},isSame:function(a,h){return h="undefined"!=typeof h?h:"millisecond",+this.clone().startOf(h)===+t(a).startOf(h)},min:function(a){return a=t.apply(null,arguments),this>a?this:a},max:function(a){return a=t.apply(null,arguments),a>this?this:a},zone:function(a){var h=this._offset||0;return null==a?this._isUTC?h:this._d.getTimezoneOffset():("string"==typeof a&&(a=p(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,h!==a&&r(this,t.duration(h-
a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var h=R((t(this).startOf("day")-t(this).startOf("year"))/864E5)+1;return null==a?h:this.add("d",a-h)},weekYear:function(a){var h=K(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?h:this.add("y",a-h)},isoWeekYear:function(a){var h=K(this,1,4).year;
return null==a?h:this.add("y",a-h)},week:function(a){var h=this.lang().week(this);return null==a?h:this.add("d",7*(a-h))},isoWeek:function(a){var h=K(this,1,4).week;return null==a?h:this.add("d",7*(a-h))},weekday:function(a){var h=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?h:this.add("d",a-h)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(a){return a===f?this._lang:(this._lang=u(a),this)}};for(D=0;D<ma.length;D++)P(ma[D].toLowerCase().replace(/s$/,
""),ma[D]);P("year","FullYear");t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.toJSON=t.fn.toISOString;t.duration.fn=e.prototype={_bubble:function(){var a,h;a=this._milliseconds;h=this._days;var b=this._months,d=this._data;d.milliseconds=a%1E3;a=k(a/1E3);d.seconds=a%60;a=k(a/60);d.minutes=a%60;a=k(a/60);d.hours=a%24;h+=k(a/24);d.days=h%30;b+=k(h/30);d.months=b%12;h=k(b/12);d.years=h},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(a){var h=+this,b;b=!a;var d=this.lang(),e=R(Math.abs(h)/1E3),c=R(e/60),p=R(c/60),v=R(p/24),f=R(v/365),e=45>e&&["s",e]||1===c&&["m"]||45>c&&["mm",c]||1===p&&["h"]||22>p&&["hh",p]||1===v&&["d"]||25>=v&&["dd",v]||45>=v&&["M"]||345>v&&["MM",R(v/30)]||1===f&&["y"]||["yy",f];b=(e[2]=b,e[3]=0<h,e[4]=d,w.apply({},e));return a&&(b=this.lang().pastFuture(h,b)),this.lang().postformat(b)},add:function(a,h){var b=t.duration(a,
h);return this._milliseconds+=b._milliseconds,this._days+=b._days,this._months+=b._months,this._bubble(),this},subtract:function(a,h){var b=t.duration(a,h);return this._milliseconds-=b._milliseconds,this._days-=b._days,this._months-=b._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:t.fn.lang};for(D in ha)ha.hasOwnProperty(D)&&(L(D,ha[D]),C(D.toLowerCase()));L("Weeks",6048E5);
t.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};t.lang("en",{ordinal:function(a){var h=a%10;return a+(1===~~(a%100/10)?"th":1===h?"st":2===h?"nd":3===h?"rd":"th")}});H&&(module.exports=t);"undefined"==typeof ender&&(this.moment=t);"function"==typeof define&&define.amd&&define("moment",[],function(){return t})}.call(this);function plural(f,g){var c=f.split("_");return 1===g%10&&11!==g%100?c[0]:2<=g%10&&4>=g%10&&(10>g%100||20<=g%100)?c[1]:c[2]}
function relativeTimeWithPlural(f,g,c){var b={mm:"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"};return"m"===
c?g?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":f+" "+plural(b[c],+f)}
function monthsCaseReplace(f,g){return{nominative:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),accusative:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" ")}[/D[oD]? *MMMM?/.test(g)?
"accusative":"nominative"][f.month()]}
function weekdaysCaseReplace(f,g){return{nominative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),accusative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0443 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0443 \u0441\u0443\u0431\u0431\u043e\u0442\u0443".split(" ")}[/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e)? ?\] ?dddd/.test(g)?"accusative":
"nominative"][f.day()]}
moment.lang("ru",{months:monthsCaseReplace,monthsShort:"\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0439 \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a".split(" "),weekdays:weekdaysCaseReplace,weekdaysShort:"\u0432\u0441\u043a \u043f\u043d\u0434 \u0432\u0442\u0440 \u0441\u0440\u0434 \u0447\u0442\u0432 \u043f\u0442\u043d \u0441\u0431\u0442".split(" "),weekdaysMin:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),
longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., LT",LLLL:"dddd, D MMMM YYYY \u0433., LT"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",nextWeek:function(){return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT"},lastWeek:function(){switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd [\u0432] LT";
case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"\u0447\u0430\u0441",hh:relativeTimeWithPlural,
d:"\u0434\u0435\u043d\u044c",dd:relativeTimeWithPlural,M:"\u043c\u0435\u0441\u044f\u0446",MM:relativeTimeWithPlural,y:"\u0433\u043e\u0434",yy:relativeTimeWithPlural},ordinal:function(f,g){switch(g){case "M":case "d":case "DDD":return f+"-\u0439";case "D":return f+"-\u0433\u043e";case "w":case "W":return f+"-\u044f";default:return f}},week:{dow:1,doy:7}});var Handlebars={};
(function(f,g){f.VERSION="1.0.0-rc.4";f.COMPILER_REVISION=3;f.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:">= 1.0.0-rc.4"};f.helpers={};f.partials={};var c=Object.prototype.toString;f.registerHelper=function(a,b,d){if("[object Object]"===c.call(a)){if(d||b)throw new f.Exception("Arg not supported with multiple helpers");f.Utils.extend(this.helpers,a)}else d&&(b.not=d),this.helpers[a]=b};f.registerPartial=function(a,b){"[object Object]"===c.call(a)?f.Utils.extend(this.partials,a):this.partials[a]=
b};f.registerHelper("helperMissing",function(a){if(2===arguments.length)return g;throw Error("Could not find property '"+a+"'");});f.registerHelper("blockHelperMissing",function(a,b){var d=b.inverse||function(){},e=b.fn,k=c.call(a);"[object Function]"===k&&(a=a.call(this));return!0===a?e(this):!1===a||null==a?d(this):"[object Array]"===k?0<a.length?f.helpers.each(a,b):d(this):e(a)});f.K=function(){};f.createFrame=Object.create||function(a){f.K.prototype=a;a=new f.K;f.K.prototype=null;return a};f.logger=
{DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{"0":"debug",1:"info",2:"warn",3:"error"},log:function(a,b){if(f.logger.level<=a){var d=f.logger.methodMap[a];"undefined"!==typeof console&&console[d]&&console[d].call(console,b)}}};f.log=function(a,b){f.logger.log(a,b)};f.registerHelper("each",function(a,b){var d=b.fn,e=b.inverse,c=0,k="",g;b.data&&(g=f.createFrame(b.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var n=a.length;c<n;c++)g&&(g.index=c),k+=d(a[c],{data:g});else for(n in a)a.hasOwnProperty(n)&&
(g&&(g.key=n),k+=d(a[n],{data:g}),c++);0===c&&(k=e(this));return k});f.registerHelper("if",function(a,b){"[object Function]"===c.call(a)&&(a=a.call(this));return!a||f.Utils.isEmpty(a)?b.inverse(this):b.fn(this)});f.registerHelper("unless",function(a,b){return f.helpers["if"].call(this,a,{fn:b.inverse,inverse:b.fn})});f.registerHelper("with",function(a,b){if(!f.Utils.isEmpty(a))return b.fn(a)});f.registerHelper("log",function(a,b){var d=b.data&&null!=b.data.level?parseInt(b.data.level,10):1;f.log(d,
a)});var b=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,
pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,
2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(a,h,b,d,e,c,p){a=c.length-1;switch(e){case 1:return c[a-1];case 2:this.$=new d.ProgramNode([],c[a]);break;case 3:this.$=new d.ProgramNode(c[a-2],c[a]);break;case 4:this.$=new d.ProgramNode(c[a-1],[]);break;case 5:this.$=new d.ProgramNode(c[a]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=
[c[a]];break;case 9:c[a-1].push(c[a]);this.$=c[a-1];break;case 10:this.$=new d.BlockNode(c[a-2],c[a-1].inverse,c[a-1],c[a]);break;case 11:this.$=new d.BlockNode(c[a-2],c[a-1],c[a-1].inverse,c[a]);break;case 12:this.$=c[a];break;case 13:this.$=c[a];break;case 14:this.$=new d.ContentNode(c[a]);break;case 15:this.$=new d.CommentNode(c[a]);break;case 16:this.$=new d.MustacheNode(c[a-1][0],c[a-1][1]);break;case 17:this.$=new d.MustacheNode(c[a-1][0],c[a-1][1]);break;case 18:this.$=c[a-1];break;case 19:this.$=
new d.MustacheNode(c[a-1][0],c[a-1][1]);break;case 20:this.$=new d.MustacheNode(c[a-1][0],c[a-1][1],!0);break;case 21:this.$=new d.PartialNode(c[a-1]);break;case 22:this.$=new d.PartialNode(c[a-2],c[a-1]);break;case 24:this.$=[[c[a-2]].concat(c[a-1]),c[a]];break;case 25:this.$=[[c[a-1]].concat(c[a]),null];break;case 26:this.$=[[c[a-1]],c[a]];break;case 27:this.$=[[c[a]],null];break;case 28:this.$=[[new d.DataNode(c[a])],null];break;case 29:c[a-1].push(c[a]);this.$=c[a-1];break;case 30:this.$=[c[a]];
break;case 31:this.$=c[a];break;case 32:this.$=new d.StringNode(c[a]);break;case 33:this.$=new d.IntegerNode(c[a]);break;case 34:this.$=new d.BooleanNode(c[a]);break;case 35:this.$=new d.DataNode(c[a]);break;case 36:this.$=new d.HashNode(c[a]);break;case 37:c[a-1].push(c[a]);this.$=c[a-1];break;case 38:this.$=[c[a]];break;case 39:this.$=[c[a-2],c[a]];break;case 40:this.$=[c[a-2],new d.StringNode(c[a])];break;case 41:this.$=[c[a-2],new d.IntegerNode(c[a])];break;case 42:this.$=[c[a-2],new d.BooleanNode(c[a])];
break;case 43:this.$=[c[a-2],new d.DataNode(c[a])];break;case 44:this.$=new d.PartialNameNode(c[a]);break;case 45:this.$=new d.IdNode(c[a]);break;case 46:c[a-2].push(c[a]);this.$=c[a-2];break;case 47:this.$=[c[a]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,
11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],
19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,
14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,
34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},
{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,
35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,
20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],
22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(a,h){throw Error(a);},parse:function(a){var h=[0],b=[null],d=[],c=this.table,e="",p=0,f=0,k=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==
typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;d.push(a);var y=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var g,n,l,z,m={},r,q;;){l=h[h.length-1];if(this.defaultActions[l])z=this.defaultActions[l];else{if(null===g||"undefined"==typeof g)g=void 0,g=this.lexer.lex()||1,"number"!==typeof g&&(g=this.symbols_[g]||g);z=c[l]&&c[l][g]}if("undefined"===typeof z||!z.length||!z[0]){var v="";if(!k){q=[];
for(r in c[l])this.terminals_[r]&&2<r&&q.push("'"+this.terminals_[r]+"'");v=this.lexer.showPosition?"Parse error on line "+(p+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+q.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(p+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'");this.parseError(v,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:a,expected:q})}}if(z[0]instanceof Array&&1<z.length)throw Error("Parse Error: multiple actions possible at state: "+
l+", token: "+g);switch(z[0]){case 1:h.push(g);b.push(this.lexer.yytext);d.push(this.lexer.yylloc);h.push(z[1]);g=null;n?(g=n,n=null):(f=this.lexer.yyleng,e=this.lexer.yytext,p=this.lexer.yylineno,a=this.lexer.yylloc,0<k&&k--);break;case 2:q=this.productions_[z[1]][1];m.$=b[b.length-q];m._$={first_line:d[d.length-(q||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(q||1)].first_column,last_column:d[d.length-1].last_column};y&&(m._$.range=[d[d.length-(q||1)].range[0],d[d.length-
1].range[1]]);l=this.performAction.call(m,e,f,p,this.yy,z[1],b,d);if("undefined"!==typeof l)return l;q&&(h=h.slice(0,-2*q),b=b.slice(0,-1*q),d=d.slice(0,-1*q));h.push(this.productions_[z[1]][0]);b.push(m.$);d.push(m._$);z=c[h[h.length-2]][h[h.length-1]];h.push(z);break;case 3:return!0}}return!0}},d=function(){return{EOF:1,parseError:function(a,h){if(this.yy.parser)this.yy.parser.parseError(a,h);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=
this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);
return a},unput:function(a){var h=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-h-1);this.offset-=h;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?
(b.length===a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-h};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-h]);return this},more:function(){this._more=!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),h=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+h+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,h,b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),c=0;c<d.length;c++)if((h=this._input.match(this.rules[d[c]]))&&(!a||h[0].length>a[0].length))if(a=h,b=c,!this.options.flex)break;if(a){if(h=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
h.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:h?h[h.length-1].length-h[h.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,
this,d[b],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,h,b,d){switch(b){case 0:return h.yytext="\\",14;case 1:"\\"!==h.yytext.slice(-1)&&this.begin("mu");"\\"===h.yytext.slice(-1)&&(h.yytext=h.yytext.substr(0,h.yyleng-1),this.begin("emu"));if(h.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==h.yytext.slice(-1)&&this.popState(),"\\"===h.yytext.slice(-1)&&(h.yytext=h.yytext.substr(0,
h.yyleng-1)),14;case 4:return h.yytext=h.yytext.substr(0,h.yyleng-4),this.popState(),15;case 5:return this.begin("par"),24;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 23;case 12:this.popState();this.begin("com");break;case 13:return h.yytext=h.yytext.substr(3,h.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 36;case 16:return 35;case 17:return 35;case 18:return 39;case 20:return this.popState(),18;case 21:return this.popState(),
18;case 22:return h.yytext=h.yytext.substr(1,h.yyleng-2).replace(/\\"/g,'"'),30;case 23:return h.yytext=h.yytext.substr(1,h.yyleng-2).replace(/\\'/g,"'"),30;case 24:return h.yytext=h.yytext.substr(1),28;case 25:return 32;case 26:return 32;case 27:return 31;case 28:return 35;case 29:return h.yytext=h.yytext.substr(1,h.yyleng-2),35;case 30:return"INVALID";case 32:return this.popState(),37;case 33:return 5}},rules:[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,
/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$:\-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$\-\/]+)/,/^(?:$)/],
conditions:{mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,33],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},par:{rules:[31,32],inclusive:!1},INITIAL:{rules:[0,1,2,33],inclusive:!0}}}}();b.lexer=d;a.prototype=b;b.Parser=a;return new a}();f.Parser=b;f.parse=function(a){if(a.constructor===f.AST.ProgramNode)return a;f.Parser.yy=f.AST;return f.Parser.parse(a)};f.AST={};f.AST.ProgramNode=function(a,b){this.type="program";this.statements=a;
b&&(this.inverse=new f.AST.ProgramNode(b))};f.AST.MustacheNode=function(a,b,d){this.type="mustache";this.escaped=!d;this.hash=b;d=this.id=a[0];a=this.params=a.slice(1);this.isHelper=(this.eligibleHelper=d.isSimple)&&(a.length||b)};f.AST.PartialNode=function(a,b){this.type="partial";this.partialName=a;this.context=b};f.AST.BlockNode=function(a,b,d,c){var e=a.id;if(e.original!==c.original)throw new f.Exception(e.original+" doesn't match "+c.original);this.type="block";this.mustache=a;this.program=b;
if((this.inverse=d)&&!this.program)this.isInverse=!0};f.AST.ContentNode=function(a){this.type="content";this.string=a};f.AST.HashNode=function(a){this.type="hash";this.pairs=a};f.AST.IdNode=function(a){this.type="ID";this.original=a.join(".");for(var b=[],d=0,c=0,e=a.length;c<e;c++){var k=a[c];if(".."===k||"."===k||"this"===k){if(0<b.length)throw new f.Exception("Invalid path: "+this.original);".."===k?d++:this.isScoped=!0}else b.push(k)}this.parts=b;this.string=b.join(".");this.depth=d;this.isSimple=
1===a.length&&!this.isScoped&&0===d;this.stringModeValue=this.string};f.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME";this.name=a};f.AST.DataNode=function(a){this.type="DATA";this.id=a};f.AST.StringNode=function(a){this.type="STRING";this.stringModeValue=this.string=a};f.AST.IntegerNode=function(a){this.type="INTEGER";this.integer=a;this.stringModeValue=Number(a)};f.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a};f.AST.CommentNode=function(a){this.type=
"comment";this.comment=a};var d="description fileName lineNumber message name number stack".split(" ");f.Exception=function(a){for(var b=Error.prototype.constructor.apply(this,arguments),c=0;c<d.length;c++)this[d[c]]=b[d[c]]};f.Exception.prototype=Error();f.SafeString=function(a){this.string=a};f.SafeString.prototype.toString=function(){return this.string.toString()};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,k=/[&<>"'`]/,l=function(a){return e[a]||
"&amp;"};f.Utils={extend:function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])},escapeExpression:function(h){if(h instanceof f.SafeString)return h.toString();if(null==h||!1===h)return"";h=h.toString();return!k.test(h)?h:h.replace(a,l)},isEmpty:function(a){return!a&&0!==a?!0:"[object Array]"===c.call(a)&&0===a.length?!0:!1}};var r=f.Compiler=function(){},n=f.JavaScriptCompiler=function(){};r.prototype={compiler:r,disassemble:function(){for(var a=this.opcodes,b,d=[],c,e,f=0,k=a.length;f<k;f++)if(b=
a[f],"DECLARE"===b.opcode)d.push("DECLARE "+b.name+"="+b.value);else{c=[];for(var g=0;g<b.args.length;g++)e=b.args[g],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),c.push(e);d.push(b.opcode+" "+c.join(" "))}return d.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var d=0;d<b;d++){var c=this.opcodes[d],e=a.opcodes[d];if(c.opcode!==e.opcode||c.args.length!==e.args.length)return!1;for(var f=0;f<c.args.length;f++)if(c.args[f]!==e.args[f])return!1}b=
this.children.length;if(a.children.length!==b)return!1;for(d=0;d<b;d++)if(!this.children[d].equals(a.children[d]))return!1;return!0},guid:0,compile:function(a,b){this.children=[];this.depths={list:[]};this.options=b;var d=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(d)for(var c in d)this.options.knownHelpers[c]=d[c];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){a=
a.statements;var b;this.opcodes=[];for(var d=0,c=a.length;d<c;d++)b=a[d],this[b.type](b);this.isSimple=1===c;this.depths.list=this.depths.list.sort(function(a,h){return a-h});return this},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var b=this.guid++,d;this.usePartial=this.usePartial||a.usePartial;this.children[b]=a;for(var c=0,e=a.depths.list.length;c<e;c++)d=a.depths.list[c],2>d||this.addDepth(d-1);return b},block:function(a){var b=a.mustache,d=a.program;a=a.inverse;
d&&(d=this.compileProgram(d));a&&(a=this.compileProgram(a));var c=this.classifyMustache(b);"helper"===c?this.helperMustache(b,d,a):"simple"===c?(this.simpleMustache(b),this.opcode("pushProgram",d),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,d,a),this.opcode("pushProgram",d),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var b,d;this.opcode("pushHash");
for(var c=0,e=a.length;c<e;c++)b=a[c],d=b[1],this.options.stringParams?(d.depth&&this.addDepth(d.depth),this.opcode("getContext",d.depth||0),this.opcode("pushStringParam",d.stringModeValue,d.type)):this.accept(d),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",b.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},
mustache:function(a){var b=this.options,d=this.classifyMustache(a);"simple"===d?this.simpleMustache(a):"helper"===d?this.helperMustache(a):this.ambiguousMustache(a);a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,d){a=a.id;var c=a.parts[0],e=null!=b||null!=d;this.opcode("getContext",a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",d);this.opcode("invokeAmbiguous",c,e)},simpleMustache:function(a){a=a.id;"DATA"===a.type?this.DATA(a):
a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,d){b=this.setupFullMustacheParams(a,b,d);a=a.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",b.length,a);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+a);this.opcode("invokeHelper",b.length,a)}},ID:function(a){this.addDepth(a.depth);
this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,d=a.parts.length;b<d;b++)this.opcode("lookup",a.parts[b])},DATA:function(a){this.options.data=!0;this.opcode("lookupData",a.id)},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,
1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw Error("EWOT");0!==a&&!this.depths[a]&&(this.depths[a]=!0,this.depths.list.push(a))},classifyMustache:function(a){var b=a.isHelper,d=a.eligibleHelper,c=this.options;d&&!b&&(c.knownHelpers[a.id.parts[0]]?b=!0:c.knownHelpersOnly&&(d=!1));return b?"helper":d?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,d;b--;)if(d=a[b],this.options.stringParams)d.depth&&this.addDepth(d.depth),
this.opcode("getContext",d.depth||0),this.opcode("pushStringParam",d.stringModeValue,d.type);else this[d.type](d)},setupMustacheParams:function(a){var b=a.params;this.pushParams(b);a.hash?this.hash(a.hash):this.opcode("emptyHash");return b},setupFullMustacheParams:function(a,b,d){var c=a.params;this.pushParams(c);this.opcode("pushProgram",b);this.opcode("pushProgram",d);a.hash?this.hash(a.hash):this.opcode("emptyHash");return c}};var m=function(a){this.value=a};n.prototype={nameLookup:function(a,
b){return/^[0-9]+$/.test(b)?a+"["+b+"]":n.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,d,c){this.environment=a;this.options=b||{};f.log(f.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=
!!d;this.context=d||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(a,b);a=a.opcodes;this.i=0;for(x=a.length;this.i<x;this.i++)b=a[this.i],"DECLARE"===b.opcode?this[b.name]=b.value:this[b.opcode].apply(this,b.args);return this.createFunctionContext(c)},nextOpcode:function(){return this.environment.opcodes[this.i+1]},eat:function(){this.i+=1},preamble:function(){var a=
[];if(this.isChild)a.push("");else{var b=this.namespace,d="helpers = helpers || "+b+".helpers;";this.environment.usePartial&&(d=d+" partials = partials || "+b+".partials;");this.options.data&&(d+=" data = data || {};");a.push(d)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);0<b.length&&(this.source[1]=this.source[1]+", "+b.join(", "));if(!this.isChild)for(var d in this.context.aliases)this.source[1]=
this.source[1]+", "+d+"="+this.context.aliases[d];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n");this.environment.isSimple||this.source.push("return buffer;");b=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];d=0;for(var c=this.environment.depths.list.length;d<c;d++)b.push("depth"+this.environment.depths.list[d]);d=this.mergeSource();this.isChild||(c=f.COMPILER_REVISION,
d="this.compilerInfo = ["+c+",'"+f.REVISION_CHANGES[c]+"'];\n"+d);if(a)return b.push(d),Function.apply(this,b);a="function "+(this.name||"")+"("+b.join(",")+") {\n  "+d+"}";f.log(f.logger.DEBUG,a+"\n\n");return a},mergeSource:function(){for(var a="",b,d=0,c=this.source.length;d<c;d++){var e=this.source[d];e.appendToBuffer?b=b?b+"\n    + "+e.content:e.content:(b&&(a+="buffer += "+b+";\n  ",b=g),a+=e+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";
var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b);a[a.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},
append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+
this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(a){this.push(this.nameLookup("data",a,"data"))},pushStringParam:function(a,
b){this.pushStackLiteral("depth"+this.lastContext);this.pushString(b);"string"===typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=g;this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes",
"{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var d=this.lastHelper=this.setupHelper(a,b,!0);this.push(d.name);
this.replaceStack(function(a){return a+" ? "+a+".call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var d=this.setupHelper(a,b);this.push(d.name+".call("+d.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var d=this.setupHelper(0,a,b),c=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+
f+" = "+c+") { "+f+" = "+f+".call("+d.callParams+"); }");this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var b=this.popStack(),d,c;this.options.stringParams&&(c=this.popStack(),
d=this.popStack());var e=this.hash;d&&e.contexts.push("'"+a+"': "+d);c&&e.types.push("'"+a+"': "+c);e.values.push("'"+a+"': ("+b+")")},compiler:n,compileChildren:function(a,b){for(var d=a.children,c,e,f=0,k=d.length;f<k;f++){c=d[f];e=new this.compiler;var g=this.matchExistingProgram(c);null==g?(this.context.programs.push(""),g=this.context.programs.length,c.index=g,c.name="program"+g,this.context.programs[g]=e.compile(c,b,this.context),this.context.environments[g]=c):(c.index=g,c.name="program"+g)}},
matchExistingProgram:function(a){for(var b=0,d=this.context.environments.length;b<d;b++){var c=this.context.environments[b];if(c&&c.equals(a))return b}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var d=[b.index,b.name,"data"],c=0,e=a.length;c<e;c++)b=a[c],1===b?d.push("depth0"):d.push("depth"+(b-1));return(0===a.length?"self.program(":"self.programWithDepth(")+d.join(", ")+")"},register:function(a,
b){this.useRegister(a);this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new m(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();a&&this.source.push(b+" = "+a+";");this.compileStack.push(b);return b},replaceStack:function(a){var b="",d=this.isInline(),c;d?(c=this.popStack(!0),c instanceof m?c=c.value:(b=this.stackSlot?this.topStackName():this.incrStack(),b=
"("+this.push(b)+" = "+c+"),",c=this.topStack())):c=this.topStack();a=a.call(this,c);d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+b+a+")")):(/^stack/.test(c)||(c=this.nextStack()),this.source.push(c+" = ("+b+a+");"));return c},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},
flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;b<d;b++){var c=a[b];c instanceof m?this.compileStack.push(c):this.pushStack(c)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof m)return d.value;b||this.stackSlot--;return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return!a&&b instanceof
m?b.value:b},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,d){var c=[];this.setupParams(a,c,d);a=this.nameLookup("helpers",b,"helper");return{params:c,name:a,callParams:["depth0"].concat(c).join(", "),helperMissingParams:d&&["depth0",this.quotedString(b)].concat(c).join(", ")}},setupParams:function(a,b,d){var c=[],e=[],f=[],k,g;c.push("hash:"+
this.popStack());k=this.popStack();if((g=this.popStack())||k)g||(this.context.aliases.self="this",g="self.noop"),k||(this.context.aliases.self="this",k="self.noop"),c.push("inverse:"+k),c.push("fn:"+g);for(g=0;g<a;g++)k=this.popStack(),b.push(k),this.options.stringParams&&(f.push(this.popStack()),e.push(this.popStack()));this.options.stringParams&&(c.push("contexts:["+e.join(",")+"]"),c.push("types:["+f.join(",")+"]"),c.push("hashContexts:hashContexts"),c.push("hashTypes:hashTypes"));this.options.data&&
c.push("data:data");c="{"+c.join(",")+"}";d?(this.register("options",c),b.push("options")):b.push(c);return b.join(", ")}};for(var b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),
u=n.RESERVED_WORDS={},q=0,x=b.length;q<x;q++)u[b[q]]=!0;n.isValidJavaScriptVariableName=function(a){return!n.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1};f.precompile=function(a,b){if(null==a||"string"!==typeof a&&a.constructor!==f.AST.ProgramNode)throw new f.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{};"data"in b||(b.data=!0);var d=f.parse(a),d=(new r).compile(d,b);return(new n).compile(d,b)};f.compile=function(a,b){if(null==
a||"string"!==typeof a&&a.constructor!==f.AST.ProgramNode)throw new f.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{};"data"in b||(b.data=!0);var d;return function(c,e){if(!d){var k=f.parse(a),k=(new r).compile(k,b),k=(new n).compile(k,b,g,!0);d=f.template(k)}return d.call(this,c,e)}};f.VM={template:function(a){var b={escapeExpression:f.Utils.escapeExpression,invokePartial:f.VM.invokePartial,programs:[],program:function(a,b,d){var c=this.programs[a];
d?c=f.VM.program(a,b,d):c||(c=this.programs[a]=f.VM.program(a,b));return c},programWithDepth:f.VM.programWithDepth,noop:f.VM.noop,compilerInfo:null};return function(d,c){c=c||{};var e=a.call(b,f,d,c.helpers,c.partials,c.data),k=b.compilerInfo||[],g=k[0]||1,n=f.COMPILER_REVISION;if(g!==n){if(g<n)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+f.REVISION_CHANGES[n]+") or downgrade your runtime to an older version ("+
f.REVISION_CHANGES[g]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+k[1]+").";}return e}},programWithDepth:function(a,b,d){var c=Array.prototype.slice.call(arguments,3),e=function(a,e){e=e||{};return b.apply(this,[a,e.data||d].concat(c))};e.program=a;e.depth=c.length;return e},program:function(a,b,d){var c=function(a,c){c=c||{};return b(a,c.data||d)};c.program=a;c.depth=0;return c},noop:function(){return""},
invokePartial:function(a,b,d,c,e,k){c={helpers:c,partials:e,data:k};if(a===g)throw new f.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(d,c);if(f.compile)return e[b]=f.compile(a,{data:k!==g}),e[b](d,c);throw new f.Exception("The partial "+b+" could not be compiled when running in runtime-only mode");}};f.template=f.VM.template})(Handlebars);
!function(f){function g(a,b,d){d=(d||0)-1;for(var c=a.length;++d<c;)if(a[d]===b)return d;return-1}function c(a,b){var d=typeof b;if(a=a.k,"boolean"==d||b==p)return a[b];"number"!=d&&"string"!=d&&(d="object");var c="number"==d?b:P+b;return a=a[d]||(a[d]={}),"object"==d?a[c]&&-1<g(a[c],b)?0:-1:a[c]?0:-1}function b(a){var b=this.k,d=typeof a;if("boolean"==d||a==p)b[a]=h;else{"number"!=d&&"string"!=d&&(d="object");var c="number"==d?a:P+a,e=b[d]||(b[d]={});"object"==d?(e[c]||(e[c]=[])).push(a)==this.b.length&&
(b[d]=y):e[c]=h}}function d(a){return a.charCodeAt(0)}function e(a,b){var d=a.m,c=b.m;if(a=a.l,b=b.l,a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return d<c?-1:1}function a(a){var d=-1,c=a.length,e=r();e["false"]=e["null"]=e["true"]=e.undefined=y;var h=r();h.b=a;h.k=e;for(h.push=b;++d<c;)h.push(a[d]);return!1===e.object?(m(h),p):h}function k(a){return"\\"+sa[a]}function l(){return A.pop()||[]}function r(){return w.pop()||{b:p,k:p,l:p,"false":y,m:0,leading:y,
maxWait:0,"null":y,number:p,object:p,push:p,string:p,trailing:y,"true":y,undefined:y,n:p}}function n(a){a.length=0;A.length<L&&A.push(a)}function m(a){var b=a.k;b&&m(b);a.b=a.k=a.l=a.object=a.number=a.string=a.n=p;w.length<L&&w.push(a)}function u(a,b,d){b||(b=0);"undefined"==typeof d&&(d=a?a.length:0);var c=-1;d=d-b||0;for(var e=Array(0>d?0:d);++c<d;)e[c]=a[b+c];return e}function q(b){function A(a){if(!a||Y.call(a)!=ga)return y;var b=a.valueOf,d="function"==typeof b&&(d=za(b))&&za(d);return d?a==
d||za(a)==d:Cb(a)}function w(a,b,d){if(!a||!U[typeof a])return a;b=b&&"undefined"==typeof d?b:s.createCallback(b,d);for(var c=-1,e=U[typeof a]&&da(a),h=e?e.length:0;++c<h&&(d=e[c],!1!==b(a[d],d,a)););return a}function L(a,b,d){var c;if(!a||!U[typeof a])return a;b=b&&"undefined"==typeof d?b:s.createCallback(b,d);for(c in a)if(!1===b(a[c],c,a))break;return a}function ca(a,b,d){var c,e=a,h=e;if(!e)return h;for(var f=arguments,v=0,k="number"==typeof d?2:f.length;++v<k;)if((e=f[v])&&U[typeof e])for(var g=
-1,p=U[typeof e]&&da(e),n=p?p.length:0;++g<n;)c=p[g],"undefined"==typeof h[c]&&(h[c]=e[c]);return h}function sa(a,b,d){var c,e=a,h=e;if(!e)return h;var f=arguments,v=0,k="number"==typeof d?2:f.length;if(3<k&&"function"==typeof f[k-2])var g=s.createCallback(f[--k-1],f[k--],2);else 2<k&&"function"==typeof f[k-1]&&(g=f[--k]);for(;++v<k;)if((e=f[v])&&U[typeof e])for(var p=-1,n=U[typeof e]&&da(e),l=n?n.length:0;++p<l;)c=n[p],h[c]=g?g(h[c],e[c]):e[c];return h}function pa(a){var b,d=[];if(!a||!U[typeof a])return d;
for(b in a)W.call(a,b)&&d.push(b);return d}function s(a){return a&&"object"==typeof a&&!ea(a)&&W.call(a,"__wrapped__")?a:new Aa(a)}function Aa(a){this.__wrapped__=a}function Ea(a,b,d,c){function e(){var c=arguments,g=f?this:b;return h||(a=b[v]),d.length&&(c=c.length?(c=V.call(c),k?c.concat(d):d.concat(c)):d),this instanceof e?(g=ia(a.prototype)?Fa(a.prototype):{},c=a.apply(g,c),ia(c)?c:g):a.apply(g,c)}var h=ta(a),f=!d,v=b;if(f){var k=c;d=b}else if(!h){if(!c)throw new Db;b=a}return e}function Eb(a){return fb[a]}
function Ba(){var a=(a=s.indexOf)===gb?g:a;return a}function hb(a){return function(b,d,c,e){return"boolean"!=typeof d&&d!=p&&(e=c,c=e&&e[d]===b?x:d,d=y),c!=p&&(c=s.createCallback(c,e)),a(b,d,c,e)}}function Cb(a){var b,d;return a&&Y.call(a)==ga&&(b=a.constructor,!ta(b)||b instanceof b)?(L(a,function(a,b){d=b}),d===x||W.call(a,d)):y}function Fb(a){return Gb[a]}function Pa(a,b,d,c,e,h){var f=a;if("boolean"!=typeof b&&b!=p&&(c=d,d=b,b=y),"function"==typeof d){if(d="undefined"==typeof c?d:s.createCallback(d,
c,1),f=d(f),"undefined"!=typeof f)return f;f=a}if(c=ia(f)){var v=Y.call(f);if(!ba[v])return f;var k=ea(f)}if(!c||!b)return c?k?u(f):sa({},f):f;switch(c=na[v],v){case fa:case la:return new c(+f);case ra:case ha:return new c(f);case ma:return c(f.source,G.exec(f))}v=!e;e||(e=l());h||(h=l());for(var g=e.length;g--;)if(e[g]==a)return h[g];return f=k?c(f.length):{},k&&(W.call(a,"index")&&(f.index=a.index),W.call(a,"input")&&(f.input=a.input)),e.push(a),h.push(f),(k?S:w)(a,function(a,c){f[c]=Pa(a,b,d,x,
e,h)}),v&&(n(e),n(h)),f}function Ga(a){var b=[];return L(a,function(a,d){ta(a)&&b.push(d)}),b.sort()}function ib(a){for(var b=-1,d=da(a),c=d.length,e={};++b<c;){var h=d[b];e[a[h]]=h}return e}function wa(a,b,d,c,e,f){var v=d===E;if("function"==typeof d&&!v){d=s.createCallback(d,c,2);var k=d(a,b);if("undefined"!=typeof k)return!!k}if(a===b)return 0!==a||1/a==1/b;var g=typeof a,z=typeof b;if(a===a&&(!a||"function"!=g&&"object"!=g)&&(!b||"function"!=z&&"object"!=z))return y;if(a==p||b==p)return a===b;
if(z=Y.call(a),g=Y.call(b),z==O&&(z=ga),g==O&&(g=ga),z!=g)return y;switch(z){case fa:case la:return+a==+b;case ra:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case ma:case ha:return a==oa(b)}if(g=z==Q,!g){if(W.call(a,"__wrapped__")||W.call(b,"__wrapped__"))return wa(a.__wrapped__||a,b.__wrapped__||b,d,c,e,f);if(z!=ga)return y;var z=a.constructor,m=b.constructor;if(z!=m&&(!ta(z)||!(z instanceof z&&ta(m)&&m instanceof m)))return y}m=!e;e||(e=l());f||(f=l());for(z=e.length;z--;)if(e[z]==a)return f[z]==b;var r=
0,k=h;if(e.push(a),f.push(b),g){if(z=a.length,r=b.length,k=r==a.length,!k&&!v)return k;for(;r--;)if(g=z,m=b[r],v)for(;g--&&!(k=wa(a[g],m,d,c,e,f)););else if(!(k=wa(a[r],m,d,c,e,f)))break;return k}return L(b,function(b,h,v){return W.call(v,h)?(r++,k=W.call(a,h)&&wa(a[h],b,d,c,e,f)):void 0}),k&&!v&&L(a,function(a,b,d){return W.call(d,b)?k=-1<--r:void 0}),m&&(n(e),n(f)),k}function ta(a){return"function"==typeof a}function ia(a){return!(!a||!U[typeof a])}function jb(a){return"number"==typeof a||Y.call(a)==
ra}function Ca(a){return"string"==typeof a||Y.call(a)==ha}function kb(a,b,d){var c=arguments,e=0,f=2;if(!ia(a))return a;if(d===E)var v=c[3],k=c[4],g=c[5];else{var p=h,k=l(),g=l();"number"!=typeof d&&(f=c.length);3<f&&"function"==typeof c[f-2]?v=s.createCallback(c[--f-1],c[f--],2):2<f&&"function"==typeof c[f-1]&&(v=c[--f])}for(;++e<f;)(ea(c[e])?S:w)(c[e],function(b,d){var c,e,h=b,f=a[d];if(b&&((e=ea(b))||A(b))){for(h=k.length;h--;)if(c=k[h]==b){f=g[h];break}if(!c){var p;v&&(h=v(f,b),p="undefined"!=
typeof h)&&(f=h);p||(f=e?ea(f)?f:[]:A(f)?f:{});k.push(b);g.push(f);p||(f=kb(f,b,E,v,k,g))}}else v&&(h=v(f,b),"undefined"==typeof h&&(h=b)),"undefined"!=typeof h&&(f=h);a[d]=f});return p&&(n(k),n(g)),a}function Qa(a){for(var b=-1,d=da(a),c=d.length,e=Z(c);++b<c;)e[b]=a[d[b]];return e}function lb(a,b,d){var c=-1,e=Ba(),h=a?a.length:0,f=y;return d=(0>d?ja(0,h+d):d)||0,h&&"number"==typeof h?f=-1<(Ca(a)?a.indexOf(b,d):e(a,b,d)):w(a,function(a){return++c<d?void 0:!(f=a===b)}),f}function mb(a,b,d){var c=
h;b=s.createCallback(b,d);d=-1;var e=a?a.length:0;if("number"==typeof e)for(;++d<e&&(c=!!b(a[d],d,a)););else w(a,function(a,d,e){return c=!!b(a,d,e)});return c}function Ha(a,b,d){var c=[];b=s.createCallback(b,d);d=-1;var e=a?a.length:0;if("number"==typeof e)for(;++d<e;){var h=a[d];b(h,d,a)&&c.push(h)}else w(a,function(a,d,e){b(a,d,e)&&c.push(a)});return c}function Ra(a,b,d){b=s.createCallback(b,d);d=-1;var c=a?a.length:0;if("number"!=typeof c){var e;return w(a,function(a,d,c){return b(a,d,c)?(e=a,
y):void 0}),e}for(;++d<c;){var h=a[d];if(b(h,d,a))return h}}function S(a,b,d){var c=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof d?b:s.createCallback(b,d),"number"==typeof e)for(;++c<e&&!1!==b(a[c],c,a););else w(a,b);return a}function Sa(a,b,d){var c=-1,e=a?a.length:0;if(b=s.createCallback(b,d),"number"==typeof e)for(var h=Z(e);++c<e;)h[c]=b(a[c],c,a);else h=[],w(a,function(a,d,e){h[++c]=b(a,d,e)});return h}function nb(a,b,c){var e=-1/0,h=e;if(!b&&ea(a)){c=-1;for(var f=a.length;++c<f;){var v=a[c];
v>h&&(h=v)}}else b=!b&&Ca(a)?d:s.createCallback(b,c),S(a,function(a,d,c){d=b(a,d,c);d>e&&(e=d,h=a)});return h}function Ta(a,b){var d=-1,c=a?a.length:0;if("number"==typeof c)for(var e=Z(c);++d<c;)e[d]=a[d][b];return e||Sa(a,b)}function Ua(a,b,d,c){if(!a)return d;var e=3>arguments.length;b=s.createCallback(b,c,4);var h=-1,f=a.length;if("number"==typeof f)for(e&&(d=a[++h]);++h<f;)d=b(d,a[h],h,a);else w(a,function(a,c,h){d=e?(e=y,a):b(d,a,c,h)});return d}function ob(a,b,d,c){var e=a?a.length:0,h=3>arguments.length;
if("number"!=typeof e)var f=da(a),e=f.length;return b=s.createCallback(b,c,4),S(a,function(c,v,k){v=f?f[--e]:--e;d=h?(h=y,a[v]):b(d,a[v],v,k)}),d}function pb(a,b,d){var c;b=s.createCallback(b,d);d=-1;var e=a?a.length:0;if("number"==typeof e)for(;++d<e&&!(c=b(a[d],d,a)););else w(a,function(a,d,e){return!(c=b(a,d,e))});return!!c}function qb(b){var d=-1,e=Ba(),h=b?b.length:0,f=xa.apply(aa,V.call(arguments,1)),v=[],k=h>=C&&e===g;if(k){var p=a(f);p?(e=c,f=p):k=y}for(;++d<h;)p=b[d],0>e(f,p)&&v.push(p);
return k&&m(f),v}function Va(a,b,d){if(a){var c=0,e=a.length;if("number"!=typeof b&&b!=p){var h=-1;for(b=s.createCallback(b,d);++h<e&&b(a[h],h,a);)c++}else if(c=b,c==p||d)return a[0];return u(a,0,Ia(ja(0,c),e))}}function gb(a,b,d){if("number"==typeof d){var c=a?a.length:0;d=0>d?ja(0,c+d):d||0}else if(d)return d=rb(a,b),a[d]===b?d:-1;return a?g(a,b,d):-1}function Wa(a,b,d){if("number"!=typeof b&&b!=p){var c=0,e=-1,h=a?a.length:0;for(b=s.createCallback(b,d);++e<h&&b(a[e],e,a);)c++}else c=b==p||d?1:
ja(0,b);return u(a,c)}function rb(a,b,d,c){var e=0,h=a?a.length:e;d=d?s.createCallback(d,c,1):Xa;for(b=d(b);e<h;)c=e+h>>>1,d(a[c])<b?e=c+1:h=c;return e}function sb(a){for(var b=-1,d=a?nb(Ta(a,"length")):0,c=Z(0>d?0:d);++b<d;)c[b]=Ta(a,b);return c}function tb(a,b){for(var d=-1,c=a?a.length:0,e={};++d<c;){var h=a[d];b?e[h]=b[d]:e[h[0]]=h[1]}return e}function Ya(a,b){return ub.fastBind||ua&&2<arguments.length?ua.call.apply(ua,arguments):Ea(a,b,V.call(arguments,2))}function vb(a,b,d){function c(){Ja(m);
Ja(r);n=0;m=r=p}function e(){var b=B&&(!F||1<n);c();b&&(!1!==l&&(z=new Ka),k=a.apply(g,v))}function f(){c();(B||l!==b)&&(z=new Ka,k=a.apply(g,v))}var v,k,g,n=0,z=0,l=y,m=p,r=p,B=h;if(b=ja(0,b||0),d===h)var F=h,B=y;else ia(d)&&(F=d.leading,l="maxWait"in d&&ja(b,d.maxWait||0),B="trailing"in d?d.trailing:B);return function(){if(v=arguments,g=this,n++,Ja(r),!1===l)F&&2>n&&(k=a.apply(g,v));else{var d=new Ka;!m&&!F&&(z=d);var c=l-(d-z);0<c?m||(m=La(f,c)):(Ja(m),m=p,z=d,k=a.apply(g,v))}return b!==l&&(r=
La(e,b)),k}}function wb(a){var b=V.call(arguments,1);return La(function(){a.apply(x,b)},1)}function Xa(a){return a}function xb(a){S(Ga(a),function(b){var d=s[b]=a[b];s.prototype[b]=function(){var a=this.__wrapped__,b=[a];return Ma.apply(b,arguments),b=d.apply(s,b),a&&"object"==typeof a&&a===b?this:new Aa(b)}})}function yb(){return this.__wrapped__}b=b?qa.defaults(f.Object(),b,qa.pick(f,I)):f;var Z=b.Array,Za=b.Boolean,Ka=b.Date,$a=b.Function,ka=b.Math,Hb=b.Number,Da=b.Object,ab=b.RegExp,oa=b.String,
Db=b.TypeError,aa=[],bb=Da.prototype,Ib=b._,ya=ab("^"+oa(bb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Jb=ka.ceil,Ja=b.clearTimeout,xa=aa.concat,zb=ka.floor,Kb=$a.prototype.toString,za=ya.test(za=Da.getPrototypeOf)&&za,W=bb.hasOwnProperty,Ma=aa.push,Na=b.setImmediate,La=b.setTimeout,Y=bb.toString,ua=ya.test(ua=Y.bind)&&ua,Fa=ya.test(Fa=Da.create)&&Fa,cb=ya.test(cb=Z.isArray)&&cb,Lb=b.isFinite,Mb=b.isNaN,Oa=ya.test(Oa=Da.keys)&&Oa,ja=ka.max,Ia=ka.min,db=
b.parseInt,Ab=ka.random,V=aa.slice,ka=ya.test(b.attachEvent),ka=ua&&!/\n|true/.test(ua+ka),na={};na[Q]=Z;na[fa]=Za;na[la]=Ka;na[va]=$a;na[ga]=Da;na[ra]=Hb;na[ma]=ab;na[ha]=oa;Aa.prototype=s.prototype;var ub=s.support={};ub.fastBind=ua&&!ka;s.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:z,variable:"",imports:{_:s}};var ea=cb,da=Oa?function(a){return ia(a)?Oa(a):[]}:pa,fb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gb=ib(fb),Za=hb(function Bb(a,
b,d){for(var c=-1,e=a?a.length:0,h=[];++c<e;){var f=a[c];d&&(f=d(f,c,a));ea(f)?Ma.apply(h,b?f:Bb(f)):h.push(f)}return h}),eb=hb(function(b,d,e){var h=-1,f=Ba(),v=b?b.length:0,k=[],p=!d&&v>=C&&f===g,z=e||p?l():k;if(p){var r=a(z);r?(f=c,z=r):(p=y,z=e?z:(n(z),k))}for(;++h<v;){var r=b[h],B=e?e(r,h,b):r;(d?!h||z[z.length-1]!==B:0>f(z,B))&&((e||p)&&z.push(B),k.push(r))}return p?(n(z.b),m(z)):e&&n(z),k});return ka&&X&&"function"==typeof Na&&(wb=Ya(Na,b)),Na=8==db(N+"08")?db:function(a,b){return db(Ca(a)?
a.replace(J,""):a,b||0)},s.after=function(a,b){return 1>a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},s.assign=sa,s.at=function(a){for(var b=-1,d=xa.apply(aa,V.call(arguments,1)),c=d.length,e=Z(c);++b<c;)e[b]=a[d[b]];return e},s.bind=Ya,s.bindAll=function(a){for(var b=1<arguments.length?xa.apply(aa,V.call(arguments,1)):Ga(a),d=-1,c=b.length;++d<c;){var e=b[d];a[e]=Ya(a[e],a)}return a},s.bindKey=function(a,b){return Ea(a,b,V.call(arguments,2),E)},s.compact=function(a){for(var b=-1,
d=a?a.length:0,c=[];++b<d;){var e=a[b];e&&c.push(e)}return c},s.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length;d--;)b=[a[d].apply(this,b)];return b[0]}},s.countBy=function(a,b,d){var c={};return b=s.createCallback(b,d),S(a,function(a,d,e){d=oa(b(a,d,e));W.call(c,d)?c[d]++:c[d]=1}),c},s.createCallback=function(a,b,d){if(a==p)return Xa;var c=typeof a;if("function"!=c){if("object"!=c)return function(b){return b[a]};var e=da(a);return function(b){for(var d=e.length,
c=y;d--&&(c=wa(b[e[d]],a[e[d]],E)););return c}}return"undefined"==typeof b||T&&!T.test(Kb.call(a))?a:1===d?function(d){return a.call(b,d)}:2===d?function(d,c){return a.call(b,d,c)}:4===d?function(d,c,e,h){return a.call(b,d,c,e,h)}:function(d,c,e){return a.call(b,d,c,e)}},s.debounce=vb,s.defaults=ca,s.defer=wb,s.delay=function(a,b){var d=V.call(arguments,2);return La(function(){a.apply(x,d)},b)},s.difference=qb,s.filter=Ha,s.flatten=Za,s.forEach=S,s.forIn=L,s.forOwn=w,s.functions=Ga,s.groupBy=function(a,
b,d){var c={};return b=s.createCallback(b,d),S(a,function(a,d,e){d=oa(b(a,d,e));(W.call(c,d)?c[d]:c[d]=[]).push(a)}),c},s.initial=function(a,b,d){if(!a)return[];var c=0,e=a.length;if("number"!=typeof b&&b!=p){var h=e;for(b=s.createCallback(b,d);h--&&b(a[h],h,a);)c++}else c=b==p||d?1:b||c;return u(a,0,Ia(ja(0,e-c),e))},s.intersection=function(b){for(var d=arguments,e=d.length,h=-1,f=l(),v=-1,k=Ba(),p=b?b.length:0,z=[],r=l();++h<e;){var B=d[h];f[h]=k===g&&(B?B.length:0)>=C&&a(h?d[h]:r)}a:for(;++v<p;){var F=
f[0],B=b[v];if(0>(F?c(F,B):k(r,B))){h=e;for((F||r).push(B);--h;)if(F=f[h],0>(F?c(F,B):k(d[h],B)))continue a;z.push(B)}}for(;e--;)(F=f[e])&&m(F);return n(f),n(r),z},s.invert=ib,s.invoke=function(a,b){var d=V.call(arguments,2),c=-1,e="function"==typeof b,h=a?a.length:0,f=Z("number"==typeof h?h:0);return S(a,function(a){f[++c]=(e?b:a[b]).apply(a,d)}),f},s.keys=da,s.map=Sa,s.max=nb,s.memoize=function(a,b){function d(){var c=d.cache,e=P+(b?b.apply(this,arguments):arguments[0]);return W.call(c,e)?c[e]:
c[e]=a.apply(this,arguments)}return d.cache={},d},s.merge=kb,s.min=function(a,b,c){var e=1/0,h=e;if(!b&&ea(a)){c=-1;for(var f=a.length;++c<f;){var v=a[c];v<h&&(h=v)}}else b=!b&&Ca(a)?d:s.createCallback(b,c),S(a,function(a,d,c){d=b(a,d,c);d<e&&(e=d,h=a)});return h},s.omit=function(a,b,d){var c=Ba(),e="function"==typeof b,h={};if(e)b=s.createCallback(b,d);else var f=xa.apply(aa,V.call(arguments,1));return L(a,function(a,d,v){(e?!b(a,d,v):0>c(f,d))&&(h[d]=a)}),h},s.once=function(a){var b,d;return function(){return b?
d:(b=h,d=a.apply(this,arguments),a=p,d)}},s.pairs=function(a){for(var b=-1,d=da(a),c=d.length,e=Z(c);++b<c;){var h=d[b];e[b]=[h,a[h]]}return e},s.partial=function(a){return Ea(a,V.call(arguments,1))},s.partialRight=function(a){return Ea(a,V.call(arguments,1),p,E)},s.pick=function(a,b,d){var c={};if("function"!=typeof b)for(var e=-1,h=xa.apply(aa,V.call(arguments,1)),f=ia(a)?h.length:0;++e<f;){var v=h[e];v in a&&(c[v]=a[v])}else b=s.createCallback(b,d),L(a,function(a,d,e){b(a,d,e)&&(c[d]=a)});return c},
s.pluck=Ta,s.range=function(a,b,d){a=+a||0;d=+d||1;b==p&&(b=a,a=0);var c=-1;b=ja(0,Jb((b-a)/d));for(var e=Z(b);++c<b;)e[c]=a,a+=d;return e},s.reject=function(a,b,d){return b=s.createCallback(b,d),Ha(a,function(a,d,c){return!b(a,d,c)})},s.rest=Wa,s.shuffle=function(a){var b=-1,d=a?a.length:0,c=Z("number"==typeof d?d:0);return S(a,function(a){var d=zb(Ab()*(++b+1));c[b]=c[d];c[d]=a}),c},s.sortBy=function(a,b,d){var c=-1,h=a?a.length:0,f=Z("number"==typeof h?h:0);b=s.createCallback(b,d);S(a,function(a,
d,e){var h=f[++c]=r();h.l=b(a,d,e);h.m=c;h.n=a});h=f.length;for(f.sort(e);h--;)a=f[h],f[h]=a.n,m(a);return f},s.tap=function(a,b){return b(a),a},s.throttle=function(a,b,d){var c=h,e=h;return!1===d?c=y:ia(d)&&(c="leading"in d?d.leading:c,e="trailing"in d?d.trailing:e),d=r(),d.leading=c,d.maxWait=b,d.trailing=e,a=vb(a,b,d),m(d),a},s.times=function(a,b,d){a=-1<(a=+a)?a:0;var c=-1,e=Z(a);for(b=s.createCallback(b,d,1);++c<a;)e[c]=b(c);return e},s.toArray=function(a){return a&&"number"==typeof a.length?
u(a):Qa(a)},s.transform=function(a,b,d,c){var e=ea(a);return b=s.createCallback(b,c,4),d==p&&(e?d=[]:(c=a&&a.constructor,d=ia(c&&c.prototype)?Fa(c&&c.prototype):{})),(e?S:w)(a,function(a,c,e){return b(d,a,c,e)}),d},s.union=function(a){return ea(a)||(arguments[0]=a?V.call(a):aa),eb(xa.apply(aa,arguments))},s.uniq=eb,s.unzip=sb,s.values=Qa,s.where=Ha,s.without=function(a){return qb(a,V.call(arguments,1))},s.wrap=function(a,b){return function(){var d=[a];return Ma.apply(d,arguments),b.apply(this,d)}},
s.zip=function(a){return a?sb(arguments):[]},s.zipObject=tb,s.collect=Sa,s.drop=Wa,s.each=S,s.extend=sa,s.methods=Ga,s.object=tb,s.select=Ha,s.tail=Wa,s.unique=eb,xb(s),s.chain=s,s.prototype.chain=function(){return this},s.clone=Pa,s.cloneDeep=function(a,b,d){return Pa(a,h,b,d)},s.contains=lb,s.escape=function(a){return a==p?"":oa(a).replace(F,Eb)},s.every=mb,s.find=Ra,s.findIndex=function(a,b,d){var c=-1,e=a?a.length:0;for(b=s.createCallback(b,d);++c<e;)if(b(a[c],c,a))return c;return-1},s.findKey=
function(a,b,d){var c;return b=s.createCallback(b,d),w(a,function(a,d,e){return b(a,d,e)?(c=d,y):void 0}),c},s.has=function(a,b){return a?W.call(a,b):y},s.identity=Xa,s.indexOf=gb,s.isArguments=function(a){return Y.call(a)==O},s.isArray=ea,s.isBoolean=function(a){return a===h||!1===a||Y.call(a)==fa},s.isDate=function(a){return a?"object"==typeof a&&Y.call(a)==la:y},s.isElement=function(a){return a?1===a.nodeType:y},s.isEmpty=function(a){var b=h;if(!a)return b;var d=Y.call(a),c=a.length;return d==
Q||d==ha||d==O||d==ga&&"number"==typeof c&&ta(a.splice)?!c:(w(a,function(){return b=y}),b)},s.isEqual=wa,s.isFinite=function(a){return Lb(a)&&!Mb(parseFloat(a))},s.isFunction=ta,s.isNaN=function(a){return jb(a)&&a!=+a},s.isNull=function(a){return a===p},s.isNumber=jb,s.isObject=ia,s.isPlainObject=A,s.isRegExp=function(a){return a?"object"==typeof a&&Y.call(a)==ma:y},s.isString=Ca,s.isUndefined=function(a){return"undefined"==typeof a},s.lastIndexOf=function(a,b,d){var c=a?a.length:0;for("number"==
typeof d&&(c=(0>d?ja(0,c+d):Ia(d,c-1))+1);c--;)if(a[c]===b)return c;return-1},s.mixin=xb,s.noConflict=function(){return b._=Ib,this},s.parseInt=Na,s.random=function(a,b){a==p&&b==p&&(b=1);a=+a||0;b==p?(b=a,a=0):b=+b||0;var d=Ab();return a%1||b%1?a+Ia(d*(b-a+parseFloat("1e-"+((d+"").length-1))),b):a+zb(d*(b-a+1))},s.reduce=Ua,s.reduceRight=ob,s.result=function(a,b){var d=a?a[b]:x;return ta(d)?a[b]():d},s.runInContext=q,s.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:da(a).length},
s.some=pb,s.sortedIndex=rb,s.template=function(a,b,d){var c=s.templateSettings;a||(a="");d=ca({},d,c);var e,f=ca({},d.imports,c.imports),c=da(f),f=Qa(f),g=0,p=d.interpolate||v,n="__p+='",p=ab((d.escape||v).source+"|"+p.source+"|"+(p===z?H:v).source+"|"+(d.evaluate||v).source+"|$","g");a.replace(p,function(b,d,c,f,v,p){return c||(c=f),n+=a.slice(g,p).replace(B,k),d&&(n+="'+__e("+d+")+'"),v&&(e=h,n+="';"+v+";__p+='"),c&&(n+="'+((__t=("+c+"))==null?'':__t)+'"),g=p+b.length,b});n+="';\n";(p=d=d.variable)||
(d="obj",n="with("+d+"){"+n+"}");n=(e?n.replace(t,""):n).replace(D,"$1").replace(R,"$1;");n="function("+d+"){"+(p?"":d+"||("+d+"={});")+"var __t,__p='',__e=_.escape"+(e?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+n+"return __p}";try{var l=$a(c,"return "+n).apply(x,f)}catch(r){throw r.source=n,r;}return b?l(b):(l.source=n,l)},s.unescape=function(a){return a==p?"":oa(a).replace(M,Fb)},s.uniqueId=function(a){var b=++K;return oa(a==p?"":a)+b},s.all=mb,s.any=pb,s.detect=
Ra,s.findWhere=Ra,s.foldl=Ua,s.foldr=ob,s.include=lb,s.inject=Ua,w(s,function(a,b){s.prototype[b]||(s.prototype[b]=function(){var b=[this.__wrapped__];return Ma.apply(b,arguments),a.apply(s,b)})}),s.first=Va,s.last=function(a,b,d){if(a){var c=0,e=a.length;if("number"!=typeof b&&b!=p){var h=e;for(b=s.createCallback(b,d);h--&&b(a[h],h,a);)c++}else if(c=b,c==p||d)return a[e-1];return u(a,ja(0,e-c))}},s.take=Va,s.head=Va,w(s,function(a,b){s.prototype[b]||(s.prototype[b]=function(b,d){var c=a(this.__wrapped__,
b,d);return b==p||d&&"function"!=typeof b?c:new Aa(c)})}),s.VERSION="1.3.1",s.prototype.toString=function(){return oa(this.__wrapped__)},s.prototype.value=yb,s.prototype.valueOf=yb,S(["join","pop","shift"],function(a){var b=aa[a];s.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}}),S(["push","reverse","sort","unshift"],function(a){var b=aa[a];s.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),S(["concat","slice","splice"],function(a){var b=aa[a];s.prototype[a]=
function(){return new Aa(b.apply(this.__wrapped__,arguments))}}),s}var x,h=!0,p=null,y=!1,A=[],w=[],K=0,E={},P=+new Date+"",C=75,L=40,t=/\b__p\+='';/g,D=/\b(__p\+=)''\+/g,R=/(__e\(.*?\)|\b__t\))\+'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,H=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,G=/\w*$/,z=/<%=([\s\S]+?)%>/g,T=(T=/\bthis\b/)&&T.test(q)&&T,N=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",J=RegExp("^["+N+"]*0+(?=.$)"),v=/($^)/,
F=/[&<>"']/g,B=/['\n\r\t\u2028\u2029\\]/g,I="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),O="[object Arguments]",Q="[object Array]",fa="[object Boolean]",la="[object Date]",va="[object Function]",ra="[object Number]",ga="[object Object]",ma="[object RegExp]",ha="[object String]",ba={};ba[va]=y;ba[O]=ba[Q]=ba[fa]=ba[la]=ba[ra]=ba[ga]=ba[ma]=ba[ha]=h;var U={"boolean":y,"function":h,object:h,number:y,
string:y,undefined:y},sa={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ca=U[typeof exports]&&exports,X=U[typeof module]&&module&&module.exports==ca&&module,pa=U[typeof global]&&global;!pa||pa.global!==pa&&pa.window!==pa||(f=pa);var qa=q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(f._=qa,define(function(){return qa})):ca&&!ca.nodeType?X?(X.exports=qa)._=qa:ca._=qa:f._=qa}(this);
(function(){var f=this,g=f.Backbone,c=[].slice,b;b="undefined"!==typeof exports?exports:f.Backbone={};b.VERSION="1.1.0";var d=f._;!d&&"undefined"!==typeof require&&(d=require("underscore"));b.$=f.jQuery||f.Zepto||f.ender||f.$;b.noConflict=function(){f.Backbone=g;return this};b.emulateHTTP=!1;b.emulateJSON=!1;var e=b.Events={on:function(a,b,d){if(!k(this,"on",a,[b,d])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:d,ctx:d||this});return this},
once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var e=this,h=d.once(function(){e.off(a,h);b.apply(this,arguments)});h._callback=b;return this.on(a,h,c)},off:function(a,b,c){var e,h,f,g,p,n,l,r;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;g=a?[a]:d.keys(this._events);p=0;for(n=g.length;p<n;p++)if(a=g[p],f=this._events[a]){this._events[a]=e=[];if(b||c){l=0;for(r=f.length;l<r;l++)h=f[l],(b&&b!==h.callback&&b!==h.callback._callback||c&&
c!==h.context)&&e.push(h)}e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=c.call(arguments,1);if(!k(this,"trigger",a,b))return this;var d=this._events[a],e=this._events.all;d&&l(d,b);e&&l(e,arguments);return this},stopListening:function(a,b,c){var e=this._listeningTo;if(!e)return this;var h=!b&&!c;!c&&"object"===typeof b&&(c=this);a&&((e={})[a._listenId]=a);for(var f in e)a=e[f],a.off(b,c,this),(h||d.isEmpty(a._events))&&delete this._listeningTo[f];
return this}},a=/\s+/,k=function(b,d,c,e){if(!c)return!0;if("object"===typeof c){for(var h in c)b[d].apply(b,[h,c[h]].concat(e));return!1}if(a.test(c)){c=c.split(a);h=0;for(var f=c.length;h<f;h++)b[d].apply(b,[c[h]].concat(e));return!1}return!0},l=function(a,b){var d,c=-1,e=a.length,h=b[0],f=b[1],k=b[2];switch(b.length){case 0:for(;++c<e;)(d=a[c]).callback.call(d.ctx);break;case 1:for(;++c<e;)(d=a[c]).callback.call(d.ctx,h);break;case 2:for(;++c<e;)(d=a[c]).callback.call(d.ctx,h,f);break;case 3:for(;++c<
e;)(d=a[c]).callback.call(d.ctx,h,f,k);break;default:for(;++c<e;)(d=a[c]).callback.apply(d.ctx,b)}};d.each({listenTo:"on",listenToOnce:"once"},function(a,b){e[b]=function(b,c,e){var h=this._listeningTo||(this._listeningTo={}),f=b._listenId||(b._listenId=d.uniqueId("l"));h[f]=b;!e&&"object"===typeof c&&(e=this);b[a](c,e,this);return this}});e.bind=e.on;e.unbind=e.off;d.extend(b,e);var r=b.Model=function(a,b){var c=a||{};b||(b={});this.cid=d.uniqueId("c");this.attributes={};b.collection&&(this.collection=
b.collection);b.parse&&(c=this.parse(c,b)||{});c=d.defaults({},c,d.result(this,"defaults"));this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};d.extend(r.prototype,e,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return d.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,
b,c){var e,h,f,k,g,p,n;if(null==a)return this;"object"===typeof a?(h=a,c=b):(h={})[a]=b;c||(c={});if(!this._validate(h,c))return!1;f=c.unset;k=c.silent;a=[];g=this._changing;this._changing=!0;g||(this._previousAttributes=d.clone(this.attributes),this.changed={});n=this.attributes;p=this._previousAttributes;this.idAttribute in h&&(this.id=h[this.idAttribute]);for(e in h)b=h[e],d.isEqual(n[e],b)||a.push(e),d.isEqual(p[e],b)?delete this.changed[e]:this.changed[e]=b,f?delete n[e]:n[e]=b;if(!k){a.length&&
(this._pending=!0);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,n[a[b]],c)}if(g)return this;if(!k)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,d.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?
d.clone(this.changed):!1;var b,c=!1,e=this._changing?this._previousAttributes:this.attributes,h;for(h in a)if(!d.isEqual(e[h],b=a[h]))(c||(c={}))[h]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return d.clone(this._previousAttributes)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",
b,d,a)};G(this,a);return this.sync("read",this,a)},save:function(a,b,c){var e,h=this.attributes;null==a||"object"===typeof a?(e=a,c=b):(e={})[a]=b;c=d.extend({validate:!0},c);if(e&&!c.wait){if(!this.set(e,c))return!1}else if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=d.extend({},h,e));void 0===c.parse&&(c.parse=!0);var f=this,k=c.success;c.success=function(a){f.attributes=h;var b=f.parse(a,c);c.wait&&(b=d.extend(e||{},b));if(d.isObject(b)&&!f.set(b,c))return!1;k&&k(f,a,c);f.trigger("sync",
f,a,c)};G(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=e);a=this.sync(a,this,c);e&&c.wait&&(this.attributes=h);return a},destroy:function(a){a=a?d.clone(a):{};var b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(d){(a.wait||b.isNew())&&e();c&&c(b,d,a);b.isNew()||b.trigger("sync",b,d,a)};if(this.isNew())return a.success(),!1;G(this,a);var h=this.sync("delete",this,a);a.wait||e();return h},url:function(){var a=d.result(this,
"urlRoot")||d.result(this.collection,"url")||H();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},d.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=d.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;
this.trigger("invalid",this,c,d.extend(b,{validationError:c}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(a){r.prototype[a]=function(){var b=c.call(arguments);b.unshift(this.attributes);return d[a].apply(d,b)}});var n=b.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},b))},m={add:!0,remove:!0,merge:!0},u={add:!0,
remove:!1};d.extend(n.prototype,e,{model:r,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,d.extend({merge:!1},b,u))},remove:function(a,b){var c=!d.isArray(a);a=c?[a]:d.clone(a);b||(b={});var e,h,f,k;e=0;for(h=a.length;e<h;e++)if(k=a[e]=this.get(a[e]))delete this._byId[k.id],delete this._byId[k.cid],f=this.indexOf(k),this.models.splice(f,1),this.length--,b.silent||
(b.index=f,k.trigger("remove",k,this,b)),this._removeReference(k);return c?a[0]:a},set:function(a,b){b=d.defaults({},b,m);b.parse&&(a=this.parse(a,b));var c=!d.isArray(a);a=c?a?[a]:[]:d.clone(a);var e,h,f,k,g,p,n=b.at,l=this.model,q=this.comparator&&null==n&&!1!==b.sort,y=d.isString(this.comparator)?this.comparator:null,t=[],C=[],A={},x=b.add,u=b.merge,w=b.remove,E=!q&&x&&w?[]:!1;e=0;for(h=a.length;e<h;e++){g=a[e];f=g instanceof r?k=g:g[l.prototype.idAttribute];if(f=this.get(f))w&&(A[f.cid]=!0),u&&
(g=g===k?k.attributes:g,b.parse&&(g=f.parse(g,b)),f.set(g,b),q&&(!p&&f.hasChanged(y))&&(p=!0)),a[e]=f;else if(x){k=a[e]=this._prepareModel(g,b);if(!k)continue;t.push(k);k.on("all",this._onModelEvent,this);this._byId[k.cid]=k;null!=k.id&&(this._byId[k.id]=k)}E&&E.push(f||k)}if(w){e=0;for(h=this.length;e<h;++e)A[(k=this.models[e]).cid]||C.push(k);C.length&&this.remove(C,b)}if(t.length||E&&E.length)if(q&&(p=!0),this.length+=t.length,null!=n){e=0;for(h=t.length;e<h;e++)this.models.splice(n+e,0,t[e])}else{E&&
(this.models.length=0);g=E||t;e=0;for(h=g.length;e<h;e++)this.models.push(g[e])}p&&this.sort({silent:!0});if(!b.silent){e=0;for(h=t.length;e<h;e++)(k=t[e]).trigger("add",k,this,b);(p||E&&E.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();a=this.add(a,d.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,
d.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,d.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return c.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,b){return d.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var d in a)if(a[d]!==
b.get(d))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return d.invoke(this.models,"get",a)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);
var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};G(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?d.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;b.success=function(a,b,d){d.wait&&c.add(a,d);e&&e(a,b,d)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId=
{}},_prepareModel:function(a,b){if(a instanceof r)return a.collection||(a.collection=this),a;b=b?d.clone(b):{};b.collection=this;var c=new this.model(a,b);if(!c.validationError)return c;this.trigger("invalid",this,c.validationError,b);return!1},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,d,c){("add"===a||"remove"===a)&&d!==this||("destroy"===a&&this.remove(b,c),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],
null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){n.prototype[a]=function(){var b=c.call(arguments);b.unshift(this.models);return d[a].apply(d,b)}});d.each(["groupBy","countBy","sortBy"],
function(a){n.prototype[a]=function(b,c){var e=d.isFunction(b)?b:function(a){return a.get(b)};return d[a](this.models,e,c)}});var q=b.View=function(a){this.cid=d.uniqueId("view");a||(a={});d.extend(this,d.pick(a,h));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},x=/^(\S+)\s*(.*)$/,h="model collection el id attributes className tagName events".split(" ");d.extend(q.prototype,e,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},
remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,d){this.$el&&this.undelegateEvents();this.$el=a instanceof b.$?a:b.$(a);this.el=this.$el[0];!1!==d&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=d.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];d.isFunction(c)||(c=this[a[b]]);if(c){var e=b.match(x),h=e[1],e=e[2],c=d.bind(c,this),h=h+(".delegateEvents"+this.cid);if(""===e)this.$el.on(h,c);else this.$el.on(h,
e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var a=d.extend({},d.result(this,"attributes"));this.id&&(a.id=d.result(this,"id"));this.className&&(a["class"]=d.result(this,"className"));a=b.$("<"+d.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});b.sync=function(a,c,e){var h=y[a];d.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});
var f={type:h,dataType:"json"};e.url||(f.url=d.result(c,"url")||H());if(null==e.data&&c&&("create"===a||"update"===a||"patch"===a))f.contentType="application/json",f.data=JSON.stringify(e.attrs||c.toJSON(e));e.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(e.emulateHTTP&&("PUT"===h||"DELETE"===h||"PATCH"===h)){f.type="POST";e.emulateJSON&&(f.data._method=h);var k=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
h);if(k)return k.apply(this,arguments)}}"GET"!==f.type&&!e.emulateJSON&&(f.processData=!1);"PATCH"===f.type&&p&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=e.xhr=b.ajax(d.extend(f,e));c.trigger("request",c,a,e);return a};var p="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var A=
b.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},w=/\((.*?)\)/g,K=/(\(\?)?:\w+/g,E=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(A.prototype,e,{initialize:function(){},route:function(a,c,e){d.isRegExp(a)||(a=this._routeToRegExp(a));d.isFunction(c)&&(e=c,c="");e||(e=this[c]);var h=this;b.history.route(a,function(d){d=h._extractParameters(a,d);e&&e.apply(h,d);h.trigger.apply(h,["route:"+c].concat(d));h.trigger("route",c,d);b.history.trigger("route",
h,c,d)});return this},navigate:function(a,d){b.history.navigate(a,d);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,b=d.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(P,"\\$&").replace(w,"(?:$1)?").replace(K,function(a,b){return b?a:"([^/]+)"}).replace(E,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return d.map(c,function(a){return a?decodeURIComponent(a):
null})}});var C=b.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,t=/^\/+|\/+$/g,D=/msie [\w.]+/,R=/\/$/,M=/[?#].*$/;C.started=!1;d.extend(C.prototype,e,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var d=this.root.replace(R,
"");a.indexOf(d)||(a=a.slice(d.length))}else a=this.getHash();return a.replace(L,"")},start:function(a){if(C.started)throw Error("Backbone.history has already been started");C.started=!0;this.options=d.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);a=this.getFragment();var c=document.documentMode,c=D.exec(navigator.userAgent.toLowerCase())&&
(!c||7>=c);this.root=("/"+this.root+"/").replace(t,"/");c&&this._wantsHashChange&&(this.iframe=b.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)b.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!c)b.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;c=a.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&(c&&a.hash)&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);
clearInterval(this._checkUrlInterval);C.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return d.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!C.started)return!1;
if(!b||!0===b)b={trigger:!!b};var d=this.root+(a=this.getFragment(a||""));a=a.replace(M,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==d&&(d=d.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(d);
if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,d){d?(d=a.href.replace(/(javascript:|#).*$/,""),a.replace(d+"#"+b)):a.hash="#"+b}});b.history=new C;r.extend=n.extend=A.extend=q.extend=C.extend=function(a,b){var c=this,e;e=a&&d.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};d.extend(e,c,b);var h=function(){this.constructor=e};h.prototype=c.prototype;e.prototype=new h;a&&d.extend(e.prototype,a);e.__super__=c.prototype;return e};var H=function(){throw Error('A "url" property or function must be specified');
},G=function(a,b){var d=b.error;b.error=function(c){d&&d(a,c,b);a.trigger("error",a,c,b)}}}).call(this);
Backbone.ChildViewContainer=function(f,g){var c=function(b){this._views={};this._indexByModel={};this._indexByCollection={};this._indexByCustom={};this._updateLength();this._addInitialViews(b)};g.extend(c.prototype,{add:function(b,d){var c=b.cid;this._views[c]=b;b.model&&(this._indexByModel[b.model.cid]=c);b.collection&&(this._indexByCollection[b.collection.cid]=c);d&&(this._indexByCustom[d]=c);this._updateLength()},findByModel:function(b){return this.findByCid(this._indexByModel[b.cid])},findByCollection:function(b){return this.findByCid(this._indexByCollection[b.cid])},
findByCustom:function(b){return this.findByCid(this._indexByCustom[b])},findByIndex:function(b){return g.values(this._views)[b]},findByCid:function(b){return this._views[b]},remove:function(b){var d=b.cid;b.model&&delete this._indexByModel[b.model.cid];b.collection&&delete this._indexByCollection[b.collection.cid];var c,a;for(a in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(a)&&this._indexByCustom[a]===d){c=a;break}c&&delete this._indexByCustom[c];delete this._views[d];this._updateLength()},
call:function(b,d){d=Array.prototype.slice.call(arguments,1);this.apply(b,d)},apply:function(b,d){d=d||[];g.each(this._views,function(c){g.isFunction(c[b])&&c[b].apply(c,d)})},_updateLength:function(){this.length=g.size(this._views)},_addInitialViews:function(b){if(b){var d,c,a=b.length;for(c=0;a>c;c++)d=b[c],this.add(d)}}});return g.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(b){c.prototype[b]=function(){var d=[g.values(this._views)].concat(g.toArray(arguments));return g[b].apply(g,d)}}),c}(Backbone,_);
Backbone.Wreqr=function(f,g,c){g={};return g.Handlers=function(b,d){var c=function(a){this.options=a;this._wreqrHandlers={};d.isFunction(this.initialize)&&this.initialize(a)};return c.extend=b.Model.extend,d.extend(c.prototype,b.Events,{setHandlers:function(a){d.each(a,function(a,b){var c=null;d.isObject(a)&&!d.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(b,a,c)},this)},setHandler:function(a,b,d){this._wreqrHandlers[a]={callback:b,context:d};this.trigger("handler:add",a,b,d)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(f,c),g.CommandStorage=function(){var b=function(b){this.options=b;this._commands={};c.isFunction(this.initialize)&&this.initialize(b)};return c.extend(b.prototype,f.Events,{getCommands:function(b){var c=
this._commands[b];return c||(c={command:b,instances:[]},this._commands[b]=c),c},addCommand:function(b,c){this.getCommands(b).instances.push(c)},clearCommands:function(b){this.getCommands(b).instances=[]}}),b}(),g.Commands=function(b){return b.Handlers.extend({storageType:b.CommandStorage,constructor:function(d){this.options=d||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);b.Handlers.prototype.constructor.apply(this,
c)},execute:function(b,c){b=arguments[0];c=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,c):this.storage.addCommand(b,c)},_executeCommands:function(b,e,a){var f=this.storage.getCommands(b);c.each(f.instances,function(b){e.apply(a,b)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=c.isFunction(b)?new b:b}})}(g),g.RequestResponse=function(b){return b.Handlers.extend({request:function(){var b=arguments[0],
c=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,c)}})}(g),g.EventAggregator=function(b,d){var c=function(){};return c.extend=b.Model.extend,d.extend(c.prototype,b.Events),c}(f,c),g}(Backbone,Backbone.Marionette,_);
var Marionette=function(f,g,c){function b(a,b){var d=Error(a);throw d.name=b||"Error",d;}var d={};g.Marionette=d;d.$=g.$;var e=Array.prototype.slice;return d.extend=g.Model.extend,d.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]},d.triggerMethod=function(){function a(a,b,d){return d.toUpperCase()}var b=/(^|:)(\w)/gi;return function(d){var e=this["on"+d.replace(b,a)];return this.trigger.apply(this,arguments),c.isFunction(e)?e.apply(this,c.tail(arguments)):
void 0}}(),d.MonitorDOMRefresh=function(){function a(a){a._isShown&&a._isRendered&&c.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}return function(b){b.listenTo(b,"show",function(){b._isShown=!0;a(b)});b.listenTo(b,"render",function(){b._isRendered=!0;a(b)})}}(),function(a){function d(a,e,f,h){h=h.split(/\s+/);c.each(h,function(d){var c=a[d];c||b("Method '"+d+"' was configured as an event handler, but does not exist.");a.listenTo(e,f,c,a)})}function e(a,b,d,c){a.listenTo(b,d,c,a)}function f(a,
b,d,e){e=e.split(/\s+/);c.each(e,function(c){a.stopListening(b,d,a[c],a)})}function g(a,b,d,c){a.stopListening(b,d,c,a)}function m(a,b,d,e,f){b&&d&&(c.isFunction(d)&&(d=d.call(a)),c.each(d,function(d,k){c.isFunction(d)?e(a,b,k,d):f(a,b,k,d)}))}a.bindEntityEvents=function(a,b,c){m(a,b,c,e,d)};a.unbindEntityEvents=function(a,b,d){m(a,b,d,g,f)}}(d),d.Callbacks=function(){this._deferred=d.$.Deferred();this._callbacks=[]},c.extend(d.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,ctx:b});
this._deferred.done(function(d,c){b&&(d=b);a.call(d,c)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=d.$.Deferred();this._callbacks=[];c.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),d.Controller=function(a){this.triggerMethod=d.triggerMethod;this.options=a||{};c.isFunction(this.initialize)&&this.initialize(this.options)},d.Controller.extend=d.extend,c.extend(d.Controller.prototype,g.Events,{close:function(){this.stopListening();this.triggerMethod("close");
this.unbind()}}),d.Region=function(a){if(this.options=a||{},this.el=d.getOption(this,"el"),!this.el){var b=Error("An 'el' must be specified for a region.");throw b.name="NoElError",b;}this.initialize&&(b=Array.prototype.slice.apply(arguments),this.initialize.apply(this,b))},c.extend(d.Region,{buildRegion:function(a,b){var d="string"==typeof a,e="string"==typeof a.selector,f=void 0===a.regionType,g="function"==typeof a;if(!g&&!d&&!e)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");
var u,q;d&&(u=a);a.selector&&(u=a.selector);g&&(q=a);!g&&f&&(q=b);a.regionType&&(q=a.regionType);d=new q({el:u});return a.parentEl&&(d.getEl=function(b){var d=a.parentEl;return c.isFunction(d)&&(d=d()),d.find(b)}),d}}),c.extend(d.Region.prototype,g.Events,{show:function(a){this.ensureEl();var b=a.isClosed||c.isUndefined(a.$el),e=a!==this.currentView;e&&this.close();a.render();(e||b)&&this.open(a);this.currentView=a;d.triggerMethod.call(this,"show",a);d.triggerMethod.call(a,"show")},ensureEl:function(){this.$el&&
0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return d.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),d.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}}),d.Region.extend=d.extend,d.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions=
{};a.Controller.prototype.constructor.call(this,b)},addRegions:function(a,b){var d={};return c.each(a,function(a,e){"string"==typeof a&&(a={selector:a});a.selector&&(a=c.defaults({},a,b));var f=this.addRegion(e,a);d[e]=f},this),d},addRegion:function(b,d){var e,f=c.isObject(d),g=c.isString(d),k=!!d.selector;return e=g||f&&k?a.Region.buildRegion(d,a.Region):c.isFunction(d)?a.Region.buildRegion(d,a.Region):d,this._store(b,e),this.triggerMethod("region:add",b,e),e},get:function(a){return this._regions[a]},
removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){c.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){c.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();var b=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,b)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){b.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",
a,b)},_setLength:function(){this.length=c.size(this._regions)}});return c.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){b.prototype[a]=function(){var b=[c.values(this._regions)].concat(c.toArray(arguments));return c[a].apply(c,b)}}),b}(d),d.TemplateCache=function(a){this.templateId=a},c.extend(d.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];
return b||(b=new d.TemplateCache(a),this.templateCaches[a]=b),b.load()},clear:function(){var a,b=e.call(arguments),d=b.length;if(0<d)for(a=0;d>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),c.extend(d.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a),this.compiledTemplate},loadTemplate:function(a){var c=d.$(a).html();return c&&0!==c.length||
b("Could not find template: '"+a+"'","NoTemplateError"),c},compileTemplate:function(a){return c.template(a)}}),d.Renderer={render:function(a,b){if(!a){var c=Error("Cannot render the template since it's false, null or undefined.");throw c.name="TemplateNotFoundError",c;}return c="function"==typeof a?a:d.TemplateCache.get(a),c(b)}},d.View=g.View.extend({constructor:function(){c.bindAll(this,"render");var a=Array.prototype.slice.apply(arguments);g.View.prototype.constructor.apply(this,a);d.MonitorDOMRefresh(this);
this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:d.triggerMethod,getTemplate:function(){return d.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=this.templateHelpers;return c.isFunction(b)&&(b=b.call(this)),c.extend(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=c.result(this,"triggers");return c.each(b,function(b,d){a[d]=function(a){a&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();this.triggerMethod(b,{view:this,
model:this.model,collection:this.collection})}},this),a}},delegateEvents:function(a){this._delegateDOMEvents(a);d.bindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.bindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;c.isFunction(a)&&(a=a.call(this));var b={},d=this.configureTriggers();c.extend(b,a,d);g.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);
g.View.prototype.undelegateEvents.apply(this,a);d.unbindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.unbindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,"_uiBindings");
this.ui={};c.each(c.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),d.ItemView=d.View.extend({serializeData:function(){var a={};return this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()}),a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=
this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=d.Renderer.render(b,a);return this.$el.html(a),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),d.View.prototype.close.apply(this,e.call(arguments)),this.triggerMethod("item:closed"))}}),d.CollectionView=d.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage();
d.View.prototype.constructor.apply(this,e.call(arguments));this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),d=this.collection.indexOf(a);this.addItemView(a,b,d)},onShowCalled:function(){this.children.each(function(a){d.triggerMethod.call(a,
"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},
showCollection:function(){var a;this.collection.each(function(b,d){a=this.getItemView(b);this.addItemView(b,a,d)},this)},showEmptyView:function(){var a=d.getOption(this,"emptyView");if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new g.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var a=d.getOption(this,"itemView");return a||b("An `itemView` must be specified","NoItemViewError"),
a},addItemView:function(a,b,e){var f=d.getOption(this,"itemViewOptions");c.isFunction(f)&&(f=f.call(this,a,e));a=this.buildItemView(a,b,f);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,e);this._isShown&&d.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var b=d.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var c=e.call(arguments);c[0]=b+
":"+c[0];c.splice(1,0,a);d.triggerMethod.apply(this,c)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,d){a=c.extend({model:a},d);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){this.collection&&0!==
this.collection.length||this.showEmptyView()},appendHtml:function(a,b){a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new g.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),d.View.prototype.close.apply(this,e.call(arguments)))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}}),d.CompositeView=d.CollectionView.extend({_initialEvents:function(){this.collection&&
(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var a=d.getOption(this,"itemView")||this.constructor;return a||b("An `itemView` must be specified","NoItemViewError"),a},serializeData:function(){var a={};return this.model&&(a=this.model.toJSON()),a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();
this.triggerBeforeRender();var a=this.renderModel();return this.$el.html(a),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(d.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return d.Renderer.render(b,
a)},appendHtml:function(a,b){this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var d;a.itemViewContainer?(d=c.result(a,"itemViewContainer"),d=a.$(d),0>=d.length&&b("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")):d=a.$el;return a.$itemViewContainer=d,d},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),d.Layout=d.ItemView.extend({regionType:d.Region,
constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);d.ItemView.call(this,a)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?this._initializeRegions():this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return d.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);d.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var d=
{};return d[a]=b,this.addRegions(d)[a]},addRegions:function(a){return this.regions=c.extend(this.regions||{},a),this._buildRegions(a)},removeRegion:function(a){return this.regionManager.removeRegion(a)},_buildRegions:function(a){var b=this;return this.regionManager.addRegions(a,{parentEl:function(){return b.$el}})},_initializeRegions:function(a){this._initRegionManager();a=c.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();
this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new d.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}}),d.AppRouter=g.Router.extend({constructor:function(a){if(g.Router.prototype.constructor.apply(this,e.call(arguments)),this.options=a,this.appRoutes){var b=d.getOption(this,
"controller");this.processAppRoutes(b,this.appRoutes)}},processAppRoutes:function(a,b){var d=c.keys(b).reverse();c.each(d,function(d){var e=b[d],f=a[e];if(!f)throw Error("Method '"+e+"' was not found on the controller");this.route(d,e,c.bind(f,a))},this)}}),d.Application=function(a){this._initRegionManager();this._initCallbacks=new d.Callbacks;this.vent=new g.Wreqr.EventAggregator;this.commands=new g.Wreqr.Commands;this.reqres=new g.Wreqr.RequestResponse;this.submodules={};c.extend(this,a);this.triggerMethod=
d.triggerMethod},c.extend(d.Application.prototype,g.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},
addRegions:function(a){return this._regionManager.addRegions(a)},removeRegion:function(a){this._regionManager.removeRegion(a)},module:function(){var a=e.call(arguments);return a.unshift(this),d.Module.create.apply(d.Module,a)},_initRegionManager:function(){this._regionManager=new d.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a){delete this[a]})}}),d.Application.extend=d.extend,d.Module=function(a,
b){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=d.triggerMethod},c.extend(d.Module.prototype,g.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=
!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,d.triggerMethod.call(this,"before:stop"),c.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),d.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var e=c.flatten([this,this.app,g,d,d.$,c,b]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=
new d.Callbacks;this._finalizerCallbacks=new d.Callbacks}}),c.extend(d.Module,{create:function(a,b,d){var f=a,g=e.call(arguments);g.splice(0,3);b=b.split(".");var m=[];return m[b.length-1]=d,c.each(b,function(b,d){var c=f;f=this._getModule(c,b,a);this._addModuleDefinition(c,f,m[d],g)},this),f},_getModule:function(a,b,c){var e=a[b];return e||(e=new d.Module(b,c),a[b]=e,a.submodules[b]=e),e},_addModuleDefinition:function(a,b,d,e){var f,g;c.isFunction(d)?(f=d,g=!0):c.isObject(d)?(f=d.define,g=d.startWithParent):
g=!0;f&&b.addDefinition(f,e);b.startWithParent=b.startWithParent&&g;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),d}(this,Backbone,_);
(function(f,g){"object"==typeof exports?module.exports=g():"function"==typeof define&&define.amd?define(g):f.Spinner=g()})(this,function(){function f(a,b){var d=document.createElement(a||"div"),c;for(c in b)d[c]=b[c];return d}function g(a){for(var b=1,d=arguments.length;b<d;b++)a.appendChild(arguments[b]);return a}function c(a,b,d,c){var e=["opacity",b,~~(100*a),d,c].join("-");d=0.01+100*(d/c);c=Math.max(1-(1-a)/b*(100-d),a);var f=m.substring(0,m.indexOf("Animation")).toLowerCase();n[e]||(u.insertRule("@"+
(f&&"-"+f+"-"||"")+"keyframes "+e+"{0%{opacity:"+c+"}"+d+"%{opacity:"+a+"}"+(d+0.01)+"%{opacity:1}"+(d+b)%100+"%{opacity:"+a+"}100%{opacity:"+c+"}}",u.cssRules.length),n[e]=1);return e}function b(a,b){var d=a.style,c,e;if(void 0!==d[b])return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(e=0;e<r.length;e++)if(c=r[e]+b,void 0!==d[c])return c}function d(a,d){for(var c in d)a.style[b(a,c)||c]=d[c];return a}function e(a){for(var b=1;b<arguments.length;b++){var d=arguments[b],c;for(c in d)void 0===a[c]&&
(a[c]=d[c])}return a}function a(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function k(a){if("undefined"==typeof this)return new k(a);this.opts=e(a||{},k.defaults,q)}function l(){function a(b,d){return f("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',d)}u.addRule(".spin-vml","behavior:url(#default#VML)");k.prototype.lines=function(b,c){function e(){return d(a("group",{coordsize:n+" "+n,coordorigin:-k+" "+-k}),{width:n,
height:n})}function f(b,p,n){g(l,g(d(e(),{rotation:360/c.lines*b+"deg",left:~~p}),g(d(a("roundrect",{arcsize:c.corners}),{width:k,height:c.width,left:c.radius,top:-c.width>>1,filter:n}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var k=c.length+c.width,n=2*k,m=2*-(c.width+c.length)+"px",l=d(e(),{position:"absolute",top:m,left:m});if(c.shadow)for(m=1;m<=c.lines;m++)f(m,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(m=1;m<=c.lines;m++)f(m);
return g(b,l)};k.prototype.opacity=function(a,b,d,c){a=a.firstChild;c=c.shadow&&c.lines||0;if(a&&b+c<a.childNodes.length&&(a=(a=(a=a.childNodes[b+c])&&a.firstChild)&&a.firstChild))a.opacity=d}}var r=["webkit","Moz","ms","O"],n={},m,u=function(){var a=f("style",{type:"text/css"});g(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),q={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",
top:"auto",left:"auto",position:"relative"};k.defaults={};e(k.prototype,{spin:function(b){this.stop();var c=this,e=c.opts,g=c.el=d(f(0,{className:e.className}),{position:e.position,width:0,zIndex:e.zIndex}),k=e.radius+e.length+e.width,n,l;b&&(b.insertBefore(g,b.firstChild||null),l=a(b),n=a(g),d(g,{left:("auto"==e.left?l.x-n.x+(b.offsetWidth>>1):parseInt(e.left,10)+k)+"px",top:("auto"==e.top?l.y-n.y+(b.offsetHeight>>1):parseInt(e.top,10)+k)+"px"}));g.setAttribute("role","progressbar");c.lines(g,c.opts);
if(!m){var r=0,C=(e.lines-1)*(1-e.direction)/2,q,t=e.fps,x=t/e.speed,u=(1-e.opacity)/(x*e.trail/100),M=x/e.lines;(function G(){r++;for(var a=0;a<e.lines;a++)q=Math.max(1-(r+(e.lines-a)*M)%x*u,e.opacity),c.opacity(g,a*e.direction+C,q,e);c.timeout=c.el&&setTimeout(G,~~(1E3/t))})()}return c},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,b){function e(a,c){return d(f(),{position:"absolute",width:b.length+
b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*k+b.rotate)+"deg) translate("+b.radius+"px,0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var k=0,n=(b.lines-1)*(1-b.direction)/2,l;k<b.lines;k++)l=d(f(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:m&&c(b.opacity,b.trail,n+k*b.direction,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&g(l,d(e("#000","0 0 4px #000"),
{top:"2px"})),g(a,g(l,e(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,d){b<a.childNodes.length&&(a.childNodes[b].style.opacity=d)}});var x=d(f("group"),{behavior:"url(#default#VML)"});!b(x,"transform")&&x.adj?l():m=b(x,"animation");return k});(function(){function f(){}function g(b,c){for(var a=b.length;a--;)if(b[a].listener===c)return a;return-1}function c(b){return function(){return this[b].apply(this,arguments)}}var b=f.prototype;b.getListeners=function(b){var c,a,f=this._getEvents();if("object"==typeof b)for(a in c={},f)f.hasOwnProperty(a)&&b.test(a)&&(c[a]=f[a]);else c=f[b]||(f[b]=[]);return c};b.flattenListeners=function(b){var c,a=[];for(c=0;b.length>c;c+=1)a.push(b[c].listener);return a};b.getListenersAsObject=function(b){var c,
a=this.getListeners(b);return a instanceof Array&&(c={},c[b]=a),c||a};b.addListener=function(b,c){var a,f=this.getListenersAsObject(b),l="object"==typeof c;for(a in f)f.hasOwnProperty(a)&&-1===g(f[a],c)&&f[a].push(l?c:{listener:c,once:!1});return this};b.on=c("addListener");b.addOnceListener=function(b,c){return this.addListener(b,{listener:c,once:!0})};b.once=c("addOnceListener");b.defineEvent=function(b){return this.getListeners(b),this};b.defineEvents=function(b){for(var c=0;b.length>c;c+=1)this.defineEvent(b[c]);
return this};b.removeListener=function(b,c){var a,f,l=this.getListenersAsObject(b);for(f in l)l.hasOwnProperty(f)&&(a=g(l[f],c),-1!==a&&l[f].splice(a,1));return this};b.off=c("removeListener");b.addListeners=function(b,c){return this.manipulateListeners(!1,b,c)};b.removeListeners=function(b,c){return this.manipulateListeners(!0,b,c)};b.manipulateListeners=function(b,c,a){var f,g,r=b?this.removeListener:this.addListener;b=b?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof
RegExp)for(f=a.length;f--;)r.call(this,c,a[f]);else for(f in c)c.hasOwnProperty(f)&&(g=c[f])&&("function"==typeof g?r.call(this,f,g):b.call(this,f,g));return this};b.removeEvent=function(b){var c,a=typeof b,f=this._getEvents();if("string"===a)delete f[b];else if("object"===a)for(c in f)f.hasOwnProperty(c)&&b.test(c)&&delete f[c];else delete this._events;return this};b.removeAllListeners=c("removeEvent");b.emitEvent=function(b,c){var a,f,g,r,n=this.getListenersAsObject(b);for(g in n)if(n.hasOwnProperty(g))for(f=
n[g].length;f--;)a=n[g][f],!0===a.once&&this.removeListener(b,a.listener),r=a.listener.apply(this,c||[]),r===this._getOnceReturnValue()&&this.removeListener(b,a.listener);return this};b.trigger=c("emitEvent");b.emit=function(b){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,c)};b.setOnceReturnValue=function(b){return this._onceReturnValue=b,this};b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};b._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof module&&module.exports?module.exports=f:this.EventEmitter=f}).call(this);
(function(f){var g=document.documentElement,c=function(){};g.addEventListener?c=function(b,c,a){b.addEventListener(c,a,!1)}:g.attachEvent&&(c=function(b,c,a){b[c+a]=a.handleEvent?function(){var b=f.event;b.target=b.target||b.srcElement;a.handleEvent.call(a,b)}:function(){var c=f.event;c.target=c.target||c.srcElement;a.call(b,c)};b.attachEvent("on"+c,b[c+a])});var b=function(){};g.removeEventListener?b=function(b,c,a){b.removeEventListener(c,a,!1)}:g.detachEvent&&(b=function(b,c,a){b.detachEvent("on"+
c,b[c+a]);try{delete b[c+a]}catch(f){b[c+a]=void 0}});g={bind:c,unbind:b};"function"==typeof define&&define.amd?define(g):f.eventie=g})(this);
(function(f){function g(a,b){for(var c in b)a[c]=b[c];return a}function c(a){var b=[];if("[object Array]"===k.call(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function b(b,f){function n(a,b,e){if(!(this instanceof n))return new n(a,b);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=c(a);this.options=g({},this.options);"function"==typeof b?e=b:g(this.options,b);e&&this.on("always",e);this.getImages();d&&(this.jqDeferred=
new d.Deferred);var f=this;setTimeout(function(){f.check()})}function k(a){this.img=a}n.prototype=new b;n.prototype.options={};n.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var c=c.querySelectorAll("img"),d=0,e=c.length;e>d;d++)this.addImage(c[d])}};n.prototype.addImage=function(a){a=new k(a);this.images.push(a)};n.prototype.check=function(){function b(g,k){return c.options.debug&&a&&e.log("confirm",
g,k),c.progress(g),d++,d===f&&c.complete(),!0}var c=this,d=0,f=this.images.length;if(this.hasAnyBroken=!1,!f)return this.complete(),void 0;for(var g=0;f>g;g++){var k=this.images[g];k.on("confirm",b);k.check()}};n.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify(b,a)})};n.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,
b),b.emit("always",b),b.jqDeferred)b.jqDeferred[b.hasAnyBroken?"reject":"resolve"](b)})};d&&(d.fn.imagesLoaded=function(a,b){return(new n(this,a,b)).jqDeferred.promise(d(this))});var u={};return k.prototype=new b,k.prototype.check=function(){var a=u[this.img.src];if(a)return this.useCached(a),void 0;if(u[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;a=this.proxyImage=new Image;f.bind(a,"load",this);f.bind(a,
"error",this);a.src=this.img.src},k.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var b=this;a.on("confirm",function(a){return b.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},k.prototype.confirm=function(a,b){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,b)},k.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},k.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},k.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},k.prototype.unbindProxyEvents=function(){f.unbind(this.proxyImage,"load",this);f.unbind(this.proxyImage,"error",this)},n}var d=f.jQuery,e=f.console,a=void 0!==e,k=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],b):f.imagesLoaded=b(f.EventEmitter,f.eventie)})(window);
(function(){Backbone.InfiniScroll=function(f,g){function c(c){c={};b.options.includePage&&(c.p=a+1);return c}g=g||{};var b={},d,e,a,k,l=0;k=f.length||25;b.collection=f;b.options=_.defaults(g,{success:function(){},error:function(){},onFetch:function(){},target:$(window),extraParams:{},pageSize:k,scrollOffset:100,remove:!1,strict:!1,includePage:!1});b.destroy=function(){d.off("scroll",b.watchScroll)};b.enableFetch=function(){e=!0};b.disableFetch=function(){e=!1};b.onFetch=function(){b.options.onFetch()};
b.fetchSuccess=function(c,d){b.options.strict&&c.length>=(a+1)*b.options.pageSize||!b.options.strict&&0<d.length?(b.enableFetch(),a+=1):b.disableFetch();b.options.success(c,d)};b.fetchError=function(a,c){b.enableFetch();b.options.error(a,c)};b.watchScroll=function(a){a=d.scrollTop()+d.height();var f=d.get(0).scrollHeight;f||(f=$(document).height());if(a>=f-b.options.scrollOffset&&e&&l<=a){f=b.collection.last();if(!f)return;b.onFetch();b.disableFetch();b.collection.fetch({success:b.fetchSuccess,error:b.fetchError,
remove:b.options.remove,data:$.extend(c(f),b.options.extraParams)})}l=a};d=$(b.options.target);e=!0;a=1;d.on("scroll",b.watchScroll);return b}})();
(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):f(jQuery)})(function(f){function g(a){return a}function c(a){return decodeURIComponent(a.replace(d," "))}function b(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e.json?JSON.parse(a):a}catch(b){}}var d=/\+/g,e=f.cookie=function(a,d,l){if(void 0!==d){l=f.extend({},e.defaults,l);if("number"===typeof l.expires){var r=l.expires,n=l.expires=new Date;n.setDate(n.getDate()+r)}d=e.json?
JSON.stringify(d):String(d);return document.cookie=[e.raw?a:encodeURIComponent(a),"=",e.raw?d:encodeURIComponent(d),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}d=e.raw?g:c;l=document.cookie.split("; ");for(var r=a?void 0:{},n=0,m=l.length;n<m;n++){var u=l[n].split("="),q=d(u.shift()),u=d(u.join("="));if(a&&a===q){r=b(u);break}a||(r[q]=b(u))}return r};e.defaults={};f.removeCookie=function(a,b){return void 0!==
f.cookie(a)?(f.cookie(a,"",f.extend({},b,{expires:-1})),!0):!1}});
(function(f,g,c,b){var d=c(f),e=c(g),a=c.fancybox=function(){a.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/),l=null,r=g.createTouch!==b,n=function(a){return a&&a.hasOwnProperty&&a instanceof c},m=function(a){return a&&"string"===c.type(a)},u=function(a){return m(a)&&0<a.indexOf("%")},q=function(b,c){var d=parseInt(b,10)||0;c&&u(b)&&(d*=a.getViewport()[c]/100);return Math.ceil(d)},x=function(a,b){return q(a,b)+"px"};c.extend(a,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,
height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!r,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",
34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(d,e){if(d&&(c.isPlainObject(e)||(e={}),!1!==a.close(!0)))return c.isArray(d)||(d=n(d)?c(d).get():[d]),c.each(d,function(f,g){var k={},l,r,q,C,x;"object"===c.type(g)&&(g.nodeType&&(g=c(g)),n(g)?(k={href:g.data("fancybox-href")||g.attr("href"),title:g.data("fancybox-title")||g.attr("title"),isDom:!0,element:g},c.metadata&&c.extend(!0,k,
g.metadata())):k=g);l=e.href||k.href||(m(g)?g:null);r=e.title!==b?e.title:k.title||"";C=(q=e.content||k.content)?"html":e.type||k.type;!C&&k.isDom&&(C=g.data("fancybox-type"),C||(C=(C=g.prop("class").match(/fancybox\.(\w+)/))?C[1]:null));m(l)&&(C||(a.isImage(l)?C="image":a.isSWF(l)?C="swf":"#"===l.charAt(0)?C="inline":m(g)&&(C="html",q=g)),"ajax"===C&&(x=l.split(/\s+/,2),l=x.shift(),x=x.shift()));q||("inline"===C?l?q=c(m(l)?l.replace(/.*(?=#[^\s]+$)/,""):l):k.isDom&&(q=g):"html"===C?q=l:!C&&(!l&&
k.isDom)&&(C="inline",q=g));c.extend(k,{href:l,type:C,content:q,title:r,selector:x});d[f]=k}),a.opts=c.extend(!0,{},a.defaults,e),e.keys!==b&&(a.opts.keys=e.keys?c.extend({},a.defaults.keys,e.keys):!1),a.group=d,a._start(a.opts.index)},cancel:function(){var b=a.coming;b&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),b.wrap&&b.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||
a._afterZoomOut(b))},close:function(b){a.cancel();!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(!a.isOpen||!0===b?(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut()):(a.isOpen=a.isOpened=!1,a.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]())))},play:function(b){var d=function(){clearTimeout(a.player.timer)},e=function(){d();a.current&&a.player.isActive&&(a.player.timer=
setTimeout(a.next,a.current.playSpeed))},f=function(){d();c("body").unbind(".player");a.player.isActive=!1;a.trigger("onPlayEnd")};if(!0===b||!a.player.isActive&&!1!==b){if(a.current&&(a.current.loop||a.current.index<a.group.length-1))a.player.isActive=!0,c("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":f,"beforeLoad.player":d}),e(),a.trigger("onPlayStart")}else f()},next:function(b){var c=a.current;c&&(m(b)||(b=c.direction.next),a.jumpto(c.index+1,b,"next"))},
prev:function(b){var c=a.current;c&&(m(b)||(b=c.direction.prev),a.jumpto(c.index-1,b,"prev"))},jumpto:function(c,d,e){var f=a.current;f&&(c=q(c),a.direction=d||f.direction[c>=f.index?"next":"prev"],a.router=e||"jumpto",f.loop&&(0>c&&(c=f.group.length+c%f.group.length),c%=f.group.length),f.group[c]!==b&&(a.cancel(),a._start(c)))},reposition:function(b,d){var e=a.current,f=e?e.wrap:null,g;f&&(g=a._getPosition(d),b&&"scroll"===b.type?(delete g.position,f.stop(!0,!0).animate(g,200)):(f.css(g),e.pos=c.extend({},
e.dim,g)))},update:function(b){var c=b&&b.type,d=!c||"orientationchange"===c;d&&(clearTimeout(l),l=null);a.isOpen&&!l&&(l=setTimeout(function(){var e=a.current;e&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(d||"load"===c||"resize"===c&&e.autoResize)&&a._setDimension(),"scroll"===c&&e.canShrink||a.reposition(b),a.trigger("onUpdate"),l=null)},d&&!r?0:300))},toggle:function(b){a.isOpen&&(a.current.fitToView="boolean"===c.type(b)?b:!a.current.fitToView,r&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),
a.trigger("onUpdate")),a.update())},hideLoading:function(){e.unbind(".loading");c("#fancybox-loading").remove()},showLoading:function(){var b,d;a.hideLoading();b=c('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body");e.bind("keydown.loading",function(b){if(27===(b.which||b.keyCode))b.preventDefault(),a.cancel()});a.defaults.fixed||(d=a.getViewport(),b.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var b=a.current&&a.current.locked||
!1,c={x:d.scrollLeft(),y:d.scrollTop()};b?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=r&&f.innerWidth?f.innerWidth:d.width(),c.h=r&&f.innerHeight?f.innerHeight:d.height());return c},unbindEvents:function(){a.wrap&&n(a.wrap)&&a.wrap.unbind(".fb");e.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var f=a.current,g;f&&(d.bind("orientationchange.fb"+(r?"":" resize.fb")+(f.autoCenter&&!f.locked?" scroll.fb":""),a.update),(g=f.keys)&&e.bind("keydown.fb",function(d){var e=d.which||d.keyCode,k=
d.target||d.srcElement;if(27===e&&a.coming)return!1;!d.ctrlKey&&(!d.altKey&&!d.shiftKey&&!d.metaKey&&(!k||!k.type&&!c(k).is("[contenteditable]")))&&c.each(g,function(g,k){if(1<f.group.length&&k[e]!==b)return a[g](k[e]),d.preventDefault(),!1;if(-1<c.inArray(e,k))return a[g](),d.preventDefault(),!1})}),c.fn.mousewheel&&f.mouseWheel&&a.wrap.bind("mousewheel.fb",function(b,d,e,g){for(var k=c(b.target||null),n=!1;k.length&&!n&&!k.is(".fancybox-skin")&&!k.is(".fancybox-wrap");)n=k[0]&&!(k[0].style.overflow&&
"hidden"===k[0].style.overflow)&&(k[0].clientWidth&&k[0].scrollWidth>k[0].clientWidth||k[0].clientHeight&&k[0].scrollHeight>k[0].clientHeight),k=c(k).parent();if(0!==d&&!n&&1<a.group.length&&!f.canShrink){if(0<g||0<e)a.prev(0<g?"down":"left");else if(0>g||0>e)a.next(0>g?"up":"right");b.preventDefault()}}))},trigger:function(b,d){var e,f=d||a.coming||a.current;if(f){c.isFunction(f[b])&&(e=f[b].apply(f,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;f.helpers&&c.each(f.helpers,function(d,
e){e&&(a.helpers[d]&&c.isFunction(a.helpers[d][b]))&&(e=c.extend(!0,{},a.helpers[d].defaults,e),a.helpers[d][b](e,f))});c.event.trigger(b+".fb")}},isImage:function(a){return m(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return m(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var d={},e,f;b=q(b);e=a.group[b]||null;if(!e)return!1;d=c.extend(!0,{},a.opts,e);e=d.margin;f=d.padding;"number"===c.type(e)&&(d.margin=[e,e,e,e]);"number"===c.type(f)&&
(d.padding=[f,f,f,f]);d.modal&&c.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=a.group;d.index=b;a.coming=d;if(!1===a.trigger("beforeLoad"))a.coming=null;else{f=d.type;e=d.href;if(!f)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=b,a[a.router](a.direction)):!1;a.isActive=
!0;if("image"===f||"swf"===f)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===f&&(d.aspectRatio=!0);"iframe"===f&&r&&(d.scrolling="scroll");d.wrap=c(d.tpl.wrap).addClass("fancybox-"+(r?"mobile":"desktop")+" fancybox-type-"+f+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");c.extend(d,{skin:c(".fancybox-skin",d.wrap),outer:c(".fancybox-outer",d.wrap),inner:c(".fancybox-inner",d.wrap)});c.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,x(d.padding[a]))});a.trigger("onReady");
if("inline"===f||"html"===f){if(!d.content||!d.content.length)return a._error("content")}else if(!e)return a._error("href");"image"===f?a._loadImage():"ajax"===f?a._loadAjax():"iframe"===f?a._loadIframe():a._afterLoad()}},_error:function(b){c.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:b,content:a.coming.tpl.error});a._afterLoad()},_loadImage:function(){var b=a.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;a.coming.width=
this.width;a.coming.height=this.height;a._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;a._error("image")};b.src=a.coming.href;!0!==b.complete&&a.showLoading()},_loadAjax:function(){var b=a.coming;a.showLoading();a.ajaxLoad=c.ajax(c.extend({},b.ajax,{url:b.href,error:function(b,d){a.coming&&"abort"!==d?a._error("ajax",b):a.hideLoading()},success:function(d,c){"success"===c&&(b.content=d,a._afterLoad())}}))},_loadIframe:function(){var b=a.coming,d=c(b.tpl.iframe.replace(/\{rnd\}/g,
(new Date).getTime())).attr("scrolling",r?"auto":b.iframe.scrolling).attr("src",b.href);c(b.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});b.iframe.preload&&(a.showLoading(),d.one("load",function(){c(this).data("ready",1);r||c(this).bind("load.fb",a.update);c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();a._afterLoad()}));b.content=d.appendTo(b.inner);b.iframe.preload||a._afterLoad()},_preloadImages:function(){var b=
a.group,d=a.current,c=b.length,e=d.preload?Math.min(d.preload,c-1):0,f,g;for(g=1;g<=e;g+=1)f=b[(d.index+g)%c],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var b=a.coming,d=a.current,e,f,g,k,m;a.hideLoading();if(b&&!1!==a.isActive)if(!1===a.trigger("afterLoad",b,d))b.wrap.stop(!0).trigger("onReset").remove(),a.coming=null;else{d&&(a.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());a.unbindEvents();
e=b.content;f=b.type;g=b.scrolling;c.extend(a,{wrap:b.wrap,skin:b.skin,outer:b.outer,inner:b.inner,current:b,previous:d});k=b.href;switch(f){case "inline":case "ajax":case "html":b.selector?e=c("<div>").html(e).find(b.selector):n(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",c('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),b.wrap.bind("onReset",function(){c(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":e=b.tpl.image.replace("{href}",k);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+k+'"></param>',m="",c.each(b.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';m+=" "+a+'="'+b+'"'}),e+='<embed src="'+k+'" type="application/x-shockwave-flash" width="100%" height="100%"'+m+"></embed></object>"}(!n(e)||!e.parent().is(b.inner))&&b.inner.append(e);a.trigger("beforeShow");
b.inner.css("overflow","yes"===g?"scroll":"no"===g?"hidden":g);a._setDimension();a.reposition();a.isOpen=!1;a.coming=null;a.bindEvents();if(a.isOpened){if(d.prevMethod)a.transitions[d.prevMethod]()}else c(".fancybox-wrap").not(b.wrap).stop(!0).trigger("onReset").remove();a.transitions[a.isOpened?b.nextMethod:b.openMethod]();a._preloadImages()}},_setDimension:function(){var b=a.getViewport(),d=0,e=!1,f=!1,e=a.wrap,g=a.skin,k=a.inner,n=a.current,f=n.width,m=n.height,l=n.minWidth,r=n.minHeight,t=n.maxWidth,
D=n.maxHeight,R=n.scrolling,M=n.scrollOutside?n.scrollbarWidth:0,H=n.margin,G=q(H[1]+H[3]),z=q(H[0]+H[2]),T,N,J,v,F,B,I,O,Q;e.add(g).add(k).width("auto").height("auto").removeClass("fancybox-tmp");H=q(g.outerWidth(!0)-g.width());T=q(g.outerHeight(!0)-g.height());N=G+H;J=z+T;v=u(f)?(b.w-N)*q(f)/100:f;F=u(m)?(b.h-J)*q(m)/100:m;if("iframe"===n.type){if(Q=n.content,n.autoHeight&&1===Q.data("ready"))try{Q[0].contentWindow.document.location&&(k.width(v).height(9999),B=Q.contents().find("body"),M&&B.css("overflow-x",
"hidden"),F=B.height())}catch(fa){}}else if(n.autoWidth||n.autoHeight)k.addClass("fancybox-tmp"),n.autoWidth||k.width(v),n.autoHeight||k.height(F),n.autoWidth&&(v=k.width()),n.autoHeight&&(F=k.height()),k.removeClass("fancybox-tmp");f=q(v);m=q(F);O=v/F;l=q(u(l)?q(l,"w")-N:l);t=q(u(t)?q(t,"w")-N:t);r=q(u(r)?q(r,"h")-J:r);D=q(u(D)?q(D,"h")-J:D);B=t;I=D;n.fitToView&&(t=Math.min(b.w-N,t),D=Math.min(b.h-J,D));N=b.w-G;z=b.h-z;n.aspectRatio?(f>t&&(f=t,m=q(f/O)),m>D&&(m=D,f=q(m*O)),f<l&&(f=l,m=q(f/O)),m<
r&&(m=r,f=q(m*O))):(f=Math.max(l,Math.min(f,t)),n.autoHeight&&"iframe"!==n.type&&(k.width(f),m=k.height()),m=Math.max(r,Math.min(m,D)));if(n.fitToView)if(k.width(f).height(m),e.width(f+H),b=e.width(),G=e.height(),n.aspectRatio)for(;(b>N||G>z)&&(f>l&&m>r)&&!(19<d++);)m=Math.max(r,Math.min(D,m-10)),f=q(m*O),f<l&&(f=l,m=q(f/O)),f>t&&(f=t,m=q(f/O)),k.width(f).height(m),e.width(f+H),b=e.width(),G=e.height();else f=Math.max(l,Math.min(f,f-(b-N))),m=Math.max(r,Math.min(m,m-(G-z)));M&&("auto"===R&&m<F&&f+
H+M<N)&&(f+=M);k.width(f).height(m);e.width(f+H);b=e.width();G=e.height();e=(b>N||G>z)&&f>l&&m>r;f=n.aspectRatio?f<B&&m<I&&f<v&&m<F:(f<B||m<I)&&(f<v||m<F);c.extend(n,{dim:{width:x(b),height:x(G)},origWidth:v,origHeight:F,canShrink:e,canExpand:f,wPadding:H,hPadding:T,wrapSpace:G-g.outerHeight(!0),skinSpace:g.height()-m});!Q&&(n.autoHeight&&m>r&&m<D&&!f)&&k.height("auto")},_getPosition:function(b){var d=a.current,c=a.getViewport(),e=d.margin,f=a.wrap.width()+e[1]+e[3],g=a.wrap.height()+e[0]+e[2],e=
{position:"absolute",top:e[0],left:e[3]};d.autoCenter&&d.fixed&&!b&&g<=c.h&&f<=c.w?e.position="fixed":d.locked||(e.top+=c.y,e.left+=c.x);e.top=x(Math.max(e.top,e.top+(c.h-g)*d.topRatio));e.left=x(Math.max(e.left,e.left+(c.w-f)*d.leftRatio));return e},_afterZoomIn:function(){var b=a.current;b&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(b.closeClick||b.nextClick&&1<a.group.length)&&a.inner.css("cursor","pointer").bind("click.fb",function(d){!c(d.target).is("a")&&
!c(d.target).parent().is("a")&&(d.preventDefault(),a[b.closeClick?"close":"next"]())}),b.closeBtn&&c(b.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(b){b.preventDefault();a.close()}),b.arrows&&1<a.group.length&&((b.loop||0<b.index)&&c(b.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(b.loop||b.index<a.group.length-1)&&c(b.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),!b.loop&&b.index===b.group.length-1?a.play(!1):a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=
!1,a.play()))},_afterZoomOut:function(b){b=b||a.current;c(".fancybox-wrap").trigger("onReset").remove();c.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});a.trigger("afterClose",b)}});a.transitions={getOrigPosition:function(){var b=a.current,d=b.element,c=b.orig,e={},f=50,g=50,k=b.hPadding,m=b.wPadding,l=a.getViewport();!c&&(b.isDom&&d.is(":visible"))&&(c=d.find("img:first"),c.length||(c=d));n(c)?(e=c.offset(),
c.is("img")&&(f=c.outerWidth(),g=c.outerHeight())):(e.top=l.y+(l.h-g)*b.topRatio,e.left=l.x+(l.w-f)*b.leftRatio);if("fixed"===a.wrap.css("position")||b.locked)e.top-=l.y,e.left-=l.x;return e={top:x(e.top-k*b.topRatio),left:x(e.left-m*b.leftRatio),width:x(f+m),height:x(g+k)}},step:function(b,d){var c,e,f=d.prop;e=a.current;var g=e.wrapSpace,k=e.skinSpace;if("width"===f||"height"===f)c=d.end===d.start?1:(b-d.start)/(d.end-d.start),a.isClosing&&(c=1-c),e="width"===f?e.wPadding:e.hPadding,e=b-e,a.skin[f](q("width"===
f?e:e-g*c)),a.inner[f](q("width"===f?e:e-g*c-k*c))},zoomIn:function(){var b=a.current,d=b.pos,e=b.openEffect,f="elastic"===e,g=c.extend({opacity:1},d);delete g.position;f?(d=this.getOrigPosition(),b.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);a.wrap.css(d).animate(g,{duration:"none"===e?0:b.openSpeed,easing:b.openEasing,step:f?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var b=a.current,d=b.closeEffect,c="elastic"===d,e={opacity:0.1};c&&(e=this.getOrigPosition(),b.closeOpacity&&
(e.opacity=0.1));a.wrap.animate(e,{duration:"none"===d?0:b.closeSpeed,easing:b.closeEasing,step:c?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var b=a.current,d=b.nextEffect,c=b.pos,e={opacity:1},f=a.direction,g;c.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(c[g]=x(q(c[g])-200),e[g]="+=200px"):(c[g]=x(q(c[g])+200),e[g]="-=200px"));"none"===d?a._afterZoomIn():a.wrap.css(c).animate(e,{duration:b.nextSpeed,easing:b.nextEasing,complete:a._afterZoomIn})},
changeOut:function(){var b=a.previous,d=b.prevEffect,e={opacity:0.1},f=a.direction;"elastic"===d&&(e["down"===f||"up"===f?"top":"left"]=("up"===f||"left"===f?"-":"+")+"=200px");b.wrap.animate(e,{duration:"none"===d?0:b.prevSpeed,easing:b.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}};a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!r,fixed:!0},overlay:null,fixed:!1,create:function(b){b=c.extend({},this.defaults,b);this.overlay&&this.close();
this.overlay=c('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=!1;b.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(b){var e=this;b=c.extend({},this.defaults,b);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(b);this.fixed||(d.bind("resize.overlay",c.proxy(this.update,this)),this.update());b.closeClick&&this.overlay.bind("click.overlay",function(b){c(b.target).hasClass("fancybox-overlay")&&
(a.isActive?a.close():e.close())});this.overlay.css(b.css).show()},close:function(){c(".fancybox-overlay").remove();d.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(c("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");k?(b=Math.max(g.documentElement.offsetWidth,g.body.offsetWidth),e.width()>b&&(a=e.width())):e.width()>d.width()&&(a=e.width());this.overlay.width(a).height(e.height())},
onReady:function(a,b){c(".fancybox-overlay").stop(!0,!0);this.overlay||(this.margin=e.height()>d.height()||"scroll"===c("body").css("overflow-y")?c("body").css("margin-right"):!1,this.el=g.all&&!g.querySelector?c("html"):c("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&c("body").css("margin-right",q(this.margin)+
b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(b){this.overlay&&!a.isActive&&this.overlay.fadeOut(b.speedOut,c.proxy(this.close,this))}};a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(b){var d=a.current,e=d.title,f=b.type;c.isFunction(e)&&(e=e.call(d.element,d));if(m(e)&&""!==c.trim(e)){d=c('<div class="fancybox-title fancybox-title-'+f+'-wrap">'+e+"</div>");switch(f){case "inside":f=a.skin;break;case "outside":f=
a.wrap;break;case "over":f=a.inner;break;default:f=a.skin,d.appendTo("body"),k&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(q(d.css("margin-bottom")))}d["top"===b.position?"prependTo":"appendTo"](f)}}};c.fn.fancybox=function(b){var d,f=c(this),g=this.selector||"",k=function(e){var k=c(this).blur(),n=d,m,l;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey)&&!k.is(".fancybox-wrap")&&(m=b.groupAttr||"data-fancybox-group",l=k.attr(m),l||(m="rel",l=k.get(0)[m]),
l&&(""!==l&&"nofollow"!==l)&&(k=g.length?c(g):f,k=k.filter("["+m+'="'+l+'"]'),n=k.index(this)),b.index=n,!1!==a.open(k,b)&&e.preventDefault())};b=b||{};d=b.index||0;!g||!1===b.live?f.unbind("click.fb-start").bind("click.fb-start",k):e.undelegate(g,"click.fb-start").delegate(g+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};e.ready(function(){c.scrollbarWidth===b&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});c.support.fixedPosition===b&&(c.support.fixedPosition=function(){var a=c('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());c.extend(a.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")})})})(window,document,jQuery);
(function(f){function g(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),f(this).ajaxSubmit(b))}function c(a){var b=a.target,d=f(b);if(!d.is(":submit,input:image")){b=d.closest(":submit");if(0===b.length)return;b=b[0]}var c=this;c.clk=b;"image"==b.type&&(void 0!==a.offsetX?(c.clk_x=a.offsetX,c.clk_y=a.offsetY):"function"==typeof f.fn.offset?(d=d.offset(),c.clk_x=a.pageX-d.left,c.clk_y=a.pageY-d.top):(c.clk_x=a.pageX-b.offsetLeft,c.clk_y=a.pageY-b.offsetTop));setTimeout(function(){c.clk=
c.clk_x=c.clk_y=null},100)}function b(){if(f.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var d,e;d=void 0!==f("<input type='file'/>").get(0).files;e=void 0!==window.FormData;f.fn.ajaxSubmit=function(a){function c(a){a=f.param(a).split("&");var b=a.length,d={},e,h;for(e=0;e<b;e++)h=a[e].split("="),d[decodeURIComponent(h[0])]=decodeURIComponent(h[1]);
return d}function g(b){for(var d=new FormData,e=0;e<b.length;e++)d.append(b[e].name,b[e].value);if(a.extraData){b=c(a.extraData);for(var h in b)b.hasOwnProperty(h)&&d.append(h,b[h])}a.data=null;h=f.extend(!0,{},f.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:n||"POST"});a.uploadProgress&&(h.xhr=function(){var b=jQuery.ajaxSettings.xhr();b.upload&&(b.upload.onprogress=function(b){var d=0,c=b.loaded||b.position,e=b.total;b.lengthComputable&&(d=Math.ceil(100*(c/e)));a.uploadProgress(b,
c,e,d)});return b});h.data=null;var m=h.beforeSend;h.beforeSend=function(a,b){b.data=d;m&&m.call(this,a,b)};return f.ajax(h)}function r(d){function c(){function a(){try{var d=(q.contentWindow?q.contentWindow.document:q.contentDocument?q.contentDocument:q.document).readyState;b("state = "+d);d&&"uninitialized"==d.toLowerCase()&&setTimeout(a,50)}catch(c){b("Server abort: ",c," (",c.name,")"),e(F),A&&clearTimeout(A),A=void 0}}var d=u.attr("target"),g=u.attr("action");h.setAttribute("target",l);n||h.setAttribute("method",
"POST");g!=k.url&&h.setAttribute("action",k.url);!k.skipEncodingOverride&&(!n||/post/i.test(n))&&u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});k.timeout&&(A=setTimeout(function(){y=!0;e(v)},k.timeout));var m=[];try{if(k.extraData)for(var B in k.extraData)k.extraData.hasOwnProperty(B)&&(f.isPlainObject(k.extraData[B])&&k.extraData[B].hasOwnProperty("name")&&k.extraData[B].hasOwnProperty("value")?m.push(f('<input type="hidden" name="'+k.extraData[B].name+'">').attr("value",
k.extraData[B].value).appendTo(h)[0]):m.push(f('<input type="hidden" name="'+B+'">').attr("value",k.extraData[B]).appendTo(h)[0]));k.iframeTarget||(r.appendTo("body"),q.attachEvent?q.attachEvent("onload",e):q.addEventListener("load",e,!1));setTimeout(a,15);h.submit()}finally{h.setAttribute("action",g),d?h.setAttribute("target",d):u.removeAttr("target"),f(m).remove()}}function e(a){if(!p.aborted&&!Q){try{I=q.contentWindow?q.contentWindow.document:q.contentDocument?q.contentDocument:q.document}catch(d){b("cannot access response document: ",
d),a=F}if(a===v&&p)p.abort("timeout"),J.reject(p,"timeout");else if(a==F&&p)p.abort("server abort"),J.reject(p,"error","server abort");else if(I&&I.location.href!=k.iframeSrc||y){q.detachEvent?q.detachEvent("onload",e):q.removeEventListener("load",e,!1);a="success";var c;try{if(y)throw"timeout";var h="xml"==k.dataType||I.XMLDocument||f.isXMLDoc(I);b("isXml="+h);if(!h&&(window.opera&&(null===I.body||!I.body.innerHTML))&&--O){b("requeing onLoad callback, DOM not available");setTimeout(e,250);return}var g=
I.body?I.body:I.documentElement;p.responseText=g?g.innerHTML:null;p.responseXML=I.XMLDocument?I.XMLDocument:I;h&&(k.dataType="xml");p.getResponseHeader=function(a){return{"content-type":k.dataType}[a]};g&&(p.status=Number(g.getAttribute("status"))||p.status,p.statusText=g.getAttribute("statusText")||p.statusText);var n=(k.dataType||"").toLowerCase(),l=/(json|script|text)/.test(n);if(l||k.textarea){var C=I.getElementsByTagName("textarea")[0];if(C)p.responseText=C.value,p.status=Number(C.getAttribute("status"))||
p.status,p.statusText=C.getAttribute("statusText")||p.statusText;else if(l){var x=I.getElementsByTagName("pre")[0],u=I.getElementsByTagName("body")[0];x?p.responseText=x.textContent?x.textContent:x.innerText:u&&(p.responseText=u.textContent?u.textContent:u.innerText)}}else"xml"==n&&(!p.responseXML&&p.responseText)&&(p.responseXML=fa(p.responseText));try{B=va(p,n,k)}catch(L){a="parsererror",p.error=c=L||a}}catch(w){b("error caught: ",w),a="error",p.error=c=w||a}p.aborted&&(b("upload aborted"),a=null);
p.status&&(a=200<=p.status&&300>p.status||304===p.status?"success":"error");"success"===a?(k.success&&k.success.call(k.context,B,"success",p),J.resolve(p.responseText,"success",p),m&&f.event.trigger("ajaxSuccess",[p,k])):a&&(void 0===c&&(c=p.statusText),k.error&&k.error.call(k.context,p,a,c),J.reject(p,"error",c),m&&f.event.trigger("ajaxError",[p,k,c]));m&&f.event.trigger("ajaxComplete",[p,k]);m&&!--f.active&&f.event.trigger("ajaxStop");k.complete&&k.complete.call(k.context,p,a);Q=!0;k.timeout&&clearTimeout(A);
setTimeout(function(){k.iframeTarget||r.remove();p.responseXML=null},100)}}}var h=u[0],g,k,m,l,r,q,p,w,y,A;w=!!f.fn.prop;var J=f.Deferred();if(f(":input[name=submit],:input[id=submit]",h).length)return alert('Error: Form elements must not have name or id of "submit".'),J.reject(),J;if(d)for(g=0;g<x.length;g++)d=f(x[g]),w?d.prop("disabled",!1):d.removeAttr("disabled");k=f.extend(!0,{},f.ajaxSettings,a);k.context=k.context||k;l="jqFormIO"+(new Date).getTime();k.iframeTarget?(r=f(k.iframeTarget),(d=
r.attr("name"))?l=d:r.attr("name",l)):(r=f('<iframe name="'+l+'" src="'+k.iframeSrc+'" />'),r.css({position:"absolute",top:"-1000px",left:"-1000px"}));q=r[0];p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var d="timeout"===a?"timeout":"aborted";b("aborting upload... "+d);this.aborted=1;if(q.contentWindow.document.execCommand)try{q.contentWindow.document.execCommand("Stop")}catch(c){}r.attr("src",
k.iframeSrc);p.error=d;k.error&&k.error.call(k.context,p,d,a);m&&f.event.trigger("ajaxError",[p,k,d]);k.complete&&k.complete.call(k.context,p,d)}};(m=k.global)&&0===f.active++&&f.event.trigger("ajaxStart");m&&f.event.trigger("ajaxSend",[p,k]);if(k.beforeSend&&!1===k.beforeSend.call(k.context,p,k))return k.global&&f.active--,J.reject(),J;if(p.aborted)return J.reject(),J;if(w=h.clk)if((d=w.name)&&!w.disabled)k.extraData=k.extraData||{},k.extraData[d]=w.value,"image"==w.type&&(k.extraData[d+".x"]=h.clk_x,
k.extraData[d+".y"]=h.clk_y);var v=1,F=2;w=f("meta[name=csrf-token]").attr("content");if((d=f("meta[name=csrf-param]").attr("content"))&&w)k.extraData=k.extraData||{},k.extraData[d]=w;k.forceSync?c():setTimeout(c,10);var B,I,O=50,Q,fa=f.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},la=f.parseJSON||function(a){return window.eval("("+
a+")")},va=function(a,b,d){var c=a.getResponseHeader("content-type")||"",e="xml"===b||!b&&0<=c.indexOf("xml");a=e?a.responseXML:a.responseText;e&&"parsererror"===a.documentElement.nodeName&&f.error&&f.error("parsererror");d&&d.dataFilter&&(a=d.dataFilter(a,b));"string"===typeof a&&("json"===b||!b&&0<=c.indexOf("json")?a=la(a):("script"===b||!b&&0<=c.indexOf("javascript"))&&f.globalEval(a));return a};return J}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;
var n,m,u=this;"function"==typeof a&&(a={success:a});n=this.attr("method");m=this.attr("action");(m=(m="string"===typeof m?f.trim(m):"")||window.location.href||"")&&(m=(m.match(/^([^#]+)/)||[])[1]);a=f.extend(!0,{url:m,success:f.ajaxSettings.success,type:n||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);m={};this.trigger("form-pre-serialize",[this,a,m]);if(m.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&
!1===a.beforeSerialize(this,a))return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var q=a.traditional;void 0===q&&(q=f.ajaxSettings.traditional);var x=[],h,p=this.formToArray(a.semantic,x);a.data&&(a.extraData=a.data,h=f.param(a.data,q));if(a.beforeSubmit&&!1===a.beforeSubmit(p,this,a))return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[p,this,a,m]);if(m.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;m=f.param(p,q);h&&(m=m?m+"&"+h:h);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+m,a.data=null):a.data=m;var y=[];a.resetForm&&y.push(function(){u.resetForm()});a.clearForm&&y.push(function(){u.clearForm(a.includeHidden)});if(!a.dataType&&a.target){var A=a.success||function(){};y.push(function(b){var d=a.replaceTarget?"replaceWith":"html";f(a.target)[d](b).each(A,arguments)})}else a.success&&y.push(a.success);a.success=function(b,d,c){for(var e=a.context||this,f=0,h=y.length;f<
h;f++)y[f].apply(e,[b,d,c||u,u])};h=0<f("input:file:enabled[value]",this).length;m="multipart/form-data"==u.attr("enctype")||"multipart/form-data"==u.attr("encoding");q=d&&e;b("fileAPI :"+q);var w;!1!==a.iframe&&(a.iframe||(h||m)&&!q)?a.closeKeepAlive?f.get(a.closeKeepAlive,function(){w=r(p)}):w=r(p):w=(h||m)&&q?g(p):f.ajax(a);u.removeData("jqxhr").data("jqxhr",w);for(h=0;h<x.length;h++)x[h]=null;this.trigger("form-submit-notify",[this,a]);return this};f.fn.ajaxForm=function(a){a=a||{};a.delegation=
a.delegation&&f.isFunction(f.fn.on);if(!a.delegation&&0===this.length){var d=this.selector,e=this.context;if(!f.isReady&&d)return b("DOM not ready, queuing ajaxForm"),f(function(){f(d,e).ajaxForm(a)}),this;b("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}return a.delegation?(f(document).off("submit.form-plugin",this.selector,g).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,a,g).on("click.form-plugin",this.selector,a,c),
this):this.ajaxFormUnbind().bind("submit.form-plugin",a,g).bind("click.form-plugin",a,c)};f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(a,b){var c=[];if(0===this.length)return c;var e=this[0],g=a?e.getElementsByTagName("*"):e.elements;if(!g)return c;var m,u,q,x,h,p;m=0;for(p=g.length;m<p;m++)if(h=g[m],q=h.name)if(a&&e.clk&&"image"==h.type)!h.disabled&&e.clk==h&&(c.push({name:q,value:f(h).val(),type:h.type}),c.push({name:q+".x",
value:e.clk_x},{name:q+".y",value:e.clk_y}));else if((x=f.fieldValue(h,!0))&&x.constructor==Array){b&&b.push(h);u=0;for(h=x.length;u<h;u++)c.push({name:q,value:x[u]})}else if(d&&"file"==h.type&&!h.disabled)if(b&&b.push(h),x=h.files,x.length)for(u=0;u<x.length;u++)c.push({name:q,value:x[u],type:h.type});else c.push({name:q,value:"",type:h.type});else null!==x&&"undefined"!=typeof x&&(b&&b.push(h),c.push({name:q,value:x,type:h.type,required:h.required}));if(!a&&e.clk&&(g=f(e.clk),m=g[0],(q=m.name)&&
!m.disabled&&"image"==m.type))c.push({name:q,value:g.val()}),c.push({name:q+".x",value:e.clk_x},{name:q+".y",value:e.clk_y});return c};f.fn.formSerialize=function(a){return f.param(this.formToArray(a))};f.fn.fieldSerialize=function(a){var b=[];this.each(function(){var d=this.name;if(d){var c=f.fieldValue(this,a);if(c&&c.constructor==Array)for(var e=0,g=c.length;e<g;e++)b.push({name:d,value:c[e]});else null!==c&&"undefined"!=typeof c&&b.push({name:this.name,value:c})}});return f.param(b)};f.fn.fieldValue=
function(a){for(var b=[],d=0,c=this.length;d<c;d++){var e=f.fieldValue(this[d],a);null===e||("undefined"==typeof e||e.constructor==Array&&!e.length)||(e.constructor==Array?f.merge(b,e):b.push(e))}return b};f.fieldValue=function(a,b){var d=a.name,c=a.type,e=a.tagName.toLowerCase();void 0===b&&(b=!0);if(b&&(!d||a.disabled||"reset"==c||"button"==c||("checkbox"==c||"radio"==c)&&!a.checked||("submit"==c||"image"==c)&&a.form&&a.form.clk!=a||"select"==e&&-1==a.selectedIndex))return null;if("select"==e){var g=
a.selectedIndex;if(0>g)return null;for(var d=[],e=a.options,u=(c="select-one"==c)?g+1:e.length,g=c?g:0;g<u;g++){var q=e[g];if(q.selected){var x=q.value;x||(x=q.attributes&&q.attributes.value&&!q.attributes.value.specified?q.text:q.value);if(c)return x;d.push(x)}}return d}return f(a).val()};f.fn.clearForm=function(a){return this.each(function(){f("input,select,textarea",this).clearFields(a)})};f.fn.clearFields=f.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
return this.each(function(){var d=this.type,c=this.tagName.toLowerCase();if(b.test(d)||"textarea"==c)this.value="";else if("checkbox"==d||"radio"==d)this.checked=!1;else if("select"==c)this.selectedIndex=-1;else if(a&&(!0===a&&/hidden/.test(d)||"string"==typeof a&&f(this).is(a)))this.value=""})};f.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};f.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=
!a})};f.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var b=this.type;"checkbox"==b||"radio"==b?this.checked=a:"option"==this.tagName.toLowerCase()&&(b=f(this).parent("select"),a&&(b[0]&&"select-one"==b[0].type)&&b.find("option").selected(!1),this.selected=a)})};f.fn.ajaxSubmit.debug=!1})(jQuery);
(function(f){if("object"==typeof exports)f(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],f);else{if(!window.Spinner)throw Error("Spin.js not present");f(window.jQuery,window.Spinner)}})(function(f,g){f.fn.spin=function(c,b){return this.each(function(){var d=f(this),e=d.data();e.spinner&&(e.spinner.stop(),delete e.spinner);!1!==c&&(c=f.extend({color:b||d.css("color")},f.fn.spin.presets[c]||c),e.spinner=(new g(c)).spin(this))})};f.fn.spin.presets=
{tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});(function(f){function g(d){if(d){if("string"==typeof b[d])return d;d=d.charAt(0).toUpperCase()+d.slice(1);for(var e,a=0,f=c.length;f>a;a++)if(e=c[a]+d,"string"==typeof b[e])return e}}var c=["Webkit","Moz","ms","Ms","O"],b=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return g}):f.getStyleProperty=g})(window);
(function(f){function g(a){var b=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(b)&&b}function c(b){var c,f=b("boxSizing");return function(){if(f){var a=document.createElement("div");a.style.width="200px";a.style.padding="1px 2px 3px 4px";a.style.borderStyle="solid";a.style.borderWidth="1px 2px 3px 4px";a.style[f]="border-box";var b=document.body||document.documentElement;b.appendChild(a);var d=e(a);c=200===g(d.width);b.removeChild(a)}}(),function(b){if("string"==typeof b&&(b=document.querySelector(b)),
b&&"object"==typeof b&&b.nodeType){var k=e(b);if("none"===k.display){for(var u={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},k=0,q=a.length;q>k;k++)u[a[k]]=0;return u}u={};u.width=b.offsetWidth;u.height=b.offsetHeight;for(var q=u.isBorderBox=!(!f||!k[f]||"border-box"!==k[f]),x=0,h=a.length;h>x;x++){var p=a[x],y=k[p];var A=b,w=y;if(d||-1===w.indexOf("%"))y=w;else var y=A.style,K=y.left,E=A.runtimeStyle,P=E&&E.left,y=(P&&(E.left=A.currentStyle.left),y.left=w,w=y.pixelLeft,
y.left=K,P&&(E.left=P),w);A=parseFloat(y);u[p]=isNaN(A)?0:A}b=u.paddingLeft+u.paddingRight;x=u.paddingTop+u.paddingBottom;h=u.marginLeft+u.marginRight;p=u.marginTop+u.marginBottom;A=u.borderLeftWidth+u.borderRightWidth;w=u.borderTopWidth+u.borderBottomWidth;q=q&&c;y=g(k.width);!1!==y&&(u.width=y+(q?0:b+A));k=g(k.height);return!1!==k&&(u.height=k+(q?0:x+w)),u.innerWidth=u.width-(b+A),u.innerHeight=u.height-(x+w),u.outerWidth=u.width+h,u.outerHeight=u.height+p,u}}}var b=document.defaultView,d=b&&b.getComputedStyle,
e=d?function(a){return b.getComputedStyle(a,null)}:function(a){return a.currentStyle},a="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],c):f.getSize=c(f.getStyleProperty)})(window);
(function(f){var g=document.documentElement,c=function(){};g.addEventListener?c=function(b,c,a){b.addEventListener(c,a,!1)}:g.attachEvent&&(c=function(b,c,a){b[c+a]=a.handleEvent?function(){var b=f.event;b.target=b.target||b.srcElement;a.handleEvent.call(a,b)}:function(){var c=f.event;c.target=c.target||c.srcElement;a.call(b,c)};b.attachEvent("on"+c,b[c+a])});var b=function(){};g.removeEventListener?b=function(b,c,a){b.removeEventListener(c,a,!1)}:g.detachEvent&&(b=function(b,c,a){b.detachEvent("on"+
c,b[c+a]);try{delete b[c+a]}catch(f){b[c+a]=void 0}});g={bind:c,unbind:b};"function"==typeof define&&define.amd?define(g):f.eventie=g})(this);
(function(f){function g(a){"function"==typeof a&&(g.isReady?a():e.push(a))}function c(a){a="readystatechange"===a.type&&"complete"!==d.readyState;if(!g.isReady&&!a){g.isReady=!0;a=0;for(var b=e.length;b>a;a++)(0,e[a])()}}function b(a){return a.bind(d,"DOMContentLoaded",c),a.bind(d,"readystatechange",c),a.bind(f,"load",c),g}var d=f.document,e=[];g.isReady=!1;"function"==typeof define&&define.amd?(g.isReady="function"==typeof requirejs,define(["eventie/eventie"],b)):f.docReady=b(f.eventie)})(this);
(function(){function f(){}function g(b,c){for(var a=b.length;a--;)if(b[a].listener===c)return a;return-1}function c(b){return function(){return this[b].apply(this,arguments)}}var b=f.prototype;b.getListeners=function(b){var c,a,f=this._getEvents();if("object"==typeof b)for(a in c={},f)f.hasOwnProperty(a)&&b.test(a)&&(c[a]=f[a]);else c=f[b]||(f[b]=[]);return c};b.flattenListeners=function(b){var c,a=[];for(c=0;b.length>c;c+=1)a.push(b[c].listener);return a};b.getListenersAsObject=function(b){var c,
a=this.getListeners(b);return a instanceof Array&&(c={},c[b]=a),c||a};b.addListener=function(b,c){var a,f=this.getListenersAsObject(b),l="object"==typeof c;for(a in f)f.hasOwnProperty(a)&&-1===g(f[a],c)&&f[a].push(l?c:{listener:c,once:!1});return this};b.on=c("addListener");b.addOnceListener=function(b,c){return this.addListener(b,{listener:c,once:!0})};b.once=c("addOnceListener");b.defineEvent=function(b){return this.getListeners(b),this};b.defineEvents=function(b){for(var c=0;b.length>c;c+=1)this.defineEvent(b[c]);
return this};b.removeListener=function(b,c){var a,f,l=this.getListenersAsObject(b);for(f in l)l.hasOwnProperty(f)&&(a=g(l[f],c),-1!==a&&l[f].splice(a,1));return this};b.off=c("removeListener");b.addListeners=function(b,c){return this.manipulateListeners(!1,b,c)};b.removeListeners=function(b,c){return this.manipulateListeners(!0,b,c)};b.manipulateListeners=function(b,c,a){var f,g,r=b?this.removeListener:this.addListener;b=b?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof
RegExp)for(f=a.length;f--;)r.call(this,c,a[f]);else for(f in c)c.hasOwnProperty(f)&&(g=c[f])&&("function"==typeof g?r.call(this,f,g):b.call(this,f,g));return this};b.removeEvent=function(b){var c,a=typeof b,f=this._getEvents();if("string"===a)delete f[b];else if("object"===a)for(c in f)f.hasOwnProperty(c)&&b.test(c)&&delete f[c];else delete this._events;return this};b.removeAllListeners=c("removeEvent");b.emitEvent=function(b,c){var a,f,g,r,n=this.getListenersAsObject(b);for(g in n)if(n.hasOwnProperty(g))for(f=
n[g].length;f--;)a=n[g][f],!0===a.once&&this.removeListener(b,a.listener),r=a.listener.apply(this,c||[]),r===this._getOnceReturnValue()&&this.removeListener(b,a.listener);return this};b.trigger=c("emitEvent");b.emit=function(b){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,c)};b.setOnceReturnValue=function(b){return this._onceReturnValue=b,this};b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};b._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof module&&module.exports?module.exports=f:this.EventEmitter=f}).call(this);
(function(f){function g(){}function c(c){function e(a){a.prototype.option||(a.prototype.option=function(a){c.isPlainObject(a)&&(this.options=c.extend(!0,this.options,a))})}function a(a,e){c.fn[a]=function(g){if("string"==typeof g){for(var m=b.call(arguments,1),u=0,q=this.length;q>u;u++){var x=c.data(this[u],a);if(x)if(c.isFunction(x[g])&&"_"!==g.charAt(0)){if(x=x[g].apply(x,m),void 0!==x)return x}else f("no such method '"+g+"' for "+a+" instance");else f("cannot call methods on "+a+" prior to initialization; attempted to call '"+
g+"'")}return this}return this.each(function(){var b=c.data(this,a);b?(b.option(g),b._init()):(b=new e(this,g),c.data(this,a,b))})}}if(c){var f="undefined"==typeof console?g:function(a){console.error(a)};c.bridget=function(b,c){e(c);a(b,c)}}}var b=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],c):c(f.jQuery)})(window);
(function(f,g){function c(b,c){return b[a](c)}function b(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);for(var c=a.parentNode.querySelectorAll(b),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1}function d(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);return c(a,b)}var e,a=function(){if(g.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],b=0,c=a.length;c>b;b++){var d=a[b]+"MatchesSelector";if(g[d])return d}}();if(a){var k=document.createElement("div");
e=c(k,"div")?c:d}else e=b;"function"==typeof define&&define.amd?define(function(){return e}):window.matchesSelector=e})(this,Element.prototype);
(function(f){function g(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function b(a,b,d){function f(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var n=d("transition"),m=d("transform"),u=n&&m,q=!!d("perspective"),x={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[n],h=["transform","transition","transitionDuration","transitionProperty"],
p=function(){for(var a={},b=0,c=h.length;c>b;b++){var e=h[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();g(f.prototype,a.prototype);f.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};f.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)};f.prototype.getSize=function(){this.size=b(this.element)};f.prototype.css=function(a){var b=this.element.style,c;for(c in a)b[p[c]||c]=a[c]};f.prototype.getPosition=function(){var a=
e(this.element),b=this.layout.options,c=b.isOriginLeft,b=b.isOriginTop,d=parseInt(a[c?"left":"right"],10),a=parseInt(a[b?"top":"bottom"],10),d=isNaN(d)?0:d,a=isNaN(a)?0:a,f=this.layout.size,d=d-(c?f.paddingLeft:f.paddingRight),a=a-(b?f.paddingTop:f.paddingBottom);this.position.x=d;this.position.y=a};f.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",
c.left="");b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top="");this.css(c);this.emitEvent("layout",[this])};var y=q?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};f.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),e=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),e&&!this.isTransitioning)return this.layoutPosition(),
void 0;c=a-c;d=b-d;e={};f=this.layout.options;c=f.isOriginLeft?c:-c;d=f.isOriginTop?d:-d;e.transform=y(c,d);this.transition({to:e,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};f.prototype.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};f.prototype.moveTo=u?f.prototype._transitionTo:f.prototype.goTo;f.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};f.prototype._nonTransition=function(a){this.css(a.to);a.isCleaning&&
this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};f.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(a),void 0;var b=this._transition,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0};var A=m&&c(m)+",opacity";f.prototype.enableTransition=
function(){this.isTransitioning||(this.css({transitionProperty:A,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(x,this,!1))};f.prototype.transition=f.prototype[n?"_transition":"_nonTransition"];f.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};f.prototype.onotransitionend=function(a){this.ontransitionend(a)};var w={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};f.prototype.ontransitionend=function(a){if(a.target===
this.element){var b=this._transition,c=w[a.propertyName]||a.propertyName;delete b.ingProperties[c];var d;a:{for(d in b.ingProperties){d=!1;break a}d=!0}if(d&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd)b.onEnd[c].call(this),delete b.onEnd[c];this.emitEvent("transitionEnd",[this])}};f.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(x,this,!1);this.isTransitioning=!1};f.prototype._removeStyles=
function(a){var b={},c;for(c in a)b[c]="";this.css(b)};var K={transitionProperty:"",transitionDuration:""};return f.prototype.removeTransitionStyles=function(){this.css(K)},f.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])},f.prototype.remove=function(){if(!n||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0});this.hide()},f.prototype.reveal=
function(){delete this.isHidden;this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},f.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.css({display:"none"})}}})},f.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},f}
var d=document.defaultView,e=d&&d.getComputedStyle?function(a){return d.getComputedStyle(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],b):(f.Outlayer={},f.Outlayer.Item=b(f.EventEmitter,f.getSize,f.getStyleProperty))})(window);
(function(f){function g(a,b){for(var c in b)a[c]=b[c];return a}function c(a){var b=[];if("[object Array]"===n.call(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function b(a,b){var c=u(b,a);-1!==c&&b.splice(c,1)}function d(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function e(e,n,h,p,u,A){function w(b,c){if("string"==typeof b&&(b=a.querySelector(b)),!b||!m(b))return k&&k.error("Bad "+this.settings.namespace+
" element: "+b),void 0;this.element=b;this.options=g({},this.options);this.option(c);var d=++E;this.element.outlayerGUID=d;P[d]=this;this._create();this.options.isInitLayout&&this.layout()}function K(a,b){a.prototype[b]=g({},w.prototype[b])}var E=0,P={};return w.prototype.settings={namespace:"outlayer",item:A},w.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},
visibleStyle:{opacity:1,transform:"scale(1)"}},g(w.prototype,h.prototype),w.prototype.option=function(a){g(this.options,a)},w.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);g(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()},w.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},w.prototype._itemize=function(a){a=this._filterFindItemElements(a);for(var b=this.settings.item,c=[],
d=0,e=a.length;e>d;d++){var f=new b(a[d],this);c.push(f)}return c},w.prototype._filterFindItemElements=function(a){a=c(a);for(var b=this.options.itemSelector,d=[],e=0,f=a.length;f>e;e++){var g=a[e];if(m(g))if(b){u(g,b)&&d.push(g);for(var g=g.querySelectorAll(b),h=0,k=g.length;k>h;h++)d.push(g[h])}else d.push(g)}return d},w.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},w.prototype.layout=function(){this._resetLayout();this._manageStamps();
this.layoutItems(this.items,void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited);this._isLayoutInited=!0},w.prototype._init=w.prototype.layout,w.prototype._resetLayout=function(){this.getSize()},w.prototype.getSize=function(){this.size=p(this.element)},w.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):m(d)&&(c=d),this[a]=c?p(c)[b]:d):this[a]=0},w.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a);
this._layoutItems(a,b);this._postLayout()},w.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},w.prototype._layoutItems=function(a,b){if(!a||!a.length)return this.emitEvent("layoutComplete",[this,a]),void 0;this._itemsOn(a,"layout",function(){this.emitEvent("layoutComplete",[this,a])});for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f;g.isInstant=b;c.push(g)}this._processLayoutQueue(c)},
w.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},w.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},w.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},w.prototype._postLayout=function(){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))},w.prototype._getContainerSize=r,w.prototype._setContainerMeasure=function(a,b){if(void 0!==
a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}},w.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,k=a.length;k>h;h++)a[h].on(b,d)},w.prototype.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)},w.prototype.unignore=function(a){(a=this.getItem(a))&&
delete a.isIgnored},w.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++)this.ignore(a[b])}},w.prototype.unstamp=function(a){if(a=this._find(a))for(var c=0,d=a.length;d>c;c++){var e=a[c];b(e,this.stamps);this.unignore(e)}},w.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),c(a)):void 0},w.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=
0,b=this.stamps.length;b>a;a++)this._manageStamp(this.stamps[a])}},w.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},w.prototype._manageStamp=r,w.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect;a=p(a);
return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}},w.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},w.prototype.bindResize=function(){this.isResizeBound||(e.bind(f,"resize",this),this.isResizeBound=!0)},w.prototype.unbindResize=function(){e.unbind(f,"resize",this);this.isResizeBound=!1},w.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;
this.resizeTimeout=setTimeout(function(){a.resize();delete a.resizeTimeout},100)},w.prototype.resize=function(){var a=p(this.element);this.size&&a&&a.innerWidth===this.size.innerWidth||this.layout()},w.prototype.addItems=function(a){a=this._itemize(a);return a.length&&(this.items=this.items.concat(a)),a},w.prototype.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))},w.prototype.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);
this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}},w.prototype.reveal=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].reveal()},w.prototype.hide=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].hide()},w.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},w.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>
c;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b}},w.prototype.remove=function(a){a=c(a);var d=this.getItems(a);if(d&&d.length){this._itemsOn(d,"remove",function(){this.emitEvent("removeComplete",[this,d])});a=0;for(var e=d.length;e>a;a++){var f=d[a];f.remove();b(f,this.items)}}},w.prototype.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";for(var a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.unbindResize();delete this.element.outlayerGUID;l&&l.removeData(this.element,
this.settings.namespace)},w.data=function(a){return(a=a&&a.outlayerGUID)&&P[a]},w.create=function(b,c){function e(){w.apply(this,arguments)}return g(e.prototype,w.prototype),K(e,"options"),K(e,"settings"),g(e.prototype.options,c),e.prototype.settings.namespace=b,e.data=w.data,e.Item=function(){A.apply(this,arguments)},e.Item.prototype=new A,e.prototype.settings.item=e.Item,n(function(){for(var c=d(b),f=a.querySelectorAll(".js-"+c),c="data-"+c+"-options",g=0,h=f.length;h>g;g++){var n,m=f[g],q=m.getAttribute(c);
try{n=q&&JSON.parse(q)}catch(p){k&&k.error("Error parsing "+c+" on "+m.nodeName.toLowerCase()+(m.id?"#"+m.id:"")+": "+p);continue}q=new e(m,n);l&&l.data(m,b,q)}}),l&&l.bridget&&l.bridget(b,e),e},w.Item=A,w}var a=f.document,k=f.console,l=f.jQuery,r=function(){},n=Object.prototype.toString,m="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},u=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:
function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("eventie/eventie doc-ready/doc-ready eventEmitter/EventEmitter get-size/get-size matches-selector/matches-selector ./item".split(" "),e):f.Outlayer=e(f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)})(window);
(function(f){function g(b,d){var e=b.create("masonry");return e.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},e.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&d(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;
this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)},e.prototype.getContainerWidth=function(){var a=d(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=a&&a.innerWidth},e.prototype._getItemLayoutPosition=function(a){a.getSize();var b=Math.ceil(a.size.outerWidth/this.columnWidth),b=Math.min(b,this.cols),d=this._getColGroup(b),e=Math.min.apply(Math,d),b=c(d,e),f={x:this.columnWidth*b,y:e};a=e+a.size.outerHeight;d=this.cols+
1-d.length;for(e=0;d>e;e++)this.colYs[b+e]=a;return f},e.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},e.prototype._manageStamp=function(a){var b=d(a);a=this._getElementOffset(a);var c=this.options.isOriginLeft?a.left:a.right,e=c+b.outerWidth,c=Math.floor(c/this.columnWidth),c=Math.max(0,c),e=Math.floor(e/this.columnWidth),e=Math.min(this.cols-1,e),b=(this.options.isOriginTop?
a.top:a.bottom)+b.outerHeight;for(a=c;e>=a;a++)this.colYs[a]=Math.max(b,this.colYs[a])},e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},e.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},e.prototype.resize=function(){var a=this.containerWidth;this.getContainerWidth();a!==
this.containerWidth&&this.layout()},e}var c=Array.prototype.indexOf?function(b,c){return b.indexOf(c)}:function(b,c){for(var e=0,a=b.length;a>e;e++)if(b[e]===c)return e;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],g):f.Masonry=g(f.Outlayer,f.getSize)})(window);!function(f){"undefined"==typeof f.fn.each2&&f.extend(f.fn,{each2:function(g){for(var c=f([0]),b=-1,d=this.length;++b<d&&(c.context=c[0]=this[b])&&!1!==g.call(c[0],b,c););return this}})}(jQuery);
(function(f,g){function c(a){var b,c,d,e;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;d>c;c++)e=a.charAt(c),b+=J[e]||e;return b}function b(a,b){for(var c=0,d=b.length;d>c;c+=1)if(e(a,b[c]))return c;return-1}function d(){var a=f(N);a.appendTo("body");var b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),b}function e(a,b){return a===b?!0:a===g||b===g?!1:null===a||null===b?!1:a.constructor===String?a+""==b+"":b.constructor===String?b+""==a+"":!1}function a(a,
b){var c,d,e;if(null===a||1>a.length)return[];c=a.split(b);d=0;for(e=c.length;e>d;d+=1)c[d]=f.trim(c[d]);return c}function k(a){a.on("keydown",function(){f.data(a,"keyup-change-value")===g&&f.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var b=f.data(a,"keyup-change-value");b!==g&&a.val()!==b&&(f.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))})}function l(a){a.on("mousemove",function(a){var b=T;(b===g||b.x!==a.pageX||b.y!==a.pageY)&&f(a.target).trigger("mousemove-filtered",
a)})}function r(a,b,c){c=c||g;var d;return function(){var e=arguments;window.clearTimeout(d);d=window.setTimeout(function(){b.apply(c,e)},a)}}function n(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}}function m(a,c){var d=r(a,function(a){c.trigger("scroll-debounced",a)});c.on("scroll",function(a){0<=b(a.target,c.get())&&d(a)})}function u(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();a.is(":visible")&&c===document.activeElement&&
(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function q(a){a.preventDefault();a.stopPropagation()}function x(a,b,c){var d,e,g=[];(d=a.attr("class"))&&(d=""+d,f(d.split(" ")).each2(function(){0===this.indexOf("select2-")&&g.push(this)}));(d=b.attr("class"))&&(d=""+d,f(d.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(e=c(this),e&&g.push(e))}));a.attr("class",g.join(" "))}function h(a,b,d,e){var f=c(a.toUpperCase()).indexOf(c(b.toUpperCase()));
b=b.length;return 0>f?(d.push(e(a)),void 0):(d.push(e(a.substring(0,f))),d.push("<span class='select2-match'>"),d.push(e(a.substring(f,f+b))),d.push("</span>"),d.push(e(a.substring(f+b,a.length))),void 0)}function p(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function y(a){var b,c=null,d=a.quietMillis||100,e=a.url,h=this;return function(k){window.clearTimeout(b);b=window.setTimeout(function(){var b=
a.data,d=e,n=a.transport||f.fn.select2.ajaxDefaults.transport,m=f.extend({},f.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||g,dataType:a.dataType||"json"}),b=b?b.call(h,k.term,k.page,k.context):null,d="function"==typeof d?d.call(h,k.term,k.page,k.context):d;c&&c.abort();a.params&&(f.isFunction(a.params)?f.extend(m,a.params.call(h)):f.extend(m,a.params));f.extend(m,{url:d,dataType:a.dataType,data:b,success:function(b){b=a.results(b,k.page);k.callback(b)}});
c=n.call(h,m)},d)}}function A(a){var b,c,d=a,e=function(a){return""+a.text};f.isArray(d)&&(c=d,d={results:c});!1===f.isFunction(d)&&(c=d,d=function(){return c});a=d();return a.text&&(e=a.text,f.isFunction(e)||(b=a.text,e=function(a){return a[b]})),function(a){var b,c=a.term,g={results:[]};return""===c?(a.callback(d()),void 0):(b=function(d,g){var h,v;if(d=d[0],d.children){h={};for(v in d)d.hasOwnProperty(v)&&(h[v]=d[v]);h.children=[];f(d.children).each2(function(a,c){b(c,h.children)});(h.children.length||
a.matcher(c,e(h),d))&&g.push(h)}else a.matcher(c,e(d),d)&&g.push(d)},f(d().results).each2(function(a,c){b(c,g.results)}),a.callback(g),void 0)}}function w(a){var b=f.isFunction(a);return function(c){var d=c.term,e={results:[]};f(b?a():a).each(function(){var a=this.text!==g,b=a?this.text:this;(""===d||c.matcher(d,b))&&e.results.push(a?this:{id:this,text:this})});c.callback(e)}}function K(a,b){if(f.isFunction(a))return!0;if(!a)return!1;throw Error(b+" must be a function or a falsy value");}function E(a){return f.isFunction(a)?
a():a}function P(a){var b=0;return f.each(a,function(a,c){c.children?b+=P(c.children):b++}),b}function C(a,b,c,d){var f,h,k,n,m,p=a;h=!1;if(!d.createSearchChoice||!d.tokenSeparators||1>d.tokenSeparators.length)return g;for(;;){h=-1;k=0;for(n=d.tokenSeparators.length;n>k&&(m=d.tokenSeparators[k],h=a.indexOf(m),!(0<=h));k++);if(0>h)break;if(f=a.substring(0,h),a=a.substring(h+m.length),0<f.length&&(f=d.createSearchChoice.call(this,f,b),f!==g&&null!==f&&d.id(f)!==g&&null!==d.id(f))){h=!1;k=0;for(n=b.length;n>
k;k++)if(e(d.id(f),d.id(b[k]))){h=!0;break}h||c(f)}}return p!==a?a:void 0}function L(a,b){var c=function(){};return c.prototype=new a,c.prototype.constructor=c,c.prototype.parent=a.prototype,c.prototype=f.extend(c.prototype,b),c}if(window.Select2===g){var t,D,R,M,H,G,z,T={x:0,y:0};t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a.which?a.which:a){case t.LEFT:case t.RIGHT:case t.UP:case t.DOWN:return!0}return!1},
isControl:function(a){switch(a.which){case t.SHIFT:case t.CTRL:case t.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,112<=a&&123>=a}};var N="<div class='select2-measure-scrollbar'></div>",J={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A",
"\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C",
"\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E",
"\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H",
"\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L",
"\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N",
"\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O",
"\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",
"\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U",
"\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W",
"\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a",
"\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",
"\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e",
"\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g",
"\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i",
"\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m",
"\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o",
"\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q",
"\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t",
"\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u",
"\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y",
"\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};D=f(document);H=function(){var a=1;return function(){return a++}}();D.on("mousemove",function(a){T.x=a.pageX;T.y=a.pageY});D=L(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var b,c;this.opts=a=this.prepareOpts(a);
this.id=a.id;a.element.data("select2")!==g&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+H());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=n(function(){return a.element.closest("body")});x(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",
a.element.attr("style"));this.container.css(E(a.containerCss));this.container.addClass(E(a.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",q);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");x(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(E(a.dropdownCssClass));this.dropdown.data("select2",
this);this.dropdown.on("click",q);this.results=b=this.container.find(".select2-results");this.search=c=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",q);l(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));m(80,this.results);this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));f(this.container).on("change",
".select2-input",function(a){a.stopPropagation()});f(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});f.fn.mousewheel&&b.mousewheel(function(a,c,d,e){c=b.scrollTop();0<e&&0>=c-e?(b.scrollTop(0),q(a)):0>e&&b.get(0).scrollHeight-b.scrollTop()+e<=b.height()&&(b.scrollTop(b.get(0).scrollHeight-b.height()),q(a))});k(c);c.on("keyup-change input paste",this.bind(this.updateResults));c.on("focus",function(){c.addClass("select2-focused")});c.on("blur",function(){c.removeClass("select2-focused")});
this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<f(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});f.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var e=a.element.prop("disabled");e===g&&(e=!1);this.enable(!e);e=a.element.prop("readonly");
e===g&&(e=!1);this.readonly(e);z=z||d();this.autofocus=a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=g},destroy:function(){var a=this.opts.element,b=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);b!==g&&(b.container.remove(),b.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?
a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:e(a.attr("locked"),"locked")||e(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(b){var c,d,h,k,n=this;if(c=b.element,"select"===c.get(0).tagName.toLowerCase()&&(this.select=d=b.element),
d&&f.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in b)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),b=f.extend({},{populateResults:function(a,c,d){var e,h=this.opts.id;e=function(a,c,k){var m,p,q,l,B,u,r,x;a=b.sortResults(a,c,d);m=0;for(p=a.length;p>m;m+=1)q=a[m],B=!0===q.disabled,l=!B&&h(q)!==g,u=q.children&&0<q.children.length,r=f("<li></li>"),r.addClass("select2-results-dept-"+k),r.addClass("select2-result"),
r.addClass(l?"select2-result-selectable":"select2-result-unselectable"),B&&r.addClass("select2-disabled"),u&&r.addClass("select2-result-with-children"),r.addClass(n.opts.formatResultCssClass(q)),l=f(document.createElement("div")),l.addClass("select2-result-label"),B=b.formatResult(q,l,d,n.opts.escapeMarkup),B!==g&&l.html(B),r.append(l),u&&(x=f("<ul></ul>"),x.addClass("select2-result-sub"),e(q.children,x,k+1),r.append(x)),r.data("select2-data",q),c.append(r)};e(c,a,0)}},f.fn.select2.defaults,b),"function"!=
typeof b.id&&(h=b.id,b.id=function(a){return a[h]}),f.isArray(b.element.data("select2Tags"))){if("tags"in b)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+b.element.attr("id");b.tags=b.element.data("select2Tags")}if(d?(b.query=this.bind(function(a){var b,d,e,f={results:[],more:!1},h=a.term;e=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(n.optionToData(b)):b.is("optgroup")&&(d=n.optionToData(b),b.children().each2(function(a,b){e(b,d.children)}),
0<d.children.length&&c.push(d))};b=c.children();this.getPlaceholder()!==g&&0<b.length&&(d=this.getPlaceholderOption(),d&&(b=b.not(d)));b.each2(function(a,b){e(b,f.results)});a.callback(f)}),b.id=function(a){return a.id},b.formatResultCssClass=function(a){return a.css}):"query"in b||("ajax"in b?(k=b.element.data("ajax-url"),k&&0<k.length&&(b.ajax.url=k),b.query=y.call(b.element,b.ajax)):"data"in b?b.query=A(b.data):"tags"in b&&(b.query=w(b.tags),b.createSearchChoice===g&&(b.createSearchChoice=function(a){return{id:f.trim(a),
text:f.trim(a)}}),b.initSelection===g&&(b.initSelection=function(c,d){var g=[];f(a(c.val(),b.separator)).each(function(){var a={id:this,text:this},c=b.tags;f.isFunction(c)&&(c=c());f(c).each(function(){return e(this.id,a.id)?(a=this,!1):void 0});g.push(a)});d(g)}))),"function"!=typeof b.query)throw"query function not defined for Select2 "+b.element.attr("id");return b},monitorSource:function(){var a,b,c=this.opts.element;c.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));a=this.bind(function(){var a=c.prop("disabled");a===g&&(a=!1);this.enable(!a);a=c.prop("readonly");a===g&&(a=!1);this.readonly(a);x(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(E(this.opts.containerCssClass));x(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(E(this.opts.dropdownCssClass))});c.on("propertychange.select2",a);this.mutationCallback===g&&(this.mutationCallback=function(b){b.forEach(a)});
b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;b!==g&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new b(this.mutationCallback),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=f.Event("select2-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(a),!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=f.extend({},a,{type:"change",
val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",!a),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===
g&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){return a===g&&(a=!1),this._readonly===a?!1:(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a,b,c,d,e=this.dropdown,g=this.container.offset(),h=this.container.outerHeight(!1),k=this.container.outerWidth(!1),
n=e.outerHeight(!1),m=f(window),q=m.width(),p=m.height(),l=m.scrollLeft()+q,r=m.scrollTop()+p,u=g.top+h,x=g.left,r=r>=u+n,n=g.top-n>=this.body().scrollTop(),t=e.outerWidth(!1),w=l>=x+t;e.hasClass("select2-drop-above")?(b=!0,!n&&r&&(c=!0,b=!1)):(b=!1,!r&&n&&(c=!0,b=!0));c&&(e.hide(),g=this.container.offset(),h=this.container.outerHeight(!1),k=this.container.outerWidth(!1),e.outerHeight(!1),l=m.scrollLeft()+q,m.scrollTop(),u=g.top+h,x=g.left,t=e.outerWidth(!1),w=l>=x+t,e.show());this.opts.dropdownAutoWidth?
(d=f(".select2-results",e)[0],e.addClass("select2-drop-auto-width"),e.css("width",""),t=e.outerWidth(!1)+(d.scrollHeight===d.clientHeight?0:z.width),t>k?k=t:t=k,w=l>=x+t):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(a=this.body().offset(),u-=a.top,x-=a.left);w||(x=g.left+k-t);a={left:x,width:k};b?(a.bottom=p-g.top,a.top="auto",this.container.addClass("select2-drop-above"),e.addClass("select2-drop-above")):(a.top=u,a.bottom="auto",this.container.removeClass("select2-drop-above"),
e.removeClass("select2-drop-above"));a=f.extend(a,E(this.opts.dropdownCss));e.css(a)},shouldOpen:function(){var a;return this.opened()?!1:!1===this._enabled||!0===this._readonly?!1:(a=f.Event("select2-opening"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var a;a=this.containerId;
var b="scroll."+a,c="resize."+a,d="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());a=f("#select2-drop-mask");0==a.length&&(a=f(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body()),a.on("mousedown touchstart click",function(a){var b,
c=f("#select2-drop");0<c.length&&(b=c.data("select2"),b.opts.selectOnBlur&&b.selectHighlighted({noFocus:!0}),b.close({focus:!0}),a.preventDefault(),a.stopPropagation())}));this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a);f("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");a.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var e=this;this.container.parents().add(window).each(function(){f(this).on(c+
" "+b+" "+d,function(){e.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,b="scroll."+a,c="resize."+a,d="orientationchange."+a;this.container.parents().add(window).each(function(){f(this).off(b).off(c).off(d)});this.clearDropdownAlignmentPreference();f("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");
this.opts.element.trigger(f.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var a,b,c,d,e,g=this.results;if(b=this.highlight(),!(0>b)){if(0==b)return g.scrollTop(0),void 0;a=this.findHighlightableChoices().find(".select2-result-label");c=f(a[b]);d=c.offset().top+c.outerHeight(!0);b===a.length-1&&(e=g.find("li.select2-more-results"),
0<e.length&&(d=e.offset().top+e.outerHeight(!0)));a=g.offset().top+g.outerHeight(!0);d>a&&g.scrollTop(g.scrollTop()+(d-a));d=c.offset().top-g.offset().top;0>d&&"none"!=c.css("display")&&g.scrollTop(g.scrollTop()+d)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(a){for(var b=this.findHighlightableChoices(),c=this.highlight();-1<c&&c<b.length;){var c=c+a,d=f(b[c]);if(d.hasClass("select2-result-selectable")&&
!d.hasClass("select2-disabled")&&!d.hasClass("select2-selected")){this.highlight(c);break}}},highlight:function(a){var c,d,e=this.findHighlightableChoices();return 0===arguments.length?b(e.filter(".select2-highlighted")[0],e.get()):(a>=e.length&&(a=e.length-1),0>a&&(a=0),this.removeHighlight(),c=f(e[a]),c.addClass("select2-highlighted"),this.ensureHighlightVisible(),d=c.data("select2-data"),d&&this.opts.element.trigger({type:"select2-highlight",val:this.id(d),choice:d}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},
countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){a=f(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.findHighlightableChoices();this.highlight(b.index(a))}else 0==a.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-
b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:f,page:d,context:g}),e.postprocessResults(a,!1,!1),!0===a.more?(c.detach().appendTo(b).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,
this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(a){function b(){k.removeClass("select2-active");q.positionDropdown()}function c(a){n.html(a);b()}var d,h,k=this.search,n=this.results,m=this.opts,q=this,p=k.val(),l=f.data(this.container,"select2-last-term");if((!0===a||!l||!e(p,l))&&(f.data(this.container,"select2-last-term",p),!0===a||!1!==this.showSearchInput&&this.opened())){h=++this.queryCount;p=this.getMaximumSelectionSize();if(1<=
p&&(d=this.data(),f.isArray(d)&&d.length>=p&&K(m.formatSelectionTooBig,"formatSelectionTooBig")))return c("<li class='select2-selection-limit'>"+m.formatSelectionTooBig(p)+"</li>"),void 0;if(k.val().length<m.minimumInputLength)return K(m.formatInputTooShort,"formatInputTooShort")?c("<li class='select2-no-results'>"+m.formatInputTooShort(k.val(),m.minimumInputLength)+"</li>"):c(""),a&&this.showSearch&&this.showSearch(!0),void 0;if(m.maximumInputLength&&k.val().length>m.maximumInputLength)return K(m.formatInputTooLong,
"formatInputTooLong")?c("<li class='select2-no-results'>"+m.formatInputTooLong(k.val(),m.maximumInputLength)+"</li>"):c(""),void 0;m.formatSearching&&0===this.findHighlightableChoices().length&&c("<li class='select2-searching'>"+m.formatSearching()+"</li>");k.addClass("select2-active");this.removeHighlight();d=this.tokenize();d!=g&&null!=d&&k.val(d);this.resultsPage=1;m.query({element:m.element,term:k.val(),page:this.resultsPage,context:null,matcher:m.matcher,callback:this.bind(function(d){var p;
if(h==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=d.context===g?null:d.context,this.opts.createSearchChoice&&""!==k.val()&&(p=this.opts.createSearchChoice.call(q,k.val(),d.results),p!==g&&null!==p&&q.id(p)!==g&&null!==q.id(p)&&0===f(d.results).filter(function(){return e(q.id(this),q.id(p))}).length&&d.results.unshift(p)),0===d.results.length&&K(m.formatNoMatches,"formatNoMatches"))return c("<li class='select2-no-results'>"+m.formatNoMatches(k.val())+
"</li>"),void 0;n.empty();q.opts.populateResults.call(this,n,d.results,{term:k.val(),page:this.resultsPage,context:null});!0===d.more&&K(m.formatLoadMore,"formatLoadMore")&&(n.append("<li class='select2-more-results'>"+q.opts.escapeMarkup(m.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){q.loadMoreIfNeeded()},10));this.postprocessResults(d,a);b();this.opts.element.trigger({type:"select2-loaded",items:d})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&
this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,
a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==g?a.text():g)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==g)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);
if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,b,c,d,e,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(a=this.opts.element.attr("style"),a!==g){b=a.split(";");d=0;for(e=b.length;e>d;d+=1)if(h=b[d].replace(/\s/g,""),c=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
null!==c&&1<=c.length)return c[1]}return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return f.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==a&&this.container.css("width",a)}});R=L(D,{createContainer:function(){return f(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow'><b></b></span></a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,b,c;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();a=this.search.get(0);a.createTextRange?(b=a.createTextRange(),b.collapse(!1),b.select()):a.setSelectionRange&&(c=this.search.val().length,a.setSelectionRange(c,
c));""===this.search.val()&&this.nextSearchTerm!=g&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(f.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){f("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,b=this.container,c=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=b.find(".select2-choice");this.focusser=b.find(".select2-focusser");this.focusser.attr("id",
"s2id_autogen"+H());f("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===t.PAGE_UP||a.which===t.PAGE_DOWN)return q(a),void 0;switch(a.which){case t.UP:case t.DOWN:return this.moveHighlight(a.which===t.UP?-1:1),q(a),void 0;case t.ENTER:return this.selectHighlighted(),q(a),void 0;case t.TAB:return this.selectHighlighted({noFocus:!0}),
void 0;case t.ESC:return this.cancel(a),q(a),void 0}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==t.TAB&&!t.isControl(a)&&!t.isFunctionKey(a)&&a.which!==t.ESC)return!1===this.opts.openOnEnter&&a.which===t.ENTER?(q(a),void 0):a.which==t.DOWN||a.which==t.UP||a.which==t.ENTER&&this.opts.openOnEnter?a.altKey||
a.ctrlKey||a.shiftKey||a.metaKey?void 0:(this.open(),q(a),void 0):a.which==t.DELETE||a.which==t.BACKSPACE?(this.opts.allowClear&&this.clear(),q(a),void 0):void 0}));k(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&!(a.stopPropagation(),this.opened())&&this.open()}));a.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));
a.on("mousedown",this.bind(function(a){this.container.hasClass("select2-container-active")||this.opts.element.trigger(f.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();q(a)}));c.on("mousedown",this.bind(function(){this.search.focus()}));a.on("focus",this.bind(function(a){q(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(f.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",
this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(f.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(f.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var b=this.selection.data("select2-data");
if(b){var c=f.Event("select2-clearing");if(!(this.opts.element.trigger(c),c.isDefaultPrevented()))c=this.getPlaceholderOption(),this.opts.element.val(c?c.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();
else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==g&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==g&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===g||null===this.opts.element.val():!1},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;return"select"===a.element.get(0).tagName.toLowerCase()?
a.initSelection=function(a,c){var d=a.find("option").filter(function(){return this.selected});c(b.optionToData(d))}:"data"in a&&(a.initSelection=a.initSelection||function(b,c){var d=b.val(),g=null;a.query({matcher:function(b,c,f){b=e(d,a.id(f));return b&&(g=f),b},callback:f.isFunction(c)?function(){c(g)}:f.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===g?g:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();
this.isPlaceholderOptionSelected()&&a!==g&&!(this.select&&this.getPlaceholderOption()===g)&&(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var d=0,f=this;if(this.findHighlightableChoices().each2(function(a,b){return e(f.id(b.data("select2-data")),f.opts.element.val())?(d=a,!1):void 0}),!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0)),!0===
b)b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(P(a.results)>=b)},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),f(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));
this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();b&&b.noFocus||this.focusser.focus();e(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var b,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a);c.empty();null!==a&&(b=this.opts.formatSelection(a,c,this.opts.escapeMarkup));b!==g&&c.append(b);a=this.opts.formatSelectionCssClass(a,
c);a!==g&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==g&&this.container.addClass("select2-allowclear")},val:function(){var a,b=!1,c=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],1<arguments.length&&(b=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return c=d.optionToData(b),!1}),this.updateSelection(c),this.setPlaceholder(),
b&&this.triggerChange({added:c,removed:e});else{if(!a&&0!==a)return this.clear(b),void 0;if(this.opts.initSelection===g)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):"");d.updateSelection(a);d.setPlaceholder();b&&d.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;return 0===arguments.length?
(b=this.selection.data("select2-data"),b==g&&(b=null),b):(1<arguments.length&&(c=arguments[1]),a?(b=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),c&&this.triggerChange({added:a,removed:b})):this.clear(c),void 0)}});M=L(D,{createContainer:function(){return f(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){d.push(c.optionToData(b))});b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var g=a(c.val(),b.separator),h=[];b.query({matcher:function(a,c,d){a=f.grep(g,function(a){return e(a,b.id(d))}).length;return a&&h.push(d),a},callback:f.isFunction(d)?
function(){for(var a=[],c=0;c<g.length;c++)for(var f=g[c],k=0;k<h.length;k++){var m=h[k];if(e(f,b.id(m))){a.push(m);h.splice(k,1);break}}d(a)}:f.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){f("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var b=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){b.search[0].focus();b.selectChoice(f(this))});this.search.attr("id","s2id_autogen"+H());f("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(b){var c,d;if(this.isInterfaceEnabled()){++this.keydowns;var e=a.find(".select2-search-choice-focus"),g=e.prev(".select2-search-choice:not(.select2-locked)"),h=e.next(".select2-search-choice:not(.select2-locked)");c=this.search;c=f(c)[0];var k=0;d=0;"selectionStart"in
c?(k=c.selectionStart,d=c.selectionEnd-k):"selection"in document&&(c.focus(),k=document.selection.createRange(),d=document.selection.createRange().text.length,k.moveStart("character",-c.value.length),k=k.text.length-d);c=k;if(e.length&&(b.which==t.LEFT||b.which==t.RIGHT||b.which==t.BACKSPACE||b.which==t.DELETE||b.which==t.ENTER))return d=e,b.which==t.LEFT&&g.length?d=g:b.which==t.RIGHT?d=h.length?h:null:b.which===t.BACKSPACE?(this.unselect(e.first()),this.search.width(10),d=g.length?g:h):b.which==
t.DELETE?(this.unselect(e.first()),this.search.width(10),d=h.length?h:null):b.which==t.ENTER&&(d=null),this.selectChoice(d),q(b),d&&d.length||this.open(),void 0;if((b.which===t.BACKSPACE&&1==this.keydowns||b.which==t.LEFT)&&0==c&&!d)return this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),q(b),void 0;if(this.selectChoice(null),this.opened())switch(b.which){case t.UP:case t.DOWN:return this.moveHighlight(b.which===t.UP?-1:1),q(b),void 0;case t.ENTER:return this.selectHighlighted(),
q(b),void 0;case t.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case t.ESC:return this.cancel(b),q(b),void 0}if(b.which!==t.TAB&&(!t.isControl(b)&&!t.isFunctionKey(b)&&b.which!==t.BACKSPACE&&b.which!==t.ESC)&&!(b.which===t.ENTER&&(!1===this.opts.openOnEnter||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)))this.open(),(b.which===t.PAGE_UP||b.which===t.PAGE_DOWN)&&q(b),b.which===t.ENTER&&q(b)}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));
this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();this.opts.element.trigger(f.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){this.isInterfaceEnabled()&&(0<f(a.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||
this.opts.element.trigger(f.Event("select2-focus")),this.open(),this.focusSearch(),a.preventDefault()))}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(f.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");
this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==g&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=
this.getPlaceholder(),b=this.getMaxSearchWidth();a!==g&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<b?b:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();
this.updateResults(!0);this.search.focus();this.opts.element.trigger(f.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var c=[],d=[],e=this;f(a).each(function(){0>b(e.id(this),c)&&(c.push(e.id(this)),d.push(this))});a=d;this.selection.find(".select2-search-choice").remove();f(a).each(function(){e.addSelectedChoice(this)});
e.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&a!=g&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):
0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b,c=!a.locked,d=f("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),
e=f("<li class='select2-search-choice select2-locked'><div></div></li>"),d=c?d:e,e=this.id(a),h=this.getVal();b=this.opts.formatSelection(a,d.find("div"),this.opts.escapeMarkup);b!=g&&d.find("div").replaceWith("<div>"+b+"</div>");b=this.opts.formatSelectionCssClass(a,d.find("div"));b!=g&&d.addClass(b);c&&d.find(".select2-search-choice-close").on("mousedown",q).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(f(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(f(a.target));
this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),q(a))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));d.data("select2-data",a);d.insertBefore(this.searchContainer);h.push(e);this.setVal(h)},unselect:function(a){var c,d=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length)throw"Invalid argument: "+
a+". Must be .select2-search-choice";if(a=a.data("select2-data")){for(;0<=(c=b(this.id(a),d));)d.splice(c,1),this.setVal(d),this.select&&this.postprocessResults();d=f.Event("select2-removing");d.val=this.id(a);d.choice=a;this.opts.element.trigger(d);d.isDefaultPrevented()||(this.opts.element.trigger({type:"select2-removed",val:this.id(a),choice:a}),this.triggerChange({removed:a}))}},postprocessResults:function(a,c,d){var e=this.getVal();c=this.results.find(".select2-result");var f=this.results.find(".select2-result-with-children"),
g=this;c.each2(function(a,c){var d=g.id(c.data("select2-data"));0<=b(d,e)&&(c.addClass("select2-selected"),c.find(".select2-result-selectable").addClass("select2-selected"))});f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")});-1==this.highlight()&&!1!==d&&g.highlight(0);!this.opts.createSearchChoice&&0<!c.filter(".select2-result:not(.select2-selected)").length&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&
K(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+g.opts.formatNoMatches(g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-(this.search.outerWidth(!1)-this.search.width())},resizeSearch:function(){var a,b,c,d,e=this.search.outerWidth(!1)-this.search.width();a=this.search;G||(c=a[0].currentStyle||window.getComputedStyle(a[0],null),G=f(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",
display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),G.attr("class","select2-sizer"),f("body").append(G));a=(G.text(a.val()),G.width())+10;b=this.search.offset().left;c=this.selection.width();d=this.selection.offset().left;b=c-(b-d)-e;a>b&&(b=c-e);40>b&&(b=c-e);0>=b&&(b=a);this.search.width(Math.floor(b))},getVal:function(){var b;return this.select?(b=this.select.val(),
null===b?[]:b):(b=this.opts.element.val(),a(b,this.opts.separator))},setVal:function(a){var c;this.select?this.select.val(a):(c=[],f(a).each(function(){0>b(this,c)&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){b=b.slice(0);a=a.slice(0);for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++)e(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(a,b){var c,d=this;if(0===
arguments.length)return this.getVal();if(c=this.data(),c.length||(c=[]),!a&&0!==a)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),b&&this.triggerChange({added:this.data(),removed:c}),void 0;if(this.setVal(a),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),b&&this.triggerChange(this.buildChangeDetails(c,this.data()));else{if(this.opts.initSelection===g)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,
function(a){var e=f.map(a,d.id);d.setVal(e);d.updateSelection(a);d.clearSearch();b&&d.triggerChange(d.buildChangeDetails(c,d.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();
this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(f(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,b){var c,d,e=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return f(this).data("select2-data")}).get():(d=this.data(),a||(a=[]),c=f.map(a,function(a){return e.opts.id(a)}),this.setVal(c),this.updateSelection(a),this.clearSearch(),b&&this.triggerChange(this.buildChangeDetails(d,this.data())),
void 0)}});f.fn.select2=function(){var a,c,d,e,h,k=Array.prototype.slice.call(arguments,0),m="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),n=["opened","isFocused","container","dropdown"],p=["val","data"],q={search:"externalSearch"};return this.each(function(){if(0===k.length||"object"==typeof k[0])a=0===k.length?{}:f.extend({},k[0]),a.element=f(this),"select"===a.element.get(0).tagName.toLowerCase()?
h=a.element.prop("multiple"):(h=a.multiple||!1,"tags"in a&&(a.multiple=h=!0)),c=h?new M:new R,c.init(a);else{if("string"!=typeof k[0])throw"Invalid arguments to select2 plugin: "+k;if(0>b(k[0],m))throw"Unknown method: "+k[0];if(!(e=g,c=f(this).data("select2"),c===g))if(d=k[0],"container"===d?e=c.container:"dropdown"===d?e=c.dropdown:(q[d]&&(d=q[d]),e=c[d].apply(c,k.slice(1))),0<=b(k[0],n)||b(k[0],p)&&1==k.length)return!1}}),e===g?this:e};f.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,
openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];return h(a.text,c.term,b,d),b.join("")},formatSelection:function(a,b,c){return a?c(a.text):g},sortResults:function(a){return a},formatResultCssClass:function(){return g},formatSelectionCssClass:function(){return g},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,
b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=c(""+b).toUpperCase().indexOf(c(""+a).toUpperCase())},separator:",",tokenSeparators:[],
tokenizer:C,escapeMarkup:p,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return g}};f.fn.select2.ajaxDefaults={transport:f.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:y,local:A,tags:w},util:{debounce:r,markMatch:h,escapeMarkup:p,stripDiacritics:c},"class":{"abstract":D,single:R,multi:M}}}})(jQuery);
+function(f){var g=function(b,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",b,c)};g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};g.prototype.init=function(b,c,e){this.enabled=!0;this.type=b;this.$element=f(c);this.options=this.getOptions(e);b=this.options.trigger.split(" ");
for(c=b.length;c--;)if(e=b[c],"click"==e)this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this));else if("manual"!=e){var a="hover"==e?"mouseleave":"blur";this.$element.on(("hover"==e?"mouseenter":"focus")+"."+this.type,this.options.selector,f.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,f.proxy(this.leave,this))}this.options.selector?this._options=f.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};g.prototype.getDefaults=
function(){return g.DEFAULTS};g.prototype.getOptions=function(b){return b=f.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b};g.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&f.each(this._options,function(e,a){c[e]!=a&&(b[e]=a)}),b};g.prototype.enter=function(b){var c=b instanceof this.constructor?b:f(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)};g.prototype.leave=function(b){var c=b instanceof this.constructor?b:f(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)};
g.prototype.show=function(){var b=f.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(b),!b.isDefaultPrevented())){var c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");var b="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,a=e.test(b);a&&(b=b.replace(e,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(b);this.options.container?c.appendTo(this.options.container):
c.insertAfter(this.$element);var e=this.getPosition(),g=c[0].offsetWidth,l=c[0].offsetHeight;if(a){var r=this.$element.parent(),a=b,n=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:r.outerWidth(),u="body"==this.options.container?window.innerHeight:r.outerHeight(),r="body"==this.options.container?0:r.offset().left,b="bottom"==b&&e.top+e.height+l-n>u?"top":"top"==b&&0>e.top-n-l?"bottom":"right"==b&&e.right+g>m?"left":"left"==b&&e.left-
g<r?"right":b;c.removeClass(a).addClass(b)}c=this.getCalculatedOffset(b,e,g,l);this.applyPlacement(c,b);this.$element.trigger("shown.bs."+this.type)}};g.prototype.applyPlacement=function(b,c){var e,a=this.tip(),f=a[0].offsetWidth,g=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),n=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0);isNaN(n)&&(n=0);b.top+=r;b.left+=n;a.offset(b).addClass("in");r=a[0].offsetWidth;n=a[0].offsetHeight;"top"==c&&n!=g&&(e=!0,b.top=b.top+g-n);/bottom|top/.test(c)?(g=
0,0>b.left&&(g=-2*b.left,b.left=0,a.offset(b),r=a[0].offsetWidth),this.replaceArrow(g-f+r,r,"left")):this.replaceArrow(n-g,n,"top");e&&a.offset(b)};g.prototype.replaceArrow=function(b,c,e){this.arrow().css(e,b?50*(1-b/c)+"%":"")};g.prototype.setContent=function(){var b=this.tip(),c=this.getTitle();b.find(".tooltip-inner")[this.options.html?"html":"text"](c);b.removeClass("fade in top bottom left right")};g.prototype.hide=function(){function b(){"in"!=c.hoverState&&e.detach()}var c=this,e=this.tip(),
a=f.Event("hide.bs."+this.type);this.$element.trigger(a);if(!a.isDefaultPrevented())return e.removeClass("in"),f.support.transition&&this.$tip.hasClass("fade")?e.one(f.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this};g.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")};g.prototype.hasContent=function(){return this.getTitle()};
g.prototype.getPosition=function(){var b=this.$element[0];return f.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())};g.prototype.getCalculatedOffset=function(b,c,e,a){return"bottom"==b?{top:c.top+c.height,left:c.left+c.width/2-e/2}:"top"==b?{top:c.top-a,left:c.left+c.width/2-e/2}:"left"==b?{top:c.top+c.height/2-a/2,left:c.left-e}:{top:c.top+c.height/2-a/2,left:c.left+c.width}};g.prototype.getTitle=function(){var b,
c=this.$element,e=this.options;return b=c.attr("data-original-title")||("function"==typeof e.title?e.title.call(c[0]):e.title),b};g.prototype.tip=function(){return this.$tip=this.$tip||f(this.options.template)};g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};g.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};g.prototype.enable=function(){this.enabled=!0};g.prototype.disable=function(){this.enabled=
!1};g.prototype.toggleEnabled=function(){this.enabled=!this.enabled};g.prototype.toggle=function(b){b=b?f(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;b.tip().hasClass("in")?b.leave(b):b.enter(b)};g.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=f.fn.tooltip;f.fn.tooltip=function(b){return this.each(function(){var c=f(this),e=c.data("bs.tooltip"),a="object"==typeof b&&b;e||c.data("bs.tooltip",e=new g(this,
a));"string"==typeof b&&e[b]()})};f.fn.tooltip.Constructor=g;f.fn.tooltip.noConflict=function(){return f.fn.tooltip=c,this}}(window.jQuery);this.Templates=this.Templates||{};
this.Templates.BoardPoint=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||f.helpers;d=d||{};var e,a=this.escapeExpression;f=""+('<div class="box__title box__title_type_place">\u041c\u0435\u0441\u0442\u043e</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+a((e=(e=(e=g.imgs,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?e.apply(g):e))+'" alt="');(b=c.name)?b=b.call(g,{hash:{},data:d}):(b=g.name,b="function"===typeof b?
b.apply(g):b);f+=a(b)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';(b=c.name)?b=b.call(g,{hash:{},data:d}):(b=g.name,
b="function"===typeof b?b.apply(g):b);f+=a(b)+'</div>\r\n  <span class="info info_like">';(b=c.likes_count)?b=b.call(g,{hash:{},data:d}):(b=g.likes_count,b="function"===typeof b?b.apply(g):b);return f+=a(b)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+a((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+a((e=
(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+a((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardRoute=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||f.helpers;d=d||{};var e,a=this.escapeExpression;f=""+('<div class="box__title box__title_type_route">\u041c\u0430\u0440\u0448\u0440\u0443\u0442</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+a((e=(e=(e=(e=(e=g.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?e.apply(g):e))+'" alt="');
(b=c.name)?b=b.call(g,{hash:{},data:d}):(b=g.name,b="function"===typeof b?b.apply(g):b);f+=a(b)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(b=c.name)?b=b.call(g,{hash:{},data:d}):(b=g.name,b="function"===typeof b?b.apply(g):b);f+=a(b)+'</div>\r\n  <span class="info info_like">';(b=c.likes_count)?b=b.call(g,{hash:{},data:d}):(b=g.likes_count,b="function"===typeof b?b.apply(g):b);return f+=a(b)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+a((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),
"function"===typeof e?e.apply(g):e))+" "+a((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+a((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardSet=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||f.helpers;d=d||{};var e,a=this.escapeExpression;f=""+('<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+a((e=(e=(e=(e=(e=g.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?e.apply(g):
e))+'" alt="');(b=c.name)?b=b.call(g,{hash:{},data:d}):(b=g.name,b="function"===typeof b?b.apply(g):b);f+=a(b)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(b=c.name)?b=b.call(g,{hash:{},data:d}):(b=g.name,b="function"===typeof b?b.apply(g):b);f+=a(b)+'</div>\r\n  <span class="info info_like">';(b=c.likes_count)?b=b.call(g,{hash:{},data:d}):(b=g.likes_count,b="function"===typeof b?b.apply(g):b);return f+=a(b)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+a((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),
"function"===typeof e?e.apply(g):e))+" "+a((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+a((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.FooterView=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="logo"><img src="/static/images/logo-footer.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c" class="img"></div>\r\n<div class="constrain">\r\n  <nav class="nav">\r\n    <ul class="nav_list">\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435</a></li>\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</a></li>\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435</a></li>\r\n    </ul>\r\n  </nav>\r\n  <a href="#?" class="link-up js-up">\u0412\u0432\u0435\u0440\u0445</a>\r\n</div>\r\n'});
this.Templates.Ctrls=Handlebars.template(function(f,g,c,b,d){function e(a,b){var c;return r((c=(c=a.user,null==c||!1===c?c:c.avatar),typeof c===l?c.apply(a):c))}function a(a,b){return"/static/images/guest.png"}this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||f.helpers;d=d||{};var k,l="function",r=this.escapeExpression,n=this;f='<div class="header__search">\r\n  <input type="text" placeholder="\u041c\u0435\u0441\u0442\u0430, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f...">\r\n</div>\x3c!-- class="header__search" --\x3e\r\n<a href="/" class="logo">\r\n  <img src="/static//images/logo.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c">\r\n</a>\r\n<div class="header__btns">\r\n  <a href="#?" class="btn btn_action_add">\r\n    <span class="sprite-add"></span>\r\n  </a>\r\n  ';
if((g=c["if"].call(g,(k=g.user,null==k||!1===k?k:k.authorized),{hash:{},inverse:n.program(6,function(a,b){return'\r\n  <a href="#?" class="btn btn_color_blue">\u0412\u043e\u0439\u0442\u0438</a>\r\n  '},d),fn:n.program(1,function(b,d){var f,g,h;f='\r\n    <div class="header__user">\r\n      <a href="#?" class="link-user">\r\n        <img src="';if((h=c["if"].call(b,(g=b.user,null==g||!1===g?g:g.avatar),{hash:{},inverse:n.program(4,a,d),fn:n.program(2,e,d),data:d}))||0===h)f+=h;return f+='" alt="'+
r((g=(g=b.user,null==g||!1===g?g:g.first_name),typeof g===l?g.apply(b):g))+" "+r((g=(g=b.user,null==g||!1===g?g:g.last_name),typeof g===l?g.apply(b):g))+'" class="photo">\r\n        '+r((g=(g=b.user,null==g||!1===g?g:g.first_name),typeof g===l?g.apply(b):g))+"<br>"+r((g=(g=b.user,null==g||!1===g?g:g.last_name),typeof g===l?g.apply(b):g))+' \r\n      </a>\r\n      <a href="#?" class="btn btn_color_blue js-profile-menu"></a>\r\n      <ul class="profile-menu">\r\n        <li class="item">\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-bag"></span>\r\n            \u042f \u0441\u043e\u0437\u0434\u0430\u043b\r\n          </a>\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-heart"></span>\r\n            \u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f\r\n          </a>\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-settings"></span>\r\n            \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\r\n          </a>\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-power"></span>\r\n            \u0412\u044b\u0445\u043e\u0434\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  '},
d),data:d}))||0===g)f+=g;return f+'\r\n</div>\x3c!-- class="header__btns" --\x3e\r\n'});this.Templates.Destination=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="slogan">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0443\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0430\u043c\u0438</div>\r\n<div class="query">\r\n  <form id="destination-form" action="/">\r\n    <input id="destination-input" type="text" placeholder="\u041a\u0443\u0434\u0430 \u0432\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c?">\r\n    <button type="submit" class="btn btn_color_blue">\u041f\u043e\u0435\u0445\u0430\u043b\u0438</button>\r\n  </form>\r\n</div>\r\n'});
this.Templates.Filter=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<ul class="categories">\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-photo"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-gun"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-fish"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-ski"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-music"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-food"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-drink"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-tag"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-theatre"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-place"></a></li>\r\n  <li class="categories__item"><a href="#?" class="categories__link categories__link_type_all sprite-filter-all"></a></li>\r\n</ul>\r\n<div class="filter-sort">\r\n  <a href="#?" class="sprite-filter-down"></a>\r\n  <a href="#?" class="sprite-filter-up"></a>\r\n</div>\r\n<div class="filter-type">\r\n  <a href="#?" class="btn btn_color_grey js-open">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f</a>\r\n  <ul class="filter-type__list">\r\n    <li class="filter-type__item">\r\n      <a data-models="sets" href="#?" class="filter-type__link c-blue">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="points" href="#?" class="filter-type__link c-green">\u041c\u0435\u0441\u0442\u0430</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="routes" href="#?" class="filter-type__link c-brown">\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="events" href="#?" class="filter-type__link c-yellow">\u0421\u043e\u0431\u044b\u0442\u0438\u044f</a>\r\n    </li>\r\n    <li class="filter-type__item filter-type__item_checkbox">\r\n      <label class="checkbox-label">\r\n        <input type="checkbox">\r\n        <span class="checkbox-bg"></span>\r\n      </label>\r\n      <label class="checkbox-label">\r\n        <input type="checkbox">\r\n        <span class="checkbox-bg"></span>\r\n      </label>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'});
this.Templates.HeaderView=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="header__ctrls"></div>\r\n<div class="header__destination"></div>\r\n<div class="header__filter"></div>\r\n'});
this.Templates.IconTemplate=Handlebars.template(function(f,g,c,b,d){function e(b,d){var e,f;e='\r\n  <a href="#" data-toggle="tooltip" title="';(f=c.name)?f=f.call(b,{hash:{},data:d}):(f=b.name,f=typeof f===l?f.apply(b):f);e+=r(f)+'" data-placement="top" data-type-ico="';(f=c.name)?f=f.call(b,{hash:{},data:d}):(f=b.name,f=typeof f===l?f.apply(b):f);e+=r(f)+'">\r\n    <span class="m-ico ';if((f=c["if"].call(b,b.style,{hash:{},inverse:n.program(5,k,d),fn:n.program(3,a,d),data:d}))||0===f)e+=f;e+='" data-id="';
(f=c.id)?f=f.call(b,{hash:{},data:d}):(f=b.id,f=typeof f===l?f.apply(b):f);return e+=r(f)+'"></span>\r\n  </a>\r\n  '}function a(a,b){var d;(d=c.style)?d=d.call(a,{hash:{},data:b}):(d=a.style,d=typeof d===l?d.apply(a):d);return r(d)}function k(a,b){return"m-dostoprimechatelnost"}this.compilerInfo=[3,">= 1.0.0-rc.4"];c=c||f.helpers;d=d||{};f="";var l="function",r=this.escapeExpression,n=this,m=c.helperMissing;if((g=c.each.call(g,g.items,{hash:{},inverse:n.noop,fn:n.program(1,function(a,b){var d,f,
g;d="\r\n  ";g={hash:{},inverse:n.noop,fn:n.program(2,e,b),data:b};if((g=(f=c.ifEquals,f?f.call(a,a.level,0,g):m.call(a,"ifEquals",a.level,0,g)))||0===g)d+=g;return d+"\r\n"},d),data:d}))||0===g)f+=g;return f+"\r\n"});this.Templates.MapView=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div id="mainmap" style="width: 100%;"></div>\r\n\r\n<div id="m-ico-group" class="m-ico-group"></div>\r\n\r\n<div class="toggle-bottom">\r\n  <a href="#" class="a-toggle">\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443</a>\r\n</div>\r\n'});
this.Templates.LoadingView=Handlebars.template(function(f,g,c,b,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="GridFooter">\r\n  <div class="gridLoadingWrapper">\r\n    <div class="gridLoading">\r\n      <span class="gridFooterLogoIcon"></span>\r\n      <span class="gridFooterSpinner"></span>\r\n    </div>\r\n  </div>\r\n</div>\r\n'});
(function(){Handlebars.registerHelper("ifEquals",function(f,g,c){return(null!=f?f.toString():void 0)===(null!=g?g.toString():void 0)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("ifContains",function(f,g,c){return void 0===g?!1:_.contains(g,f)?c.fn(this):c.inverse(this)});Handlebars.registerHelper("ifBelong",function(f,g,c){var b,d,e,a;if(void 0===g)return!1;e=0;for(a=g.length;e<a;e++)d=g[e],d.id===f.id&&(b=!0);return b?c.fn(this):c.inverse(this)});Handlebars.registerHelper("dateFormat",
function(f,g){var c;return window.moment?(c=g.hash.format||"D MMMM YYYY \u0432 HH:mm",moment(f).format(c)):f});Handlebars.registerHelper("eachKey",function(f,g){var c,b,d,e;b="";f=f.toString().substring(1,f.length-1).split(",");d=0;for(e=f.length;d<e;d++)c=f[d],b+=g.fn(c.trim());return b});Handlebars.registerHelper("splitAddr",function(f,g,c){f=f.split(g);return f[2]});Handlebars.registerHelper("addShy",function(f,g){var c,b;if(_.contains(f," "))return f;c=f.slice(0,10);b=f.slice(10);return new Handlebars.SafeString(""+
c+"&shy;"+b)});Handlebars.registerHelper("safe",function(f,g){return new Handlebars.SafeString(f)})}).call(this);
(function(){(function(f,g){f.emulateJSON=!0;return _.extend(f.Marionette.Application.prototype,{settings:{},navigate:function(c,b){null==b&&(b={});return f.history.navigate(c,b)},getCurrentRoute:function(){var c;c=f.history.fragment;return _.isEmpty(c)?null:c},startHistory:function(){if(f.history)return f.history.start()},register:function(c,b){null==this._registry&&(this._registry={});return this._registry[b]=c},unregister:function(c,b){return delete this._registry[b]},resetRegistry:function(){var c,
b,d,e;d=this.getRegistrySize();e=this._registry;for(b in e)c=e[b],c.region.close();c="There were "+d+" controllers in the registry, there are now "+this.getRegistrySize();return 0<this.getRegistrySize()?console.warn(c,this._registry):console.log(c)},getRegistrySize:function(){return _.size(this._registry)},updateSettings:function(c){var b,d,e;d={};b=!1;for(e in c)c.hasOwnProperty(e)&&this.settings[e]!==c[e]&&(_.isNumber(c[e])||!_.isEmpty(c[e])?this.settings[e]=c[e]:delete this.settings[e],d[e]=c[e],
b=!0);if(b)return this.vent.trigger("change:settings",d)},getCookie:function(c){var b,d,e,a,f,g;b=null;if(document.cookie&&""!==document.cookie){d=document.cookie.split(";");a=function(a){a=a.trim();if(a.substring(0,c.length+1)===c+"=")return b=decodeURIComponent(a.substring(c.length+1))};f=0;for(g=d.length;f<g;f++)e=d[f],a(e)}return b},apiRequest:function(c){var b,d=this;b=this.API_BASE_URL+c.url;console.log([""+c.type+" request to "+b+" with data:",c.data]);return g.ajax({url:b,type:c.type,dataType:c.dataType||
"json",processData:c.processData,contentType:c.contentType,data:c.data,beforeSend:function(b){return b.setRequestHeader("X-CSRFToken",d.getCookie("csrftoken"))},success:function(b){var a;console.log(["response from API: ",b]);if(c.successCallback)return a=[b],_.each(c.params,function(b){return a.push(b)}),c.successCallback.apply(c.context,a)}})}})})(Backbone,$)}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};(function(c,b){return b.Region.Modal=function(b){function e(){_.extend(this,c.Events)}g(e,b);e.prototype.onShow=function(a){var b=this;this.setupBindings(a);a=this.getDefaultOptions(_.result(a,"modal"));return this.$el.modal(a,{close:function(a,c){return b.closeModal()}})};e.prototype.getDefaultOptions=
function(a){null==a&&(a={});return _.defaults(a,{modalClass:a.className})};e.prototype.setupBindings=function(a){return this.listenTo(a,"modal:close",this.closeModal)};e.prototype.closeModal=function(){this.stopListening();this.close();return this.$el.modal("hide")};return e}(b.Region)})(Backbone,Marionette)}).call(this);(function(){(function(f){return _.extend(f.Renderer,{render:function(f,c){var b;if(!1!==f)return b=Templates[f],b(c)}})})(Marionette)}).call(this);
(function(){var f;_.extend(Backbone.Marionette.Application.prototype,{API_BASE_URL:"/api/v1",API_BASE_URL:""},void 0!==window.DEBUG?f=window.DEBUG:f=!0,{DEBUG:f})}).call(this);(function(){(function(f){var g;g=f.sync;return f.sync=function(c,b,d){null==d&&(d={});d=g(c,b,d);!b._fetch&&"read"===c&&(b._fetch=d);return d}})(Backbone)}).call(this);
(function(){this.Yapp=function(f,g){var c;c=new g.Application;c.addRegions({headerRegion:"#header-region",boardRegion:"#board-region",footerRegion:"#footer-region",mapRegion:"#map-region",popup:g.Region.Modal.extend({el:"#popups"})});c.reqres.setHandler("default:region",function(){return c.boardRegion});c.rootRoute="/";c.commands.setHandler("register:instance",function(b,d){return c.register(b,d)});c.commands.setHandler("unregister:instance",function(b,d){return c.unregister(b,d)});c.on("initialize:after",
function(b){this.startHistory();if(!this.getCurrentRoute())return this.navigate(this.rootRoute,{trigger:!0})});return c}(Backbone,Marionette)}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Controllers",function(c,b,d,e,a,f){return c.Base=function(a){function c(a){null==a&&(a={});this.region=a.region||b.request("default:region");this._instance_id=f.uniqueId("controller");b.execute("register:instance",this,this._instance_id);c.__super__.constructor.apply(this,arguments)}
g(c,a);c.prototype.close=function(){b.execute("unregister:instance",this,this._instance_id);return c.__super__.close.apply(this,arguments)};c.prototype.show=function(a,b){null==b&&(b={});f.defaults(b,{loading:!1,region:this.region});this._setMainView(a);return this._manageView(a,b)};c.prototype._setMainView=function(a){if(!this._mainView)return this._mainView=a,this.listenTo(a,"close",this.close)};c.prototype._manageView=function(a,c){return c.loading?b.execute("show:loading",a,c):c.region.show(a)};
return c}(e.Controller)})}).call(this);(function(){this.Yapp.module("Views",function(f,g,c,b,d,e){return e.extend(b.View.prototype,{templateHelpers:function(){return{user:g.request("get:my:profile").toJSON()}}})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Views",function(c,b,d,e,a,f){var l;return c.CollectionView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.itemViewEventPrefix="childview";return b}(e.CollectionView)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Views",function(c,b,d,e,a,f){var l;return c.CompositeView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.itemViewEventPrefix="childview";return b}(e.CompositeView)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Views",function(c,b,d,e,a,f){var l;return c.ItemView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(e.ItemView)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Views",function(c,b,d,e,a,f){var l;return c.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(e.Layout)})}).call(this);
(function(){this.Yapp.module("Entities",function(f,g,c,b,d,e){return g.commands.setHandler("when:fetched",function(a,b){var c;c=e.chain([a]).flatten().pluck("_fetch").value();return d.when.apply(d,c).done(function(){return b()})})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l;return c.Collection=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.model=function(a,b){return"point"===a.type_of_item?new c.Point(a,b):"set"===a.type_of_item?new c.Set(a,b):"route"===a.type_of_item?
new c.Route(a,b):new c.Point};b.prototype.initialize=function(){return console.log("initializing Entities.Collection")};return b}(d.Collection)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l;return c.Model=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.initialize=function(){return console.log("initializing Entities.Model")};b.prototype.idAttribute="unid";b.prototype.parse=function(a){f.isArray(a)&&
(a=a[0]);return a};return b}(d.Model)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l,r;c.Point=function(a){function c(){return r=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.urlRoot=b.API_BASE_URL+"/api/v1/points/";return c}(c.Model);l={getDetail:function(a,b){null==b&&(b={});a.id=a.get("id");f.defaults(b);a.fetch({reset:!0,
data:b});return a},like:function(a,c){var d;d=a.get("id");return b.apiRequest({url:b.API_BASE_URL+("/api/v1/points/"+d+"/like/"),type:"POST",data:{id:d}})}};b.reqres.setHandler("get:detail:point",function(a){return l.getDetail(a)});return b.reqres.setHandler("like:point",function(a){l.like(a).done(function(b){return a.set(b[0])});return a})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l,r;c.Route=function(a){function c(){return r=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.urlRoot=function(){return b.API_BASE_URL+"/api/v1/route/"};return c}(c.Model);l={getDetail:function(a,b){var d;null==b&&(b={});f.defaults(b);
d=new c.Route({unid:a});d.fetch({reset:!0,data:b});return d}};return b.reqres.setHandler("get:detail:route",function(a){return l.getDetail(a)})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l,r;c.Set=function(a){function c(){return r=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.urlRoot=function(){return b.API_BASE_URL+"/api/v1/sets/"};return c}(c.Model);l={getDetailSets:function(a,b){var d;null==b&&(b={});f.defaults(b);
d=new c.Set({unid:a});d.fetch({reset:!0,data:b});return d}};return b.reqres.setHandler("get:detail:sets",function(a){return l.getDetailSets(a)})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l,r;c.TagCollection=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(d.Collection);l={getTags:function(a){var d;null==a&&(a={});f.defaults(a);d=new c.TagCollection;d.url=b.API_BASE_URL+"/api/v1/tags/";
d.fetch({reset:!0,data:a});return d}};return b.reqres.setHandler("get:all:tags",function(){return l.getTags()})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l,r;c.User=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.idAttribute="id";b.prototype.defaults={first_name:"",last_name:"",authorized:!1,email:!1,avatar:"",count_liked_objects:0,count_commented_objects:0};
return b}(c.Model);l={me:function(a){null==a&&(a={});f.defaults(a);return this.user=this.user||new c.User(b.USER)}};return b.reqres.setHandler("get:my:profile",function(){return l.me()})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Entities",function(c,b,d,e,a,f){var l,r;c.YapensCollection=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(c.Collection);l={getEntities:function(a){var d;null==a&&(a={});d=new c.YapensCollection;d.url=b.API_BASE_URL+"/api/v1/yapens/";
d.fetch({reset:!0,data:a});return d},search:function(a,c){null==a&&(a={});f.defaults(a,{s:""});return b.apiRequest({url:b.API_BASE_URL+"/api/v1/search/",data:a,successCallback:c})}};b.reqres.setHandler("get:all:yapens",function(a){null==a&&(a={});return l.getEntities(a)});return b.reqres.setHandler("search:all:yapens",function(a,b){null==a&&(a={});return l.search(a,b)})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Components.Loading",function(c,b,d,e,a,f){var l;c.LoadingController=function(a){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,a);d.prototype.initialize=function(a){var b,c;console.log("initialize LoadingController");c=a.view;a=a.config;a=f.isBoolean(a)?{}:a;
f.defaults(a,{loadingType:"spinner",entities:this.getEntities(c),debug:!1});switch(a.loadingType){case "opacity":this.region.currentView.$el.css("opacity",0.5);break;case "spinner":b=this.getLoadingView();this.show(b);break;default:throw Error("Invalid loadingType");}return this.showRealView(c,b,a)};d.prototype.showRealView=function(a,c,d){var e=this;return b.execute("when:fetched",d.entities,function(){switch(d.loadingType){case "opacity":e.region.currentView.$el.removeAttr("style");break;case "spinner":if(e.region.currentView!==
c)return a.close()}if(!d.debug)return e.show(a)})};d.prototype.getEntities=function(a){return f.chain(a).pick("model","collection").toArray().compact().value()};d.prototype.getLoadingView=function(){return new c.LoadingView};return d}(b.Controllers.Base);return b.commands.setHandler("show:loading",function(a,b){console.log("show:loading");return new c.LoadingController({view:a,region:b.region,config:b.loading})})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("Components.Loading",function(c,b,d,e,a,f){var l;return c.LoadingView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="LoadingView";b.prototype.className="loading-container";b.prototype.onClose=function(){return this.close()};
return b}(b.Views.ItemView)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("BoardApp",function(c,b,d,e,a,f){var l,r;c.Router=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.appRoutes={"":"index","!new":"new"};return b}(e.AppRouter);l={index:function(){return new c.List.Controller({content:"ypi"})},"new":function(){return new c.List.Controller({content:"updated"})}};
b.vent.on("show:detail:popup",function(a){return new c.Point.Controller({model:a})});b.vent.on("filter:all:yapens",function(){return new c.List.Controller});return b.addInitializer(function(){return new c.Router({controller:l})})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("BoardApp.List",function(c,b,d,e,a,f){var l;return c.Controller=function(a){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,a);d.prototype.initialize=function(){console.log("initialize BoardApp.List.Controller");b.updateSettings({content:this.options.content||
"ypi"});this.yapens=b.request("get:all:yapens",b.settings);return this.showYapens()};d.prototype.onClose=function(){this.stopListening();return this.yapens.reset()};d.prototype.showYapens=function(){var a;a=new c.Yapens({collection:this.yapens});a.on("childview:show:detail:popup",function(a,c){return b.vent.trigger("show:detail:popup",c)});return this.show(a,{region:b.boardRegion,loading:!0})};return d}(b.Controllers.Base)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("BoardApp.List",function(c,b,d,e,a,f){var l,r;c.Yapen=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.initialize=function(){};c.prototype.getTemplate=function(){return"point"===this.model.get("type_of_item")?"BoardPoint":"set"===this.model.get("type_of_item")?
"BoardSet":"route"===this.model.get("type_of_item")?"BoardRoute":"BoardPoint"};c.prototype.className="box";c.prototype.events={"click .a-photo":function(){return this.trigger("show:detail:popup",this.model)},"click .a-like-point":function(){return b.request("like:point",this.model)}};c.prototype.modelEvents={change:"render"};return c}(b.Views.ItemView);return c.Yapens=function(e){function m(){return r=m.__super__.constructor.apply(this,arguments)}g(m,e);m.prototype.itemView=c.Yapen;m.prototype.className=
"content";m.prototype.id="grid";m.prototype.initialize=function(){f.bindAll(this,"onShow");return this.infiniScroll=new d.InfiniScroll(this.collection,{scrollOffset:350,includePage:!0,extraParams:b.settings})};m.prototype.onAfterItemAdded=function(a){var b=this;if(this.wall)return a.$el.imagesLoaded(function(){b.wall.appended(a.$el);return a.$(".box__img .icon").tooltip({placement:"bottom"})})};m.prototype.onShow=function(){var c=this;return b.execute("when:fetched",this.collection,function(){console.log("collection fetched",
c.collection);return c.$el.imagesLoaded(function(){a(".box__img .icon").tooltip({placement:"bottom"});return c.wall=new Masonry(c.el,{itemSelector:".box"})})})};m.prototype.onClose=function(){this.infiniScroll.destroy();this.wall.destroy();return this.remove()};return m}(b.Views.CollectionView)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("BoardApp.Point",function(c,b,d,e,a,f){var l;return c.Controller=function(a){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,a);d.prototype.initialize=function(){var a=this;console.log("initialize BoardApp.Point.Controller");this.model=b.request("get:detail:point",
this.options.model);this.layout=new c.Layout({model:this.options.model});this.listenTo(this.layout,"show",function(){a.headerView();a.sidebarView();a.tabPhotoView();a.tabMapView();a.tabReviewView();return a.tagsView()});return b.popup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.headerView=function(){var a;a=new c.Header({model:this.model});return this.show(a,{region:this.layout.headerRegion})};d.prototype.sidebarView=function(){var a;a=new c.Sidebar({model:this.model});
a.on("add:collection:popup",function(a,c){return b.vent.trigger("add:collection:popup",c)});a.on("add:path:popup",function(a,c){return b.vent.trigger("add:path:popup",c)});a.on("like:detail:popup",function(a,c){console.log(c,a);return b.vent.trigger("like:detail:popup",c)});return this.show(a,{region:this.layout.sidebarRegion})};d.prototype.tabPhotoView=function(){var a;a=new c.Photo({model:this.model});return this.show(a,{region:this.layout.tabPhotoRegion})};d.prototype.tabMapView=function(){var a;
a=new c.Map({model:this.model});return this.show(a,{region:this.layout.tabMapRegion})};d.prototype.tabReviewView=function(){var a;a=new c.Review({model:this.model});return this.show(a,{region:this.layout.tabReviewRegion})};d.prototype.tagsView=function(){var a;a=new c.Tags({model:this.model});return this.show(a,{region:this.layout.tagsRegion})};return d}(b.Controllers.Base)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("BoardApp.Point",function(c,b,d,e,a,f){var l,r,n,m,u,q,x;c.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointLayout";b.prototype.regions={headerRegion:"#point-header",sidebarRegion:"#right-panel",tabPhotoRegion:"#tab-photo",
tabMapRegion:"#tab-map",tabReviewRegion:"#tab-reviews",tagsRegion:"#point-tags"};b.prototype.id="p-common";b.prototype.className="popup";return b}(b.Views.Layout);c.Header=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointHeader";b.prototype.modelEvents={"change:address":"render","change:name":"render","change:isliked":"render","change:likes_count":"render","change:reviews":"render"};return b}(b.Views.ItemView);c.Sidebar=function(a){function c(){return n=
c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.template="PointSidebar";c.prototype.modelEvents={"change:isliked":"render","change:likes_count":"render"};c.prototype.events={"click .a-add-collection":"addToCollection","click .a-add-path":function(){return this.trigger("add:path:popup",this.model)},"click .a-like":function(){return b.request("like:point",this.model)},"click .a-complaint":function(){return this.trigger("complaint:detail:popup",this.model)}};c.prototype.addToCollection=
function(a){a.preventDefault();return console.log(a)};return c}(b.Views.ItemView);c.Photo=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointPhoto";return b}(b.Views.ItemView);c.Map=function(a){function b(){return u=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointMap";return b}(b.Views.ItemView);c.Review=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template=
"PointReview";return b}(b.Views.ItemView);return c.Tags=function(a){function b(){return x=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointTags";b.prototype.modelEvents={"change:tags":"render"};return b}(b.Views.ItemView)})}).call(this);(function(){this.Yapp.module("FooterApp",function(f,g,c,b,d,e){var a;a={show:function(){return new f.Show.Controller({region:g.footerRegion})}};return f.on("start",function(){console.log("FooterApp onStart event");return a.show()})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("FooterApp.Show",function(c,b,d,e,a,f){var l;return c.Controller=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.initialize=function(){console.log("initialize FooterApp.Show.Controller");this.layout=this.getLayoutView();return this.show(this.layout)};
b.prototype.getLayoutView=function(){return new c.Layout};return b}(b.Controllers.Base)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("FooterApp.Show",function(c,b,d,e,a,f){var l;return c.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="FooterView";b.prototype.className="f-body";return b}(b.Views.Layout)})}).call(this);
(function(){this.Yapp.module("HeaderApp",function(f,g,c,b,d,e){var a;a={show:function(){return new f.Show.Controller({region:g.headerRegion})}};return f.on("start",function(){console.log("HeaderApp onStart event");return a.show()})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("HeaderApp.Show",function(c,b,d,e,a,f){var l;return c.Controller=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.initialize=function(){var a=this;console.log("initialize HeaderApp.Show.Controller");this.layout=this.getLayoutView();this.listenTo(this.layout,
"show",function(){a.ctrlsView();a.destinationView();return a.filterView()});return this.show(this.layout)};b.prototype.ctrlsView=function(){var a;a=new c.Ctrls;return this.show(a,{region:this.layout.ctrlsRegion})};b.prototype.destinationView=function(){var a;a=new c.Destination;return this.show(a,{region:this.layout.destinationRegion})};b.prototype.filterView=function(){var a;a=new c.Filter;return this.show(a,{region:this.layout.filterRegion})};b.prototype.getLayoutView=function(){return new c.Layout};
b.prototype.onClose=function(){return this.stopListening()};return b}(b.Controllers.Base)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("HeaderApp.Show",function(c,b,d,e,a,f){var l,r,n,m;console.log("initialize HeaderApp.Show.Layout");c.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="HeaderView";b.prototype.className="h-body";b.prototype.regions={ctrlsRegion:".header__ctrls",
destinationRegion:".header__destination",filterRegion:".header__filter"};return b}(b.Views.Layout);c.Ctrls=function(a){function c(){return r=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.template="Ctrls";c.prototype.className="constrain";c.prototype.initialize=function(){var a;a=b.request("get:my:profile");return console.log(a)};c.prototype.format=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};c.prototype.onShow=function(){return this.$("input").select2({allowClear:!0,
ajax:{dataType:"json",url:b.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;console.log(a);c=f.map(a,function(a,b){f.map(a,function(a){return a.type=b});return a});return{results:f.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:3,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},
escapeMarkup:function(a){return a}})};return c}(b.Views.ItemView);c.Destination=function(c){function d(){return n=d.__super__.constructor.apply(this,arguments)}g(d,c);d.prototype.template="Destination";d.prototype.className="constrain";d.prototype.events={"submit #destination-form":"submitSearch","keydown #destination-input":"keyupInput"};d.prototype._delay=function(){var a;a=0;return function(b,c){clearTimeout(a);a=setTimeout(b,c)}}();d.prototype.submitSearch=function(a){a.preventDefault();return b.vent.trigger("filter:all:yapens")};
d.prototype.keyupInput=function(c){return this._delay(function(){var d;38!==c.which&&40!==c.which&&13!==c.which&&27!==c.which&&8!==c.which&&(d=a(c.target).val())&&b.updateSettings({s:d})},500)};return d}(b.Views.ItemView);return c.Filter=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}g(d,c);d.prototype.template="Filter";d.prototype.className="constrain clearfix";d.prototype.events={"click .categories__link":"filterCategory","click .categories__link_type_all":"filterAllCategory",
"click .filter-type > a":"openFilterType","click .filter-type__link":"filterType"};d.prototype.ui={filterTypeList:".filter-type__list",filterAllCategory:".categories__link"};d.prototype.filterCategory=function(b){b.preventDefault();if(!a(b.target).hasClass("categories__link_type_all"))return a(b.target).toggleClass("active")};d.prototype.filterAllCategory=function(b){b.preventDefault();if(a(b.target).hasClass("active"))return a(b.target).removeClass("active"),this.ui.filterAllCategory.removeClass("active");
a(b.target).addClass("active");return this.ui.filterAllCategory.addClass("active")};d.prototype.openFilterType=function(a){a.preventDefault();return this.ui.filterTypeList.toggle()};d.prototype.filterType=function(c){c.preventDefault();a(c.target).toggleClass("active");c=f.map(this.$(".filter-type__link.active"),function(b){return a(b).data("models")});Yapp.updateSettings({models:c.join(",")});return b.vent.trigger("filter:all:yapens")};return d}(b.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("MapApp",function(f,g,c,b,d,e){var a;a={show:function(){return new f.Show.Controller({region:g.mapRegion})},mapToggle:function(a){g.mapRegion.$el.toggleClass("map-opened");d("#wrap").toggleClass("map-opened");a&&(g.map.$el.addClass("map-opened"),d("#wrap").addClass("map-opened"));a="\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443"===g.mapRegion.$el.find(".a-toggle").html()?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443":
"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443";return g.mapRegion.$el.find(".a-toggle").html(a)}};f.on("start",function(){console.log("MapApp onStart event");return a.show()});return g.commands.setHandler("toggle:map",function(b){return a.mapToggle(b)})})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("MapApp.Show",function(c,b,d,e,a,f){var l;return c.Controller=function(a){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,a);d.prototype.initialize=function(){var a=this;console.log("initialize MapApp.Show.Controller");this.layout=this.getLayoutView();this.listenTo(this.layout,
"show",function(){a.mapView();return a.tagsView()});return this.show(this.layout)};d.prototype.getLayoutView=function(){return new c.Layout};d.prototype.mapView=function(){return new c.Map};d.prototype.tagsView=function(){var a,d=this;a=b.request("get:all:tags");return b.execute("when:fetched",a,function(){var b;b=new c.Tags({collection:a});return d.show(b,{region:d.layout.tagsRegion})})};return d}(b.Controllers.Base)})}).call(this);
(function(){var f={}.hasOwnProperty,g=function(c,b){function d(){this.constructor=c}for(var e in b)f.call(b,e)&&(c[e]=b[e]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};this.Yapp.module("MapApp.Show",function(c,b,d,e,a,f){var l,r,n;c.Layout=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.template="MapView";c.prototype.className="map";c.prototype.regions={tagsRegion:"#m-ico-group"};c.prototype.events={"click .a-toggle":"toggleMap"};
c.prototype.toggleMap=function(a){a.preventDefault();return b.execute("toggle:map")};return c}(b.Views.Layout);c.Map=function(a){function c(){return r=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.template=!1;c.prototype.initialize=function(){var a=this;console.log("initialize MapApp.Show.Map");if(void 0!==b.ymaps)return b.ymaps.ready(function(){return a.yandexmap=new b.ymaps.Map("mainmap",{center:[b.ymaps.geolocation.latitude,b.ymaps.geolocation.longitude],zoom:12},{autoFitToViewport:"always"})})};
return c}(b.Views.ItemView);return c.Tags=function(a){function b(){return n=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="IconTemplate";return b}(b.Views.ItemView)})}).call(this);
