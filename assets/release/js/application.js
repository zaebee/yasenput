/*

 Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE
 Build: `lodash modern -o ./dist/lodash.js`
*/
"object"!==typeof JSON&&(JSON={});
<<<<<<< HEAD
(function(){function b(a){return 10>a?"0"+a:a}function f(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var c=k[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,b){var d,k,q,t,r=g,v,w=b[a];w&&("object"===typeof w&&"function"===typeof w.toJSON)&&(w=w.toJSON(a));"function"===typeof l&&(w=l.call(b,a,w));switch(typeof w){case "string":return f(w);case "number":return isFinite(w)?String(w):"null";case "boolean":case "null":return String(w);
case "object":if(!w)return"null";g+=c;v=[];if("[object Array]"===Object.prototype.toString.apply(w)){t=w.length;for(d=0;d<t;d+=1)v[d]=e(d,w)||"null";q=0===v.length?"[]":g?"[\n"+g+v.join(",\n"+g)+"\n"+r+"]":"["+v.join(",")+"]";g=r;return q}if(l&&"object"===typeof l){t=l.length;for(d=0;d<t;d+=1)"string"===typeof l[d]&&(k=l[d],(q=e(k,w))&&v.push(f(k)+(g?": ":":")+q))}else for(k in w)Object.prototype.hasOwnProperty.call(w,k)&&(q=e(k,w))&&v.push(f(k)+(g?": ":":")+q);q=0===v.length?"{}":g?"{\n"+g+v.join(",\n"+
g)+"\n"+r+"}":"{"+v.join(",")+"}";g=r;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,c,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var k;c=g="";if("number"===typeof d)for(k=0;k<d;k+=1)c+=" ";else"string"===typeof d&&(c=d);if((l=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return e("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(c,b){function d(a,c){var g,e,k=a[c];if(k&&"object"===typeof k)for(g in k)Object.prototype.hasOwnProperty.call(k,g)&&(e=d(k,g),void 0!==e?k[g]=e:delete k[g]);return b.call(a,c,k)}var g;c=String(c);a.lastIndex=0;a.test(c)&&(c=c.replace(a,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+c+")"),"function"===typeof b?d({"":g},""):g;throw new SyntaxError("JSON.parse");})})();
(function(b,f){"object"==typeof exports?module.exports=f():"function"==typeof define&&define.amd?define(f):b.Spinner=f()})(this,function(){function b(a,c){var b=document.createElement(a||"div"),d;for(d in c)b[d]=c[d];return b}function f(a){for(var c=1,b=arguments.length;c<b;c++)a.appendChild(arguments[c]);return a}function e(a,c,b,d){var g=["opacity",c,~~(100*a),b,d].join("-");b=0.01+100*(b/d);d=Math.max(1-(1-a)/c*(100-b),a);var e=n.substring(0,n.indexOf("Animation")).toLowerCase();p[g]||(m.insertRule("@"+
(e&&"-"+e+"-"||"")+"keyframes "+g+"{0%{opacity:"+d+"}"+b+"%{opacity:"+a+"}"+(b+0.01)+"%{opacity:1}"+(b+c)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",m.cssRules.length),p[g]=1);return g}function a(a,c){var b=a.style,d,g;if(void 0!==b[c])return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(g=0;g<h.length;g++)if(d=h[g]+c,void 0!==b[d])return d}function d(c,b){for(var d in b)c.style[a(c,d)||d]=b[d];return c}function g(a){for(var c=1;c<arguments.length;c++){var b=arguments[c],d;for(d in b)void 0===a[d]&&
(a[d]=b[d])}return a}function c(a){for(var c={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)c.x+=a.offsetLeft,c.y+=a.offsetTop;return c}function k(a){if("undefined"==typeof this)return new k(a);this.opts=g(a||{},k.defaults,q)}function l(){function a(c,d){return b("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',d)}m.addRule(".spin-vml","behavior:url(#default#VML)");k.prototype.lines=function(c,b){function g(){return d(a("group",{coordsize:h+" "+h,coordorigin:-k+" "+-k}),{width:h,
height:h})}function e(c,h,p){f(l,f(d(g(),{rotation:360/b.lines*c+"deg",left:~~h}),f(d(a("roundrect",{arcsize:b.corners}),{width:k,height:b.width,left:b.radius,top:-b.width>>1,filter:p}),a("fill",{color:b.color,opacity:b.opacity}),a("stroke",{opacity:0}))))}var k=b.length+b.width,h=2*k,p=2*-(b.width+b.length)+"px",l=d(g(),{position:"absolute",top:p,left:p});if(b.shadow)for(p=1;p<=b.lines;p++)e(p,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(p=1;p<=b.lines;p++)e(p);
return f(c,l)};k.prototype.opacity=function(a,c,b,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&c+d<a.childNodes.length&&(a=(a=(a=a.childNodes[c+d])&&a.firstChild)&&a.firstChild))a.opacity=b}}var h=["webkit","Moz","ms","O"],p={},n,m=function(){var a=b("style",{type:"text/css"});f(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),q={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",
top:"auto",left:"auto",position:"relative"};k.defaults={};g(k.prototype,{spin:function(a){this.stop();var g=this,e=g.opts,k=g.el=d(b(0,{className:e.className}),{position:e.position,width:0,zIndex:e.zIndex}),h=e.radius+e.length+e.width,p,f;a&&(a.insertBefore(k,a.firstChild||null),f=c(a),p=c(k),d(k,{left:("auto"==e.left?f.x-p.x+(a.offsetWidth>>1):parseInt(e.left,10)+h)+"px",top:("auto"==e.top?f.y-p.y+(a.offsetHeight>>1):parseInt(e.top,10)+h)+"px"}));k.setAttribute("role","progressbar");g.lines(k,g.opts);
if(!n){var l=0,m=(e.lines-1)*(1-e.direction)/2,q,t=e.fps,y=t/e.speed,E=(1-e.opacity)/(y*e.trail/100),D=y/e.lines;(function O(){l++;for(var a=0;a<e.lines;a++)q=Math.max(1-(l+(e.lines-a)*D)%y*E,e.opacity),g.opacity(k,a*e.direction+m,q,e);g.timeout=g.el&&setTimeout(O,~~(1E3/t))})()}return g},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,c){function g(a,e){return d(b(),{position:"absolute",width:c.length+
c.width+"px",height:c.width+"px",background:a,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/c.lines*k+c.rotate)+"deg) translate("+c.radius+"px,0)",borderRadius:(c.corners*c.width>>1)+"px"})}for(var k=0,h=(c.lines-1)*(1-c.direction)/2,p;k<c.lines;k++)p=d(b(),{position:"absolute",top:1+~(c.width/2)+"px",transform:c.hwaccel?"translate3d(0,0,0)":"",opacity:c.opacity,animation:n&&e(c.opacity,c.trail,h+k*c.direction,c.lines)+" "+1/c.speed+"s linear infinite"}),c.shadow&&f(p,d(g("#000","0 0 4px #000"),
{top:"2px"})),f(a,f(p,g(c.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,c,b){c<a.childNodes.length&&(a.childNodes[c].style.opacity=b)}});var t=d(b("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?l():n=a(t,"animation");return k});
!function(b){function f(a,c){return function(b){return l(a.call(this,b),c)}}function e(a,c){return function(b){return this.lang().ordinal(a.call(this,b),c)}}function a(){}function d(a){c(this,a)}function g(a){var c=a.years||a.year||a.y||0,b=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,g=a.days||a.day||a.d||0,e=a.hours||a.hour||a.h||0,k=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,p=a.milliseconds||a.millisecond||a.ms||0;this._input=a;this._milliseconds=p+1E3*h+6E4*k+36E5*e;this._days=
g+7*d;this._months=b+12*c;this._data={};this._bubble()}function c(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,c){for(var b=a+"";b.length<c;)b="0"+b;return b}function h(a,c,b,d){var g,e,k=c._milliseconds,h=c._days;c=c._months;k&&a._d.setTime(+a._d+k*b);(h||c)&&(g=a.minute(),e=a.hour());h&&a.date(a.date()+h*b);c&&a.month(a.month()+c*b);k&&!d&&u.updateOffset(a);(h||c)&&(a.minute(g),a.hour(e))}function p(a,c){var b,d=Math.min(a.length,
c.length),g=Math.abs(a.length-c.length),e=0;for(b=0;d>b;b++)~~a[b]!==~~c[b]&&e++;return e+g}function n(a){return a?Y[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function m(a){if(!a)return u.fn._lang;if(!D[a]&&M)try{require("./lang/"+a)}catch(c){return u.fn._lang}return D[a]}function q(a){var c,b,d=a.match(W);c=0;for(b=d.length;b>c;c++)d[c]=V[d[c]]?V[d[c]]:d[c].match(/\[.*\]/)?d[c].replace(/^\[|\]$/g,""):d[c].replace(/\\/g,"");return function(e){var g="";for(c=0;b>c;c++)g+=d[c]instanceof Function?
d[c].call(e,a):d[c];return g}}function t(a,c){function b(c){return a.lang().longDateFormat(c)||c}for(var d=5;d--&&R.test(c);)c=c.replace(R,b);return fa[c]||(fa[c]=q(c)),fa[c](a)}function r(a,c){switch(a){case "DDDD":return P;case "YYYY":return z;case "YYYYY":return N;case "S":case "SS":case "SSS":case "DDD":return Q;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return G;case "a":case "A":return m(c._l)._meridiemParse;case "X":return K;case "Z":case "ZZ":return H;case "T":return J;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return U;
default:return RegExp(a.replace("\\",""))}}function v(a){a=((H.exec(a)||[])[0]+"").match(aa)||["-",0,0];var c=+(60*a[1])+~~a[2];return"+"===a[0]?-c:c}function w(a){var c,b=[];if(!a._d){for(c=0;7>c;c++)a._a[c]=b[c]=null==a._a[c]?2===c?1:0:a._a[c];b[3]+=~~((a._tzm||0)/60);b[4]+=~~((a._tzm||0)%60);c=new Date(0);a._useUTC?(c.setUTCFullYear(b[0],b[1],b[2]),c.setUTCHours(b[3],b[4],b[5],b[6])):(c.setFullYear(b[0],b[1],b[2]),c.setHours(b[3],b[4],b[5],b[6]));a._d=c}}function B(a){var c,b,d=a._f.match(W),g=
a._i;a._a=[];for(c=0;c<d.length;c++)if((b=(r(d[c],a).exec(g)||[])[0])&&(g=g.slice(g.indexOf(b)+b.length)),V[d[c]]){var e=a,k=void 0,h=e._a;switch(d[c]){case "M":case "MM":h[1]=null==b?0:~~b-1;break;case "MMM":case "MMMM":k=m(e._l).monthsParse(b);null!=k?h[1]=k:e._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=b&&(h[2]=~~b);break;case "YY":h[0]=~~b+(68<~~b?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~b;break;case "a":case "A":e._isPm=m(e._l).isPM(b);break;case "H":case "HH":case "h":case "hh":h[3]=
~~b;break;case "m":case "mm":h[4]=~~b;break;case "s":case "ss":h[5]=~~b;break;case "S":case "SS":case "SSS":h[6]=~~(1E3*("0."+b));break;case "X":e._d=new Date(1E3*parseFloat(b));break;case "Z":case "ZZ":e._useUTC=!0,e._tzm=v(b)}null==b&&(e._isValid=!1)}g&&(a._il=g);a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&12===a._a[3]&&(a._a[3]=0);w(a)}function x(a,c,b,d,e){return e.relativeTime(c||1,!!b,a,d)}function A(a,c,b){var d;c=b-c;b-=a.day();return b>c&&(b-=7),c-7>b&&(b+=7),d=u(a).add("d",b),{week:Math.ceil(d.dayOfYear()/
7),year:d.year()}}function C(a){var e=a._i,g=a._f;if(null===e||""===e)a=null;else{"string"==typeof e&&(a._i=e=m().preparse(e));if(u.isMoment(e))a=c({},e),a._d=new Date(+e._d);else if(g)if("[object Array]"===Object.prototype.toString.call(g)){var e=a,k,h,f,r=99;for(f=0;f<e._f.length;f++)k=c({},e),k._f=e._f[f],B(k),g=new d(k),k=p(k._a,g.toArray()),g._il&&(k+=g._il.length),r>k&&(r=k,h=g);c(e,h)}else B(a);else if(h=a,e=h._i,g=O.exec(e),e===b)h._d=new Date;else if(g)h._d=new Date(+g[1]);else if("string"==
typeof e)if(e=h._i,g=ba.exec(e)){h._f="YYYY-MM-DD"+(g[2]||" ");for(g=0;4>g;g++)if(ya[g][1].exec(e)){h._f+=ya[g][0];break}H.exec(e)&&(h._f+=" Z");B(h)}else h._d=new Date(e);else"[object Array]"===Object.prototype.toString.call(e)?(h._a=e.slice(0),w(h)):h._d=e instanceof Date?new Date(+e):new Date(e);a=new d(a)}return a}function I(a,c){u.fn[a]=u.fn[a+"s"]=function(a){var b=this._isUTC?"UTC":"";return null!=a?(this._d["set"+b+c](a),u.updateOffset(this),this):this._d["get"+b+c]()}}function F(a){u.duration.fn[a]=
function(){return this._data[a]}}function L(a,c){u.duration.fn["as"+a]=function(){return+this/c}}for(var u,y,E=Math.round,D={},M="undefined"!=typeof module&&module.exports,O=/^\/?Date\((\-?\d+)/i,T=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,W=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,U=/\d\d?/,Q=/\d{1,3}/,P=/\d{3}/,z=/\d{1,4}/,N=/[+\-]?\d{1,6}/,
G=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,H=/Z|[\+\-]\d\d:?\d\d/i,J=/T/i,K=/[\+\-]?\d+(\.\d{1,3})?/,ba=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ya=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aa=/([\+\-]|\d\d)/gi,da=["Date","Hours","Minutes","Seconds","Milliseconds"],ea={Milliseconds:1,Seconds:1E3,
Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Y={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},fa={},X="DDD w W M D d".split(" "),S="MDHhmswW".split(""),V={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,
a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},
GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/
10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+l(~~(a/60),2)+":"+l(~~a%60,2)},ZZ:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+l(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};X.length;)y=X.pop(),V[y+"o"]=e(V[y],y);for(;S.length;)y=S.pop(),V[y+y]=f(V[y],2);V.DDDD=f(V.DDD,3);a.prototype={set:function(a){var c,b;for(b in a)c=a[b],"function"==typeof c?this[b]=
=======
(function(){function b(a){return 10>a?"0"+a:a}function f(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var c=k[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,b){var d,k,p,t,r=e,v,z=b[a];z&&("object"===typeof z&&"function"===typeof z.toJSON)&&(z=z.toJSON(a));"function"===typeof m&&(z=m.call(b,a,z));switch(typeof z){case "string":return f(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);
case "object":if(!z)return"null";e+=c;v=[];if("[object Array]"===Object.prototype.toString.apply(z)){t=z.length;for(d=0;d<t;d+=1)v[d]=g(d,z)||"null";p=0===v.length?"[]":e?"[\n"+e+v.join(",\n"+e)+"\n"+r+"]":"["+v.join(",")+"]";e=r;return p}if(m&&"object"===typeof m){t=m.length;for(d=0;d<t;d+=1)"string"===typeof m[d]&&(k=m[d],(p=g(k,z))&&v.push(f(k)+(e?": ":":")+p))}else for(k in z)Object.prototype.hasOwnProperty.call(z,k)&&(p=g(k,z))&&v.push(f(k)+(e?": ":":")+p);p=0===v.length?"{}":e?"{\n"+e+v.join(",\n"+
e)+"\n"+r+"}":"{"+v.join(",")+"}";e=r;return p}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,c,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var k;c=e="";if("number"===typeof d)for(k=0;k<d;k+=1)c+=" ";else"string"===typeof d&&(c=d);if((m=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return g("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(c,b){function d(a,c){var e,k,g=a[c];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(k=d(g,e),void 0!==k?g[e]=k:delete g[e]);return b.call(a,c,g)}var e;c=String(c);a.lastIndex=0;a.test(c)&&(c=c.replace(a,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+c+")"),"function"===typeof b?d({"":e},""):e;throw new SyntaxError("JSON.parse");})})();
(function(b,f){"object"==typeof exports?module.exports=f():"function"==typeof define&&define.amd?define(f):b.Spinner=f()})(this,function(){function b(a,c){var b=document.createElement(a||"div"),d;for(d in c)b[d]=c[d];return b}function f(a){for(var c=1,b=arguments.length;c<b;c++)a.appendChild(arguments[c]);return a}function g(a,c,b,d){var e=["opacity",c,~~(100*a),b,d].join("-");b=0.01+100*(b/d);d=Math.max(1-(1-a)/c*(100-b),a);var g=l.substring(0,l.indexOf("Animation")).toLowerCase();n[e]||(q.insertRule("@"+
(g&&"-"+g+"-"||"")+"keyframes "+e+"{0%{opacity:"+d+"}"+b+"%{opacity:"+a+"}"+(b+0.01)+"%{opacity:1}"+(b+c)%100+"%{opacity:"+a+"}100%{opacity:"+d+"}}",q.cssRules.length),n[e]=1);return e}function a(a,c){var b=a.style,d,e;if(void 0!==b[c])return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(e=0;e<h.length;e++)if(d=h[e]+c,void 0!==b[d])return d}function d(c,b){for(var d in b)c.style[a(c,d)||d]=b[d];return c}function e(a){for(var c=1;c<arguments.length;c++){var b=arguments[c],d;for(d in b)void 0===a[d]&&
(a[d]=b[d])}return a}function c(a){for(var c={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)c.x+=a.offsetLeft,c.y+=a.offsetTop;return c}function k(a){if("undefined"==typeof this)return new k(a);this.opts=e(a||{},k.defaults,p)}function m(){function a(c,d){return b("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',d)}q.addRule(".spin-vml","behavior:url(#default#VML)");k.prototype.lines=function(c,b){function e(){return d(a("group",{coordsize:h+" "+h,coordorigin:-k+" "+-k}),{width:h,
height:h})}function g(c,h,n){f(l,f(d(e(),{rotation:360/b.lines*c+"deg",left:~~h}),f(d(a("roundrect",{arcsize:b.corners}),{width:k,height:b.width,left:b.radius,top:-b.width>>1,filter:n}),a("fill",{color:b.color,opacity:b.opacity}),a("stroke",{opacity:0}))))}var k=b.length+b.width,h=2*k,n=2*-(b.width+b.length)+"px",l=d(e(),{position:"absolute",top:n,left:n});if(b.shadow)for(n=1;n<=b.lines;n++)g(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=b.lines;n++)g(n);
return f(c,l)};k.prototype.opacity=function(a,c,b,d){a=a.firstChild;d=d.shadow&&d.lines||0;if(a&&c+d<a.childNodes.length&&(a=(a=(a=a.childNodes[c+d])&&a.firstChild)&&a.firstChild))a.opacity=b}}var h=["webkit","Moz","ms","O"],n={},l,q=function(){var a=b("style",{type:"text/css"});f(document.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",
top:"auto",left:"auto",position:"relative"};k.defaults={};e(k.prototype,{spin:function(a){this.stop();var e=this,g=e.opts,k=e.el=d(b(0,{className:g.className}),{position:g.position,width:0,zIndex:g.zIndex}),h=g.radius+g.length+g.width,n,f;a&&(a.insertBefore(k,a.firstChild||null),f=c(a),n=c(k),d(k,{left:("auto"==g.left?f.x-n.x+(a.offsetWidth>>1):parseInt(g.left,10)+h)+"px",top:("auto"==g.top?f.y-n.y+(a.offsetHeight>>1):parseInt(g.top,10)+h)+"px"}));k.setAttribute("role","progressbar");e.lines(k,e.opts);
if(!l){var m=0,q=(g.lines-1)*(1-g.direction)/2,p,t=g.fps,x=t/g.speed,E=(1-g.opacity)/(x*g.trail/100),D=x/g.lines;(function P(){m++;for(var a=0;a<g.lines;a++)p=Math.max(1-(m+(g.lines-a)*D)%x*E,g.opacity),e.opacity(k,a*g.direction+q,p,g);e.timeout=e.el&&setTimeout(P,~~(1E3/t))})()}return e},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,c){function e(a,g){return d(b(),{position:"absolute",width:c.length+
c.width+"px",height:c.width+"px",background:a,boxShadow:g,transformOrigin:"left",transform:"rotate("+~~(360/c.lines*k+c.rotate)+"deg) translate("+c.radius+"px,0)",borderRadius:(c.corners*c.width>>1)+"px"})}for(var k=0,h=(c.lines-1)*(1-c.direction)/2,n;k<c.lines;k++)n=d(b(),{position:"absolute",top:1+~(c.width/2)+"px",transform:c.hwaccel?"translate3d(0,0,0)":"",opacity:c.opacity,animation:l&&g(c.opacity,c.trail,h+k*c.direction,c.lines)+" "+1/c.speed+"s linear infinite"}),c.shadow&&f(n,d(e("#000","0 0 4px #000"),
{top:"2px"})),f(a,f(n,e(c.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,c,b){c<a.childNodes.length&&(a.childNodes[c].style.opacity=b)}});var t=d(b("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?m():l=a(t,"animation");return k});
!function(b){function f(a,c){return function(b){return m(a.call(this,b),c)}}function g(a,c){return function(b){return this.lang().ordinal(a.call(this,b),c)}}function a(){}function d(a){c(this,a)}function e(a){var c=a.years||a.year||a.y||0,b=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,g=a.hours||a.hour||a.h||0,k=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,n=a.milliseconds||a.millisecond||a.ms||0;this._input=a;this._milliseconds=n+1E3*h+6E4*k+36E5*g;this._days=
e+7*d;this._months=b+12*c;this._data={};this._bubble()}function c(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function m(a,c){for(var b=a+"";b.length<c;)b="0"+b;return b}function h(a,c,b,d){var e,g,k=c._milliseconds,h=c._days;c=c._months;k&&a._d.setTime(+a._d+k*b);(h||c)&&(e=a.minute(),g=a.hour());h&&a.date(a.date()+h*b);c&&a.month(a.month()+c*b);k&&!d&&u.updateOffset(a);(h||c)&&(a.minute(e),a.hour(g))}function n(a,c){var b,d=Math.min(a.length,
c.length),e=Math.abs(a.length-c.length),g=0;for(b=0;d>b;b++)~~a[b]!==~~c[b]&&g++;return g+e}function l(a){return a?Y[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function q(a){if(!a)return u.fn._lang;if(!D[a]&&N)try{require("./lang/"+a)}catch(c){return u.fn._lang}return D[a]}function p(a){var c,b,d=a.match(W);c=0;for(b=d.length;b>c;c++)d[c]=V[d[c]]?V[d[c]]:d[c].match(/\[.*\]/)?d[c].replace(/^\[|\]$/g,""):d[c].replace(/\\/g,"");return function(e){var g="";for(c=0;b>c;c++)g+=d[c]instanceof Function?
d[c].call(e,a):d[c];return g}}function t(a,c){function b(c){return a.lang().longDateFormat(c)||c}for(var d=5;d--&&R.test(c);)c=c.replace(R,b);return fa[c]||(fa[c]=p(c)),fa[c](a)}function r(a,c){switch(a){case "DDDD":return Q;case "YYYY":return y;case "YYYYY":return O;case "S":case "SS":case "SSS":case "DDD":return I;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return G;case "a":case "A":return q(c._l)._meridiemParse;case "X":return L;case "Z":case "ZZ":return H;case "T":return K;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return U;
default:return RegExp(a.replace("\\",""))}}function v(a){a=((H.exec(a)||[])[0]+"").match(aa)||["-",0,0];var c=+(60*a[1])+~~a[2];return"+"===a[0]?-c:c}function z(a){var c,b=[];if(!a._d){for(c=0;7>c;c++)a._a[c]=b[c]=null==a._a[c]?2===c?1:0:a._a[c];b[3]+=~~((a._tzm||0)/60);b[4]+=~~((a._tzm||0)%60);c=new Date(0);a._useUTC?(c.setUTCFullYear(b[0],b[1],b[2]),c.setUTCHours(b[3],b[4],b[5],b[6])):(c.setFullYear(b[0],b[1],b[2]),c.setHours(b[3],b[4],b[5],b[6]));a._d=c}}function B(a){var c,b,d=a._f.match(W),e=
a._i;a._a=[];for(c=0;c<d.length;c++)if((b=(r(d[c],a).exec(e)||[])[0])&&(e=e.slice(e.indexOf(b)+b.length)),V[d[c]]){var g=a,k=void 0,h=g._a;switch(d[c]){case "M":case "MM":h[1]=null==b?0:~~b-1;break;case "MMM":case "MMMM":k=q(g._l).monthsParse(b);null!=k?h[1]=k:g._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=b&&(h[2]=~~b);break;case "YY":h[0]=~~b+(68<~~b?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~b;break;case "a":case "A":g._isPm=q(g._l).isPM(b);break;case "H":case "HH":case "h":case "hh":h[3]=
~~b;break;case "m":case "mm":h[4]=~~b;break;case "s":case "ss":h[5]=~~b;break;case "S":case "SS":case "SSS":h[6]=~~(1E3*("0."+b));break;case "X":g._d=new Date(1E3*parseFloat(b));break;case "Z":case "ZZ":g._useUTC=!0,g._tzm=v(b)}null==b&&(g._isValid=!1)}e&&(a._il=e);a._isPm&&12>a._a[3]&&(a._a[3]+=12);!1===a._isPm&&12===a._a[3]&&(a._a[3]=0);z(a)}function w(a,c,b,d,e){return e.relativeTime(c||1,!!b,a,d)}function A(a,c,b){var d;c=b-c;b-=a.day();return b>c&&(b-=7),c-7>b&&(b+=7),d=u(a).add("d",b),{week:Math.ceil(d.dayOfYear()/
7),year:d.year()}}function C(a){var e=a._i,g=a._f;if(null===e||""===e)a=null;else{"string"==typeof e&&(a._i=e=q().preparse(e));if(u.isMoment(e))a=c({},e),a._d=new Date(+e._d);else if(g)if("[object Array]"===Object.prototype.toString.call(g)){var e=a,k,h,f,l=99;for(f=0;f<e._f.length;f++)k=c({},e),k._f=e._f[f],B(k),g=new d(k),k=n(k._a,g.toArray()),g._il&&(k+=g._il.length),l>k&&(l=k,h=g);c(e,h)}else B(a);else if(h=a,e=h._i,g=P.exec(e),e===b)h._d=new Date;else if(g)h._d=new Date(+g[1]);else if("string"==
typeof e)if(e=h._i,g=ba.exec(e)){h._f="YYYY-MM-DD"+(g[2]||" ");for(g=0;4>g;g++)if(ya[g][1].exec(e)){h._f+=ya[g][0];break}H.exec(e)&&(h._f+=" Z");B(h)}else h._d=new Date(e);else"[object Array]"===Object.prototype.toString.call(e)?(h._a=e.slice(0),z(h)):h._d=e instanceof Date?new Date(+e):new Date(e);a=new d(a)}return a}function J(a,c){u.fn[a]=u.fn[a+"s"]=function(a){var b=this._isUTC?"UTC":"";return null!=a?(this._d["set"+b+c](a),u.updateOffset(this),this):this._d["get"+b+c]()}}function F(a){u.duration.fn[a]=
function(){return this._data[a]}}function M(a,c){u.duration.fn["as"+a]=function(){return+this/c}}for(var u,x,E=Math.round,D={},N="undefined"!=typeof module&&module.exports,P=/^\/?Date\((\-?\d+)/i,T=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,W=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,U=/\d\d?/,I=/\d{1,3}/,Q=/\d{3}/,y=/\d{1,4}/,O=/[+\-]?\d{1,6}/,
G=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,H=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,L=/[\+\-]?\d+(\.\d{1,3})?/,ba=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ya=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aa=/([\+\-]|\d\d)/gi,da=["Date","Hours","Minutes","Seconds","Milliseconds"],ea={Milliseconds:1,Seconds:1E3,
Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Y={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},fa={},X="DDD w W M D d".split(" "),S="MDHhmswW".split(""),V={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,
a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},
GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return m(~~(this.milliseconds()/
10),2)},SSS:function(){return m(this.milliseconds(),3)},Z:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+m(~~(a/60),2)+":"+m(~~a%60,2)},ZZ:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+m(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};X.length;)x=X.pop(),V[x+"o"]=g(V[x],x);for(;S.length;)x=S.pop(),V[x+x]=f(V[x],2);V.DDDD=f(V.DDD,3);a.prototype={set:function(a){var c,b;for(b in a)c=a[b],"function"==typeof c?this[b]=
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
c:this["_"+b]=c},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var c,b,d;this._monthsParse||(this._monthsParse=[]);for(c=0;12>c;c++)if(this._monthsParse[c]||(b=u([2E3,c]),d="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[c]=
RegExp(d.replace(".",""),"i")),this._monthsParse[c].test(a))return c},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var c,b,d;this._weekdaysParse||(this._weekdaysParse=
[]);for(c=0;7>c;c++)if(this._weekdaysParse[c]||(b=u([2E3,1]).day(c),d="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[c]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[c].test(a))return c},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var c=this._longDateFormat[a];return!c&&this._longDateFormat[a.toUpperCase()]&&(c=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=c),c},isPM:function(a){return"p"===(a+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,c,b){return 11<a?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,c){var b=this._calendar[a];return"function"==typeof b?b.apply(c):b},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,c,b,d){var e=this._relativeTime[b];return"function"==typeof e?e(a,c,b,d):e.replace(/%d/i,a)},pastFuture:function(a,c){var b=this._relativeTime[0<a?"future":"past"];return"function"==typeof b?b(c):b.replace(/%s/i,c)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},
<<<<<<< HEAD
week:function(a){return A(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};u=function(a,c,b){return C({_i:a,_f:c,_l:b,_isUTC:!1})};u.utc=function(a,c,b){return C({_useUTC:!0,_isUTC:!0,_l:b,_i:a,_f:c})};u.unix=function(a){return u(1E3*a)};u.duration=function(a,c){var b,d,e=u.isDuration(a),k="number"==typeof a,h=e?a._input:k?{}:a,p=T.exec(a);return k?c?h[c]=a:h.milliseconds=a:p&&(b="-"===p[1]?-1:1,h={y:0,d:~~p[2]*b,h:~~p[3]*b,m:~~p[4]*b,s:~~p[5]*b,ms:~~p[6]*b}),d=new g(h),e&&a.hasOwnProperty("_lang")&&
(d._lang=a._lang),d};u.version="2.1.0";u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";u.updateOffset=function(){};u.lang=function(c,b){return c?(b?(b.abbr=c,D[c]||(D[c]=new a),D[c].set(b)):D[c]||m(c),u.duration.fn._lang=u.fn._lang=m(c),void 0):u.fn._lang._abbr};u.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),m(a)};u.isMoment=function(a){return a instanceof d};u.isDuration=function(a){return a instanceof g};u.fn=d.prototype={clone:function(){return u(this)},valueOf:function(){return+this._d+
6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return t(u(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!p(this._a,(this._isUTC?
u.utc(this._a):u(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=t(this,a||u.defaultFormat);return this.lang().postformat(a)},add:function(a,c){var b;return b="string"==typeof a?u.duration(+c,a):u.duration(a,c),h(this,b,1),this},subtract:function(a,c){var b;return b="string"==typeof a?u.duration(+c,a):u.duration(a,c),h(this,b,-1),this},diff:function(a,c,b){var d,e;a=
this._isUTC?u(a).zone(this._offset||0):u(a).local();var g=6E4*(this.zone()-a.zone());return c=n(c),"year"===c||"month"===c?(d=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),e+=(this-u(this).startOf("month")-(a-u(a).startOf("month")))/d,e-=6E4*(this.zone()-u(this).startOf("month").zone()-(a.zone()-u(a).startOf("month").zone()))/d,"year"===c&&(e/=12)):(d=this-a,e="second"===c?d/1E3:"minute"===c?d/6E4:"hour"===c?d/36E5:"day"===c?(d-g)/864E5:"week"===c?
(d-g)/6048E5:d),b?e:k(e)},from:function(a,c){return u.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!c)},fromNow:function(a){return this.from(u(),a)},calendar:function(){var a=this.diff(u().startOf("day"),"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||
this.zone()<this.clone().month(5).zone()},day:function(a){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-c}):c},month:function(a){var c,b=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(c=this.date(),this.date(1),this._d["set"+b+"Month"](a),this.date(Math.min(c,this.daysInMonth())),u.updateOffset(this),this):this._d["get"+
b+"Month"]()},startOf:function(a){switch(a=n(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)>+u(a).startOf(c)},isBefore:function(a,c){return c="undefined"!=typeof c?
c:"millisecond",+this.clone().startOf(c)<+u(a).startOf(c)},isSame:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)===+u(a).startOf(c)},min:function(a){return a=u.apply(null,arguments),this>a?this:a},max:function(a){return a=u.apply(null,arguments),a>this?this:a},zone:function(a){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=v(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&h(this,u.duration(c-
a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return u.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var c=E((u(this).startOf("day")-u(this).startOf("year"))/864E5)+1;return null==a?c:this.add("d",a-c)},weekYear:function(a){var c=A(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?c:this.add("y",a-c)},isoWeekYear:function(a){var c=A(this,1,4).year;
return null==a?c:this.add("y",a-c)},week:function(a){var c=this.lang().week(this);return null==a?c:this.add("d",7*(a-c))},isoWeek:function(a){var c=A(this,1,4).week;return null==a?c:this.add("d",7*(a-c))},weekday:function(a){var c=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?c:this.add("d",a-c)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(a){return a===b?this._lang:(this._lang=m(a),this)}};for(y=0;y<da.length;y++)I(da[y].toLowerCase().replace(/s$/,
""),da[y]);I("year","FullYear");u.fn.days=u.fn.day;u.fn.months=u.fn.month;u.fn.weeks=u.fn.week;u.fn.isoWeeks=u.fn.isoWeek;u.fn.toJSON=u.fn.toISOString;u.duration.fn=g.prototype={_bubble:function(){var a,c;a=this._milliseconds;c=this._days;var b=this._months,d=this._data;d.milliseconds=a%1E3;a=k(a/1E3);d.seconds=a%60;a=k(a/60);d.minutes=a%60;a=k(a/60);d.hours=a%24;c+=k(a/24);d.days=c%30;b+=k(c/30);d.months=b%12;c=k(b/12);d.years=c},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(a){var c=+this,b;b=!a;var d=this.lang(),e=E(Math.abs(c)/1E3),g=E(e/60),k=E(g/60),h=E(k/24),p=E(h/365),e=45>e&&["s",e]||1===g&&["m"]||45>g&&["mm",g]||1===k&&["h"]||22>k&&["hh",k]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",E(h/30)]||1===p&&["y"]||["yy",p];b=(e[2]=b,e[3]=0<c,e[4]=d,x.apply({},e));return a&&(b=this.lang().pastFuture(c,b)),this.lang().postformat(b)},add:function(a,c){var b=u.duration(a,
c);return this._milliseconds+=b._milliseconds,this._days+=b._days,this._months+=b._months,this._bubble(),this},subtract:function(a,c){var b=u.duration(a,c);return this._milliseconds-=b._milliseconds,this._days-=b._days,this._months-=b._months,this._bubble(),this},get:function(a){return a=n(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=n(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:u.fn.lang};for(y in ea)ea.hasOwnProperty(y)&&(L(y,ea[y]),F(y.toLowerCase()));L("Weeks",6048E5);
u.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};u.lang("en",{ordinal:function(a){var c=a%10;return a+(1===~~(a%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th")}});M&&(module.exports=u);"undefined"==typeof ender&&(this.moment=u);"function"==typeof define&&define.amd&&define("moment",[],function(){return u})}.call(this);function plural(b,f){var e=b.split("_");return 1===f%10&&11!==f%100?e[0]:2<=f%10&&4>=f%10&&(10>f%100||20<=f%100)?e[1]:e[2]}
function relativeTimeWithPlural(b,f,e){var a={mm:"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"};return"m"===
e?f?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":b+" "+plural(a[e],+b)}
=======
week:function(a){return A(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};u=function(a,c,b){return C({_i:a,_f:c,_l:b,_isUTC:!1})};u.utc=function(a,c,b){return C({_useUTC:!0,_isUTC:!0,_l:b,_i:a,_f:c})};u.unix=function(a){return u(1E3*a)};u.duration=function(a,c){var b,d,g=u.isDuration(a),h="number"==typeof a,k=g?a._input:h?{}:a,n=T.exec(a);return h?c?k[c]=a:k.milliseconds=a:n&&(b="-"===n[1]?-1:1,k={y:0,d:~~n[2]*b,h:~~n[3]*b,m:~~n[4]*b,s:~~n[5]*b,ms:~~n[6]*b}),d=new e(k),g&&a.hasOwnProperty("_lang")&&
(d._lang=a._lang),d};u.version="2.1.0";u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";u.updateOffset=function(){};u.lang=function(c,b){return c?(b?(b.abbr=c,D[c]||(D[c]=new a),D[c].set(b)):D[c]||q(c),u.duration.fn._lang=u.fn._lang=q(c),void 0):u.fn._lang._abbr};u.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),q(a)};u.isMoment=function(a){return a instanceof d};u.isDuration=function(a){return a instanceof e};u.fn=d.prototype={clone:function(){return u(this)},valueOf:function(){return+this._d+
6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return t(u(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!n(this._a,(this._isUTC?
u.utc(this._a):u(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=t(this,a||u.defaultFormat);return this.lang().postformat(a)},add:function(a,c){var b;return b="string"==typeof a?u.duration(+c,a):u.duration(a,c),h(this,b,1),this},subtract:function(a,c){var b;return b="string"==typeof a?u.duration(+c,a):u.duration(a,c),h(this,b,-1),this},diff:function(a,c,b){var d,e;a=
this._isUTC?u(a).zone(this._offset||0):u(a).local();var g=6E4*(this.zone()-a.zone());return c=l(c),"year"===c||"month"===c?(d=432E5*(this.daysInMonth()+a.daysInMonth()),e=12*(this.year()-a.year())+(this.month()-a.month()),e+=(this-u(this).startOf("month")-(a-u(a).startOf("month")))/d,e-=6E4*(this.zone()-u(this).startOf("month").zone()-(a.zone()-u(a).startOf("month").zone()))/d,"year"===c&&(e/=12)):(d=this-a,e="second"===c?d/1E3:"minute"===c?d/6E4:"hour"===c?d/36E5:"day"===c?(d-g)/864E5:"week"===c?
(d-g)/6048E5:d),b?e:k(e)},from:function(a,c){return u.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!c)},fromNow:function(a){return this.from(u(),a)},calendar:function(){var a=this.diff(u().startOf("day"),"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||
this.zone()<this.clone().month(5).zone()},day:function(a){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-c}):c},month:function(a){var c,b=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(c=this.date(),this.date(1),this._d["set"+b+"Month"](a),this.date(Math.min(c,this.daysInMonth())),u.updateOffset(this),this):this._d["get"+
b+"Month"]()},startOf:function(a){switch(a=l(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),this},endOf:function(a){return this.startOf(a).add(a,1).subtract("ms",1)},isAfter:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)>+u(a).startOf(c)},isBefore:function(a,c){return c="undefined"!=typeof c?
c:"millisecond",+this.clone().startOf(c)<+u(a).startOf(c)},isSame:function(a,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)===+u(a).startOf(c)},min:function(a){return a=u.apply(null,arguments),this>a?this:a},max:function(a){return a=u.apply(null,arguments),a>this?this:a},zone:function(a){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=v(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&h(this,u.duration(c-
a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return u.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var c=E((u(this).startOf("day")-u(this).startOf("year"))/864E5)+1;return null==a?c:this.add("d",a-c)},weekYear:function(a){var c=A(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?c:this.add("y",a-c)},isoWeekYear:function(a){var c=A(this,1,4).year;
return null==a?c:this.add("y",a-c)},week:function(a){var c=this.lang().week(this);return null==a?c:this.add("d",7*(a-c))},isoWeek:function(a){var c=A(this,1,4).week;return null==a?c:this.add("d",7*(a-c))},weekday:function(a){var c=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?c:this.add("d",a-c)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},lang:function(a){return a===b?this._lang:(this._lang=q(a),this)}};for(x=0;x<da.length;x++)J(da[x].toLowerCase().replace(/s$/,
""),da[x]);J("year","FullYear");u.fn.days=u.fn.day;u.fn.months=u.fn.month;u.fn.weeks=u.fn.week;u.fn.isoWeeks=u.fn.isoWeek;u.fn.toJSON=u.fn.toISOString;u.duration.fn=e.prototype={_bubble:function(){var a,c;a=this._milliseconds;c=this._days;var b=this._months,d=this._data;d.milliseconds=a%1E3;a=k(a/1E3);d.seconds=a%60;a=k(a/60);d.minutes=a%60;a=k(a/60);d.hours=a%24;c+=k(a/24);d.days=c%30;b+=k(c/30);d.months=b%12;c=k(b/12);d.years=c},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(a){var c=+this,b;b=!a;var d=this.lang(),e=E(Math.abs(c)/1E3),g=E(e/60),h=E(g/60),k=E(h/24),n=E(k/365),e=45>e&&["s",e]||1===g&&["m"]||45>g&&["mm",g]||1===h&&["h"]||22>h&&["hh",h]||1===k&&["d"]||25>=k&&["dd",k]||45>=k&&["M"]||345>k&&["MM",E(k/30)]||1===n&&["y"]||["yy",n];b=(e[2]=b,e[3]=0<c,e[4]=d,w.apply({},e));return a&&(b=this.lang().pastFuture(c,b)),this.lang().postformat(b)},add:function(a,c){var b=u.duration(a,
c);return this._milliseconds+=b._milliseconds,this._days+=b._days,this._months+=b._months,this._bubble(),this},subtract:function(a,c){var b=u.duration(a,c);return this._milliseconds-=b._milliseconds,this._days-=b._days,this._months-=b._months,this._bubble(),this},get:function(a){return a=l(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=l(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:u.fn.lang};for(x in ea)ea.hasOwnProperty(x)&&(M(x,ea[x]),F(x.toLowerCase()));M("Weeks",6048E5);
u.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};u.lang("en",{ordinal:function(a){var c=a%10;return a+(1===~~(a%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th")}});N&&(module.exports=u);"undefined"==typeof ender&&(this.moment=u);"function"==typeof define&&define.amd&&define("moment",[],function(){return u})}.call(this);function plural(b,f){var g=b.split("_");return 1===f%10&&11!==f%100?g[0]:2<=f%10&&4>=f%10&&(10>f%100||20<=f%100)?g[1]:g[2]}
function relativeTimeWithPlural(b,f,g){var a={mm:"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"};return"m"===
g?f?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":b+" "+plural(a[g],+b)}
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
function monthsCaseReplace(b,f){return{nominative:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),accusative:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" ")}[/D[oD]? *MMMM?/.test(f)?
"accusative":"nominative"][b.month()]}
function weekdaysCaseReplace(b,f){return{nominative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),accusative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0443 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0443 \u0441\u0443\u0431\u0431\u043e\u0442\u0443".split(" ")}[/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e)? ?\] ?dddd/.test(f)?"accusative":
"nominative"][b.day()]}
moment.lang("ru",{months:monthsCaseReplace,monthsShort:"\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0439 \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a".split(" "),weekdays:weekdaysCaseReplace,weekdaysShort:"\u0432\u0441\u043a \u043f\u043d\u0434 \u0432\u0442\u0440 \u0441\u0440\u0434 \u0447\u0442\u0432 \u043f\u0442\u043d \u0441\u0431\u0442".split(" "),weekdaysMin:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),
longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., LT",LLLL:"dddd, D MMMM YYYY \u0433., LT"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",nextWeek:function(){return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT"},lastWeek:function(){switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd [\u0432] LT";
case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"\u0447\u0430\u0441",hh:relativeTimeWithPlural,
d:"\u0434\u0435\u043d\u044c",dd:relativeTimeWithPlural,M:"\u043c\u0435\u0441\u044f\u0446",MM:relativeTimeWithPlural,y:"\u0433\u043e\u0434",yy:relativeTimeWithPlural},ordinal:function(b,f){switch(f){case "M":case "d":case "DDD":return b+"-\u0439";case "D":return b+"-\u0433\u043e";case "w":case "W":return b+"-\u044f";default:return b}},week:{dow:1,doy:7}});
<<<<<<< HEAD
var Handlebars=function(){var b=function(){function a(c){this.string=c}a.prototype.toString=function(){return""+this.string};return a}(),f=function(a){function b(a){return e[a]||"&amp;"}var d={},e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g=/[&<>"'`]/g,f=/[&<>"'`]/;d.extend=function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};var m=Object.prototype.toString;d.toString=m;var q=function(a){return"function"===typeof a};q(/x/)&&(q=function(a){return"function"===
typeof a&&"[object Function]"===m.call(a)});d.isFunction=q;var t=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===m.call(a):!1};d.isArray=t;d.escapeExpression=function(d){if(d instanceof a)return d.toString();if(!d&&0!==d)return"";d=""+d;return!f.test(d)?d:d.replace(g,b)};d.isEmpty=function(a){return!a&&0!==a?!0:t(a)&&0===a.length?!0:!1};return d}(b),e=function(){function a(c,d){var e;d&&d.firstLine&&(e=d.firstLine,c+=" - "+e+":"+d.firstColumn);for(var g=Error.prototype.constructor.call(this,
c),f=0;f<b.length;f++)this[b[f]]=g[b[f]];e&&(this.lineNumber=e,this.column=d.firstColumn)}var b="description fileName lineNumber message name number stack".split(" ");a.prototype=Error();return a}(),a=function(a,b){function d(a,c){this.helpers=a||{};this.partials=c||{};e(this)}function e(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new q("Missing helper: '"+a+"'");});a.registerHelper("blockHelperMissing",function(c,b){var d=b.inverse||function(){},e=b.fn;r(c)&&(c=
c.call(this));return!0===c?e(this):!1===c||null==c?d(this):t(c)?0<c.length?a.helpers.each(c,b):d(this):e(c)});a.registerHelper("each",function(a,c){var b=c.fn,d=c.inverse,e=0,g="",k;r(a)&&(a=a.call(this));c.data&&(k=B(c.data));if(a&&"object"===typeof a)if(t(a))for(var h=a.length;e<h;e++)k&&(k.index=e,k.first=0===e,k.last=e===a.length-1),g+=b(a[e],{data:k});else for(h in a)a.hasOwnProperty(h)&&(k&&(k.key=h,k.index=e,k.first=0===e),g+=b(a[h],{data:k}),e++);0===e&&(g=d(this));return g});a.registerHelper("if",
function(a,c){r(a)&&(a=a.call(this));return!c.hash.includeZero&&!a||m.isEmpty(a)?c.inverse(this):c.fn(this)});a.registerHelper("unless",function(c,b){return a.helpers["if"].call(this,c,{fn:b.inverse,inverse:b.fn,hash:b.hash})});a.registerHelper("with",function(a,c){r(a)&&(a=a.call(this));if(!m.isEmpty(a))return c.fn(a)});a.registerHelper("log",function(c,b){var d=b.data&&null!=b.data.level?parseInt(b.data.level,10):1;a.log(d,c)})}function g(a,c){w.log(a,c)}var f={},m=a,q=b;f.VERSION="1.3.0";f.COMPILER_REVISION=
4;f.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var t=m.isArray,r=m.isFunction,v=m.toString;f.HandlebarsEnvironment=d;d.prototype={constructor:d,logger:w,log:g,registerHelper:function(a,c,b){if("[object Object]"===v.call(a)){if(b||c)throw new q("Arg not supported with multiple helpers");m.extend(this.helpers,a)}else b&&(c.not=b),this.helpers[a]=c},registerPartial:function(a,c){"[object Object]"===v.call(a)?m.extend(this.partials,a):this.partials[a]=c}};var w=
{methodMap:{"0":"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,c){if(w.level<=a){var b=w.methodMap[a];"undefined"!==typeof console&&console[b]&&console[b].call(console,c)}}};f.logger=w;f.log=g;var B=function(a){var c={};m.extend(c,a);return c};f.createFrame=B;return f}(f,e),d=function(a,b,d){function e(a,c,b){var d=function(a,d){d=d||{};return c(a,d.data||b)};d.program=a;d.depth=0;return d}var g={},f=d.COMPILER_REVISION,m=d.REVISION_CHANGES;g.checkRevision=
function(a){var c=a&&a[0]||1;if(c!==f){if(c<f)throw new b("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+m[f]+") or downgrade your runtime to an older version ("+m[c]+").");throw new b("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};g.template=function(d,g){if(!g)throw new b("No environment passed to template");
var p={escapeExpression:a.escapeExpression,invokePartial:function(a,c,d,e,h,p){var f=g.VM.invokePartial.apply(this,arguments);if(null!=f)return f;if(g.compile)return f={helpers:e,partials:h,data:p},h[c]=g.compile(a,{data:void 0!==p},g),h[c](d,f);throw new b("The partial "+c+" could not be compiled when running in runtime-only mode");},programs:[],program:function(a,c,b){var d=this.programs[a];b?d=e(a,c,b):d||(d=this.programs[a]=e(a,c));return d},merge:function(b,d){var e=b||d;b&&(d&&b!==d)&&(e={},
a.extend(e,d),a.extend(e,b));return e},programWithDepth:g.VM.programWithDepth,noop:g.VM.noop,compilerInfo:null};return function(a,c){c=c||{};var b=c.partial?c:g,e,k;c.partial||(e=c.helpers,k=c.partials);b=d.call(p,b,a,e,k,c.data);c.partial||g.VM.checkRevision(p.compilerInfo);return b}};g.programWithDepth=function(a,c,b){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){e=e||{};return c.apply(this,[a,e.data||b].concat(d))};e.program=a;e.depth=d.length;return e};g.program=e;g.invokePartial=
function(a,c,d,e,g,h){e={partial:!0,helpers:e,partials:g,data:h};if(void 0===a)throw new b("The partial "+c+" could not be found");if(a instanceof Function)return a(d,e)};g.noop=function(){return""};return g}(f,e,a),b=function(a,b,d,e,g){var f=function(){var f=new a.HandlebarsEnvironment;e.extend(f,a);f.SafeString=b;f.Exception=d;f.Utils=e;f.VM=g;f.template=function(a){return g.template(a,f)};return f},m=f();m.create=f;return m}(a,b,e,f,d),f=function(a){function b(a){a=a||{};this.firstLine=a.first_line;
this.firstColumn=a.first_column;this.lastColumn=a.last_column;this.lastLine=a.last_line}var d={ProgramNode:function(a,c,e,g){var f;3===arguments.length?(g=e,e=null):2===arguments.length&&(g=c,c=null);b.call(this,g);this.type="program";this.statements=a;this.strip={};e?((f=e[0])?(f={first_line:f.firstLine,last_line:f.lastLine,last_column:f.lastColumn,first_column:f.firstColumn},this.inverse=new d.ProgramNode(e,c,f)):this.inverse=new d.ProgramNode(e,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},
MustacheNode:function(a,c,e,g,f){b.call(this,f);this.type="mustache";this.strip=g;null!=e&&e.charAt?(e=e.charAt(3)||e.charAt(2),this.escaped="{"!==e&&"&"!==e):this.escaped=!!e;this.sexpr=a instanceof d.SexprNode?a:new d.SexprNode(a,c);this.sexpr.isRoot=!0;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d);this.type="sexpr";this.hash=c;d=this.id=a[0];
a=this.params=a.slice(1);this.isHelper=(this.eligibleHelper=d.isSimple)&&(a.length||c)},PartialNode:function(a,c,d,e){b.call(this,e);this.type="partial";this.partialName=a;this.context=c;this.strip=d},BlockNode:function(d,e,g,f,l){b.call(this,l);if(d.sexpr.id.original!==f.path.original)throw new a(d.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block";this.mustache=d;this.program=e;this.inverse=g;this.strip={left:d.strip.left,right:f.strip.right};(e||g).strip.left=d.strip.right;
(g||e).strip.right=f.strip.left;g&&!e&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c);this.type="content";this.string=a},HashNode:function(a,c){b.call(this,c);this.type="hash";this.pairs=a},IdNode:function(d,e){b.call(this,e);this.type="ID";for(var g="",f=[],l=0,t=0,r=d.length;t<r;t++){var v=d[t].part,g=g+((d[t].separator||"")+v);if(".."===v||"."===v||"this"===v){if(0<f.length)throw new a("Invalid path: "+g,this);".."===v?l++:this.isScoped=!0}else f.push(v)}this.original=g;this.parts=
f;this.string=f.join(".");this.depth=l;this.isSimple=1===d.length&&!this.isScoped&&0===l;this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c);this.type="PARTIAL_NAME";this.name=a.original},DataNode:function(a,c){b.call(this,c);this.type="DATA";this.id=a},StringNode:function(a,c){b.call(this,c);this.type="STRING";this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c);this.type="INTEGER";this.original=this.integer=a;this.stringModeValue=
Number(a)},BooleanNode:function(a,c){b.call(this,c);this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c);this.type="comment";this.comment=a}};return d}(e),d=function(a,b){var d={};d.parser=a;d.parse=function(d){if(d.constructor===b.ProgramNode)return d;a.yy=b;return a.parse(d)};return d}(function(){return function(){function a(c,b){return{left:"~"===c.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var d={trace:function(){},
yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,
ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,
3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,d,e,g,k,h,f){b=h.length-1;switch(k){case 1:return new g.ProgramNode(h[b-1],this._$);case 2:return new g.ProgramNode([],this._$);case 3:this.$=new g.ProgramNode([],h[b-1],h[b],this._$);break;case 4:this.$=new g.ProgramNode(h[b-2],h[b-1],h[b],this._$);break;case 5:this.$=new g.ProgramNode(h[b-
1],h[b],[],this._$);break;case 6:this.$=new g.ProgramNode(h[b],this._$);break;case 7:this.$=new g.ProgramNode([],this._$);break;case 8:this.$=new g.ProgramNode([],this._$);break;case 9:this.$=[h[b]];break;case 10:h[b-1].push(h[b]);this.$=h[b-1];break;case 11:this.$=new g.BlockNode(h[b-2],h[b-1].inverse,h[b-1],h[b],this._$);break;case 12:this.$=new g.BlockNode(h[b-2],h[b-1],h[b-1].inverse,h[b],this._$);break;case 13:this.$=h[b];break;case 14:this.$=h[b];break;case 15:this.$=new g.ContentNode(h[b],
this._$);break;case 16:this.$=new g.CommentNode(h[b],this._$);break;case 17:this.$=new g.MustacheNode(h[b-1],null,h[b-2],a(h[b-2],h[b]),this._$);break;case 18:this.$=new g.MustacheNode(h[b-1],null,h[b-2],a(h[b-2],h[b]),this._$);break;case 19:this.$={path:h[b-1],strip:a(h[b-2],h[b])};break;case 20:this.$=new g.MustacheNode(h[b-1],null,h[b-2],a(h[b-2],h[b]),this._$);break;case 21:this.$=new g.MustacheNode(h[b-1],null,h[b-2],a(h[b-2],h[b]),this._$);break;case 22:this.$=new g.PartialNode(h[b-2],h[b-1],
a(h[b-3],h[b]),this._$);break;case 23:this.$=a(h[b-1],h[b]);break;case 24:this.$=new g.SexprNode([h[b-2]].concat(h[b-1]),h[b],this._$);break;case 25:this.$=new g.SexprNode([h[b]],null,this._$);break;case 26:this.$=h[b];break;case 27:this.$=new g.StringNode(h[b],this._$);break;case 28:this.$=new g.IntegerNode(h[b],this._$);break;case 29:this.$=new g.BooleanNode(h[b],this._$);break;case 30:this.$=h[b];break;case 31:h[b-1].isHelper=!0;this.$=h[b-1];break;case 32:this.$=new g.HashNode(h[b],this._$);break;
case 33:this.$=[h[b-2],h[b]];break;case 34:this.$=new g.PartialNameNode(h[b],this._$);break;case 35:this.$=new g.PartialNameNode(new g.StringNode(h[b],this._$),this._$);break;case 36:this.$=new g.PartialNameNode(new g.IntegerNode(h[b],this._$));break;case 37:this.$=new g.DataNode(h[b],this._$);break;case 38:this.$=new g.IdNode(h[b],this._$);break;case 39:h[b-2].push({part:h[b],separator:h[b-1]});this.$=h[b-2];break;case 40:this.$=[{part:h[b]}];break;case 43:this.$=[];break;case 44:h[b-1].push(h[b]);
break;case 47:this.$=[h[b]];break;case 48:h[b-1].push(h[b])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},
=======
var Handlebars=function(){var b=function(){function a(c){this.string=c}a.prototype.toString=function(){return""+this.string};return a}(),f=function(a){function b(a){return e[a]||"&amp;"}var d={},e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g=/[&<>"'`]/g,f=/[&<>"'`]/;d.extend=function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};var q=Object.prototype.toString;d.toString=q;var p=function(a){return"function"===typeof a};p(/x/)&&(p=function(a){return"function"===
typeof a&&"[object Function]"===q.call(a)});d.isFunction=p;var t=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===q.call(a):!1};d.isArray=t;d.escapeExpression=function(d){if(d instanceof a)return d.toString();if(!d&&0!==d)return"";d=""+d;return!f.test(d)?d:d.replace(g,b)};d.isEmpty=function(a){return!a&&0!==a?!0:t(a)&&0===a.length?!0:!1};return d}(b),g=function(){function a(c,d){var e;d&&d.firstLine&&(e=d.firstLine,c+=" - "+e+":"+d.firstColumn);for(var g=Error.prototype.constructor.call(this,
c),f=0;f<b.length;f++)this[b[f]]=g[b[f]];e&&(this.lineNumber=e,this.column=d.firstColumn)}var b="description fileName lineNumber message name number stack".split(" ");a.prototype=Error();return a}(),a=function(a,b){function d(a,c){this.helpers=a||{};this.partials=c||{};e(this)}function e(a){a.registerHelper("helperMissing",function(a){if(2!==arguments.length)throw new p("Missing helper: '"+a+"'");});a.registerHelper("blockHelperMissing",function(c,b){var d=b.inverse||function(){},e=b.fn;r(c)&&(c=
c.call(this));return!0===c?e(this):!1===c||null==c?d(this):t(c)?0<c.length?a.helpers.each(c,b):d(this):e(c)});a.registerHelper("each",function(a,c){var b=c.fn,d=c.inverse,e=0,g="",k;r(a)&&(a=a.call(this));c.data&&(k=B(c.data));if(a&&"object"===typeof a)if(t(a))for(var h=a.length;e<h;e++)k&&(k.index=e,k.first=0===e,k.last=e===a.length-1),g+=b(a[e],{data:k});else for(h in a)a.hasOwnProperty(h)&&(k&&(k.key=h,k.index=e,k.first=0===e),g+=b(a[h],{data:k}),e++);0===e&&(g=d(this));return g});a.registerHelper("if",
function(a,c){r(a)&&(a=a.call(this));return!c.hash.includeZero&&!a||q.isEmpty(a)?c.inverse(this):c.fn(this)});a.registerHelper("unless",function(c,b){return a.helpers["if"].call(this,c,{fn:b.inverse,inverse:b.fn,hash:b.hash})});a.registerHelper("with",function(a,c){r(a)&&(a=a.call(this));if(!q.isEmpty(a))return c.fn(a)});a.registerHelper("log",function(c,b){var d=b.data&&null!=b.data.level?parseInt(b.data.level,10):1;a.log(d,c)})}function g(a,c){z.log(a,c)}var f={},q=a,p=b;f.VERSION="1.3.0";f.COMPILER_REVISION=
4;f.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var t=q.isArray,r=q.isFunction,v=q.toString;f.HandlebarsEnvironment=d;d.prototype={constructor:d,logger:z,log:g,registerHelper:function(a,c,b){if("[object Object]"===v.call(a)){if(b||c)throw new p("Arg not supported with multiple helpers");q.extend(this.helpers,a)}else b&&(c.not=b),this.helpers[a]=c},registerPartial:function(a,c){"[object Object]"===v.call(a)?q.extend(this.partials,a):this.partials[a]=c}};var z=
{methodMap:{"0":"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,c){if(z.level<=a){var b=z.methodMap[a];"undefined"!==typeof console&&console[b]&&console[b].call(console,c)}}};f.logger=z;f.log=g;var B=function(a){var c={};q.extend(c,a);return c};f.createFrame=B;return f}(f,g),d=function(a,b,d){function e(a,c,b){var d=function(a,d){d=d||{};return c(a,d.data||b)};d.program=a;d.depth=0;return d}var g={},f=d.COMPILER_REVISION,q=d.REVISION_CHANGES;g.checkRevision=
function(a){var c=a&&a[0]||1;if(c!==f){if(c<f)throw new b("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+q[f]+") or downgrade your runtime to an older version ("+q[c]+").");throw new b("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};g.template=function(d,g){if(!g)throw new b("No environment passed to template");
var f={escapeExpression:a.escapeExpression,invokePartial:function(a,c,d,e,h,f){var n=g.VM.invokePartial.apply(this,arguments);if(null!=n)return n;if(g.compile)return n={helpers:e,partials:h,data:f},h[c]=g.compile(a,{data:void 0!==f},g),h[c](d,n);throw new b("The partial "+c+" could not be compiled when running in runtime-only mode");},programs:[],program:function(a,c,b){var d=this.programs[a];b?d=e(a,c,b):d||(d=this.programs[a]=e(a,c));return d},merge:function(b,d){var e=b||d;b&&(d&&b!==d)&&(e={},
a.extend(e,d),a.extend(e,b));return e},programWithDepth:g.VM.programWithDepth,noop:g.VM.noop,compilerInfo:null};return function(a,c){c=c||{};var b=c.partial?c:g,e,k;c.partial||(e=c.helpers,k=c.partials);b=d.call(f,b,a,e,k,c.data);c.partial||g.VM.checkRevision(f.compilerInfo);return b}};g.programWithDepth=function(a,c,b){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){e=e||{};return c.apply(this,[a,e.data||b].concat(d))};e.program=a;e.depth=d.length;return e};g.program=e;g.invokePartial=
function(a,c,d,e,g,h){e={partial:!0,helpers:e,partials:g,data:h};if(void 0===a)throw new b("The partial "+c+" could not be found");if(a instanceof Function)return a(d,e)};g.noop=function(){return""};return g}(f,g,a),b=function(a,b,d,e,g){var f=function(){var f=new a.HandlebarsEnvironment;e.extend(f,a);f.SafeString=b;f.Exception=d;f.Utils=e;f.VM=g;f.template=function(a){return g.template(a,f)};return f},q=f();q.create=f;return q}(a,b,g,f,d),f=function(a){function b(a){a=a||{};this.firstLine=a.first_line;
this.firstColumn=a.first_column;this.lastColumn=a.last_column;this.lastLine=a.last_line}var d={ProgramNode:function(a,c,e,g){var f;3===arguments.length?(g=e,e=null):2===arguments.length&&(g=c,c=null);b.call(this,g);this.type="program";this.statements=a;this.strip={};e?((f=e[0])?(f={first_line:f.firstLine,last_line:f.lastLine,last_column:f.lastColumn,first_column:f.firstColumn},this.inverse=new d.ProgramNode(e,c,f)):this.inverse=new d.ProgramNode(e,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},
MustacheNode:function(a,c,e,g,f){b.call(this,f);this.type="mustache";this.strip=g;null!=e&&e.charAt?(e=e.charAt(3)||e.charAt(2),this.escaped="{"!==e&&"&"!==e):this.escaped=!!e;this.sexpr=a instanceof d.SexprNode?a:new d.SexprNode(a,c);this.sexpr.isRoot=!0;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d);this.type="sexpr";this.hash=c;d=this.id=a[0];
a=this.params=a.slice(1);this.isHelper=(this.eligibleHelper=d.isSimple)&&(a.length||c)},PartialNode:function(a,c,d,e){b.call(this,e);this.type="partial";this.partialName=a;this.context=c;this.strip=d},BlockNode:function(d,e,g,f,m){b.call(this,m);if(d.sexpr.id.original!==f.path.original)throw new a(d.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block";this.mustache=d;this.program=e;this.inverse=g;this.strip={left:d.strip.left,right:f.strip.right};(e||g).strip.left=d.strip.right;
(g||e).strip.right=f.strip.left;g&&!e&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c);this.type="content";this.string=a},HashNode:function(a,c){b.call(this,c);this.type="hash";this.pairs=a},IdNode:function(d,e){b.call(this,e);this.type="ID";for(var g="",f=[],m=0,t=0,r=d.length;t<r;t++){var v=d[t].part,g=g+((d[t].separator||"")+v);if(".."===v||"."===v||"this"===v){if(0<f.length)throw new a("Invalid path: "+g,this);".."===v?m++:this.isScoped=!0}else f.push(v)}this.original=g;this.parts=
f;this.string=f.join(".");this.depth=m;this.isSimple=1===d.length&&!this.isScoped&&0===m;this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c);this.type="PARTIAL_NAME";this.name=a.original},DataNode:function(a,c){b.call(this,c);this.type="DATA";this.id=a},StringNode:function(a,c){b.call(this,c);this.type="STRING";this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c);this.type="INTEGER";this.original=this.integer=a;this.stringModeValue=
Number(a)},BooleanNode:function(a,c){b.call(this,c);this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c);this.type="comment";this.comment=a}};return d}(g),d=function(a,b){var d={};d.parser=a;d.parse=function(d){if(d.constructor===b.ProgramNode)return d;a.yy=b;return a.parse(d)};return d}(function(){return function(){function a(c,b){return{left:"~"===c.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var d={trace:function(){},
yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,
ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,
3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,d,e,g,k,f,h){b=f.length-1;switch(k){case 1:return new g.ProgramNode(f[b-1],this._$);case 2:return new g.ProgramNode([],this._$);case 3:this.$=new g.ProgramNode([],f[b-1],f[b],this._$);break;case 4:this.$=new g.ProgramNode(f[b-2],f[b-1],f[b],this._$);break;case 5:this.$=new g.ProgramNode(f[b-
1],f[b],[],this._$);break;case 6:this.$=new g.ProgramNode(f[b],this._$);break;case 7:this.$=new g.ProgramNode([],this._$);break;case 8:this.$=new g.ProgramNode([],this._$);break;case 9:this.$=[f[b]];break;case 10:f[b-1].push(f[b]);this.$=f[b-1];break;case 11:this.$=new g.BlockNode(f[b-2],f[b-1].inverse,f[b-1],f[b],this._$);break;case 12:this.$=new g.BlockNode(f[b-2],f[b-1],f[b-1].inverse,f[b],this._$);break;case 13:this.$=f[b];break;case 14:this.$=f[b];break;case 15:this.$=new g.ContentNode(f[b],
this._$);break;case 16:this.$=new g.CommentNode(f[b],this._$);break;case 17:this.$=new g.MustacheNode(f[b-1],null,f[b-2],a(f[b-2],f[b]),this._$);break;case 18:this.$=new g.MustacheNode(f[b-1],null,f[b-2],a(f[b-2],f[b]),this._$);break;case 19:this.$={path:f[b-1],strip:a(f[b-2],f[b])};break;case 20:this.$=new g.MustacheNode(f[b-1],null,f[b-2],a(f[b-2],f[b]),this._$);break;case 21:this.$=new g.MustacheNode(f[b-1],null,f[b-2],a(f[b-2],f[b]),this._$);break;case 22:this.$=new g.PartialNode(f[b-2],f[b-1],
a(f[b-3],f[b]),this._$);break;case 23:this.$=a(f[b-1],f[b]);break;case 24:this.$=new g.SexprNode([f[b-2]].concat(f[b-1]),f[b],this._$);break;case 25:this.$=new g.SexprNode([f[b]],null,this._$);break;case 26:this.$=f[b];break;case 27:this.$=new g.StringNode(f[b],this._$);break;case 28:this.$=new g.IntegerNode(f[b],this._$);break;case 29:this.$=new g.BooleanNode(f[b],this._$);break;case 30:this.$=f[b];break;case 31:f[b-1].isHelper=!0;this.$=f[b-1];break;case 32:this.$=new g.HashNode(f[b],this._$);break;
case 33:this.$=[f[b-2],f[b]];break;case 34:this.$=new g.PartialNameNode(f[b],this._$);break;case 35:this.$=new g.PartialNameNode(new g.StringNode(f[b],this._$),this._$);break;case 36:this.$=new g.PartialNameNode(new g.IntegerNode(f[b],this._$));break;case 37:this.$=new g.DataNode(f[b],this._$);break;case 38:this.$=new g.IdNode(f[b],this._$);break;case 39:f[b-2].push({part:f[b],separator:f[b-1]});this.$=f[b-2];break;case 40:this.$=[{part:f[b]}];break;case 43:this.$=[];break;case 44:f[b-1].push(f[b]);
break;case 47:this.$=[f[b]];break;case 48:f[b-1].push(f[b])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,
40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],
19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,
46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],
20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,
17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],
36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,
27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,
<<<<<<< HEAD
72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,c){throw Error(a);},parse:function(a){var c=[0],b=[null],d=[],e=this.table,g="",h=0,k=0,f=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;
this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;d.push(a);var l=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var A,C,I,F,L={},u,y;;){I=c[c.length-1];if(this.defaultActions[I])F=this.defaultActions[I];else{if(null===A||"undefined"==typeof A)A=void 0,A=this.lexer.lex()||1,"number"!==typeof A&&(A=this.symbols_[A]||A);F=e[I]&&e[I][A]}if("undefined"===typeof F||!F.length||
!F[0]){var E="";if(!f){y=[];for(u in e[I])this.terminals_[u]&&2<u&&y.push("'"+this.terminals_[u]+"'");E=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==A?"end of input":"'"+(this.terminals_[A]||A)+"'");this.parseError(E,{text:this.lexer.match,token:this.terminals_[A]||A,line:this.lexer.yylineno,loc:a,expected:y})}}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+
I+", token: "+A);switch(F[0]){case 1:c.push(A);b.push(this.lexer.yytext);d.push(this.lexer.yylloc);c.push(F[1]);A=null;C?(A=C,C=null):(k=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,a=this.lexer.yylloc,0<f&&f--);break;case 2:y=this.productions_[F[1]][1];L.$=b[b.length-y];L._$={first_line:d[d.length-(y||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(y||1)].first_column,last_column:d[d.length-1].last_column};l&&(L._$.range=[d[d.length-(y||1)].range[0],d[d.length-
1].range[1]]);I=this.performAction.call(L,g,k,h,this.yy,F[1],b,d);if("undefined"!==typeof I)return I;y&&(c=c.slice(0,-2*y),b=b.slice(0,-1*y),d=d.slice(0,-1*y));c.push(this.productions_[F[1]][0]);b.push(L.$);d.push(L._$);F=e[c[c.length-2]][c[c.length-1]];c.push(F);break;case 3:return!0}}return!0}},e=function(){return{EOF:1,parseError:function(a,c){if(this.yy.parser)this.yy.parser.parseError(a,c);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=
=======
72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a,c){throw Error(a);},parse:function(a){var c=[0],b=[null],d=[],e=this.table,g="",f=0,k=0,h=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;
this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;d.push(a);var m=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var A,C,J,F,M={},u,x;;){J=c[c.length-1];if(this.defaultActions[J])F=this.defaultActions[J];else{if(null===A||"undefined"==typeof A)A=void 0,A=this.lexer.lex()||1,"number"!==typeof A&&(A=this.symbols_[A]||A);F=e[J]&&e[J][A]}if("undefined"===typeof F||!F.length||
!F[0]){var E="";if(!h){x=[];for(u in e[J])this.terminals_[u]&&2<u&&x.push("'"+this.terminals_[u]+"'");E=this.lexer.showPosition?"Parse error on line "+(f+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==A?"end of input":"'"+(this.terminals_[A]||A)+"'");this.parseError(E,{text:this.lexer.match,token:this.terminals_[A]||A,line:this.lexer.yylineno,loc:a,expected:x})}}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+
J+", token: "+A);switch(F[0]){case 1:c.push(A);b.push(this.lexer.yytext);d.push(this.lexer.yylloc);c.push(F[1]);A=null;C?(A=C,C=null):(k=this.lexer.yyleng,g=this.lexer.yytext,f=this.lexer.yylineno,a=this.lexer.yylloc,0<h&&h--);break;case 2:x=this.productions_[F[1]][1];M.$=b[b.length-x];M._$={first_line:d[d.length-(x||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(x||1)].first_column,last_column:d[d.length-1].last_column};m&&(M._$.range=[d[d.length-(x||1)].range[0],d[d.length-
1].range[1]]);J=this.performAction.call(M,g,k,f,this.yy,F[1],b,d);if("undefined"!==typeof J)return J;x&&(c=c.slice(0,-2*x),b=b.slice(0,-1*x),d=d.slice(0,-1*x));c.push(this.productions_[F[1]][0]);b.push(M.$);d.push(M._$);F=e[c[c.length-2]][c[c.length-1]];c.push(F);break;case 3:return!0}}return!0}},e=function(){return{EOF:1,parseError:function(a,c){if(this.yy.parser)this.yy.parser.parseError(a,c);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);
return a},unput:function(a){var c=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c-1);this.offset-=c;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?
(b.length===a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-c};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-c]);return this},more:function(){this._more=!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),c=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,c,b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((c=this._input.match(this.rules[d[e]]))&&(!a||c[0].length>a[0].length))if(a=c,b=e,!this.options.flex)break;if(a){if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,
this,d[b],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,c,b,d){function e(a,b){return c.yytext=c.yytext.substr(a,c.yyleng-b)}switch(b){case 0:"\\\\"===c.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===c.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu");if(c.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;
case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState();this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return c.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return c.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;
case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return c.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,
/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}}}}();
<<<<<<< HEAD
d.lexer=e;b.prototype=d;d.Parser=b;return new b}()}(),f),g=function(a){function b(){}var d={};d.Compiler=b;b.prototype={compiler:b,disassemble:function(){for(var a=this.opcodes,c,b=[],d,e,g=0,k=a.length;g<k;g++)if(c=a[g],"DECLARE"===c.opcode)b.push("DECLARE "+c.name+"="+c.value);else{d=[];for(var f=0;f<c.args.length;f++)e=c.args[f],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),d.push(e);b.push(c.opcode+" "+d.join(" "))}return b.join("\n")},equals:function(a){var c=this.opcodes.length;if(a.opcodes.length!==
=======
d.lexer=e;b.prototype=d;d.Parser=b;return new b}()}(),f),e=function(a){function b(){}var d={};d.Compiler=b;b.prototype={compiler:b,disassemble:function(){for(var a=this.opcodes,c,b=[],d,e,g=0,f=a.length;g<f;g++)if(c=a[g],"DECLARE"===c.opcode)b.push("DECLARE "+c.name+"="+c.value);else{d=[];for(var k=0;k<c.args.length;k++)e=c.args[k],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),d.push(e);b.push(c.opcode+" "+d.join(" "))}return b.join("\n")},equals:function(a){var c=this.opcodes.length;if(a.opcodes.length!==
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
c)return!1;for(var b=0;b<c;b++){var d=this.opcodes[b],e=a.opcodes[b];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var g=0;g<d.args.length;g++)if(d.args[g]!==e.args[g])return!1}c=this.children.length;if(a.children.length!==c)return!1;for(b=0;b<c;b++)if(!this.children[b].equals(a.children[b]))return!1;return!0},guid:0,compile:function(a,c){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=c;var b=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,
blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(b)for(var d in b)this.options.knownHelpers[d]=b[d];return this.accept(a)},accept:function(a){var c=a.strip||{};c.left&&this.opcode("strip");a=this[a.type](a);c.right&&this.opcode("strip");return a},program:function(a){a=a.statements;for(var c=0,b=a.length;c<b;c++)this.accept(a[c]);this.isSimple=1===b;this.depths.list=this.depths.list.sort(function(a,c){return a-c});return this},compileProgram:function(a){a=(new this.compiler).compile(a,
this.options);var c=this.guid++,b;this.usePartial=this.usePartial||a.usePartial;this.children[c]=a;for(var d=0,e=a.depths.list.length;d<e;d++)b=a.depths.list[d],2>b||this.addDepth(b-1);return c},block:function(a){var c=a.mustache,b=a.program;a=a.inverse;b&&(b=this.compileProgram(b));a&&(a=this.compileProgram(a));var c=c.sexpr,d=this.classifySexpr(c);"helper"===d?this.helperSexpr(c,b,a):"simple"===d?(this.simpleSexpr(c),this.opcode("pushProgram",b),this.opcode("pushProgram",a),this.opcode("emptyHash"),
this.opcode("blockValue")):(this.ambiguousSexpr(c,b,a),this.opcode("pushProgram",b),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var c,b;this.opcode("pushHash");for(var d=0,e=a.length;d<e;d++)c=a[d],b=c[1],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this.accept(b),
this.opcode("assignToHash",c[0]);this.opcode("popHash")},partial:function(a){var c=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",c.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,c,b){a=a.id;var d=a.parts[0],e=null!=c||null!=b;this.opcode("getContext",
a.depth);this.opcode("pushProgram",c);this.opcode("pushProgram",b);this.opcode("invokeAmbiguous",d,e)},simpleSexpr:function(a){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperSexpr:function(b,d,e){d=this.setupFullMustacheParams(b,d,e);e=b.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new a("You specified knownHelpersOnly, but used the unknown helper "+
e,b);this.opcode("invokeHelper",d.length,e,b.isRoot)}},sexpr:function(a){var c=this.classifySexpr(a);"simple"===c?this.simpleSexpr(a):"helper"===c?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,b=a.parts.length;c<b;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){this.options.data=!0;if(b.id.isScoped||b.id.depth)throw new a("Scoped data references are not supported: "+
b.original,b);this.opcode("lookupData");b=b.id.parts;for(var d=0,e=b.length;d<e;d++)this.opcode("lookup",b[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,c){this.opcodes.push({opcode:"DECLARE",name:a,value:c})},addDepth:function(a){0!==a&&!this.depths[a]&&
(this.depths[a]=!0,this.depths.list.push(a))},classifySexpr:function(a){var c=a.isHelper,b=a.eligibleHelper,d=this.options;b&&!c&&(d.knownHelpers[a.id.parts[0]]?c=!0:d.knownHelpersOnly&&(b=!1));return c?"helper":b?"ambiguous":"simple"},pushParams:function(a){for(var c=a.length,b;c--;)if(b=a[c],this.options.stringParams)b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b);else this[b.type](b)},setupFullMustacheParams:function(a,
c,b){var d=a.params;this.pushParams(d);this.opcode("pushProgram",c);this.opcode("pushProgram",b);a.hash?this.hash(a.hash):this.opcode("emptyHash");return d}};d.precompile=function(b,d,e){if(null==b||"string"!==typeof b&&b.constructor!==e.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);d=d||{};"data"in d||(d.data=!0);b=e.parse(b);b=(new e.Compiler).compile(b,d);return(new e.JavaScriptCompiler).compile(b,d)};d.compile=function(b,d,e){if(null==
<<<<<<< HEAD
b||"string"!==typeof b&&b.constructor!==e.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);d=d||{};"data"in d||(d.data=!0);var g;return function(a,c){if(!g){var k=e.parse(b),k=(new e.Compiler).compile(k,d),k=(new e.JavaScriptCompiler).compile(k,d,void 0,!0);g=e.template(k)}return g.call(this,a,c)}};return d}(e),e=function(a,b){function d(a){this.value=a}function e(){}var g=a.COMPILER_REVISION,f=a.REVISION_CHANGES,m=a.log;e.prototype={nameLookup:function(a,
c){var b,d;0===a.indexOf("depth")&&(b=!0);d=/^[0-9]+$/.test(c)?a+"["+c+"]":e.isValidJavaScriptVariableName(c)?a+"."+c:a+"['"+c+"']";return b?"("+a+" && "+d+")":d},compilerInfo:function(){return"this.compilerInfo = ["+g+",'"+f[g]+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,c,d,e){this.environment=
a;this.options=c||{};m("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!d;this.context=d||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(a,c);a=a.opcodes;this.i=0;for(d=a.length;this.i<d;this.i++)c=a[this.i],"DECLARE"===c.opcode?this[c.name]=c.value:this[c.opcode].apply(this,c.args),c.opcode!==this.stripNext&&
=======
b||"string"!==typeof b&&b.constructor!==e.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);d=d||{};"data"in d||(d.data=!0);var g;return function(a,c){if(!g){var f=e.parse(b),f=(new e.Compiler).compile(f,d),f=(new e.JavaScriptCompiler).compile(f,d,void 0,!0);g=e.template(f)}return g.call(this,a,c)}};return d}(g),g=function(a,b){function d(a){this.value=a}function e(){}var g=a.COMPILER_REVISION,f=a.REVISION_CHANGES,q=a.log;e.prototype={nameLookup:function(a,
c){var b,d;0===a.indexOf("depth")&&(b=!0);d=/^[0-9]+$/.test(c)?a+"["+c+"]":e.isValidJavaScriptVariableName(c)?a+"."+c:a+"['"+c+"']";return b?"("+a+" && "+d+")":d},compilerInfo:function(){return"this.compilerInfo = ["+g+",'"+f[g]+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,c,d,e){this.environment=
a;this.options=c||{};q("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!d;this.context=d||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(a,c);a=a.opcodes;this.i=0;for(d=a.length;this.i<d;this.i++)c=a[this.i],"DECLARE"===c.opcode?this[c.name]=c.value:this[c.opcode].apply(this,c.args),c.opcode!==this.stripNext&&
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
(this.stripNext=!1);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new b("Compile completed with content left on stack");return this.createFunctionContext(e)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var c=this.namespace,b="helpers = this.merge(helpers, "+c+".helpers);";this.environment.usePartial&&(b=b+" partials = this.merge(partials, "+c+".partials);");this.options.data&&(b+=" data = data || {};");a.push(b)}this.environment.isSimple?
a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var c=this.stackVars.concat(this.registers.list);0<c.length&&(this.source[1]=this.source[1]+", "+c.join(", "));if(!this.isChild)for(var b in this.context.aliases)this.context.aliases.hasOwnProperty(b)&&(this.source[1]=this.source[1]+", "+b+"="+this.context.aliases[b]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+
this.context.programs.join("\n")+"\n");this.environment.isSimple||this.pushSource("return buffer;");c=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];b=0;for(var d=this.environment.depths.list.length;b<d;b++)c.push("depth"+this.environment.depths.list[b]);b=this.mergeSource();this.isChild||(b=this.compilerInfo()+b);if(a)return c.push(b),Function.apply(this,c);a="function "+(this.name||"")+"("+c.join(",")+") {\n  "+b+"}";m("debug",a+"\n\n");return a},mergeSource:function(){for(var a=
"",c,b=0,d=this.source.length;b<d;b++){var e=this.source[b];e.appendToBuffer?c=c?c+"\n    + "+e.content:e.content:(c&&(a+="buffer += "+c+";\n  ",c=void 0),a+=e+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(c){a.splice(1,0,c);return"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";
var a=["depth0"];this.setupParams(0,a);var c=this.topStack();a.splice(1,0,c);this.pushSource("if (!"+this.lastHelper+") { "+c+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a);this.stripNext&&(a=a.replace(/^\s+/,""));this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+
a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+
this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(c){return c+" == null || "+c+" === false ? "+c+" : "+this.nameLookup(c,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,c){this.pushStackLiteral("depth"+this.lastContext);this.pushString(c);"sexpr"!==c&&("string"===
typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},
push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,c,b){this.context.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");a=this.lastHelper=this.setupHelper(a,c,!0);c=this.nameLookup("depth"+this.lastContext,c,"context");c="helper = "+a.name+" || "+c;a.paramsInit&&(c+=","+a.paramsInit);this.push("("+
c+",helper ? helper.call("+a.callParams+") : helperMissing.call("+a.helperMissingParams+"))");b||this.flushInline()},invokeKnownHelper:function(a,c){var b=this.setupHelper(a,c);this.push(b.name+".call("+b.callParams+")")},invokeAmbiguous:function(a,c){this.context.aliases.functionType='"function"';this.useRegister("helper");this.emptyHash();var b=this.setupHelper(0,a,c),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),g=this.nextStack();
b.paramsInit&&this.pushSource(b.paramsInit);this.pushSource("if (helper = "+d+") { "+g+" = helper.call("+b.callParams+"); }");this.pushSource("else { helper = "+e+"; "+g+" = typeof helper === functionType ? helper.call("+b.callParams+") : helper; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var c=
<<<<<<< HEAD
this.popStack(),b,d;this.options.stringParams&&(d=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b);d&&e.types.push("'"+a+"': "+d);e.values.push("'"+a+"': ("+c+")")},compiler:e,compileChildren:function(a,c){for(var b=a.children,d,e,g=0,k=b.length;g<k;g++){d=b[g];e=new this.compiler;var f=this.matchExistingProgram(d);null==f?(this.context.programs.push(""),f=this.context.programs.length,d.index=f,d.name="program"+f,this.context.programs[f]=e.compile(d,c,this.context),
this.context.environments[f]=d):(d.index=f,d.name="program"+f)}},matchExistingProgram:function(a){for(var c=0,b=this.context.environments.length;c<b;c++){var d=this.context.environments[c];if(d&&d.equals(a))return c}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var c=this.environment.children[a];a=c.depths.list;for(var b=[c.index,c.name,"data"],d=0,e=a.length;d<e;d++)c=a[d],1===c?b.push("depth0"):b.push("depth"+(c-1));return(0===a.length?"self.program(":
"self.programWithDepth(")+b.join(", ")+")"},register:function(a,c){this.useRegister(a);this.pushSource(a+" = "+c+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);a&&this.source.push(a)},pushStack:function(a){this.flushInline();var c=this.incrStack();
a&&this.pushSource(c+" = "+a+";");this.compileStack.push(c);return c},replaceStack:function(a){var c="",b=this.isInline(),e,g,k;b?(e=this.popStack(!0),e instanceof d?(e=e.value,k=!0):(g=!this.stackSlot,c=!g?this.topStackName():this.incrStack(),c="("+this.push(c)+" = "+e+"),",e=this.topStack())):e=this.topStack();a=a.call(this,e);b?(k||this.popStack(),g&&this.stackSlot--,this.push("("+c+a+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+c+a+");"));return e},nextStack:function(){return this.pushStack()},
incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var c=0,b=a.length;c<b;c++){var e=a[c];e instanceof d?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var c=this.isInline(),e=(c?this.inlineStack:
this.compileStack).pop();if(!a&&e instanceof d)return e.value;if(!c){if(!this.stackSlot)throw new b("Invalid stack pop");this.stackSlot--}return e},topStack:function(a){var c=this.isInline()?this.inlineStack:this.compileStack,c=c[c.length-1];return!a&&c instanceof d?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,c,b){var d=[];a=
this.setupParams(a,d,b);var e=this.nameLookup("helpers",c,"helper");return{params:d,paramsInit:a,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:b&&["depth0",this.quotedString(c)].concat(d).join(", ")}},setupOptions:function(a,c){var b=[],d=[],e=[],g,k;b.push("hash:"+this.popStack());this.options.stringParams&&(b.push("hashTypes:"+this.popStack()),b.push("hashContexts:"+this.popStack()));g=this.popStack();if((k=this.popStack())||g)k||(this.context.aliases.self="this",k="self.noop"),
g||(this.context.aliases.self="this",g="self.noop"),b.push("inverse:"+g),b.push("fn:"+k);for(k=0;k<a;k++)g=this.popStack(),c.push(g),this.options.stringParams&&(e.push(this.popStack()),d.push(this.popStack()));this.options.stringParams&&(b.push("contexts:["+d.join(",")+"]"),b.push("types:["+e.join(",")+"]"));this.options.data&&b.push("data:data");return b},setupParams:function(a,c,b){a="{"+this.setupOptions(a,c).join(",")+"}";if(b)return this.useRegister("options"),c.push("options"),"options="+a;
c.push(a);return""}};for(var q="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),t=e.RESERVED_WORDS={},r=0,v=q.length;r<v;r++)t[q[r]]=!0;e.isValidJavaScriptVariableName=
function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1};return e}(a,e);return function(a,b,d,e,g){var f=d.parser,m=d.parse,q=e.Compiler,t=e.compile,r=e.precompile,v=a.create;d=function(){var a=v();a.compile=function(c,b){return t(c,b,a)};a.precompile=function(c,b){return r(c,b,a)};a.AST=b;a.Compiler=q;a.JavaScriptCompiler=g;a.Parser=f;a.parse=m;return a};a=d();a.create=d;return a}(b,f,d,g,e)}();
(function(){function b(a,c,b){b=(b||0)-1;for(var d=a?a.length:0;++b<d;)if(a[b]===c)return b;return-1}function f(a,c){var d=typeof c;if(a=a.l,"boolean"==d||null==c)return a[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:w+c;return a=(a=a[d])&&a[e],"object"==d?a&&-1<b(a,c)?0:-1:a?0:-1}function e(a){var c=this.l,b=typeof a;if("boolean"==b||null==a)c[a]=!0;else{"number"!=b&&"string"!=b&&(b="object");var d="number"==b?a:w+a,c=c[b]||(c[b]={});"object"==b?(c[d]||(c[d]=[])).push(a):c[d]=
!0}}function a(a){return a.charCodeAt(0)}function d(a,c){for(var b=a.m,d=c.m,e=-1,g=b.length;++e<g;){var k=b[e],f=d[e];if(k!==f){if(k>f||"undefined"==typeof k)return 1;if(k<f||"undefined"==typeof f)return-1}}return a.n-c.n}function g(a){var c=-1,b=a.length,d=a[0],g=a[b/2|0],k=a[b-1];if(d&&"object"==typeof d&&g&&"object"==typeof g&&k&&"object"==typeof k)return!1;d=l();d["false"]=d["null"]=d["true"]=d.undefined=!1;g=l();g.k=a;g.l=d;for(g.push=e;++c<b;)g.push(a[c]);return g}function c(a){return"\\"+
da[a]}function k(){return t.pop()||[]}function l(){return r.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function h(a){a.length=0;t.length<x&&t.push(a)}function p(a){var c=a.l;c&&p(c);a.k=a.l=a.m=a.object=a.number=a.string=a.o=null;r.length<x&&r.push(a)}function n(a,c,b){c||(c=0);"undefined"==typeof b&&(b=a?a.length:0);var d=-1;b=b-c||0;for(var e=Array(0>b?0:b);++d<b;)e[d]=a[c+d];return e}function m(e){function r(a,
c,b){if(!a||!aa[typeof a])return a;c=c&&"undefined"==typeof b?c:ca(c,b,3);for(var d=-1,e=aa[typeof a]&&ma(a),g=e?e.length:0;++d<g&&(b=e[d],!1!==c(a[b],b,a)););return a}function t(a,c,b){var d;if(!a||!aa[typeof a])return a;c=c&&"undefined"==typeof b?c:ca(c,b,3);for(d in a)if(!1===c(a[d],d,a))break;return a}function x(a,c,b){var d,e=a,g=e;if(!e)return g;for(var k=arguments,f=0,h="number"==typeof b?2:k.length;++f<h;)if((e=k[f])&&aa[typeof e])for(var l=-1,r=aa[typeof e]&&ma(e),m=r?r.length:0;++l<m;)d=
r[l],"undefined"==typeof g[d]&&(g[d]=e[d]);return g}function da(a,c,b){var d,e=a,g=e;if(!e)return g;var k=arguments,f=0,h="number"==typeof b?2:k.length;if(3<h&&"function"==typeof k[h-2])var l=ca(k[--h-1],k[h--],2);else 2<h&&"function"==typeof k[h-1]&&(l=k[--h]);for(;++f<h;)if((e=k[f])&&aa[typeof e])for(var r=-1,m=aa[typeof e]&&ma(e),p=m?m.length:0;++r<p;)d=m[r],g[d]=l?l(g[d],e[d]):e[d];return g}function X(a){var c,b=[];if(!a||!aa[typeof a])return b;for(c in a)na.call(a,c)&&b.push(c);return b}function s(a){return a&&
"object"==typeof a&&!ja(a)&&na.call(a,"__wrapped__")?a:new S(a)}function S(a,c){this.__chain__=!!c;this.__wrapped__=a}function fa(a){function c(){if(d){var a=n(d);Qa.apply(a,arguments)}if(this instanceof c){var g=ia(b.prototype),a=b.apply(g,a||arguments);return oa(a)?a:g}return b.apply(e,a||arguments)}var b=a[0],d=a[2],e=a[4];return jb(c,a),c}function Y(a,c,b,d,e){if(b){var g=b(a);if("undefined"!=typeof g)return g}if(!oa(a))return a;var f=pa.call(a);if(!K[f])return a;var l=Aa[f];switch(f){case Q:case P:return new l(+a);
case N:case J:return new l(a);case H:return g=l(a.source,u.exec(a)),g.lastIndex=a.lastIndex,g}if(f=ja(a),c){var m=!d;d||(d=k());e||(e=k());for(var p=d.length;p--;)if(d[p]==a)return e[p];g=f?l(a.length):{}}else g=f?n(a):da({},a);return f&&(na.call(a,"index")&&(g.index=a.index),na.call(a,"input")&&(g.input=a.input)),c?(d.push(a),e.push(g),(f?qa:r)(a,function(a,k){g[k]=Y(a,c,b,d,e)}),m&&(h(d),h(e)),g):g}function ia(a){return oa(a)?ab(a):{}}function ca(a,c,b){if("function"!=typeof a)return kb;if("undefined"==
typeof c||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Ra.funcNames&&(d=!a.name),d=d||!Ra.funcDecomp,!d)){var e=Ub.call(a);Ra.funcNames||(d=!y.test(e));d||(d=O.test(e),jb(a,d))}if(!1===d||!0!==d&&1&d[1])return a;switch(b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,d){return a.call(c,b,d)};case 3:return function(b,d,e){return a.call(c,b,d,e)};case 4:return function(b,d,e,g){return a.call(c,b,d,e,g)}}return wb(a,c)}function Fa(a){function c(){var a=
h?k:this;if(e){var q=n(e);Qa.apply(q,arguments)}return(g||r)&&(q||(q=n(arguments)),g&&Qa.apply(q,g),r&&q.length<f)?(d|=16,Fa([b,m?d:-4&d,q,null,k,f])):(q||(q=arguments),l&&(b=a[p]),this instanceof c?(a=ia(b.prototype),q=b.apply(a,q),oa(q)?q:a):b.apply(a,q))}var b=a[0],d=a[1],e=a[2],g=a[3],k=a[4],f=a[5],h=1&d,l=2&d,r=4&d,m=8&d,p=b;return jb(c,a),c}function ta(a,c){var d=-1,e=Ba(),k=a?a.length:0,h=k>=B&&e===b,l=[];if(h){var r=g(c);r?(e=f,c=r):h=!1}for(;++d<k;)r=a[d],0>e(c,r)&&l.push(r);return h&&p(c),
l}function ka(a,c,b,d){d=(d||0)-1;for(var e=a?a.length:0,g=[];++d<e;){var k=a[d];if(k&&"object"==typeof k&&"number"==typeof k.length&&(ja(k)||bb(k))){c||(k=ka(k,c,b));var f=-1,h=k.length,l=g.length;for(g.length+=h;++f<h;)g[l++]=k[f]}else b||g.push(k)}return g}function wa(a,c,b,d,e,g){if(b){var f=b(a,c);if("undefined"!=typeof f)return!!f}if(a===c)return 0!==a||1/a==1/c;if(a===a&&!(a&&aa[typeof a]||c&&aa[typeof c]))return!1;if(null==a||null==c)return a===c;var l=pa.call(a),r=pa.call(c);if(l==R&&(l=
G),r==R&&(r=G),l!=r)return!1;switch(l){case Q:case P:return+a==+c;case N:return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case H:case J:return a==Ga(c)}if(r=l==U,!r){var m=na.call(a,"__wrapped__"),p=na.call(c,"__wrapped__");if(m||p)return wa(m?a.__wrapped__:a,p?c.__wrapped__:c,b,d,e,g);if(l!=G||(l=a.constructor,m=c.constructor,l!=m&&!(ha(l)&&l instanceof l&&ha(m)&&m instanceof m)&&"constructor"in a&&"constructor"in c))return!1}l=!e;e||(e=k());g||(g=k());for(m=e.length;m--;)if(e[m]==a)return g[m]==c;var q=0,
f=!0;if(e.push(a),g.push(c),r){if(m=a.length,q=c.length,(f=q==m)||d)for(;q--;)if(r=m,p=c[q],d)for(;r--&&!(f=wa(a[r],p,b,d,e,g)););else if(!(f=wa(a[q],p,b,d,e,g)))break}else t(c,function(c,k,h){return na.call(h,k)?(q++,f=na.call(a,k)&&wa(a[k],c,b,d,e,g)):void 0}),f&&!d&&t(a,function(a,c,b){return na.call(b,c)?f=-1<--q:void 0});return e.pop(),g.pop(),l&&(h(e),h(g)),f}function ua(a,c,b,d,e){(ja(c)?qa:r)(c,function(c,g){var k,f,h=c,l=a[g];if(c&&((f=ja(c))||lb(c))){for(h=d.length;h--;)if(k=d[h]==c){l=
e[h];break}if(!k){var r;b&&(h=b(l,c),r="undefined"!=typeof h)&&(l=h);r||(l=f?ja(l)?l:[]:lb(l)?l:{});d.push(c);e.push(l);r||ua(l,c,b,d,e)}}else b&&(h=b(l,c),"undefined"==typeof h&&(h=c)),"undefined"!=typeof h&&(l=h);a[g]=l})}function Ja(a,c){return a+Vb(xb()*(c-a+1))}function Z(a,c,d){var e=-1,l=Ba(),r=a?a.length:0,m=[],q=!c&&r>=B&&l===b,n=d||q?k():m;for(q&&(n=g(n),l=f);++e<r;){var v=a[e],t=d?d(v,e,a):v;(c?!e||n[n.length-1]!==t:0>l(n,t))&&((d||q)&&n.push(t),m.push(v))}return q?(h(n.k),p(n)):d&&h(n),
m}function Ha(a){return function(c,b,d){var e={};b=s.createCallback(b,d,3);d=-1;var g=c?c.length:0;if("number"==typeof g)for(;++d<g;){var k=c[d];a(e,k,b(k,d,c),c)}else r(c,function(c,d,g){a(e,c,b(c,d,g),g)});return e}}function la(a,c,b,d,e,g){var k=1&c,f=4&c,h=16&c,l=32&c;if(!(2&c||ha(a)))throw new Ca;h&&!b.length&&(c&=-17,h=b=!1);l&&!d.length&&(c&=-33,l=d=!1);var r=a&&a.__bindData__;return r&&!0!==r?(r=n(r),r[2]&&(r[2]=n(r[2])),r[3]&&(r[3]=n(r[3])),!k||1&r[1]||(r[4]=e),!k&&1&r[1]&&(c|=8),!f||4&r[1]||
(r[5]=g),h&&Qa.apply(r[2]||(r[2]=[]),b),l&&Wb.apply(r[3]||(r[3]=[]),d),r[1]|=c,la.apply(null,r)):(1==c||17===c?fa:Fa)([a,c,b,d,e,g])}function Ka(a){return mb[a]}function Ba(){var a=(a=s.indexOf)===yb?b:a;return a}function ra(a){return"function"==typeof a&&Xb.test(a)}function La(a){var c,b;return a&&pa.call(a)==G&&(c=a.constructor,!ha(c)||c instanceof c)?(t(a,function(a,c){b=c}),"undefined"==typeof b||na.call(a,b)):!1}function Yb(a){return zb[a]}function bb(a){return a&&"object"==typeof a&&"number"==
typeof a.length&&pa.call(a)==R||!1}function Ab(a,c,b){var d=ma(a),e=d.length;for(c=ca(c,b,3);e--&&(b=d[e],!1!==c(a[b],b,a)););return a}function Sa(a){var c=[];return t(a,function(a,b){ha(a)&&c.push(b)}),c.sort()}function Bb(a){for(var c=-1,b=ma(a),d=b.length,e={};++c<d;){var g=b[c];e[a[g]]=g}return e}function ha(a){return"function"==typeof a}function oa(a){return!(!a||!aa[typeof a])}function Cb(a){return"number"==typeof a||a&&"object"==typeof a&&pa.call(a)==N||!1}function Ta(a){return"string"==typeof a||
a&&"object"==typeof a&&pa.call(a)==J||!1}function cb(a){for(var c=-1,b=ma(a),d=b.length,e=sa(d);++c<d;)e[c]=a[b[c]];return e}function Db(a,c,b){var d=-1,e=Ba(),g=a?a.length:0,k=!1;return b=(0>b?va(0,g+b):b)||0,ja(a)?k=-1<e(a,c,b):"number"==typeof g?k=-1<(Ta(a)?a.indexOf(c,b):e(a,c,b)):r(a,function(a){return++d<b?void 0:!(k=a===c)}),k}function Eb(a,c,b){var d=!0;c=s.createCallback(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e&&(d=!!c(a[b],b,a)););else r(a,function(a,b,e){return d=
!!c(a,b,e)});return d}function db(a,c,b){var d=[];c=s.createCallback(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e;){var g=a[b];c(g,b,a)&&d.push(g)}else r(a,function(a,b,e){c(a,b,e)&&d.push(a)});return d}function nb(a,c,b){c=s.createCallback(c,b,3);b=-1;var d=a?a.length:0;if("number"!=typeof d){var e;return r(a,function(a,b,d){return c(a,b,d)?(e=a,!1):void 0}),e}for(;++b<d;){var g=a[b];if(c(g,b,a))return g}}function qa(a,c,b){var d=-1,e=a?a.length:0;if(c=c&&"undefined"==typeof b?
c:ca(c,b,3),"number"==typeof e)for(;++d<e&&!1!==c(a[d],d,a););else r(a,c);return a}function eb(a,c,b){var d=a?a.length:0;if(c=c&&"undefined"==typeof b?c:ca(c,b,3),"number"==typeof d)for(;d--&&!1!==c(a[d],d,a););else{var e=ma(a),d=e.length;r(a,function(a,b,g){return b=e?e[--d]:--d,c(g[b],b,g)})}return a}function Ua(a,c,b){var d=-1,e=a?a.length:0;if(c=s.createCallback(c,b,3),"number"==typeof e)for(var g=sa(e);++d<e;)g[d]=c(a[d],d,a);else g=[],r(a,function(a,b,e){g[++d]=c(a,b,e)});return g}function Fb(c,
b,d){var e=-1/0,g=e;if("function"!=typeof b&&d&&d[b]===c&&(b=null),null==b&&ja(c)){d=-1;for(var k=c.length;++d<k;){var f=c[d];f>g&&(g=f)}}else b=null==b&&Ta(c)?a:s.createCallback(b,d,3),qa(c,function(a,c,d){c=b(a,c,d);c>e&&(e=c,g=a)});return g}function ob(a,c,b,d){if(!a)return b;var e=3>arguments.length;c=s.createCallback(c,d,4);var g=-1,k=a.length;if("number"==typeof k)for(e&&(b=a[++g]);++g<k;)b=c(b,a[g],g,a);else r(a,function(a,d,g){b=e?(e=!1,a):c(b,a,d,g)});return b}function Gb(a,c,b,d){var e=
3>arguments.length;return c=s.createCallback(c,d,4),eb(a,function(a,d,g){b=e?(e=!1,a):c(b,a,d,g)}),b}function Hb(a){var c=-1,b=a?a.length:0,d=sa("number"==typeof b?b:0);return qa(a,function(a){var b=Ja(0,++c);d[c]=d[b];d[b]=a}),d}function Ib(a,c,b){var d;c=s.createCallback(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e&&!(d=c(a[b],b,a)););else r(a,function(a,b,e){return!(d=c(a,b,e))});return!!d}function pb(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=
s.createCallback(c,b,3);++g<e&&c(a[g],g,a);)d++}else if(d=c,null==d||b)return a?a[0]:q;return n(a,0,Va(va(0,d),e))}function yb(a,c,d){if("number"==typeof d){var e=a?a.length:0;d=0>d?va(0,e+d):d||0}else if(d)return d=Jb(a,c),a[d]===c?d:-1;return b(a,c,d)}function qb(a,c,b){if("number"!=typeof c&&null!=c){var d=0,e=-1,g=a?a.length:0;for(c=s.createCallback(c,b,3);++e<g&&c(a[e],e,a);)d++}else d=null==c||b?1:va(0,c);return n(a,d)}function Jb(a,c,b,d){var e=0,g=a?a.length:e;b=b?s.createCallback(b,d,1):
kb;for(c=b(c);e<g;)d=e+g>>>1,b(a[d])<c?e=d+1:g=d;return e}function Kb(a,c,b,d){return"boolean"!=typeof c&&null!=c&&(d=b,b="function"!=typeof c&&d&&d[c]===a?null:c,c=!1),null!=b&&(b=s.createCallback(b,d,3)),Z(a,c,b)}function Lb(){for(var a=1<arguments.length?arguments:arguments[0],c=-1,b=a?Fb(rb(a,"length")):0,d=sa(0>b?0:b);++c<b;)d[c]=rb(a,c);return d}function Mb(a,c){var b=-1,d=a?a.length:0,e={};for(c||!d||ja(a[0])||(c=[]);++b<d;){var g=a[b];c?e[g]=c[b]:g&&(e[g[0]]=g[1])}return e}function wb(a,c){return 2<
arguments.length?la(a,17,n(arguments,2),null,c):la(a,1,null,null,c)}function Nb(a,c,b){function d(){r&&fb(r);k=r=m=q;(v||n!==c)&&(p=Ia(),f=a.apply(l,g),r||k||(g=l=null))}function e(){var b=c-(Ia()-h);0<b?r=Wa(e,b):(k&&fb(k),b=m,k=r=m=q,b&&(p=Ia(),f=a.apply(l,g),r||k||(g=l=null)))}var g,k,f,h,l,r,m,p=0,n=!1,v=!0;if(!ha(a))throw new Ca;if(c=va(0,c)||0,!0===b)var t=!0,v=!1;else oa(b)&&(t=b.leading,n="maxWait"in b&&(va(c,b.maxWait)||0),v="trailing"in b?b.trailing:v);return function(){if(g=arguments,h=
Ia(),l=this,m=v&&(r||!t),!1===n)var b=t&&!r;else{k||t||(p=h);var q=n-(h-p),w=0>=q;w?(k&&(k=fb(k)),p=h,f=a.apply(l,g)):k||(k=Wa(d,q))}return w&&r?r=fb(r):r||c===n||(r=Wa(e,c)),b&&(w=!0,f=a.apply(l,g)),!w||r||k||(g=l=null),f}}function kb(a){return a}function sb(a,c,b){var d=!0,e=c&&Sa(c);c&&(b||e.length)||(null==b&&(b=c),g=S,c=a,a=s,e=Sa(c));!1===b?d=!1:oa(b)&&"chain"in b&&(d=b.chain);var g=a,k=ha(g);qa(e,function(b){var e=a[b]=c[b];k&&(g.prototype[b]=function(){var c=this.__chain__,b=this.__wrapped__,
k=[b];if(Qa.apply(k,arguments),k=e.apply(a,k),d||c){if(b===k&&oa(k))return this;k=new g(k);k.__chain__=c}return k})})}function Ob(){}function Pb(a){return function(c){return c[a]}}function Qb(){return this.__wrapped__}e=e?V.defaults(ea.Object(),e,V.pick(ea,W)):ea;var sa=e.Array,Zb=e.Boolean,tb=e.Date,gb=e.Function,Xa=e.Math,$b=e.Number,Ma=e.Object,Ya=e.RegExp,Ga=e.String,Ca=e.TypeError,Na=[],Rb=Ma.prototype,ac=e._,pa=Rb.toString,Xb=Ya("^"+Ga(pa).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,
".*?")+"$"),bc=Xa.ceil,fb=e.clearTimeout,Vb=Xa.floor,Ub=gb.prototype.toString,Oa=ra(Oa=Ma.getPrototypeOf)&&Oa,na=Rb.hasOwnProperty,Qa=Na.push,Wa=e.setTimeout,Sb=Na.splice,Wb=Na.unshift,Tb=function(){try{var a={},c=ra(c=Ma.defineProperty)&&c,b=c(a,a,a)&&c}catch(d){}return b}(),ab=ra(ab=Ma.create)&&ab,ub=ra(ub=sa.isArray)&&ub,cc=e.isFinite,dc=e.isNaN,hb=ra(hb=Ma.keys)&&hb,va=Xa.max,Va=Xa.min,vb=e.parseInt,xb=Xa.random,Aa={};Aa[U]=sa;Aa[Q]=Zb;Aa[P]=tb;Aa[z]=gb;Aa[G]=Ma;Aa[N]=$b;Aa[H]=Ya;Aa[J]=Ga;S.prototype=
s.prototype;var Ra=s.support={};Ra.funcDecomp=!ra(e.a)&&O.test(m);Ra.funcNames="string"==typeof gb.name;s.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:s}};ab||(ia=function(){function a(){}return function(c){if(oa(c)){a.prototype=c;var b=new a;a.prototype=null}return b||e.Object()}}());var jb=Tb?function(a,c){ya.value=c;Tb(a,"__bindData__",ya)}:Ob,ja=ub||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&pa.call(a)==U||
!1},ma=hb?function(a){return oa(a)?hb(a):[]}:X,mb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zb=Bb(mb),ec=Ya("("+ma(zb).join("|")+")","g"),fc=Ya("["+ma(mb).join("")+"]","g"),lb=Oa?function(a){if(!a||pa.call(a)!=G)return!1;var c=a.valueOf,b=ra(c)&&(b=Oa(c))&&Oa(b);return b?a==b||Oa(a)==b:La(a)}:La,gc=Ha(function(a,c,b){na.call(a,b)?a[b]++:a[b]=1}),hc=Ha(function(a,c,b){(na.call(a,b)?a[b]:a[b]=[]).push(c)}),ic=Ha(function(a,c,b){a[b]=c}),rb=Ua,Ia=ra(Ia=tb.now)&&Ia||function(){return(new tb).getTime()},
jc=8==vb(A+"08")?vb:function(a,c){return vb(Ta(a)?a.replace(D,""):a,c||0)};return s.after=function(a,c){if(!ha(c))throw new Ca;return function(){return 1>--a?c.apply(this,arguments):void 0}},s.assign=da,s.at=function(a){for(var c=arguments,b=-1,d=ka(c,!0,!1,1),c=c[2]&&c[2][c[1]]===a?1:d.length,e=sa(c);++b<c;)e[b]=a[d[b]];return e},s.bind=wb,s.bindAll=function(a){for(var c=1<arguments.length?ka(arguments,!0,!1,1):Sa(a),b=-1,d=c.length;++b<d;){var e=c[b];a[e]=la(a[e],1,null,null,a)}return a},s.bindKey=
function(a,c){return 2<arguments.length?la(c,19,n(arguments,2),null,a):la(c,3,null,null,a)},s.chain=function(a){return a=new S(a),a.__chain__=!0,a},s.compact=function(a){for(var c=-1,b=a?a.length:0,d=[];++c<b;){var e=a[c];e&&d.push(e)}return d},s.compose=function(){for(var a=arguments,c=a.length;c--;)if(!ha(a[c]))throw new Ca;return function(){for(var c=arguments,b=a.length;b--;)c=[a[b].apply(this,c)];return c[0]}},s.constant=function(a){return function(){return a}},s.countBy=gc,s.create=function(a,
c){var b=ia(a);return c?da(b,c):b},s.createCallback=function(a,c,b){var d=typeof a;if(null==a||"function"==d)return ca(a,c,b);if("object"!=d)return Pb(a);var e=ma(a),g=e[0],k=a[g];return 1!=e.length||k!==k||oa(k)?function(c){for(var b=e.length,d=!1;b--&&(d=wa(c[e[b]],a[e[b]],null,!0)););return d}:function(a){return a=a[g],k===a&&(0!==k||1/k==1/a)}},s.curry=function(a,c){return c="number"==typeof c?c:+c||a.length,la(a,4,null,null,null,c)},s.debounce=Nb,s.defaults=x,s.defer=function(a){if(!ha(a))throw new Ca;
var c=n(arguments,1);return Wa(function(){a.apply(q,c)},1)},s.delay=function(a,c){if(!ha(a))throw new Ca;var b=n(arguments,2);return Wa(function(){a.apply(q,b)},c)},s.difference=function(a){return ta(a,ka(arguments,!0,!0,1))},s.filter=db,s.flatten=function(a,c,b,d){return"boolean"!=typeof c&&null!=c&&(d=b,b="function"!=typeof c&&d&&d[c]===a?null:c,c=!1),null!=b&&(a=Ua(a,b,d)),ka(a,c)},s.forEach=qa,s.forEachRight=eb,s.forIn=t,s.forInRight=function(a,c,b){var d=[];t(a,function(a,c){d.push(c,a)});var e=
d.length;for(c=ca(c,b,3);e--&&!1!==c(d[e--],d[e],a););return a},s.forOwn=r,s.forOwnRight=Ab,s.functions=Sa,s.groupBy=hc,s.indexBy=ic,s.initial=function(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=e;for(c=s.createCallback(c,b,3);g--&&c(a[g],g,a);)d++}else d=null==c||b?1:c||d;return n(a,0,Va(va(0,e-d),e))},s.intersection=function(){for(var a=[],c=-1,d=arguments.length,e=k(),l=Ba(),r=l===b,m=k();++c<d;){var q=arguments[c];(ja(q)||bb(q))&&(a.push(q),e.push(r&&q.length>=B&&g(c?
a[c]:m)))}var r=a[0],n=-1,v=r?r.length:0,t=[];a:for(;++n<v;){var w=e[0],q=r[n];if(0>(w?f(w,q):l(m,q))){c=d;for((w||m).push(q);--c;)if(w=e[c],0>(w?f(w,q):l(a[c],q)))continue a;t.push(q)}}for(;d--;)(w=e[d])&&p(w);return h(e),h(m),t},s.invert=Bb,s.invoke=function(a,c){var b=n(arguments,2),d=-1,e="function"==typeof c,g=a?a.length:0,k=sa("number"==typeof g?g:0);return qa(a,function(a){k[++d]=(e?c:a[c]).apply(a,b)}),k},s.keys=ma,s.map=Ua,s.mapValues=function(a,c,b){var d={};return c=s.createCallback(c,
b,3),r(a,function(a,b,e){d[b]=c(a,b,e)}),d},s.max=Fb,s.memoize=function(a,c){function b(){var d=b.cache,e=c?c.apply(this,arguments):w+arguments[0];return na.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}if(!ha(a))throw new Ca;return b.cache={},b},s.merge=function(a){var c=arguments,b=2;if(!oa(a))return a;if("number"!=typeof c[2]&&(b=c.length),3<b&&"function"==typeof c[b-2])var d=ca(c[--b-1],c[b--],2);else 2<b&&"function"==typeof c[b-1]&&(d=c[--b]);for(var c=n(arguments,1,b),e=-1,g=k(),f=k();++e<b;)ua(a,
c[e],d,g,f);return h(g),h(f),a},s.min=function(c,b,d){var e=1/0,g=e;if("function"!=typeof b&&d&&d[b]===c&&(b=null),null==b&&ja(c)){d=-1;for(var k=c.length;++d<k;){var f=c[d];f<g&&(g=f)}}else b=null==b&&Ta(c)?a:s.createCallback(b,d,3),qa(c,function(a,c,d){c=b(a,c,d);c<e&&(e=c,g=a)});return g},s.omit=function(a,c,b){var d={};if("function"!=typeof c){var e=[];t(a,function(a,c){e.push(c)});for(var e=ta(e,ka(arguments,!0,!1,1)),g=-1,k=e.length;++g<k;){var f=e[g];d[f]=a[f]}}else c=s.createCallback(c,b,
3),t(a,function(a,b,e){c(a,b,e)||(d[b]=a)});return d},s.once=function(a){var c,b;if(!ha(a))throw new Ca;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},s.pairs=function(a){for(var c=-1,b=ma(a),d=b.length,e=sa(d);++c<d;){var g=b[c];e[c]=[g,a[g]]}return e},s.partial=function(a){return la(a,16,n(arguments,1))},s.partialRight=function(a){return la(a,32,null,n(arguments,1))},s.pick=function(a,c,b){var d={};if("function"!=typeof c)for(var e=-1,g=ka(arguments,!0,!1,1),k=oa(a)?g.length:
0;++e<k;){var f=g[e];f in a&&(d[f]=a[f])}else c=s.createCallback(c,b,3),t(a,function(a,b,e){c(a,b,e)&&(d[b]=a)});return d},s.pluck=rb,s.property=Pb,s.pull=function(a){for(var c=arguments,b=0,d=c.length,e=a?a.length:0;++b<d;)for(var g=-1,k=c[b];++g<e;)a[g]===k&&(Sb.call(a,g--,1),e--);return a},s.range=function(a,c,b){a=+a||0;b="number"==typeof b?b:+b||1;null==c&&(c=a,a=0);var d=-1;c=va(0,bc((c-a)/(b||1)));for(var e=sa(c);++d<c;)e[d]=a,a+=b;return e},s.reject=function(a,c,b){return c=s.createCallback(c,
b,3),db(a,function(a,b,d){return!c(a,b,d)})},s.remove=function(a,c,b){var d=-1,e=a?a.length:0,g=[];for(c=s.createCallback(c,b,3);++d<e;)b=a[d],c(b,d,a)&&(g.push(b),Sb.call(a,d--,1),e--);return g},s.rest=qb,s.shuffle=Hb,s.sortBy=function(a,c,b){var e=-1,g=ja(c),f=a?a.length:0,r=sa("number"==typeof f?f:0);g||(c=s.createCallback(c,b,3));qa(a,function(a,b,d){var f=r[++e]=l();g?f.m=Ua(c,function(c){return a[c]}):(f.m=k())[0]=c(a,b,d);f.n=e;f.o=a});f=r.length;for(r.sort(d);f--;)a=r[f],r[f]=a.o,g||h(a.m),
p(a);return r},s.tap=function(a,c){return c(a),a},s.throttle=function(a,c,b){var d=!0,e=!0;if(!ha(a))throw new Ca;return!1===b?d=!1:oa(b)&&(d="leading"in b?b.leading:d,e="trailing"in b?b.trailing:e),ba.leading=d,ba.maxWait=c,ba.trailing=e,Nb(a,c,ba)},s.times=function(a,c,b){a=-1<(a=+a)?a:0;var d=-1,e=sa(a);for(c=ca(c,b,1);++d<a;)e[d]=c(d);return e},s.toArray=function(a){return a&&"number"==typeof a.length?n(a):cb(a)},s.transform=function(a,c,b,d){var e=ja(a);if(null==b)if(e)b=[];else{var g=a&&a.constructor;
b=ia(g&&g.prototype)}return c&&(c=s.createCallback(c,d,4),(e?qa:r)(a,function(a,d,e){return c(b,a,d,e)})),b},s.union=function(){return Z(ka(arguments,!0,!0))},s.uniq=Kb,s.values=cb,s.where=db,s.without=function(a){return ta(a,n(arguments,1))},s.wrap=function(a,c){return la(c,16,[a])},s.xor=function(){for(var a=-1,c=arguments.length;++a<c;){var b=arguments[a];if(ja(b)||bb(b))var d=d?Z(ta(d,b).concat(ta(b,d))):b}return d||[]},s.zip=Lb,s.zipObject=Mb,s.collect=Ua,s.drop=qb,s.each=qa,s.eachRight=eb,s.extend=
=======
this.popStack(),b,d;this.options.stringParams&&(d=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b);d&&e.types.push("'"+a+"': "+d);e.values.push("'"+a+"': ("+c+")")},compiler:e,compileChildren:function(a,c){for(var b=a.children,d,e,g=0,f=b.length;g<f;g++){d=b[g];e=new this.compiler;var k=this.matchExistingProgram(d);null==k?(this.context.programs.push(""),k=this.context.programs.length,d.index=k,d.name="program"+k,this.context.programs[k]=e.compile(d,c,this.context),
this.context.environments[k]=d):(d.index=k,d.name="program"+k)}},matchExistingProgram:function(a){for(var c=0,b=this.context.environments.length;c<b;c++){var d=this.context.environments[c];if(d&&d.equals(a))return c}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var c=this.environment.children[a];a=c.depths.list;for(var b=[c.index,c.name,"data"],d=0,e=a.length;d<e;d++)c=a[d],1===c?b.push("depth0"):b.push("depth"+(c-1));return(0===a.length?"self.program(":
"self.programWithDepth(")+b.join(", ")+")"},register:function(a,c){this.useRegister(a);this.pushSource(a+" = "+c+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);a&&this.source.push(a)},pushStack:function(a){this.flushInline();var c=this.incrStack();
a&&this.pushSource(c+" = "+a+";");this.compileStack.push(c);return c},replaceStack:function(a){var c="",b=this.isInline(),e,g,f;b?(e=this.popStack(!0),e instanceof d?(e=e.value,f=!0):(g=!this.stackSlot,c=!g?this.topStackName():this.incrStack(),c="("+this.push(c)+" = "+e+"),",e=this.topStack())):e=this.topStack();a=a.call(this,e);b?(f||this.popStack(),g&&this.stackSlot--,this.push("("+c+a+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+c+a+");"));return e},nextStack:function(){return this.pushStack()},
incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var c=0,b=a.length;c<b;c++){var e=a[c];e instanceof d?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var c=this.isInline(),e=(c?this.inlineStack:
this.compileStack).pop();if(!a&&e instanceof d)return e.value;if(!c){if(!this.stackSlot)throw new b("Invalid stack pop");this.stackSlot--}return e},topStack:function(a){var c=this.isInline()?this.inlineStack:this.compileStack,c=c[c.length-1];return!a&&c instanceof d?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,c,b){var d=[];a=
this.setupParams(a,d,b);var e=this.nameLookup("helpers",c,"helper");return{params:d,paramsInit:a,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:b&&["depth0",this.quotedString(c)].concat(d).join(", ")}},setupOptions:function(a,c){var b=[],d=[],e=[],g,f;b.push("hash:"+this.popStack());this.options.stringParams&&(b.push("hashTypes:"+this.popStack()),b.push("hashContexts:"+this.popStack()));g=this.popStack();if((f=this.popStack())||g)f||(this.context.aliases.self="this",f="self.noop"),
g||(this.context.aliases.self="this",g="self.noop"),b.push("inverse:"+g),b.push("fn:"+f);for(f=0;f<a;f++)g=this.popStack(),c.push(g),this.options.stringParams&&(e.push(this.popStack()),d.push(this.popStack()));this.options.stringParams&&(b.push("contexts:["+d.join(",")+"]"),b.push("types:["+e.join(",")+"]"));this.options.data&&b.push("data:data");return b},setupParams:function(a,c,b){a="{"+this.setupOptions(a,c).join(",")+"}";if(b)return this.useRegister("options"),c.push("options"),"options="+a;
c.push(a);return""}};for(var p="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),t=e.RESERVED_WORDS={},r=0,v=p.length;r<v;r++)t[p[r]]=!0;e.isValidJavaScriptVariableName=
function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1};return e}(a,g);return function(a,b,d,e,g){var f=d.parser,q=d.parse,p=e.Compiler,t=e.compile,r=e.precompile,v=a.create;d=function(){var a=v();a.compile=function(c,b){return t(c,b,a)};a.precompile=function(c,b){return r(c,b,a)};a.AST=b;a.Compiler=p;a.JavaScriptCompiler=g;a.Parser=f;a.parse=q;return a};a=d();a.create=d;return a}(b,f,d,e,g)}();
(function(){function b(a,c,b){b=(b||0)-1;for(var d=a?a.length:0;++b<d;)if(a[b]===c)return b;return-1}function f(a,c){var d=typeof c;if(a=a.l,"boolean"==d||null==c)return a[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:z+c;return a=(a=a[d])&&a[e],"object"==d?a&&-1<b(a,c)?0:-1:a?0:-1}function g(a){var c=this.l,b=typeof a;if("boolean"==b||null==a)c[a]=!0;else{"number"!=b&&"string"!=b&&(b="object");var d="number"==b?a:z+a,c=c[b]||(c[b]={});"object"==b?(c[d]||(c[d]=[])).push(a):c[d]=
!0}}function a(a){return a.charCodeAt(0)}function d(a,c){for(var b=a.m,d=c.m,e=-1,g=b.length;++e<g;){var f=b[e],k=d[e];if(f!==k){if(f>k||"undefined"==typeof f)return 1;if(f<k||"undefined"==typeof k)return-1}}return a.n-c.n}function e(a){var c=-1,b=a.length,d=a[0],e=a[b/2|0],f=a[b-1];if(d&&"object"==typeof d&&e&&"object"==typeof e&&f&&"object"==typeof f)return!1;d=m();d["false"]=d["null"]=d["true"]=d.undefined=!1;e=m();e.k=a;e.l=d;for(e.push=g;++c<b;)e.push(a[c]);return e}function c(a){return"\\"+
da[a]}function k(){return t.pop()||[]}function m(){return r.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function h(a){a.length=0;t.length<w&&t.push(a)}function n(a){var c=a.l;c&&n(c);a.k=a.l=a.m=a.object=a.number=a.string=a.o=null;r.length<w&&r.push(a)}function l(a,c,b){c||(c=0);"undefined"==typeof b&&(b=a?a.length:0);var d=-1;b=b-c||0;for(var e=Array(0>b?0:b);++d<b;)e[d]=a[c+d];return e}function q(g){function r(a,
c,b){if(!a||!aa[typeof a])return a;c=c&&"undefined"==typeof b?c:ca(c,b,3);for(var d=-1,e=aa[typeof a]&&ma(a),g=e?e.length:0;++d<g&&(b=e[d],!1!==c(a[b],b,a)););return a}function t(a,c,b){var d;if(!a||!aa[typeof a])return a;c=c&&"undefined"==typeof b?c:ca(c,b,3);for(d in a)if(!1===c(a[d],d,a))break;return a}function w(a,c,b){var d,e=a,g=e;if(!e)return g;for(var f=arguments,k=0,h="number"==typeof b?2:f.length;++k<h;)if((e=f[k])&&aa[typeof e])for(var m=-1,l=aa[typeof e]&&ma(e),r=l?l.length:0;++m<r;)d=
l[m],"undefined"==typeof g[d]&&(g[d]=e[d]);return g}function da(a,c,b){var d,e=a,g=e;if(!e)return g;var f=arguments,k=0,h="number"==typeof b?2:f.length;if(3<h&&"function"==typeof f[h-2])var m=ca(f[--h-1],f[h--],2);else 2<h&&"function"==typeof f[h-1]&&(m=f[--h]);for(;++k<h;)if((e=f[k])&&aa[typeof e])for(var l=-1,r=aa[typeof e]&&ma(e),q=r?r.length:0;++l<q;)d=r[l],g[d]=m?m(g[d],e[d]):e[d];return g}function X(a){var c,b=[];if(!a||!aa[typeof a])return b;for(c in a)na.call(a,c)&&b.push(c);return b}function s(a){return a&&
"object"==typeof a&&!ja(a)&&na.call(a,"__wrapped__")?a:new S(a)}function S(a,c){this.__chain__=!!c;this.__wrapped__=a}function fa(a){function c(){if(d){var a=l(d);Qa.apply(a,arguments)}if(this instanceof c){var g=ia(b.prototype),a=b.apply(g,a||arguments);return oa(a)?a:g}return b.apply(e,a||arguments)}var b=a[0],d=a[2],e=a[4];return jb(c,a),c}function Y(a,c,b,d,e){if(b){var g=b(a);if("undefined"!=typeof g)return g}if(!oa(a))return a;var f=pa.call(a);if(!L[f])return a;var m=Aa[f];switch(f){case I:case Q:return new m(+a);
case O:case K:return new m(a);case H:return g=m(a.source,u.exec(a)),g.lastIndex=a.lastIndex,g}if(f=ja(a),c){var q=!d;d||(d=k());e||(e=k());for(var n=d.length;n--;)if(d[n]==a)return e[n];g=f?m(a.length):{}}else g=f?l(a):da({},a);return f&&(na.call(a,"index")&&(g.index=a.index),na.call(a,"input")&&(g.input=a.input)),c?(d.push(a),e.push(g),(f?qa:r)(a,function(a,f){g[f]=Y(a,c,b,d,e)}),q&&(h(d),h(e)),g):g}function ia(a){return oa(a)?ab(a):{}}function ca(a,c,b){if("function"!=typeof a)return kb;if("undefined"==
typeof c||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Ra.funcNames&&(d=!a.name),d=d||!Ra.funcDecomp,!d)){var e=Ub.call(a);Ra.funcNames||(d=!x.test(e));d||(d=P.test(e),jb(a,d))}if(!1===d||!0!==d&&1&d[1])return a;switch(b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,d){return a.call(c,b,d)};case 3:return function(b,d,e){return a.call(c,b,d,e)};case 4:return function(b,d,e,g){return a.call(c,b,d,e,g)}}return wb(a,c)}function Fa(a){function c(){var a=
h?f:this;if(e){var p=l(e);Qa.apply(p,arguments)}return(g||r)&&(p||(p=l(arguments)),g&&Qa.apply(p,g),r&&p.length<k)?(d|=16,Fa([b,q?d:-4&d,p,null,f,k])):(p||(p=arguments),m&&(b=a[n]),this instanceof c?(a=ia(b.prototype),p=b.apply(a,p),oa(p)?p:a):b.apply(a,p))}var b=a[0],d=a[1],e=a[2],g=a[3],f=a[4],k=a[5],h=1&d,m=2&d,r=4&d,q=8&d,n=b;return jb(c,a),c}function ta(a,c){var d=-1,g=Ba(),k=a?a.length:0,h=k>=B&&g===b,m=[];if(h){var l=e(c);l?(g=f,c=l):h=!1}for(;++d<k;)l=a[d],0>g(c,l)&&m.push(l);return h&&n(c),
m}function ka(a,c,b,d){d=(d||0)-1;for(var e=a?a.length:0,g=[];++d<e;){var f=a[d];if(f&&"object"==typeof f&&"number"==typeof f.length&&(ja(f)||bb(f))){c||(f=ka(f,c,b));var k=-1,h=f.length,m=g.length;for(g.length+=h;++k<h;)g[m++]=f[k]}else b||g.push(f)}return g}function wa(a,c,b,d,e,g){if(b){var f=b(a,c);if("undefined"!=typeof f)return!!f}if(a===c)return 0!==a||1/a==1/c;if(a===a&&!(a&&aa[typeof a]||c&&aa[typeof c]))return!1;if(null==a||null==c)return a===c;var m=pa.call(a),l=pa.call(c);if(m==R&&(m=
G),l==R&&(l=G),m!=l)return!1;switch(m){case I:case Q:return+a==+c;case O:return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case H:case K:return a==Ga(c)}if(l=m==U,!l){var r=na.call(a,"__wrapped__"),q=na.call(c,"__wrapped__");if(r||q)return wa(r?a.__wrapped__:a,q?c.__wrapped__:c,b,d,e,g);if(m!=G||(m=a.constructor,r=c.constructor,m!=r&&!(ha(m)&&m instanceof m&&ha(r)&&r instanceof r)&&"constructor"in a&&"constructor"in c))return!1}m=!e;e||(e=k());g||(g=k());for(r=e.length;r--;)if(e[r]==a)return g[r]==c;var n=0,
f=!0;if(e.push(a),g.push(c),l){if(r=a.length,n=c.length,(f=n==r)||d)for(;n--;)if(l=r,q=c[n],d)for(;l--&&!(f=wa(a[l],q,b,d,e,g)););else if(!(f=wa(a[n],q,b,d,e,g)))break}else t(c,function(c,k,m){return na.call(m,k)?(n++,f=na.call(a,k)&&wa(a[k],c,b,d,e,g)):void 0}),f&&!d&&t(a,function(a,c,b){return na.call(b,c)?f=-1<--n:void 0});return e.pop(),g.pop(),m&&(h(e),h(g)),f}function ua(a,c,b,d,e){(ja(c)?qa:r)(c,function(c,g){var f,k,m=c,h=a[g];if(c&&((k=ja(c))||lb(c))){for(m=d.length;m--;)if(f=d[m]==c){h=
e[m];break}if(!f){var l;b&&(m=b(h,c),l="undefined"!=typeof m)&&(h=m);l||(h=k?ja(h)?h:[]:lb(h)?h:{});d.push(c);e.push(h);l||ua(h,c,b,d,e)}}else b&&(m=b(h,c),"undefined"==typeof m&&(m=c)),"undefined"!=typeof m&&(h=m);a[g]=h})}function Ja(a,c){return a+Vb(xb()*(c-a+1))}function Z(a,c,d){var g=-1,m=Ba(),l=a?a.length:0,r=[],q=!c&&l>=B&&m===b,p=d||q?k():r;for(q&&(p=e(p),m=f);++g<l;){var v=a[g],I=d?d(v,g,a):v;(c?!g||p[p.length-1]!==I:0>m(p,I))&&((d||q)&&p.push(I),r.push(v))}return q?(h(p.k),n(p)):d&&h(p),
r}function Ha(a){return function(c,b,d){var e={};b=s.createCallback(b,d,3);d=-1;var g=c?c.length:0;if("number"==typeof g)for(;++d<g;){var f=c[d];a(e,f,b(f,d,c),c)}else r(c,function(c,d,g){a(e,c,b(c,d,g),g)});return e}}function la(a,c,b,d,e,g){var f=1&c,k=4&c,m=16&c,h=32&c;if(!(2&c||ha(a)))throw new Ca;m&&!b.length&&(c&=-17,m=b=!1);h&&!d.length&&(c&=-33,h=d=!1);var r=a&&a.__bindData__;return r&&!0!==r?(r=l(r),r[2]&&(r[2]=l(r[2])),r[3]&&(r[3]=l(r[3])),!f||1&r[1]||(r[4]=e),!f&&1&r[1]&&(c|=8),!k||4&r[1]||
(r[5]=g),m&&Qa.apply(r[2]||(r[2]=[]),b),h&&Wb.apply(r[3]||(r[3]=[]),d),r[1]|=c,la.apply(null,r)):(1==c||17===c?fa:Fa)([a,c,b,d,e,g])}function Ka(a){return mb[a]}function Ba(){var a=(a=s.indexOf)===yb?b:a;return a}function ra(a){return"function"==typeof a&&Xb.test(a)}function La(a){var c,b;return a&&pa.call(a)==G&&(c=a.constructor,!ha(c)||c instanceof c)?(t(a,function(a,c){b=c}),"undefined"==typeof b||na.call(a,b)):!1}function Yb(a){return zb[a]}function bb(a){return a&&"object"==typeof a&&"number"==
typeof a.length&&pa.call(a)==R||!1}function Ab(a,c,b){var d=ma(a),e=d.length;for(c=ca(c,b,3);e--&&(b=d[e],!1!==c(a[b],b,a)););return a}function Sa(a){var c=[];return t(a,function(a,b){ha(a)&&c.push(b)}),c.sort()}function Bb(a){for(var c=-1,b=ma(a),d=b.length,e={};++c<d;){var g=b[c];e[a[g]]=g}return e}function ha(a){return"function"==typeof a}function oa(a){return!(!a||!aa[typeof a])}function Cb(a){return"number"==typeof a||a&&"object"==typeof a&&pa.call(a)==O||!1}function Ta(a){return"string"==typeof a||
a&&"object"==typeof a&&pa.call(a)==K||!1}function cb(a){for(var c=-1,b=ma(a),d=b.length,e=sa(d);++c<d;)e[c]=a[b[c]];return e}function Db(a,c,b){var d=-1,e=Ba(),g=a?a.length:0,f=!1;return b=(0>b?va(0,g+b):b)||0,ja(a)?f=-1<e(a,c,b):"number"==typeof g?f=-1<(Ta(a)?a.indexOf(c,b):e(a,c,b)):r(a,function(a){return++d<b?void 0:!(f=a===c)}),f}function Eb(a,c,b){var d=!0;c=s.createCallback(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e&&(d=!!c(a[b],b,a)););else r(a,function(a,b,e){return d=
!!c(a,b,e)});return d}function db(a,c,b){var d=[];c=s.createCallback(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e;){var g=a[b];c(g,b,a)&&d.push(g)}else r(a,function(a,b,e){c(a,b,e)&&d.push(a)});return d}function nb(a,c,b){c=s.createCallback(c,b,3);b=-1;var d=a?a.length:0;if("number"!=typeof d){var e;return r(a,function(a,b,d){return c(a,b,d)?(e=a,!1):void 0}),e}for(;++b<d;){var g=a[b];if(c(g,b,a))return g}}function qa(a,c,b){var d=-1,e=a?a.length:0;if(c=c&&"undefined"==typeof b?
c:ca(c,b,3),"number"==typeof e)for(;++d<e&&!1!==c(a[d],d,a););else r(a,c);return a}function eb(a,c,b){var d=a?a.length:0;if(c=c&&"undefined"==typeof b?c:ca(c,b,3),"number"==typeof d)for(;d--&&!1!==c(a[d],d,a););else{var e=ma(a),d=e.length;r(a,function(a,b,g){return b=e?e[--d]:--d,c(g[b],b,g)})}return a}function Ua(a,c,b){var d=-1,e=a?a.length:0;if(c=s.createCallback(c,b,3),"number"==typeof e)for(var g=sa(e);++d<e;)g[d]=c(a[d],d,a);else g=[],r(a,function(a,b,e){g[++d]=c(a,b,e)});return g}function Fb(c,
b,d){var e=-1/0,g=e;if("function"!=typeof b&&d&&d[b]===c&&(b=null),null==b&&ja(c)){d=-1;for(var f=c.length;++d<f;){var k=c[d];k>g&&(g=k)}}else b=null==b&&Ta(c)?a:s.createCallback(b,d,3),qa(c,function(a,c,d){c=b(a,c,d);c>e&&(e=c,g=a)});return g}function ob(a,c,b,d){if(!a)return b;var e=3>arguments.length;c=s.createCallback(c,d,4);var g=-1,f=a.length;if("number"==typeof f)for(e&&(b=a[++g]);++g<f;)b=c(b,a[g],g,a);else r(a,function(a,d,g){b=e?(e=!1,a):c(b,a,d,g)});return b}function Gb(a,c,b,d){var e=
3>arguments.length;return c=s.createCallback(c,d,4),eb(a,function(a,d,g){b=e?(e=!1,a):c(b,a,d,g)}),b}function Hb(a){var c=-1,b=a?a.length:0,d=sa("number"==typeof b?b:0);return qa(a,function(a){var b=Ja(0,++c);d[c]=d[b];d[b]=a}),d}function Ib(a,c,b){var d;c=s.createCallback(c,b,3);b=-1;var e=a?a.length:0;if("number"==typeof e)for(;++b<e&&!(d=c(a[b],b,a)););else r(a,function(a,b,e){return!(d=c(a,b,e))});return!!d}function pb(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=
s.createCallback(c,b,3);++g<e&&c(a[g],g,a);)d++}else if(d=c,null==d||b)return a?a[0]:p;return l(a,0,Va(va(0,d),e))}function yb(a,c,d){if("number"==typeof d){var e=a?a.length:0;d=0>d?va(0,e+d):d||0}else if(d)return d=Jb(a,c),a[d]===c?d:-1;return b(a,c,d)}function qb(a,c,b){if("number"!=typeof c&&null!=c){var d=0,e=-1,g=a?a.length:0;for(c=s.createCallback(c,b,3);++e<g&&c(a[e],e,a);)d++}else d=null==c||b?1:va(0,c);return l(a,d)}function Jb(a,c,b,d){var e=0,g=a?a.length:e;b=b?s.createCallback(b,d,1):
kb;for(c=b(c);e<g;)d=e+g>>>1,b(a[d])<c?e=d+1:g=d;return e}function Kb(a,c,b,d){return"boolean"!=typeof c&&null!=c&&(d=b,b="function"!=typeof c&&d&&d[c]===a?null:c,c=!1),null!=b&&(b=s.createCallback(b,d,3)),Z(a,c,b)}function Lb(){for(var a=1<arguments.length?arguments:arguments[0],c=-1,b=a?Fb(rb(a,"length")):0,d=sa(0>b?0:b);++c<b;)d[c]=rb(a,c);return d}function Mb(a,c){var b=-1,d=a?a.length:0,e={};for(c||!d||ja(a[0])||(c=[]);++b<d;){var g=a[b];c?e[g]=c[b]:g&&(e[g[0]]=g[1])}return e}function wb(a,c){return 2<
arguments.length?la(a,17,l(arguments,2),null,c):la(a,1,null,null,c)}function Nb(a,c,b){function d(){r&&fb(r);f=r=l=p;(v||n!==c)&&(q=Ia(),k=a.apply(h,g),r||f||(g=h=null))}function e(){var b=c-(Ia()-m);0<b?r=Wa(e,b):(f&&fb(f),b=l,f=r=l=p,b&&(q=Ia(),k=a.apply(h,g),r||f||(g=h=null)))}var g,f,k,m,h,r,l,q=0,n=!1,v=!0;if(!ha(a))throw new Ca;if(c=va(0,c)||0,!0===b)var I=!0,v=!1;else oa(b)&&(I=b.leading,n="maxWait"in b&&(va(c,b.maxWait)||0),v="trailing"in b?b.trailing:v);return function(){if(g=arguments,m=
Ia(),h=this,l=v&&(r||!I),!1===n)var b=I&&!r;else{f||I||(q=m);var p=n-(m-q),t=0>=p;t?(f&&(f=fb(f)),q=m,k=a.apply(h,g)):f||(f=Wa(d,p))}return t&&r?r=fb(r):r||c===n||(r=Wa(e,c)),b&&(t=!0,k=a.apply(h,g)),!t||r||f||(g=h=null),k}}function kb(a){return a}function sb(a,c,b){var d=!0,e=c&&Sa(c);c&&(b||e.length)||(null==b&&(b=c),g=S,c=a,a=s,e=Sa(c));!1===b?d=!1:oa(b)&&"chain"in b&&(d=b.chain);var g=a,f=ha(g);qa(e,function(b){var e=a[b]=c[b];f&&(g.prototype[b]=function(){var c=this.__chain__,b=this.__wrapped__,
f=[b];if(Qa.apply(f,arguments),f=e.apply(a,f),d||c){if(b===f&&oa(f))return this;f=new g(f);f.__chain__=c}return f})})}function Ob(){}function Pb(a){return function(c){return c[a]}}function Qb(){return this.__wrapped__}g=g?V.defaults(ea.Object(),g,V.pick(ea,W)):ea;var sa=g.Array,Zb=g.Boolean,tb=g.Date,gb=g.Function,Xa=g.Math,$b=g.Number,Ma=g.Object,Ya=g.RegExp,Ga=g.String,Ca=g.TypeError,Na=[],Rb=Ma.prototype,ac=g._,pa=Rb.toString,Xb=Ya("^"+Ga(pa).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,
".*?")+"$"),bc=Xa.ceil,fb=g.clearTimeout,Vb=Xa.floor,Ub=gb.prototype.toString,Oa=ra(Oa=Ma.getPrototypeOf)&&Oa,na=Rb.hasOwnProperty,Qa=Na.push,Wa=g.setTimeout,Sb=Na.splice,Wb=Na.unshift,Tb=function(){try{var a={},c=ra(c=Ma.defineProperty)&&c,b=c(a,a,a)&&c}catch(d){}return b}(),ab=ra(ab=Ma.create)&&ab,ub=ra(ub=sa.isArray)&&ub,cc=g.isFinite,dc=g.isNaN,hb=ra(hb=Ma.keys)&&hb,va=Xa.max,Va=Xa.min,vb=g.parseInt,xb=Xa.random,Aa={};Aa[U]=sa;Aa[I]=Zb;Aa[Q]=tb;Aa[y]=gb;Aa[G]=Ma;Aa[O]=$b;Aa[H]=Ya;Aa[K]=Ga;S.prototype=
s.prototype;var Ra=s.support={};Ra.funcDecomp=!ra(g.a)&&P.test(q);Ra.funcNames="string"==typeof gb.name;s.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:s}};ab||(ia=function(){function a(){}return function(c){if(oa(c)){a.prototype=c;var b=new a;a.prototype=null}return b||g.Object()}}());var jb=Tb?function(a,c){ya.value=c;Tb(a,"__bindData__",ya)}:Ob,ja=ub||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&pa.call(a)==U||
!1},ma=hb?function(a){return oa(a)?hb(a):[]}:X,mb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zb=Bb(mb),ec=Ya("("+ma(zb).join("|")+")","g"),fc=Ya("["+ma(mb).join("")+"]","g"),lb=Oa?function(a){if(!a||pa.call(a)!=G)return!1;var c=a.valueOf,b=ra(c)&&(b=Oa(c))&&Oa(b);return b?a==b||Oa(a)==b:La(a)}:La,gc=Ha(function(a,c,b){na.call(a,b)?a[b]++:a[b]=1}),hc=Ha(function(a,c,b){(na.call(a,b)?a[b]:a[b]=[]).push(c)}),ic=Ha(function(a,c,b){a[b]=c}),rb=Ua,Ia=ra(Ia=tb.now)&&Ia||function(){return(new tb).getTime()},
jc=8==vb(A+"08")?vb:function(a,c){return vb(Ta(a)?a.replace(D,""):a,c||0)};return s.after=function(a,c){if(!ha(c))throw new Ca;return function(){return 1>--a?c.apply(this,arguments):void 0}},s.assign=da,s.at=function(a){for(var c=arguments,b=-1,d=ka(c,!0,!1,1),c=c[2]&&c[2][c[1]]===a?1:d.length,e=sa(c);++b<c;)e[b]=a[d[b]];return e},s.bind=wb,s.bindAll=function(a){for(var c=1<arguments.length?ka(arguments,!0,!1,1):Sa(a),b=-1,d=c.length;++b<d;){var e=c[b];a[e]=la(a[e],1,null,null,a)}return a},s.bindKey=
function(a,c){return 2<arguments.length?la(c,19,l(arguments,2),null,a):la(c,3,null,null,a)},s.chain=function(a){return a=new S(a),a.__chain__=!0,a},s.compact=function(a){for(var c=-1,b=a?a.length:0,d=[];++c<b;){var e=a[c];e&&d.push(e)}return d},s.compose=function(){for(var a=arguments,c=a.length;c--;)if(!ha(a[c]))throw new Ca;return function(){for(var c=arguments,b=a.length;b--;)c=[a[b].apply(this,c)];return c[0]}},s.constant=function(a){return function(){return a}},s.countBy=gc,s.create=function(a,
c){var b=ia(a);return c?da(b,c):b},s.createCallback=function(a,c,b){var d=typeof a;if(null==a||"function"==d)return ca(a,c,b);if("object"!=d)return Pb(a);var e=ma(a),g=e[0],f=a[g];return 1!=e.length||f!==f||oa(f)?function(c){for(var b=e.length,d=!1;b--&&(d=wa(c[e[b]],a[e[b]],null,!0)););return d}:function(a){return a=a[g],f===a&&(0!==f||1/f==1/a)}},s.curry=function(a,c){return c="number"==typeof c?c:+c||a.length,la(a,4,null,null,null,c)},s.debounce=Nb,s.defaults=w,s.defer=function(a){if(!ha(a))throw new Ca;
var c=l(arguments,1);return Wa(function(){a.apply(p,c)},1)},s.delay=function(a,c){if(!ha(a))throw new Ca;var b=l(arguments,2);return Wa(function(){a.apply(p,b)},c)},s.difference=function(a){return ta(a,ka(arguments,!0,!0,1))},s.filter=db,s.flatten=function(a,c,b,d){return"boolean"!=typeof c&&null!=c&&(d=b,b="function"!=typeof c&&d&&d[c]===a?null:c,c=!1),null!=b&&(a=Ua(a,b,d)),ka(a,c)},s.forEach=qa,s.forEachRight=eb,s.forIn=t,s.forInRight=function(a,c,b){var d=[];t(a,function(a,c){d.push(c,a)});var e=
d.length;for(c=ca(c,b,3);e--&&!1!==c(d[e--],d[e],a););return a},s.forOwn=r,s.forOwnRight=Ab,s.functions=Sa,s.groupBy=hc,s.indexBy=ic,s.initial=function(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=e;for(c=s.createCallback(c,b,3);g--&&c(a[g],g,a);)d++}else d=null==c||b?1:c||d;return l(a,0,Va(va(0,e-d),e))},s.intersection=function(){for(var a=[],c=-1,d=arguments.length,g=k(),m=Ba(),r=m===b,l=k();++c<d;){var q=arguments[c];(ja(q)||bb(q))&&(a.push(q),g.push(r&&q.length>=B&&e(c?
a[c]:l)))}var r=a[0],p=-1,v=r?r.length:0,I=[];a:for(;++p<v;){var t=g[0],q=r[p];if(0>(t?f(t,q):m(l,q))){c=d;for((t||l).push(q);--c;)if(t=g[c],0>(t?f(t,q):m(a[c],q)))continue a;I.push(q)}}for(;d--;)(t=g[d])&&n(t);return h(g),h(l),I},s.invert=Bb,s.invoke=function(a,c){var b=l(arguments,2),d=-1,e="function"==typeof c,g=a?a.length:0,f=sa("number"==typeof g?g:0);return qa(a,function(a){f[++d]=(e?c:a[c]).apply(a,b)}),f},s.keys=ma,s.map=Ua,s.mapValues=function(a,c,b){var d={};return c=s.createCallback(c,
b,3),r(a,function(a,b,e){d[b]=c(a,b,e)}),d},s.max=Fb,s.memoize=function(a,c){function b(){var d=b.cache,e=c?c.apply(this,arguments):z+arguments[0];return na.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}if(!ha(a))throw new Ca;return b.cache={},b},s.merge=function(a){var c=arguments,b=2;if(!oa(a))return a;if("number"!=typeof c[2]&&(b=c.length),3<b&&"function"==typeof c[b-2])var d=ca(c[--b-1],c[b--],2);else 2<b&&"function"==typeof c[b-1]&&(d=c[--b]);for(var c=l(arguments,1,b),e=-1,g=k(),f=k();++e<b;)ua(a,
c[e],d,g,f);return h(g),h(f),a},s.min=function(c,b,d){var e=1/0,g=e;if("function"!=typeof b&&d&&d[b]===c&&(b=null),null==b&&ja(c)){d=-1;for(var f=c.length;++d<f;){var k=c[d];k<g&&(g=k)}}else b=null==b&&Ta(c)?a:s.createCallback(b,d,3),qa(c,function(a,c,d){c=b(a,c,d);c<e&&(e=c,g=a)});return g},s.omit=function(a,c,b){var d={};if("function"!=typeof c){var e=[];t(a,function(a,c){e.push(c)});for(var e=ta(e,ka(arguments,!0,!1,1)),g=-1,f=e.length;++g<f;){var k=e[g];d[k]=a[k]}}else c=s.createCallback(c,b,
3),t(a,function(a,b,e){c(a,b,e)||(d[b]=a)});return d},s.once=function(a){var c,b;if(!ha(a))throw new Ca;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},s.pairs=function(a){for(var c=-1,b=ma(a),d=b.length,e=sa(d);++c<d;){var g=b[c];e[c]=[g,a[g]]}return e},s.partial=function(a){return la(a,16,l(arguments,1))},s.partialRight=function(a){return la(a,32,null,l(arguments,1))},s.pick=function(a,c,b){var d={};if("function"!=typeof c)for(var e=-1,g=ka(arguments,!0,!1,1),f=oa(a)?g.length:
0;++e<f;){var k=g[e];k in a&&(d[k]=a[k])}else c=s.createCallback(c,b,3),t(a,function(a,b,e){c(a,b,e)&&(d[b]=a)});return d},s.pluck=rb,s.property=Pb,s.pull=function(a){for(var c=arguments,b=0,d=c.length,e=a?a.length:0;++b<d;)for(var g=-1,f=c[b];++g<e;)a[g]===f&&(Sb.call(a,g--,1),e--);return a},s.range=function(a,c,b){a=+a||0;b="number"==typeof b?b:+b||1;null==c&&(c=a,a=0);var d=-1;c=va(0,bc((c-a)/(b||1)));for(var e=sa(c);++d<c;)e[d]=a,a+=b;return e},s.reject=function(a,c,b){return c=s.createCallback(c,
b,3),db(a,function(a,b,d){return!c(a,b,d)})},s.remove=function(a,c,b){var d=-1,e=a?a.length:0,g=[];for(c=s.createCallback(c,b,3);++d<e;)b=a[d],c(b,d,a)&&(g.push(b),Sb.call(a,d--,1),e--);return g},s.rest=qb,s.shuffle=Hb,s.sortBy=function(a,c,b){var e=-1,g=ja(c),f=a?a.length:0,r=sa("number"==typeof f?f:0);g||(c=s.createCallback(c,b,3));qa(a,function(a,b,d){var f=r[++e]=m();g?f.m=Ua(c,function(c){return a[c]}):(f.m=k())[0]=c(a,b,d);f.n=e;f.o=a});f=r.length;for(r.sort(d);f--;)a=r[f],r[f]=a.o,g||h(a.m),
n(a);return r},s.tap=function(a,c){return c(a),a},s.throttle=function(a,c,b){var d=!0,e=!0;if(!ha(a))throw new Ca;return!1===b?d=!1:oa(b)&&(d="leading"in b?b.leading:d,e="trailing"in b?b.trailing:e),ba.leading=d,ba.maxWait=c,ba.trailing=e,Nb(a,c,ba)},s.times=function(a,c,b){a=-1<(a=+a)?a:0;var d=-1,e=sa(a);for(c=ca(c,b,1);++d<a;)e[d]=c(d);return e},s.toArray=function(a){return a&&"number"==typeof a.length?l(a):cb(a)},s.transform=function(a,c,b,d){var e=ja(a);if(null==b)if(e)b=[];else{var g=a&&a.constructor;
b=ia(g&&g.prototype)}return c&&(c=s.createCallback(c,d,4),(e?qa:r)(a,function(a,d,e){return c(b,a,d,e)})),b},s.union=function(){return Z(ka(arguments,!0,!0))},s.uniq=Kb,s.values=cb,s.where=db,s.without=function(a){return ta(a,l(arguments,1))},s.wrap=function(a,c){return la(c,16,[a])},s.xor=function(){for(var a=-1,c=arguments.length;++a<c;){var b=arguments[a];if(ja(b)||bb(b))var d=d?Z(ta(d,b).concat(ta(b,d))):b}return d||[]},s.zip=Lb,s.zipObject=Mb,s.collect=Ua,s.drop=qb,s.each=qa,s.eachRight=eb,s.extend=
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
da,s.methods=Sa,s.object=Mb,s.select=db,s.tail=qb,s.unique=Kb,s.unzip=Lb,sb(s),s.clone=function(a,c,b,d){return"boolean"!=typeof c&&null!=c&&(d=b,b=c,c=!1),Y(a,c,"function"==typeof b&&ca(b,d,1))},s.cloneDeep=function(a,c,b){return Y(a,!0,"function"==typeof c&&ca(c,b,1))},s.contains=Db,s.escape=function(a){return null==a?"":Ga(a).replace(fc,Ka)},s.every=Eb,s.find=nb,s.findIndex=function(a,c,b){var d=-1,e=a?a.length:0;for(c=s.createCallback(c,b,3);++d<e;)if(c(a[d],d,a))return d;return-1},s.findKey=
function(a,c,b){var d;return c=s.createCallback(c,b,3),r(a,function(a,b,e){return c(a,b,e)?(d=b,!1):void 0}),d},s.findLast=function(a,c,b){var d;return c=s.createCallback(c,b,3),eb(a,function(a,b,e){return c(a,b,e)?(d=a,!1):void 0}),d},s.findLastIndex=function(a,c,b){var d=a?a.length:0;for(c=s.createCallback(c,b,3);d--;)if(c(a[d],d,a))return d;return-1},s.findLastKey=function(a,c,b){var d;return c=s.createCallback(c,b,3),Ab(a,function(a,b,e){return c(a,b,e)?(d=b,!1):void 0}),d},s.has=function(a,c){return a?
na.call(a,c):!1},s.identity=kb,s.indexOf=yb,s.isArguments=bb,s.isArray=ja,s.isBoolean=function(a){return!0===a||!1===a||a&&"object"==typeof a&&pa.call(a)==Q||!1},s.isDate=function(a){return a&&"object"==typeof a&&pa.call(a)==P||!1},s.isElement=function(a){return a&&1===a.nodeType||!1},s.isEmpty=function(a){var c=!0;if(!a)return c;var b=pa.call(a),d=a.length;return b==U||b==J||b==R||b==G&&"number"==typeof d&&ha(a.splice)?!d:(r(a,function(){return c=!1}),c)},s.isEqual=function(a,c,b,d){return wa(a,
c,"function"==typeof b&&ca(b,d,2))},s.isFinite=function(a){return cc(a)&&!dc(parseFloat(a))},s.isFunction=ha,s.isNaN=function(a){return Cb(a)&&a!=+a},s.isNull=function(a){return null===a},s.isNumber=Cb,s.isObject=oa,s.isPlainObject=lb,s.isRegExp=function(a){return a&&"object"==typeof a&&pa.call(a)==H||!1},s.isString=Ta,s.isUndefined=function(a){return"undefined"==typeof a},s.lastIndexOf=function(a,c,b){var d=a?a.length:0;for("number"==typeof b&&(d=(0>b?va(0,d+b):Va(b,d-1))+1);d--;)if(a[d]===c)return d;
<<<<<<< HEAD
return-1},s.mixin=sb,s.noConflict=function(){return e._=ac,this},s.noop=Ob,s.now=Ia,s.parseInt=jc,s.random=function(a,c,b){var d=null==c;return null==b&&("boolean"==typeof a&&d?(b=a,a=1):d||"boolean"!=typeof c||(b=c,d=!0)),null==a&&d&&(c=1),a=+a||0,d?(c=a,a=0):c=+c||0,b||a%1||c%1?(b=xb(),Va(a+b*(c-a+parseFloat("1e-"+((b+"").length-1))),c)):Ja(a,c)},s.reduce=ob,s.reduceRight=Gb,s.result=function(a,c){if(a){var b=a[c];return ha(b)?a[c]():b}},s.runInContext=m,s.size=function(a){var c=a?a.length:0;return"number"==
typeof c?c:ma(a).length},s.some=Ib,s.sortedIndex=Jb,s.template=function(a,b,d){var e=s.templateSettings;a=Ga(a||"");d=x({},d,e);var g,k=x({},d.imports,e.imports),e=ma(k),k=cb(k),f=0,h=d.interpolate||M,l="__p+='",h=Ya((d.escape||M).source+"|"+h.source+"|"+(h===E?L:M).source+"|"+(d.evaluate||M).source+"|$","g");a.replace(h,function(b,d,e,k,h,r){return e||(e=k),l+=a.slice(f,r).replace(T,c),d&&(l+="'+__e("+d+")+'"),h&&(g=!0,l+="';"+h+";\n__p+='"),e&&(l+="'+((__t=("+e+"))==null?'':__t)+'"),f=r+b.length,
b});l+="';";(h=d=d.variable)||(d="obj",l="with("+d+"){"+l+"}");l=(g?l.replace(C,""):l).replace(I,"$1").replace(F,"$1;");l="function("+d+"){"+(h?"":d+"||("+d+"={});")+"var __t,__p='',__e=_.escape"+(g?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}";try{var r=gb(e,"return "+l).apply(q,k)}catch(m){throw m.source=l,m;}return b?r(b):(r.source=l,r)},s.unescape=function(a){return null==a?"":Ga(a).replace(ec,Yb)},s.uniqueId=function(a){var c=++v;return Ga(null==
a?"":a)+c},s.all=Eb,s.any=Ib,s.detect=nb,s.findWhere=nb,s.foldl=ob,s.foldr=Gb,s.include=Db,s.inject=ob,sb(function(){var a={};return r(s,function(c,b){s.prototype[b]||(a[b]=c)}),a}(),!1),s.first=pb,s.last=function(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=e;for(c=s.createCallback(c,b,3);g--&&c(a[g],g,a);)d++}else if(d=c,null==d||b)return a?a[e-1]:q;return n(a,va(0,e-d))},s.sample=function(a,c,b){return a&&"number"!=typeof a.length&&(a=cb(a)),null==c||b?a?a[Ja(0,a.length-
1)]:q:(a=Hb(a),a.length=Va(va(0,c),a.length),a)},s.take=pb,s.head=pb,r(s,function(a,c){var b="sample"!==c;s.prototype[c]||(s.prototype[c]=function(c,d){var e=this.__chain__,g=a(this.__wrapped__,c,d);return e||null!=c&&(!d||b&&"function"==typeof c)?new S(g,e):g})}),s.VERSION="2.4.1",s.prototype.chain=function(){return this.__chain__=!0,this},s.prototype.toString=function(){return Ga(this.__wrapped__)},s.prototype.value=Qb,s.prototype.valueOf=Qb,qa(["join","pop","shift"],function(a){var c=Na[a];s.prototype[a]=
function(){var a=this.__chain__,b=c.apply(this.__wrapped__,arguments);return a?new S(b,a):b}}),qa(["push","reverse","sort","unshift"],function(a){var c=Na[a];s.prototype[a]=function(){return c.apply(this.__wrapped__,arguments),this}}),qa(["concat","slice","splice"],function(a){var c=Na[a];s.prototype[a]=function(){return new S(c.apply(this.__wrapped__,arguments),this.__chain__)}}),s}var q,t=[],r=[],v=0,w=+new Date+"",B=75,x=40,A=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
C=/\b__p\+='';/g,I=/\b(__p\+=)''\+/g,F=/(__e\(.*?\)|\b__t\))\+'';/g,L=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u=/\w*$/,y=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,D=RegExp("^["+A+"]*0+(?=.$)"),M=/($^)/,O=/\bthis\b/,T=/['\n\r\t\u2028\u2029\\]/g,W="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),R="[object Arguments]",U="[object Array]",Q="[object Boolean]",P="[object Date]",z="[object Function]",N="[object Number]",
G="[object Object]",H="[object RegExp]",J="[object String]",K={};K[z]=!1;K[R]=K[U]=K[Q]=K[P]=K[N]=K[G]=K[H]=K[J]=!0;var ba={leading:!1,maxWait:0,trailing:!1},ya={configurable:!1,enumerable:!1,value:null,writable:!1},aa={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},da={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ea=aa[typeof window]&&window||this,Y=aa[typeof exports]&&exports&&!exports.nodeType&&exports,fa=aa[typeof module]&&module&&!module.nodeType&&
module,X=fa&&fa.exports===Y&&Y,S=aa[typeof global]&&global;!S||S.global!==S&&S.window!==S||(ea=S);var V=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ea._=V,define(function(){return V})):Y&&fa?X?(fa.exports=V)._=V:Y._=V:ea._=V}).call(this);
(function(){var b=this,f=b.Backbone,e=[].slice,a;a="undefined"!==typeof exports?exports:b.Backbone={};a.VERSION="1.1.0";var d=b._;!d&&"undefined"!==typeof require&&(d=require("underscore"));a.$=b.jQuery||b.Zepto||b.ender||b.$;a.noConflict=function(){b.Backbone=f;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var g=a.Events={on:function(a,c,b){if(!k(this,"on",a,[c,b])||!c)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:c,context:b,ctx:b||this});return this},
once:function(a,c,b){if(!k(this,"once",a,[c,b])||!c)return this;var e=this,g=d.once(function(){e.off(a,g);c.apply(this,arguments)});g._callback=c;return this.on(a,g,b)},off:function(a,c,b){var e,g,f,h,l,r,m,p;if(!this._events||!k(this,"off",a,[c,b]))return this;if(!a&&!c&&!b)return this._events={},this;h=a?[a]:d.keys(this._events);l=0;for(r=h.length;l<r;l++)if(a=h[l],f=this._events[a]){this._events[a]=e=[];if(c||b){m=0;for(p=f.length;m<p;m++)g=f[m],(c&&c!==g.callback&&c!==g.callback._callback||b&&
b!==g.context)&&e.push(g)}e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=e.call(arguments,1);if(!k(this,"trigger",a,c))return this;var b=this._events[a],d=this._events.all;b&&l(b,c);d&&l(d,arguments);return this},stopListening:function(a,c,b){var e=this._listeningTo;if(!e)return this;var g=!c&&!b;!b&&"object"===typeof c&&(b=this);a&&((e={})[a._listenId]=a);for(var k in e)a=e[k],a.off(c,b,this),(g||d.isEmpty(a._events))&&delete this._listeningTo[k];
return this}},c=/\s+/,k=function(a,b,d,e){if(!d)return!0;if("object"===typeof d){for(var g in d)a[b].apply(a,[g,d[g]].concat(e));return!1}if(c.test(d)){d=d.split(c);g=0;for(var k=d.length;g<k;g++)a[b].apply(a,[d[g]].concat(e));return!1}return!0},l=function(a,c){var b,d=-1,e=a.length,g=c[0],k=c[1],f=c[2];switch(c.length){case 0:for(;++d<e;)(b=a[d]).callback.call(b.ctx);break;case 1:for(;++d<e;)(b=a[d]).callback.call(b.ctx,g);break;case 2:for(;++d<e;)(b=a[d]).callback.call(b.ctx,g,k);break;case 3:for(;++d<
e;)(b=a[d]).callback.call(b.ctx,g,k,f);break;default:for(;++d<e;)(b=a[d]).callback.apply(b.ctx,c)}};d.each({listenTo:"on",listenToOnce:"once"},function(a,c){g[c]=function(c,b,e){var g=this._listeningTo||(this._listeningTo={}),k=c._listenId||(c._listenId=d.uniqueId("l"));g[k]=c;!e&&"object"===typeof b&&(e=this);c[a](b,e,this);return this}});g.bind=g.on;g.unbind=g.off;d.extend(a,g);var h=a.Model=function(a,c){var b=a||{};c||(c={});this.cid=d.uniqueId("c");this.attributes={};c.collection&&(this.collection=
c.collection);c.parse&&(b=this.parse(b,c)||{});b=d.defaults({},b,d.result(this,"defaults"));this.set(b,c);this.changed={};this.initialize.apply(this,arguments)};d.extend(h.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return d.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,
c,b){var e,g,k,f,h,l,r;if(null==a)return this;"object"===typeof a?(g=a,b=c):(g={})[a]=c;b||(b={});if(!this._validate(g,b))return!1;k=b.unset;f=b.silent;a=[];h=this._changing;this._changing=!0;h||(this._previousAttributes=d.clone(this.attributes),this.changed={});r=this.attributes;l=this._previousAttributes;this.idAttribute in g&&(this.id=g[this.idAttribute]);for(e in g)c=g[e],d.isEqual(r[e],c)||a.push(e),d.isEqual(l[e],c)?delete this.changed[e]:this.changed[e]=c,k?delete r[e]:r[e]=c;if(!f){a.length&&
(this._pending=!0);c=0;for(e=a.length;c<e;c++)this.trigger("change:"+a[c],this,r[a[c]],b)}if(h)return this;if(!f)for(;this._pending;)this._pending=!1,this.trigger("change",this,b);this._changing=this._pending=!1;return this},unset:function(a,c){return this.set(a,void 0,d.extend({},c,{unset:!0}))},clear:function(a){var c={},b;for(b in this.attributes)c[b]=void 0;return this.set(c,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?
d.clone(this.changed):!1;var c,b=!1,e=this._changing?this._previousAttributes:this.attributes,g;for(g in a)if(!d.isEqual(e[g],c=a[g]))(b||(b={}))[g]=c;return b},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return d.clone(this._previousAttributes)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var c=this,b=a.success;a.success=function(d){if(!c.set(c.parse(d,a),a))return!1;b&&b(c,d,a);c.trigger("sync",
c,d,a)};O(this,a);return this.sync("read",this,a)},save:function(a,c,b){var e,g=this.attributes;null==a||"object"===typeof a?(e=a,b=c):(e={})[a]=c;b=d.extend({validate:!0},b);if(e&&!b.wait){if(!this.set(e,b))return!1}else if(!this._validate(e,b))return!1;e&&b.wait&&(this.attributes=d.extend({},g,e));void 0===b.parse&&(b.parse=!0);var k=this,f=b.success;b.success=function(a){k.attributes=g;var c=k.parse(a,b);b.wait&&(c=d.extend(e||{},c));if(d.isObject(c)&&!k.set(c,b))return!1;f&&f(k,a,b);k.trigger("sync",
k,a,b)};O(this,b);a=this.isNew()?"create":b.patch?"patch":"update";"patch"===a&&(b.attrs=e);a=this.sync(a,this,b);e&&b.wait&&(this.attributes=g);return a},destroy:function(a){a=a?d.clone(a):{};var c=this,b=a.success,e=function(){c.trigger("destroy",c,c.collection,a)};a.success=function(d){(a.wait||c.isNew())&&e();b&&b(c,d,a);c.isNew()||c.trigger("sync",c,d,a)};if(this.isNew())return a.success(),!1;O(this,a);var g=this.sync("delete",this,a);a.wait||e();return g},url:function(){var a=d.result(this,
"urlRoot")||d.result(this.collection,"url")||M();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,c){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},d.extend(a||{},{validate:!0}))},_validate:function(a,c){if(!c.validate||!this.validate)return!0;a=d.extend({},this.attributes,a);var b=this.validationError=this.validate(a,c)||null;if(!b)return!0;
this.trigger("invalid",this,b,d.extend(c,{validationError:b}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(a){h.prototype[a]=function(){var c=e.call(arguments);c.unshift(this.attributes);return d[a].apply(d,c)}});var p=a.Collection=function(a,c){c||(c={});c.model&&(this.model=c.model);void 0!==c.comparator&&(this.comparator=c.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},c))},n={add:!0,remove:!0,merge:!0},m={add:!0,
remove:!1};d.extend(p.prototype,g,{model:h,initialize:function(){},toJSON:function(a){return this.map(function(c){return c.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,c){return this.set(a,d.extend({merge:!1},c,m))},remove:function(a,c){var b=!d.isArray(a);a=b?[a]:d.clone(a);c||(c={});var e,g,k,f;e=0;for(g=a.length;e<g;e++)if(f=a[e]=this.get(a[e]))delete this._byId[f.id],delete this._byId[f.cid],k=this.indexOf(f),this.models.splice(k,1),this.length--,c.silent||
(c.index=k,f.trigger("remove",f,this,c)),this._removeReference(f);return b?a[0]:a},set:function(a,c){c=d.defaults({},c,n);c.parse&&(a=this.parse(a,c));var b=!d.isArray(a);a=b?a?[a]:[]:d.clone(a);var e,g,k,f,l,r,m=c.at,p=this.model,q=this.comparator&&null==m&&!1!==c.sort,v=d.isString(this.comparator)?this.comparator:null,w=[],t=[],B={},x=c.add,F=c.merge,C=c.remove,A=!q&&x&&C?[]:!1;e=0;for(g=a.length;e<g;e++){l=a[e];k=l instanceof h?f=l:l[p.prototype.idAttribute];if(k=this.get(k))C&&(B[k.cid]=!0),F&&
(l=l===f?f.attributes:l,c.parse&&(l=k.parse(l,c)),k.set(l,c),q&&(!r&&k.hasChanged(v))&&(r=!0)),a[e]=k;else if(x){f=a[e]=this._prepareModel(l,c);if(!f)continue;w.push(f);f.on("all",this._onModelEvent,this);this._byId[f.cid]=f;null!=f.id&&(this._byId[f.id]=f)}A&&A.push(k||f)}if(C){e=0;for(g=this.length;e<g;++e)B[(f=this.models[e]).cid]||t.push(f);t.length&&this.remove(t,c)}if(w.length||A&&A.length)if(q&&(r=!0),this.length+=w.length,null!=m){e=0;for(g=w.length;e<g;e++)this.models.splice(m+e,0,w[e])}else{A&&
(this.models.length=0);l=A||w;e=0;for(g=l.length;e<g;e++)this.models.push(l[e])}r&&this.sort({silent:!0});if(!c.silent){e=0;for(g=w.length;e<g;e++)(f=w[e]).trigger("add",f,this,c);(r||A&&A.length)&&this.trigger("sort",this,c)}return b?a[0]:a},reset:function(a,c){c||(c={});for(var b=0,e=this.models.length;b<e;b++)this._removeReference(this.models[b]);c.previousModels=this.models;this._reset();a=this.add(a,d.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return a},push:function(a,c){return this.add(a,
d.extend({at:this.length},c))},pop:function(a){var c=this.at(this.length-1);this.remove(c,a);return c},unshift:function(a,c){return this.add(a,d.extend({at:0},c))},shift:function(a){var c=this.at(0);this.remove(c,a);return c},slice:function(){return e.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,c){return d.isEmpty(a)?c?void 0:[]:this[c?"find":"filter"](function(c){for(var b in a)if(a[b]!==
c.get(b))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return d.invoke(this.models,"get",a)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);
var c=a.success,b=this;a.success=function(d){b[a.reset?"reset":"set"](d,a);c&&c(b,d,a);b.trigger("sync",b,d,a)};O(this,a);return this.sync("read",this,a)},create:function(a,c){c=c?d.clone(c):{};if(!(a=this._prepareModel(a,c)))return!1;c.wait||this.add(a,c);var b=this,e=c.success;c.success=function(a,c,d){d.wait&&b.add(a,d);e&&e(a,c,d)};a.save(null,c);return a},parse:function(a,c){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId=
{}},_prepareModel:function(a,c){if(a instanceof h)return a.collection||(a.collection=this),a;c=c?d.clone(c):{};c.collection=this;var b=new this.model(a,c);if(!b.validationError)return b;this.trigger("invalid",this,b.validationError,c);return!1},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,c,b,d){("add"===a||"remove"===a)&&b!==this||("destroy"===a&&this.remove(c,d),c&&a==="change:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],
null!=c.id&&(this._byId[c.id]=c)),this.trigger.apply(this,arguments))}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){p.prototype[a]=function(){var c=e.call(arguments);c.unshift(this.models);return d[a].apply(d,c)}});d.each(["groupBy","countBy","sortBy"],
function(a){p.prototype[a]=function(c,b){var e=d.isFunction(c)?c:function(a){return a.get(c)};return d[a](this.models,e,b)}});var q=a.View=function(a){this.cid=d.uniqueId("view");a||(a={});d.extend(this,d.pick(a,r));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},t=/^(\S+)\s*(.*)$/,r="model collection el id attributes className tagName events".split(" ");d.extend(q.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},
remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(c,b){this.$el&&this.undelegateEvents();this.$el=c instanceof a.$?c:a.$(c);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=d.result(this,"events")))return this;this.undelegateEvents();for(var c in a){var b=a[c];d.isFunction(b)||(b=this[a[c]]);if(b){var e=c.match(t),g=e[1],e=e[2],b=d.bind(b,this),g=g+(".delegateEvents"+this.cid);if(""===e)this.$el.on(g,b);else this.$el.on(g,
e,b)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var c=d.extend({},d.result(this,"attributes"));this.id&&(c.id=d.result(this,"id"));this.className&&(c["class"]=d.result(this,"className"));c=a.$("<"+d.result(this,"tagName")+">").attr(c);this.setElement(c,!1)}}});a.sync=function(c,b,e){var g=w[c];d.defaults(e||(e={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});
var k={type:g,dataType:"json"};e.url||(k.url=d.result(b,"url")||M());if(null==e.data&&b&&("create"===c||"update"===c||"patch"===c))k.contentType="application/json",k.data=JSON.stringify(e.attrs||b.toJSON(e));e.emulateJSON&&(k.contentType="application/x-www-form-urlencoded",k.data=k.data?{model:k.data}:{});if(e.emulateHTTP&&("PUT"===g||"DELETE"===g||"PATCH"===g)){k.type="POST";e.emulateJSON&&(k.data._method=g);var f=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
g);if(f)return f.apply(this,arguments)}}"GET"!==k.type&&!e.emulateJSON&&(k.processData=!1);"PATCH"===k.type&&v&&(k.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});c=e.xhr=a.ajax(d.extend(k,e));b.trigger("request",b,c,e);return c};var v="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var B=
a.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,C=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(B.prototype,g,{initialize:function(){},route:function(c,b,e){d.isRegExp(c)||(c=this._routeToRegExp(c));d.isFunction(b)&&(e=b,b="");e||(e=this[b]);var g=this;a.history.route(c,function(d){d=g._extractParameters(c,d);e&&e.apply(g,d);g.trigger.apply(g,["route:"+b].concat(d));g.trigger("route",b,d);a.history.trigger("route",
g,b,d)});return this},navigate:function(c,b){a.history.navigate(c,b);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,c=d.keys(this.routes);null!=(a=c.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(I,"\\$&").replace(x,"(?:$1)?").replace(A,function(a,c){return c?a:"([^/]+)"}).replace(C,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,c){var b=a.exec(c).slice(1);return d.map(b,function(a){return a?decodeURIComponent(a):
null})}});var F=a.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,u=/^\/+|\/+$/g,y=/msie [\w.]+/,E=/\/$/,D=/[?#].*$/;F.started=!1;d.extend(F.prototype,g,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,c){if(null==a)if(this._hasPushState||!this._wantsHashChange||c){a=this.location.pathname;var b=this.root.replace(E,
"");a.indexOf(b)||(a=a.slice(b.length))}else a=this.getHash();return a.replace(L,"")},start:function(c){if(F.started)throw Error("Backbone.history has already been started");F.started=!0;this.options=d.extend({root:"/"},this.options,c);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);c=this.getFragment();var b=document.documentMode,b=y.exec(navigator.userAgent.toLowerCase())&&
=======
return-1},s.mixin=sb,s.noConflict=function(){return g._=ac,this},s.noop=Ob,s.now=Ia,s.parseInt=jc,s.random=function(a,c,b){var d=null==c;return null==b&&("boolean"==typeof a&&d?(b=a,a=1):d||"boolean"!=typeof c||(b=c,d=!0)),null==a&&d&&(c=1),a=+a||0,d?(c=a,a=0):c=+c||0,b||a%1||c%1?(b=xb(),Va(a+b*(c-a+parseFloat("1e-"+((b+"").length-1))),c)):Ja(a,c)},s.reduce=ob,s.reduceRight=Gb,s.result=function(a,c){if(a){var b=a[c];return ha(b)?a[c]():b}},s.runInContext=q,s.size=function(a){var c=a?a.length:0;return"number"==
typeof c?c:ma(a).length},s.some=Ib,s.sortedIndex=Jb,s.template=function(a,b,d){var e=s.templateSettings;a=Ga(a||"");d=w({},d,e);var g,f=w({},d.imports,e.imports),e=ma(f),f=cb(f),k=0,m=d.interpolate||N,h="__p+='",m=Ya((d.escape||N).source+"|"+m.source+"|"+(m===E?M:N).source+"|"+(d.evaluate||N).source+"|$","g");a.replace(m,function(b,d,e,f,m,r){return e||(e=f),h+=a.slice(k,r).replace(T,c),d&&(h+="'+__e("+d+")+'"),m&&(g=!0,h+="';"+m+";\n__p+='"),e&&(h+="'+((__t=("+e+"))==null?'':__t)+'"),k=r+b.length,
b});h+="';";(m=d=d.variable)||(d="obj",h="with("+d+"){"+h+"}");h=(g?h.replace(C,""):h).replace(J,"$1").replace(F,"$1;");h="function("+d+"){"+(m?"":d+"||("+d+"={});")+"var __t,__p='',__e=_.escape"+(g?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+h+"return __p}";try{var r=gb(e,"return "+h).apply(p,f)}catch(l){throw l.source=h,l;}return b?r(b):(r.source=h,r)},s.unescape=function(a){return null==a?"":Ga(a).replace(ec,Yb)},s.uniqueId=function(a){var c=++v;return Ga(null==
a?"":a)+c},s.all=Eb,s.any=Ib,s.detect=nb,s.findWhere=nb,s.foldl=ob,s.foldr=Gb,s.include=Db,s.inject=ob,sb(function(){var a={};return r(s,function(c,b){s.prototype[b]||(a[b]=c)}),a}(),!1),s.first=pb,s.last=function(a,c,b){var d=0,e=a?a.length:0;if("number"!=typeof c&&null!=c){var g=e;for(c=s.createCallback(c,b,3);g--&&c(a[g],g,a);)d++}else if(d=c,null==d||b)return a?a[e-1]:p;return l(a,va(0,e-d))},s.sample=function(a,c,b){return a&&"number"!=typeof a.length&&(a=cb(a)),null==c||b?a?a[Ja(0,a.length-
1)]:p:(a=Hb(a),a.length=Va(va(0,c),a.length),a)},s.take=pb,s.head=pb,r(s,function(a,c){var b="sample"!==c;s.prototype[c]||(s.prototype[c]=function(c,d){var e=this.__chain__,g=a(this.__wrapped__,c,d);return e||null!=c&&(!d||b&&"function"==typeof c)?new S(g,e):g})}),s.VERSION="2.4.1",s.prototype.chain=function(){return this.__chain__=!0,this},s.prototype.toString=function(){return Ga(this.__wrapped__)},s.prototype.value=Qb,s.prototype.valueOf=Qb,qa(["join","pop","shift"],function(a){var c=Na[a];s.prototype[a]=
function(){var a=this.__chain__,b=c.apply(this.__wrapped__,arguments);return a?new S(b,a):b}}),qa(["push","reverse","sort","unshift"],function(a){var c=Na[a];s.prototype[a]=function(){return c.apply(this.__wrapped__,arguments),this}}),qa(["concat","slice","splice"],function(a){var c=Na[a];s.prototype[a]=function(){return new S(c.apply(this.__wrapped__,arguments),this.__chain__)}}),s}var p,t=[],r=[],v=0,z=+new Date+"",B=75,w=40,A=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
C=/\b__p\+='';/g,J=/\b(__p\+=)''\+/g,F=/(__e\(.*?\)|\b__t\))\+'';/g,M=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u=/\w*$/,x=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,D=RegExp("^["+A+"]*0+(?=.$)"),N=/($^)/,P=/\bthis\b/,T=/['\n\r\t\u2028\u2029\\]/g,W="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),R="[object Arguments]",U="[object Array]",I="[object Boolean]",Q="[object Date]",y="[object Function]",O="[object Number]",
G="[object Object]",H="[object RegExp]",K="[object String]",L={};L[y]=!1;L[R]=L[U]=L[I]=L[Q]=L[O]=L[G]=L[H]=L[K]=!0;var ba={leading:!1,maxWait:0,trailing:!1},ya={configurable:!1,enumerable:!1,value:null,writable:!1},aa={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},da={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ea=aa[typeof window]&&window||this,Y=aa[typeof exports]&&exports&&!exports.nodeType&&exports,fa=aa[typeof module]&&module&&!module.nodeType&&
module,X=fa&&fa.exports===Y&&Y,S=aa[typeof global]&&global;!S||S.global!==S&&S.window!==S||(ea=S);var V=q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ea._=V,define(function(){return V})):Y&&fa?X?(fa.exports=V)._=V:Y._=V:ea._=V}).call(this);
(function(){var b=this,f=b.Backbone,g=[].slice,a;a="undefined"!==typeof exports?exports:b.Backbone={};a.VERSION="1.1.0";var d=b._;!d&&"undefined"!==typeof require&&(d=require("underscore"));a.$=b.jQuery||b.Zepto||b.ender||b.$;a.noConflict=function(){b.Backbone=f;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var e=a.Events={on:function(a,c,b){if(!k(this,"on",a,[c,b])||!c)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:c,context:b,ctx:b||this});return this},
once:function(a,c,b){if(!k(this,"once",a,[c,b])||!c)return this;var e=this,g=d.once(function(){e.off(a,g);c.apply(this,arguments)});g._callback=c;return this.on(a,g,b)},off:function(a,c,b){var e,g,f,h,m,r,l,q;if(!this._events||!k(this,"off",a,[c,b]))return this;if(!a&&!c&&!b)return this._events={},this;h=a?[a]:d.keys(this._events);m=0;for(r=h.length;m<r;m++)if(a=h[m],f=this._events[a]){this._events[a]=e=[];if(c||b){l=0;for(q=f.length;l<q;l++)g=f[l],(c&&c!==g.callback&&c!==g.callback._callback||b&&
b!==g.context)&&e.push(g)}e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=g.call(arguments,1);if(!k(this,"trigger",a,c))return this;var b=this._events[a],d=this._events.all;b&&m(b,c);d&&m(d,arguments);return this},stopListening:function(a,c,b){var e=this._listeningTo;if(!e)return this;var g=!c&&!b;!b&&"object"===typeof c&&(b=this);a&&((e={})[a._listenId]=a);for(var f in e)a=e[f],a.off(c,b,this),(g||d.isEmpty(a._events))&&delete this._listeningTo[f];
return this}},c=/\s+/,k=function(a,b,d,e){if(!d)return!0;if("object"===typeof d){for(var g in d)a[b].apply(a,[g,d[g]].concat(e));return!1}if(c.test(d)){d=d.split(c);g=0;for(var f=d.length;g<f;g++)a[b].apply(a,[d[g]].concat(e));return!1}return!0},m=function(a,c){var b,d=-1,e=a.length,g=c[0],f=c[1],k=c[2];switch(c.length){case 0:for(;++d<e;)(b=a[d]).callback.call(b.ctx);break;case 1:for(;++d<e;)(b=a[d]).callback.call(b.ctx,g);break;case 2:for(;++d<e;)(b=a[d]).callback.call(b.ctx,g,f);break;case 3:for(;++d<
e;)(b=a[d]).callback.call(b.ctx,g,f,k);break;default:for(;++d<e;)(b=a[d]).callback.apply(b.ctx,c)}};d.each({listenTo:"on",listenToOnce:"once"},function(a,c){e[c]=function(c,b,e){var g=this._listeningTo||(this._listeningTo={}),f=c._listenId||(c._listenId=d.uniqueId("l"));g[f]=c;!e&&"object"===typeof b&&(e=this);c[a](b,e,this);return this}});e.bind=e.on;e.unbind=e.off;d.extend(a,e);var h=a.Model=function(a,c){var b=a||{};c||(c={});this.cid=d.uniqueId("c");this.attributes={};c.collection&&(this.collection=
c.collection);c.parse&&(b=this.parse(b,c)||{});b=d.defaults({},b,d.result(this,"defaults"));this.set(b,c);this.changed={};this.initialize.apply(this,arguments)};d.extend(h.prototype,e,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return d.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return d.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,
c,b){var e,g,f,k,m,h,r;if(null==a)return this;"object"===typeof a?(g=a,b=c):(g={})[a]=c;b||(b={});if(!this._validate(g,b))return!1;f=b.unset;k=b.silent;a=[];m=this._changing;this._changing=!0;m||(this._previousAttributes=d.clone(this.attributes),this.changed={});r=this.attributes;h=this._previousAttributes;this.idAttribute in g&&(this.id=g[this.idAttribute]);for(e in g)c=g[e],d.isEqual(r[e],c)||a.push(e),d.isEqual(h[e],c)?delete this.changed[e]:this.changed[e]=c,f?delete r[e]:r[e]=c;if(!k){a.length&&
(this._pending=!0);c=0;for(e=a.length;c<e;c++)this.trigger("change:"+a[c],this,r[a[c]],b)}if(m)return this;if(!k)for(;this._pending;)this._pending=!1,this.trigger("change",this,b);this._changing=this._pending=!1;return this},unset:function(a,c){return this.set(a,void 0,d.extend({},c,{unset:!0}))},clear:function(a){var c={},b;for(b in this.attributes)c[b]=void 0;return this.set(c,d.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!d.isEmpty(this.changed):d.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?
d.clone(this.changed):!1;var c,b=!1,e=this._changing?this._previousAttributes:this.attributes,g;for(g in a)if(!d.isEqual(e[g],c=a[g]))(b||(b={}))[g]=c;return b},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return d.clone(this._previousAttributes)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);var c=this,b=a.success;a.success=function(d){if(!c.set(c.parse(d,a),a))return!1;b&&b(c,d,a);c.trigger("sync",
c,d,a)};P(this,a);return this.sync("read",this,a)},save:function(a,c,b){var e,g=this.attributes;null==a||"object"===typeof a?(e=a,b=c):(e={})[a]=c;b=d.extend({validate:!0},b);if(e&&!b.wait){if(!this.set(e,b))return!1}else if(!this._validate(e,b))return!1;e&&b.wait&&(this.attributes=d.extend({},g,e));void 0===b.parse&&(b.parse=!0);var f=this,k=b.success;b.success=function(a){f.attributes=g;var c=f.parse(a,b);b.wait&&(c=d.extend(e||{},c));if(d.isObject(c)&&!f.set(c,b))return!1;k&&k(f,a,b);f.trigger("sync",
f,a,b)};P(this,b);a=this.isNew()?"create":b.patch?"patch":"update";"patch"===a&&(b.attrs=e);a=this.sync(a,this,b);e&&b.wait&&(this.attributes=g);return a},destroy:function(a){a=a?d.clone(a):{};var c=this,b=a.success,e=function(){c.trigger("destroy",c,c.collection,a)};a.success=function(d){(a.wait||c.isNew())&&e();b&&b(c,d,a);c.isNew()||c.trigger("sync",c,d,a)};if(this.isNew())return a.success(),!1;P(this,a);var g=this.sync("delete",this,a);a.wait||e();return g},url:function(){var a=d.result(this,
"urlRoot")||d.result(this.collection,"url")||N();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,c){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},d.extend(a||{},{validate:!0}))},_validate:function(a,c){if(!c.validate||!this.validate)return!0;a=d.extend({},this.attributes,a);var b=this.validationError=this.validate(a,c)||null;if(!b)return!0;
this.trigger("invalid",this,b,d.extend(c,{validationError:b}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(a){h.prototype[a]=function(){var c=g.call(arguments);c.unshift(this.attributes);return d[a].apply(d,c)}});var n=a.Collection=function(a,c){c||(c={});c.model&&(this.model=c.model);void 0!==c.comparator&&(this.comparator=c.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,d.extend({silent:!0},c))},l={add:!0,remove:!0,merge:!0},q={add:!0,
remove:!1};d.extend(n.prototype,e,{model:h,initialize:function(){},toJSON:function(a){return this.map(function(c){return c.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,c){return this.set(a,d.extend({merge:!1},c,q))},remove:function(a,c){var b=!d.isArray(a);a=b?[a]:d.clone(a);c||(c={});var e,g,f,k;e=0;for(g=a.length;e<g;e++)if(k=a[e]=this.get(a[e]))delete this._byId[k.id],delete this._byId[k.cid],f=this.indexOf(k),this.models.splice(f,1),this.length--,c.silent||
(c.index=f,k.trigger("remove",k,this,c)),this._removeReference(k);return b?a[0]:a},set:function(a,c){c=d.defaults({},c,l);c.parse&&(a=this.parse(a,c));var b=!d.isArray(a);a=b?a?[a]:[]:d.clone(a);var e,g,f,k,m,r,q=c.at,n=this.model,p=this.comparator&&null==q&&!1!==c.sort,v=d.isString(this.comparator)?this.comparator:null,t=[],z=[],B={},w=c.add,F=c.merge,C=c.remove,A=!p&&w&&C?[]:!1;e=0;for(g=a.length;e<g;e++){m=a[e];f=m instanceof h?k=m:m[n.prototype.idAttribute];if(f=this.get(f))C&&(B[f.cid]=!0),F&&
(m=m===k?k.attributes:m,c.parse&&(m=f.parse(m,c)),f.set(m,c),p&&(!r&&f.hasChanged(v))&&(r=!0)),a[e]=f;else if(w){k=a[e]=this._prepareModel(m,c);if(!k)continue;t.push(k);k.on("all",this._onModelEvent,this);this._byId[k.cid]=k;null!=k.id&&(this._byId[k.id]=k)}A&&A.push(f||k)}if(C){e=0;for(g=this.length;e<g;++e)B[(k=this.models[e]).cid]||z.push(k);z.length&&this.remove(z,c)}if(t.length||A&&A.length)if(p&&(r=!0),this.length+=t.length,null!=q){e=0;for(g=t.length;e<g;e++)this.models.splice(q+e,0,t[e])}else{A&&
(this.models.length=0);m=A||t;e=0;for(g=m.length;e<g;e++)this.models.push(m[e])}r&&this.sort({silent:!0});if(!c.silent){e=0;for(g=t.length;e<g;e++)(k=t[e]).trigger("add",k,this,c);(r||A&&A.length)&&this.trigger("sort",this,c)}return b?a[0]:a},reset:function(a,c){c||(c={});for(var b=0,e=this.models.length;b<e;b++)this._removeReference(this.models[b]);c.previousModels=this.models;this._reset();a=this.add(a,d.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return a},push:function(a,c){return this.add(a,
d.extend({at:this.length},c))},pop:function(a){var c=this.at(this.length-1);this.remove(c,a);return c},unshift:function(a,c){return this.add(a,d.extend({at:0},c))},shift:function(a){var c=this.at(0);this.remove(c,a);return c},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,c){return d.isEmpty(a)?c?void 0:[]:this[c?"find":"filter"](function(c){for(var b in a)if(a[b]!==
c.get(b))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return d.invoke(this.models,"get",a)},fetch:function(a){a=a?d.clone(a):{};void 0===a.parse&&(a.parse=!0);
var c=a.success,b=this;a.success=function(d){b[a.reset?"reset":"set"](d,a);c&&c(b,d,a);b.trigger("sync",b,d,a)};P(this,a);return this.sync("read",this,a)},create:function(a,c){c=c?d.clone(c):{};if(!(a=this._prepareModel(a,c)))return!1;c.wait||this.add(a,c);var b=this,e=c.success;c.success=function(a,c,d){d.wait&&b.add(a,d);e&&e(a,c,d)};a.save(null,c);return a},parse:function(a,c){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId=
{}},_prepareModel:function(a,c){if(a instanceof h)return a.collection||(a.collection=this),a;c=c?d.clone(c):{};c.collection=this;var b=new this.model(a,c);if(!b.validationError)return b;this.trigger("invalid",this,b.validationError,c);return!1},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,c,b,d){("add"===a||"remove"===a)&&b!==this||("destroy"===a&&this.remove(c,d),c&&a==="change:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],
null!=c.id&&(this._byId[c.id]=c)),this.trigger.apply(this,arguments))}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){n.prototype[a]=function(){var c=g.call(arguments);c.unshift(this.models);return d[a].apply(d,c)}});d.each(["groupBy","countBy","sortBy"],
function(a){n.prototype[a]=function(c,b){var e=d.isFunction(c)?c:function(a){return a.get(c)};return d[a](this.models,e,b)}});var p=a.View=function(a){this.cid=d.uniqueId("view");a||(a={});d.extend(this,d.pick(a,r));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},t=/^(\S+)\s*(.*)$/,r="model collection el id attributes className tagName events".split(" ");d.extend(p.prototype,e,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},
remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(c,b){this.$el&&this.undelegateEvents();this.$el=c instanceof a.$?c:a.$(c);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=d.result(this,"events")))return this;this.undelegateEvents();for(var c in a){var b=a[c];d.isFunction(b)||(b=this[a[c]]);if(b){var e=c.match(t),g=e[1],e=e[2],b=d.bind(b,this),g=g+(".delegateEvents"+this.cid);if(""===e)this.$el.on(g,b);else this.$el.on(g,
e,b)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var c=d.extend({},d.result(this,"attributes"));this.id&&(c.id=d.result(this,"id"));this.className&&(c["class"]=d.result(this,"className"));c=a.$("<"+d.result(this,"tagName")+">").attr(c);this.setElement(c,!1)}}});a.sync=function(c,b,e){var g=z[c];d.defaults(e||(e={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});
var f={type:g,dataType:"json"};e.url||(f.url=d.result(b,"url")||N());if(null==e.data&&b&&("create"===c||"update"===c||"patch"===c))f.contentType="application/json",f.data=JSON.stringify(e.attrs||b.toJSON(e));e.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(e.emulateHTTP&&("PUT"===g||"DELETE"===g||"PATCH"===g)){f.type="POST";e.emulateJSON&&(f.data._method=g);var k=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
g);if(k)return k.apply(this,arguments)}}"GET"!==f.type&&!e.emulateJSON&&(f.processData=!1);"PATCH"===f.type&&v&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});c=e.xhr=a.ajax(d.extend(f,e));b.trigger("request",b,c,e);return c};var v="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),z={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var B=
a.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},w=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,C=/\*\w+/g,J=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(B.prototype,e,{initialize:function(){},route:function(c,b,e){d.isRegExp(c)||(c=this._routeToRegExp(c));d.isFunction(b)&&(e=b,b="");e||(e=this[b]);var g=this;a.history.route(c,function(d){d=g._extractParameters(c,d);e&&e.apply(g,d);g.trigger.apply(g,["route:"+b].concat(d));g.trigger("route",b,d);a.history.trigger("route",
g,b,d)});return this},navigate:function(c,b){a.history.navigate(c,b);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var a,c=d.keys(this.routes);null!=(a=c.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(J,"\\$&").replace(w,"(?:$1)?").replace(A,function(a,c){return c?a:"([^/]+)"}).replace(C,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,c){var b=a.exec(c).slice(1);return d.map(b,function(a){return a?decodeURIComponent(a):
null})}});var F=a.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,u=/^\/+|\/+$/g,x=/msie [\w.]+/,E=/\/$/,D=/[?#].*$/;F.started=!1;d.extend(F.prototype,e,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,c){if(null==a)if(this._hasPushState||!this._wantsHashChange||c){a=this.location.pathname;var b=this.root.replace(E,
"");a.indexOf(b)||(a=a.slice(b.length))}else a=this.getHash();return a.replace(M,"")},start:function(c){if(F.started)throw Error("Backbone.history has already been started");F.started=!0;this.options=d.extend({root:"/"},this.options,c);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);c=this.getFragment();var b=document.documentMode,b=x.exec(navigator.userAgent.toLowerCase())&&
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
(!b||7>=b);this.root=("/"+this.root+"/").replace(u,"/");b&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c));if(this._hasPushState)a.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)a.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=c;c=this.location;b=c.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&(b&&c.hash)&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+c.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);
clearInterval(this._checkUrlInterval);F.started=!1},route:function(a,c){this.handlers.unshift({route:a,callback:c})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return d.any(this.handlers,function(c){if(c.route.test(a))return c.callback(a),!0})},navigate:function(a,c){if(!F.started)return!1;
if(!c||!0===c)c={trigger:!!c};var b=this.root+(a=this.getFragment(a||""));a=a.replace(D,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==b&&(b=b.slice(0,-1));if(this._hasPushState)this.history[c.replace?"replaceState":"pushState"]({},document.title,b);else if(this._wantsHashChange)this._updateHash(this.location,a,c.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,c.replace));else return this.location.assign(b);
<<<<<<< HEAD
if(c.trigger)return this.loadUrl(a)}},_updateHash:function(a,c,b){b?(b=a.href.replace(/(javascript:|#).*$/,""),a.replace(b+"#"+c)):a.hash="#"+c}});a.history=new F;h.extend=p.extend=B.extend=q.extend=F.extend=function(a,c){var b=this,e;e=a&&d.has(a,"constructor")?a.constructor:function(){return b.apply(this,arguments)};d.extend(e,b,c);var g=function(){this.constructor=e};g.prototype=b.prototype;e.prototype=new g;a&&d.extend(e.prototype,a);e.__super__=b.prototype;return e};var M=function(){throw Error('A "url" property or function must be specified');
},O=function(a,c){var b=c.error;c.error=function(d){b&&b(a,d,c);a.trigger("error",a,d,c)}}}).call(this);
Backbone.ChildViewContainer=function(b,f){var e=function(a){this._views={};this._indexByModel={};this._indexByCollection={};this._indexByCustom={};this._updateLength();this._addInitialViews(a)};f.extend(e.prototype,{add:function(a,b){var e=a.cid;this._views[e]=a;a.model&&(this._indexByModel[a.model.cid]=e);a.collection&&(this._indexByCollection[a.collection.cid]=e);b&&(this._indexByCustom[b]=e);this._updateLength()},findByModel:function(a){return this.findByCid(this._indexByModel[a.cid])},findByCollection:function(a){return this.findByCid(this._indexByCollection[a.cid])},
findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return f.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];a.collection&&delete this._indexByCollection[a.collection.cid];var e,c;for(c in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(c)&&this._indexByCustom[c]===b){e=c;break}e&&delete this._indexByCustom[e];delete this._views[b];this._updateLength()},
call:function(a,b){b=Array.prototype.slice.call(arguments,1);this.apply(a,b)},apply:function(a,b){b=b||[];f.each(this._views,function(e){f.isFunction(e[a])&&e[a].apply(e,b)})},_updateLength:function(){this.length=f.size(this._views)},_addInitialViews:function(a){if(a){var b,e,c=a.length;for(e=0;c>e;e++)b=a[e],this.add(b)}}});return f.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){e.prototype[a]=function(){var b=[f.values(this._views)].concat(f.toArray(arguments));return f[a].apply(f,b)}}),e}(Backbone,_);
Backbone.Wreqr=function(b,f,e){f={};return f.Handlers=function(a,b){var e=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&this.initialize(a)};return e.extend=a.Model.extend,b.extend(e.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var e=null;b.isObject(a)&&!b.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,d){this._wreqrHandlers[a]={callback:b,context:d};this.trigger("handler:add",a,b,d)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),e}(b,e),f.CommandStorage=function(){var a=function(a){this.options=a;this._commands={};e.isFunction(this.initialize)&&this.initialize(a)};return e.extend(a.prototype,b.Events,{getCommands:function(a){var b=
this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}}),a}(),f.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var e=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,
e)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,c){var k=this.storage.getCommands(a);e.each(k.instances,function(a){b.apply(c,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=e.isFunction(a)?new a:a}})}(f),f.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],
b=Array.prototype.slice.call(arguments,1);return this.getHandler(a).apply(this,b)}})}(f),f.EventAggregator=function(a,b){var e=function(){};return e.extend=a.Model.extend,b.extend(e.prototype,a.Events),e}(b,e),f}(Backbone,Backbone.Marionette,_);
var Marionette=function(b,f,e){function a(a,b){var d=Error(a);throw d.name=b||"Error",d;}var d={};f.Marionette=d;d.$=f.$;var g=Array.prototype.slice;return d.extend=f.Model.extend,d.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]},d.triggerMethod=function(){function a(c,b,d){return d.toUpperCase()}var b=/(^|:)(\w)/gi;return function(d){var g=this["on"+d.replace(b,a)];return this.trigger.apply(this,arguments),e.isFunction(g)?g.apply(this,e.tail(arguments)):
void 0}}(),d.MonitorDOMRefresh=function(){function a(c){c._isShown&&c._isRendered&&e.isFunction(c.triggerMethod)&&c.triggerMethod("dom:refresh")}return function(b){b.listenTo(b,"show",function(){b._isShown=!0;a(b)});b.listenTo(b,"render",function(){b._isRendered=!0;a(b)})}}(),function(c){function b(c,d,g,k){k=k.split(/\s+/);e.each(k,function(b){var e=c[b];e||a("Method '"+b+"' was configured as an event handler, but does not exist.");c.listenTo(d,g,e,c)})}function d(a,c,b,e){a.listenTo(c,b,e,a)}function g(a,
c,b,d){d=d.split(/\s+/);e.each(d,function(d){a.stopListening(c,b,a[d],a)})}function f(a,c,b,d){a.stopListening(c,b,d,a)}function n(a,c,b,d,g){c&&b&&(e.isFunction(b)&&(b=b.call(a)),e.each(b,function(b,k){e.isFunction(b)?d(a,c,k,b):g(a,c,k,b)}))}c.bindEntityEvents=function(a,c,e){n(a,c,e,d,b)};c.unbindEntityEvents=function(a,c,b){n(a,c,b,f,g)}}(d),d.Callbacks=function(){this._deferred=d.$.Deferred();this._callbacks=[]},e.extend(d.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,ctx:b});
this._deferred.done(function(d,e){b&&(d=b);a.call(d,e)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=d.$.Deferred();this._callbacks=[];e.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),d.Controller=function(a){this.triggerMethod=d.triggerMethod;this.options=a||{};e.isFunction(this.initialize)&&this.initialize(this.options)},d.Controller.extend=d.extend,e.extend(d.Controller.prototype,f.Events,{close:function(){this.stopListening();this.triggerMethod("close");
this.unbind()}}),d.Region=function(a){if(this.options=a||{},this.el=d.getOption(this,"el"),!this.el){var b=Error("An 'el' must be specified for a region.");throw b.name="NoElError",b;}this.initialize&&(b=Array.prototype.slice.apply(arguments),this.initialize.apply(this,b))},e.extend(d.Region,{buildRegion:function(a,b){var d="string"==typeof a,g="string"==typeof a.selector,f=void 0===a.regionType,n="function"==typeof a;if(!n&&!d&&!g)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");
var m,q;d&&(m=a);a.selector&&(m=a.selector);n&&(q=a);!n&&f&&(q=b);a.regionType&&(q=a.regionType);d=new q({el:m});return a.parentEl&&(d.getEl=function(b){var d=a.parentEl;return e.isFunction(d)&&(d=d()),d.find(b)}),d}}),e.extend(d.Region.prototype,f.Events,{show:function(a){this.ensureEl();var b=a.isClosed||e.isUndefined(a.$el),g=a!==this.currentView;g&&this.close();a.render();(g||b)&&this.open(a);this.currentView=a;d.triggerMethod.call(this,"show",a);d.triggerMethod.call(a,"show")},ensureEl:function(){this.$el&&
0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return d.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),d.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}}),d.Region.extend=d.extend,d.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions=
{};a.Controller.prototype.constructor.call(this,b)},addRegions:function(a,c){var b={};return e.each(a,function(a,d){"string"==typeof a&&(a={selector:a});a.selector&&(a=e.defaults({},a,c));var g=this.addRegion(d,a);b[d]=g},this),b},addRegion:function(b,d){var g,k=e.isObject(d),f=e.isString(d),q=!!d.selector;return g=f||k&&q?a.Region.buildRegion(d,a.Region):e.isFunction(d)?a.Region.buildRegion(d,a.Region):d,this._store(b,g),this.triggerMethod("region:add",b,g),g},get:function(a){return this._regions[a]},
removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){e.each(this._regions,function(a,c){this._remove(c,a)},this)},closeRegions:function(){e.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();var b=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,b)},_store:function(a,c){this._regions[a]=c;this._setLength()},_remove:function(a,c){c.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",
a,c)},_setLength:function(){this.length=e.size(this._regions)}});return e.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){b.prototype[a]=function(){var c=[e.values(this._regions)].concat(e.toArray(arguments));return e[a].apply(e,c)}}),b}(d),d.TemplateCache=function(a){this.templateId=a},e.extend(d.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];
return b||(b=new d.TemplateCache(a),this.templateCaches[a]=b),b.load()},clear:function(){var a,b=g.call(arguments),d=b.length;if(0<d)for(a=0;d>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),e.extend(d.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a),this.compiledTemplate},loadTemplate:function(c){var b=d.$(c).html();return b&&0!==b.length||
a("Could not find template: '"+c+"'","NoTemplateError"),b},compileTemplate:function(a){return e.template(a)}}),d.Renderer={render:function(a,b){if(!a){var e=Error("Cannot render the template since it's false, null or undefined.");throw e.name="TemplateNotFoundError",e;}return e="function"==typeof a?a:d.TemplateCache.get(a),e(b)}},d.View=f.View.extend({constructor:function(){e.bindAll(this,"render");var a=Array.prototype.slice.apply(arguments);f.View.prototype.constructor.apply(this,a);d.MonitorDOMRefresh(this);
this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:d.triggerMethod,getTemplate:function(){return d.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=this.templateHelpers;return e.isFunction(b)&&(b=b.call(this)),e.extend(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=e.result(this,"triggers");return e.each(b,function(b,d){a[d]=function(a){a&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();this.triggerMethod(b,{view:this,
model:this.model,collection:this.collection})}},this),a}},delegateEvents:function(a){this._delegateDOMEvents(a);d.bindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.bindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;e.isFunction(a)&&(a=a.call(this));var b={},d=this.configureTriggers();e.extend(b,a,d);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);
f.View.prototype.undelegateEvents.apply(this,a);d.unbindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.unbindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=e.result(this,"_uiBindings");
this.ui={};e.each(e.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&(e.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),d.ItemView=d.View.extend({serializeData:function(){var a={};return this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()}),a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=
this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=d.Renderer.render(b,a);return this.$el.html(a),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),d.View.prototype.close.apply(this,g.call(arguments)),this.triggerMethod("item:closed"))}}),d.CollectionView=d.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage();
d.View.prototype.constructor.apply(this,g.call(arguments));this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),d=this.collection.indexOf(a);this.addItemView(a,b,d)},onShowCalled:function(){this.children.each(function(a){d.triggerMethod.call(a,
"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},
showCollection:function(){var a;this.collection.each(function(b,d){a=this.getItemView(b);this.addItemView(b,a,d)},this)},showEmptyView:function(){var a=d.getOption(this,"emptyView");if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new f.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var c=d.getOption(this,"itemView");return c||a("An `itemView` must be specified","NoItemViewError"),
c},addItemView:function(a,b,g){var f=d.getOption(this,"itemViewOptions");e.isFunction(f)&&(f=f.call(this,a,g));a=this.buildItemView(a,b,f);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,g);this._isShown&&d.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var b=d.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var e=g.call(arguments);e[0]=b+
":"+e[0];e.splice(1,0,a);d.triggerMethod.apply(this,e)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,d){a=e.extend({model:a},d);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){this.collection&&0!==
this.collection.length||this.showEmptyView()},appendHtml:function(a,b){a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new f.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),d.View.prototype.close.apply(this,g.call(arguments)))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}}),d.CompositeView=d.CollectionView.extend({_initialEvents:function(){this.collection&&
(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var c=d.getOption(this,"itemView")||this.constructor;return c||a("An `itemView` must be specified","NoItemViewError"),c},serializeData:function(){var a={};return this.model&&(a=this.model.toJSON()),a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();
this.triggerBeforeRender();var a=this.renderModel();return this.$el.html(a),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(d.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return d.Renderer.render(b,
a)},appendHtml:function(a,b){this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(c){if("$itemViewContainer"in c)return c.$itemViewContainer;var b;c.itemViewContainer?(b=e.result(c,"itemViewContainer"),b=c.$(b),0>=b.length&&a("The specified `itemViewContainer` was not found: "+c.itemViewContainer,"ItemViewContainerMissingError")):b=c.$el;return c.$itemViewContainer=b,b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),d.Layout=d.ItemView.extend({regionType:d.Region,
constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);d.ItemView.call(this,a)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?this._initializeRegions():this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return d.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);d.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var d=
{};return d[a]=b,this.addRegions(d)[a]},addRegions:function(a){return this.regions=e.extend(this.regions||{},a),this._buildRegions(a)},removeRegion:function(a){return this.regionManager.removeRegion(a)},_buildRegions:function(a){var b=this;return this.regionManager.addRegions(a,{parentEl:function(){return b.$el}})},_initializeRegions:function(a){this._initRegionManager();a=e.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();
this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new d.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}}),d.AppRouter=f.Router.extend({constructor:function(a){if(f.Router.prototype.constructor.apply(this,g.call(arguments)),this.options=a,this.appRoutes){var b=d.getOption(this,
"controller");this.processAppRoutes(b,this.appRoutes)}},processAppRoutes:function(a,b){var d=e.keys(b).reverse();e.each(d,function(d){var g=b[d],f=a[g];if(!f)throw Error("Method '"+g+"' was not found on the controller");this.route(d,g,e.bind(f,a))},this)}}),d.Application=function(a){this._initRegionManager();this._initCallbacks=new d.Callbacks;this.vent=new f.Wreqr.EventAggregator;this.commands=new f.Wreqr.Commands;this.reqres=new f.Wreqr.RequestResponse;this.submodules={};e.extend(this,a);this.triggerMethod=
d.triggerMethod},e.extend(d.Application.prototype,f.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},
addRegions:function(a){return this._regionManager.addRegions(a)},removeRegion:function(a){this._regionManager.removeRegion(a)},module:function(){var a=g.call(arguments);return a.unshift(this),d.Module.create.apply(d.Module,a)},_initRegionManager:function(){this._regionManager=new d.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a){delete this[a]})}}),d.Application.extend=d.extend,d.Module=function(a,
b){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=d.triggerMethod},e.extend(d.Module.prototype,f.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(e.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=
!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,d.triggerMethod.call(this,"before:stop"),e.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),d.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var g=e.flatten([this,this.app,f,d,d.$,e,b]);a.apply(this,g)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=
new d.Callbacks;this._finalizerCallbacks=new d.Callbacks}}),e.extend(d.Module,{create:function(a,b,d){var f=a,p=g.call(arguments);p.splice(0,3);b=b.split(".");var n=[];return n[b.length-1]=d,e.each(b,function(b,d){var e=f;f=this._getModule(e,b,a);this._addModuleDefinition(e,f,n[d],p)},this),f},_getModule:function(a,b,e){var g=a[b];return g||(g=new d.Module(b,e),a[b]=g,a.submodules[b]=g),g},_addModuleDefinition:function(a,b,d,g){var f,n;e.isFunction(d)?(f=d,n=!0):e.isObject(d)?(f=d.define,n=d.startWithParent):
n=!0;f&&b.addDefinition(f,g);b.startWithParent=b.startWithParent&&n;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),d}(this,Backbone,_);!function(){function b(f,e,a){var d=b.resolve(f);if(null==d)throw a=a||f,e=e||"root",d=Error('Failed to require "'+a+'" from "'+e+'"'),d.path=a,d.parent=e,d.require=!0,d;e=b.modules[d];!e._resolving&&!e.exports&&(a={exports:{}},a.client=a.component=!0,e._resolving=!0,e.call(this,a.exports,b.relative(d),a),delete e._resolving,e.exports=a.exports);return e.exports}b.modules={};b.aliases={};b.resolve=function(f){"/"===f.charAt(0)&&(f=f.slice(1));for(var e=[f,f+".js",f+".json",f+"/index.js",f+"/index.json"],
a=0;a<e.length;a++){f=e[a];if(b.modules.hasOwnProperty(f))return f;if(b.aliases.hasOwnProperty(f))return b.aliases[f]}};b.normalize=function(b,e){var a=[];if("."!=e.charAt(0))return e;b=b.split("/");e=e.split("/");for(var d=0;d<e.length;++d)".."==e[d]?b.pop():"."!=e[d]&&""!=e[d]&&a.push(e[d]);return b.concat(a).join("/")};b.register=function(f,e){b.modules[f]=e};b.alias=function(f,e){if(!b.modules.hasOwnProperty(f))throw Error('Failed to alias "'+f+'", it does not exist');b.aliases[e]=f};b.relative=
function(f){function e(a){var g=e.resolve(a);return b(g,f,a)}var a=b.normalize(f,"..");return e.resolve=function(d){var e=d.charAt(0);if("/"==e)return d.slice(1);if("."==e)return b.normalize(a,d);var e=f.split("/"),c;a:{for(c=e.length;c--;)if("deps"===e[c])break a;c=-1}c+=1;return c||(c=0),e.slice(0,c+1).join("/")+"/deps/"+d},e.exists=function(a){return b.modules.hasOwnProperty(e.resolve(a))},e};b.register("component-emitter/index.js",function(b,e,a){function d(a){if(a)for(var c in d.prototype)a[c]=
d.prototype[c];else a=void 0;return a}a.exports=d;d.prototype.on=function(a,c){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(c),this};d.prototype.once=function(a,c){function b(){d.off(a,b);c.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c._off=b,this.on(a,b),this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=function(a,c){this._callbacks=this._callbacks||{};var b=this._callbacks[a];if(!b)return this;
if(1==arguments.length)return delete this._callbacks[a],this;var d=b.indexOf(c._off||c);return~d&&b.splice(d,1),this};d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),d=0,e=b.length;e>d;++d)b[d].apply(this,c);return this};d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]};d.prototype.hasListeners=function(a){return!!this.listeners(a).length}});b.register("dropzone/index.js",
function(b,e,a){a.exports=e("./lib/dropzone.js")});b.register("dropzone/lib/dropzone.js",function(b,e,a){(function(){var b,g,c,f,l,h={}.hasOwnProperty,p=function(a,c){function b(){this.constructor=a}for(var d in c)h.call(c,d)&&(a[d]=c[d]);return b.prototype=c.prototype,a.prototype=new b,a.__super__=c.prototype,a},n=[].slice;g="undefined"!=typeof Emitter&&null!==Emitter?Emitter:e("emitter");f=function(){};b=function(a){function c(a,d){var e,g,f;if(this.element=a,this.version=c.version,this.defaultOptions.previewTemplate=
this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(this.element.dropzone)throw Error("Dropzone already attached.");if(c.instances.push(this),this.element.dropzone=this,e=null!=(f=c.optionsForElement(this.element))?f:{},this.options=b({},this.defaultOptions,e,null!=d?d:
{}),this.options.forceFallback||!c.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);
this.options.method=this.options.method.toUpperCase();(g=this.getExistingFallback())&&g.parentNode&&g.parentNode.removeChild(g);this.previewsContainer=this.options.previewsContainer?c.getElement(this.options.previewsContainer,"previewsContainer"):this.element;this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:c.getElements(this.options.clickable,"clickable"));this.init()}var b;return p(c,a),c.prototype.events="drop dragstart dragend dragenter dragover dragleave selectedfiles addedfile removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded".split(" "),
=======
if(c.trigger)return this.loadUrl(a)}},_updateHash:function(a,c,b){b?(b=a.href.replace(/(javascript:|#).*$/,""),a.replace(b+"#"+c)):a.hash="#"+c}});a.history=new F;h.extend=n.extend=B.extend=p.extend=F.extend=function(a,c){var b=this,e;e=a&&d.has(a,"constructor")?a.constructor:function(){return b.apply(this,arguments)};d.extend(e,b,c);var g=function(){this.constructor=e};g.prototype=b.prototype;e.prototype=new g;a&&d.extend(e.prototype,a);e.__super__=b.prototype;return e};var N=function(){throw Error('A "url" property or function must be specified');
},P=function(a,c){var b=c.error;c.error=function(d){b&&b(a,d,c);a.trigger("error",a,d,c)}}}).call(this);
Backbone.ChildViewContainer=function(b,f){var g=function(a){this._views={};this._indexByModel={};this._indexByCollection={};this._indexByCustom={};this._updateLength();this._addInitialViews(a)};f.extend(g.prototype,{add:function(a,b){var e=a.cid;this._views[e]=a;a.model&&(this._indexByModel[a.model.cid]=e);a.collection&&(this._indexByCollection[a.collection.cid]=e);b&&(this._indexByCustom[b]=e);this._updateLength()},findByModel:function(a){return this.findByCid(this._indexByModel[a.cid])},findByCollection:function(a){return this.findByCid(this._indexByCollection[a.cid])},
findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return f.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];a.collection&&delete this._indexByCollection[a.collection.cid];var e,c;for(c in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(c)&&this._indexByCustom[c]===b){e=c;break}e&&delete this._indexByCustom[e];delete this._views[b];this._updateLength()},
call:function(a,b){b=Array.prototype.slice.call(arguments,1);this.apply(a,b)},apply:function(a,b){b=b||[];f.each(this._views,function(e){f.isFunction(e[a])&&e[a].apply(e,b)})},_updateLength:function(){this.length=f.size(this._views)},_addInitialViews:function(a){if(a){var b,e,c=a.length;for(e=0;c>e;e++)b=a[e],this.add(b)}}});return f.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){g.prototype[a]=function(){var b=[f.values(this._views)].concat(f.toArray(arguments));return f[a].apply(f,b)}}),g}(Backbone,_);
Backbone.Wreqr=function(b,f,g){f={};return f.Handlers=function(a,b){var e=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&this.initialize(a)};return e.extend=a.Model.extend,b.extend(e.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var e=null;b.isObject(a)&&!b.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,d){this._wreqrHandlers[a]={callback:b,context:d};this.trigger("handler:add",a,b,d)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),e}(b,g),f.CommandStorage=function(){var a=function(a){this.options=a;this._commands={};g.isFunction(this.initialize)&&this.initialize(a)};return g.extend(a.prototype,b.Events,{getCommands:function(a){var b=
this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}}),a}(),f.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var e=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,
e)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,c){var f=this.storage.getCommands(a);g.each(f.instances,function(a){b.apply(c,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=g.isFunction(a)?new a:a}})}(f),f.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],
b=Array.prototype.slice.call(arguments,1);return this.getHandler(a).apply(this,b)}})}(f),f.EventAggregator=function(a,b){var e=function(){};return e.extend=a.Model.extend,b.extend(e.prototype,a.Events),e}(b,g),f}(Backbone,Backbone.Marionette,_);
var Marionette=function(b,f,g){function a(a,b){var d=Error(a);throw d.name=b||"Error",d;}var d={};f.Marionette=d;d.$=f.$;var e=Array.prototype.slice;return d.extend=f.Model.extend,d.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]},d.triggerMethod=function(){function a(c,b,d){return d.toUpperCase()}var b=/(^|:)(\w)/gi;return function(d){var e=this["on"+d.replace(b,a)];return this.trigger.apply(this,arguments),g.isFunction(e)?e.apply(this,g.tail(arguments)):
void 0}}(),d.MonitorDOMRefresh=function(){function a(c){c._isShown&&c._isRendered&&g.isFunction(c.triggerMethod)&&c.triggerMethod("dom:refresh")}return function(b){b.listenTo(b,"show",function(){b._isShown=!0;a(b)});b.listenTo(b,"render",function(){b._isRendered=!0;a(b)})}}(),function(c){function b(c,d,e,f){f=f.split(/\s+/);g.each(f,function(b){var g=c[b];g||a("Method '"+b+"' was configured as an event handler, but does not exist.");c.listenTo(d,e,g,c)})}function d(a,c,b,e){a.listenTo(c,b,e,a)}function e(a,
c,b,d){d=d.split(/\s+/);g.each(d,function(d){a.stopListening(c,b,a[d],a)})}function f(a,c,b,d){a.stopListening(c,b,d,a)}function l(a,c,b,d,e){c&&b&&(g.isFunction(b)&&(b=b.call(a)),g.each(b,function(b,f){g.isFunction(b)?d(a,c,f,b):e(a,c,f,b)}))}c.bindEntityEvents=function(a,c,e){l(a,c,e,d,b)};c.unbindEntityEvents=function(a,c,b){l(a,c,b,f,e)}}(d),d.Callbacks=function(){this._deferred=d.$.Deferred();this._callbacks=[]},g.extend(d.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,ctx:b});
this._deferred.done(function(d,e){b&&(d=b);a.call(d,e)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=d.$.Deferred();this._callbacks=[];g.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),d.Controller=function(a){this.triggerMethod=d.triggerMethod;this.options=a||{};g.isFunction(this.initialize)&&this.initialize(this.options)},d.Controller.extend=d.extend,g.extend(d.Controller.prototype,f.Events,{close:function(){this.stopListening();this.triggerMethod("close");
this.unbind()}}),d.Region=function(a){if(this.options=a||{},this.el=d.getOption(this,"el"),!this.el){var b=Error("An 'el' must be specified for a region.");throw b.name="NoElError",b;}this.initialize&&(b=Array.prototype.slice.apply(arguments),this.initialize.apply(this,b))},g.extend(d.Region,{buildRegion:function(a,b){var d="string"==typeof a,e="string"==typeof a.selector,f=void 0===a.regionType,l="function"==typeof a;if(!l&&!d&&!e)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");
var q,p;d&&(q=a);a.selector&&(q=a.selector);l&&(p=a);!l&&f&&(p=b);a.regionType&&(p=a.regionType);d=new p({el:q});return a.parentEl&&(d.getEl=function(b){var d=a.parentEl;return g.isFunction(d)&&(d=d()),d.find(b)}),d}}),g.extend(d.Region.prototype,f.Events,{show:function(a){this.ensureEl();var b=a.isClosed||g.isUndefined(a.$el),e=a!==this.currentView;e&&this.close();a.render();(e||b)&&this.open(a);this.currentView=a;d.triggerMethod.call(this,"show",a);d.triggerMethod.call(a,"show")},ensureEl:function(){this.$el&&
0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return d.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),d.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}}),d.Region.extend=d.extend,d.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions=
{};a.Controller.prototype.constructor.call(this,b)},addRegions:function(a,c){var b={};return g.each(a,function(a,d){"string"==typeof a&&(a={selector:a});a.selector&&(a=g.defaults({},a,c));var e=this.addRegion(d,a);b[d]=e},this),b},addRegion:function(b,d){var e,f=g.isObject(d),k=g.isString(d),p=!!d.selector;return e=k||f&&p?a.Region.buildRegion(d,a.Region):g.isFunction(d)?a.Region.buildRegion(d,a.Region):d,this._store(b,e),this.triggerMethod("region:add",b,e),e},get:function(a){return this._regions[a]},
removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){g.each(this._regions,function(a,c){this._remove(c,a)},this)},closeRegions:function(){g.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();var b=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,b)},_store:function(a,c){this._regions[a]=c;this._setLength()},_remove:function(a,c){c.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",
a,c)},_setLength:function(){this.length=g.size(this._regions)}});return g.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){b.prototype[a]=function(){var c=[g.values(this._regions)].concat(g.toArray(arguments));return g[a].apply(g,c)}}),b}(d),d.TemplateCache=function(a){this.templateId=a},g.extend(d.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];
return b||(b=new d.TemplateCache(a),this.templateCaches[a]=b),b.load()},clear:function(){var a,b=e.call(arguments),d=b.length;if(0<d)for(a=0;d>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),g.extend(d.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a),this.compiledTemplate},loadTemplate:function(c){var b=d.$(c).html();return b&&0!==b.length||
a("Could not find template: '"+c+"'","NoTemplateError"),b},compileTemplate:function(a){return g.template(a)}}),d.Renderer={render:function(a,b){if(!a){var e=Error("Cannot render the template since it's false, null or undefined.");throw e.name="TemplateNotFoundError",e;}return e="function"==typeof a?a:d.TemplateCache.get(a),e(b)}},d.View=f.View.extend({constructor:function(){g.bindAll(this,"render");var a=Array.prototype.slice.apply(arguments);f.View.prototype.constructor.apply(this,a);d.MonitorDOMRefresh(this);
this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:d.triggerMethod,getTemplate:function(){return d.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=this.templateHelpers;return g.isFunction(b)&&(b=b.call(this)),g.extend(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=g.result(this,"triggers");return g.each(b,function(b,d){a[d]=function(a){a&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();this.triggerMethod(b,{view:this,
model:this.model,collection:this.collection})}},this),a}},delegateEvents:function(a){this._delegateDOMEvents(a);d.bindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.bindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;g.isFunction(a)&&(a=a.call(this));var b={},d=this.configureTriggers();g.extend(b,a,d);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);
f.View.prototype.undelegateEvents.apply(this,a);d.unbindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.unbindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=g.result(this,"_uiBindings");
this.ui={};g.each(g.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&(g.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),d.ItemView=d.View.extend({serializeData:function(){var a={};return this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()}),a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=
this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=d.Renderer.render(b,a);return this.$el.html(a),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),d.View.prototype.close.apply(this,e.call(arguments)),this.triggerMethod("item:closed"))}}),d.CollectionView=d.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage();
d.View.prototype.constructor.apply(this,e.call(arguments));this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),d=this.collection.indexOf(a);this.addItemView(a,b,d)},onShowCalled:function(){this.children.each(function(a){d.triggerMethod.call(a,
"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},
showCollection:function(){var a;this.collection.each(function(b,d){a=this.getItemView(b);this.addItemView(b,a,d)},this)},showEmptyView:function(){var a=d.getOption(this,"emptyView");if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new f.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var c=d.getOption(this,"itemView");return c||a("An `itemView` must be specified","NoItemViewError"),
c},addItemView:function(a,b,e){var f=d.getOption(this,"itemViewOptions");g.isFunction(f)&&(f=f.call(this,a,e));a=this.buildItemView(a,b,f);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,e);this._isShown&&d.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var b=d.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var g=e.call(arguments);g[0]=b+
":"+g[0];g.splice(1,0,a);d.triggerMethod.apply(this,g)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,d){a=g.extend({model:a},d);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){this.collection&&0!==
this.collection.length||this.showEmptyView()},appendHtml:function(a,b){a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new f.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),d.View.prototype.close.apply(this,e.call(arguments)))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}}),d.CompositeView=d.CollectionView.extend({_initialEvents:function(){this.collection&&
(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var c=d.getOption(this,"itemView")||this.constructor;return c||a("An `itemView` must be specified","NoItemViewError"),c},serializeData:function(){var a={};return this.model&&(a=this.model.toJSON()),a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();
this.triggerBeforeRender();var a=this.renderModel();return this.$el.html(a),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(d.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return d.Renderer.render(b,
a)},appendHtml:function(a,b){this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(c){if("$itemViewContainer"in c)return c.$itemViewContainer;var b;c.itemViewContainer?(b=g.result(c,"itemViewContainer"),b=c.$(b),0>=b.length&&a("The specified `itemViewContainer` was not found: "+c.itemViewContainer,"ItemViewContainerMissingError")):b=c.$el;return c.$itemViewContainer=b,b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),d.Layout=d.ItemView.extend({regionType:d.Region,
constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);d.ItemView.call(this,a)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?this._initializeRegions():this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return d.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);d.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var d=
{};return d[a]=b,this.addRegions(d)[a]},addRegions:function(a){return this.regions=g.extend(this.regions||{},a),this._buildRegions(a)},removeRegion:function(a){return this.regionManager.removeRegion(a)},_buildRegions:function(a){var b=this;return this.regionManager.addRegions(a,{parentEl:function(){return b.$el}})},_initializeRegions:function(a){this._initRegionManager();a=g.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();
this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new d.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}}),d.AppRouter=f.Router.extend({constructor:function(a){if(f.Router.prototype.constructor.apply(this,e.call(arguments)),this.options=a,this.appRoutes){var b=d.getOption(this,
"controller");this.processAppRoutes(b,this.appRoutes)}},processAppRoutes:function(a,b){var d=g.keys(b).reverse();g.each(d,function(d){var e=b[d],f=a[e];if(!f)throw Error("Method '"+e+"' was not found on the controller");this.route(d,e,g.bind(f,a))},this)}}),d.Application=function(a){this._initRegionManager();this._initCallbacks=new d.Callbacks;this.vent=new f.Wreqr.EventAggregator;this.commands=new f.Wreqr.Commands;this.reqres=new f.Wreqr.RequestResponse;this.submodules={};g.extend(this,a);this.triggerMethod=
d.triggerMethod},g.extend(d.Application.prototype,f.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},
addRegions:function(a){return this._regionManager.addRegions(a)},removeRegion:function(a){this._regionManager.removeRegion(a)},module:function(){var a=e.call(arguments);return a.unshift(this),d.Module.create.apply(d.Module,a)},_initRegionManager:function(){this._regionManager=new d.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a){delete this[a]})}}),d.Application.extend=d.extend,d.Module=function(a,
b){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=d.triggerMethod},g.extend(d.Module.prototype,f.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(g.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=
!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,d.triggerMethod.call(this,"before:stop"),g.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),d.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var e=g.flatten([this,this.app,f,d,d.$,g,b]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=
new d.Callbacks;this._finalizerCallbacks=new d.Callbacks}}),g.extend(d.Module,{create:function(a,b,d){var f=a,n=e.call(arguments);n.splice(0,3);b=b.split(".");var l=[];return l[b.length-1]=d,g.each(b,function(b,d){var e=f;f=this._getModule(e,b,a);this._addModuleDefinition(e,f,l[d],n)},this),f},_getModule:function(a,b,e){var g=a[b];return g||(g=new d.Module(b,e),a[b]=g,a.submodules[b]=g),g},_addModuleDefinition:function(a,b,d,e){var f,l;g.isFunction(d)?(f=d,l=!0):g.isObject(d)?(f=d.define,l=d.startWithParent):
l=!0;f&&b.addDefinition(f,e);b.startWithParent=b.startWithParent&&l;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),d}(this,Backbone,_);!function(){function b(f,g,a){var d=b.resolve(f);if(null==d)throw a=a||f,g=g||"root",d=Error('Failed to require "'+a+'" from "'+g+'"'),d.path=a,d.parent=g,d.require=!0,d;g=b.modules[d];!g._resolving&&!g.exports&&(a={exports:{}},a.client=a.component=!0,g._resolving=!0,g.call(this,a.exports,b.relative(d),a),delete g._resolving,g.exports=a.exports);return g.exports}b.modules={};b.aliases={};b.resolve=function(f){"/"===f.charAt(0)&&(f=f.slice(1));for(var g=[f,f+".js",f+".json",f+"/index.js",f+"/index.json"],
a=0;a<g.length;a++){f=g[a];if(b.modules.hasOwnProperty(f))return f;if(b.aliases.hasOwnProperty(f))return b.aliases[f]}};b.normalize=function(b,g){var a=[];if("."!=g.charAt(0))return g;b=b.split("/");g=g.split("/");for(var d=0;d<g.length;++d)".."==g[d]?b.pop():"."!=g[d]&&""!=g[d]&&a.push(g[d]);return b.concat(a).join("/")};b.register=function(f,g){b.modules[f]=g};b.alias=function(f,g){if(!b.modules.hasOwnProperty(f))throw Error('Failed to alias "'+f+'", it does not exist');b.aliases[g]=f};b.relative=
function(f){function g(a){var e=g.resolve(a);return b(e,f,a)}var a=b.normalize(f,"..");return g.resolve=function(d){var e=d.charAt(0);if("/"==e)return d.slice(1);if("."==e)return b.normalize(a,d);var e=f.split("/"),c;a:{for(c=e.length;c--;)if("deps"===e[c])break a;c=-1}c+=1;return c||(c=0),e.slice(0,c+1).join("/")+"/deps/"+d},g.exists=function(a){return b.modules.hasOwnProperty(g.resolve(a))},g};b.register("component-emitter/index.js",function(b,g,a){function d(a){if(a)for(var c in d.prototype)a[c]=
d.prototype[c];else a=void 0;return a}a.exports=d;d.prototype.on=function(a,c){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(c),this};d.prototype.once=function(a,c){function b(){d.off(a,b);c.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c._off=b,this.on(a,b),this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=function(a,c){this._callbacks=this._callbacks||{};var b=this._callbacks[a];if(!b)return this;
if(1==arguments.length)return delete this._callbacks[a],this;var d=b.indexOf(c._off||c);return~d&&b.splice(d,1),this};d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),d=0,g=b.length;g>d;++d)b[d].apply(this,c);return this};d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]};d.prototype.hasListeners=function(a){return!!this.listeners(a).length}});b.register("dropzone/index.js",
function(b,g,a){a.exports=g("./lib/dropzone.js")});b.register("dropzone/lib/dropzone.js",function(b,g,a){(function(){var b,e,c,f,m,h={}.hasOwnProperty,n=function(a,c){function b(){this.constructor=a}for(var d in c)h.call(c,d)&&(a[d]=c[d]);return b.prototype=c.prototype,a.prototype=new b,a.__super__=c.prototype,a},l=[].slice;e="undefined"!=typeof Emitter&&null!==Emitter?Emitter:g("emitter");f=function(){};b=function(a){function c(a,d){var e,g,f;if(this.element=a,this.version=c.version,this.defaultOptions.previewTemplate=
this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(this.element.dropzone)throw Error("Dropzone already attached.");if(c.instances.push(this),this.element.dropzone=this,e=null!=(f=c.optionsForElement(this.element))?f:{},this.options=b({},this.defaultOptions,e,null!=d?d:
{}),this.options.forceFallback||!c.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);
this.options.method=this.options.method.toUpperCase();(g=this.getExistingFallback())&&g.parentNode&&g.parentNode.removeChild(g);this.previewsContainer=this.options.previewsContainer?c.getElement(this.options.previewsContainer,"previewsContainer"):this.element;this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:c.getElements(this.options.clickable,"clickable"));this.init()}var b;return n(c,a),c.prototype.events="drop dragstart dragend dragenter dragover dragleave selectedfiles addedfile removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded".split(" "),
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
c.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",
dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",
accept:function(a,c){return c()},init:function(){return f},forceFallback:!1,fallback:function(){var a,b,d,e,g,f;this.element.className=""+this.element.className+" dz-browser-not-supported";f=this.element.getElementsByTagName("div");e=0;for(g=f.length;g>e;e++)a=f[e],/(^| )dz-message($| )/.test(a.className)&&(b=a,a.className="dz-message");return b||(b=c.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(b)),d=b.getElementsByTagName("span")[0],d&&(d.textContent=this.options.dictFallbackMessage),
this.element.appendChild(this.getFallbackForm())},resize:function(a){var c,b,d;return c={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},b=a.width/a.height,d=this.options.thumbnailWidth/this.options.thumbnailHeight,a.height<this.options.thumbnailHeight||a.width<this.options.thumbnailWidth?(c.trgHeight=c.srcHeight,c.trgWidth=c.srcWidth):b>d?(c.srcHeight=a.height,c.srcWidth=c.srcHeight*d):(c.srcWidth=a.width,c.srcHeight=c.srcWidth/d),c.srcX=(a.width-c.srcWidth)/2,c.srcY=(a.height-c.srcHeight)/2,
c},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:f,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},
addedfile:function(a){var b,d,e,g,f=this;a.previewElement=c.createElement(this.options.previewTemplate.trim());a.previewTemplate=a.previewElement;this.previewsContainer.appendChild(a.previewElement);g=a.previewElement.querySelectorAll("[data-dz-name]");d=0;for(e=g.length;e>d;d++)b=g[d],b.textContent=a.name;g=a.previewElement.querySelectorAll("[data-dz-size]");d=0;for(e=g.length;e>d;d++)b=g[d],b.innerHTML=this.filesize(a.size);return this.options.addRemoveLinks&&(a._removeLink=c.createElement('<a class="dz-remove" href="javascript:undefined;">'+
this.options.dictRemoveFile+"</a>"),a._removeLink.addEventListener("click",function(b){return b.preventDefault(),b.stopPropagation(),a.status===c.UPLOADING?c.confirm(f.options.dictCancelUploadConfirmation,function(){return f.removeFile(a)}):f.options.dictRemoveFileConfirmation?c.confirm(f.options.dictRemoveFileConfirmation,function(){return f.removeFile(a)}):f.removeFile(a)}),a.previewElement.appendChild(a._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(a){var c;return null!=
(c=a.previewElement)&&c.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,c){var b,d,e,g,f;a.previewElement.classList.remove("dz-file-preview");a.previewElement.classList.add("dz-image-preview");g=a.previewElement.querySelectorAll("[data-dz-thumbnail]");f=[];d=0;for(e=g.length;e>d;d++)b=g[d],b.alt=a.name,f.push(b.src=c);return f},error:function(a,c){var b,d,e,g,f;a.previewElement.classList.add("dz-error");g=a.previewElement.querySelectorAll("[data-dz-errormessage]");
f=[];d=0;for(e=g.length;e>d;d++)b=g[d],f.push(b.textContent=c);return f},errormultiple:f,processing:function(a){return a.previewElement.classList.add("dz-processing"),a._removeLink?a._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:f,uploadprogress:function(a,c){var b,d,e,g,f;g=a.previewElement.querySelectorAll("[data-dz-uploadprogress]");f=[];d=0;for(e=g.length;e>d;d++)b=g[d],f.push(b.style.width=""+c+"%");return f},totaluploadprogress:f,sending:f,sendingmultiple:f,
success:function(a){return a.previewElement.classList.add("dz-success")},successmultiple:f,canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:f,complete:function(a){return a._removeLink?a._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:f,maxfilesexceeded:f,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},
<<<<<<< HEAD
b=function(){var a,c,b,d,e,g,f;d=arguments[0];b=2<=arguments.length?n.call(arguments,1):[];g=0;for(f=b.length;f>g;g++)for(a in c=b[g],c)e=c[a],d[a]=e;return d},c.prototype.getAcceptedFiles=function(){var a,c,b,d,e;d=this.files;e=[];c=0;for(b=d.length;b>c;c++)a=d[c],a.accepted&&e.push(a);return e},c.prototype.getRejectedFiles=function(){var a,c,b,d,e;d=this.files;e=[];c=0;for(b=d.length;b>c;c++)a=d[c],a.accepted||e.push(a);return e},c.prototype.getQueuedFiles=function(){var a,b,d,e,g;e=this.files;
=======
b=function(){var a,c,b,d,e,g,f;d=arguments[0];b=2<=arguments.length?l.call(arguments,1):[];g=0;for(f=b.length;f>g;g++)for(a in c=b[g],c)e=c[a],d[a]=e;return d},c.prototype.getAcceptedFiles=function(){var a,c,b,d,e;d=this.files;e=[];c=0;for(b=d.length;b>c;c++)a=d[c],a.accepted&&e.push(a);return e},c.prototype.getRejectedFiles=function(){var a,c,b,d,e;d=this.files;e=[];c=0;for(b=d.length;b>c;c++)a=d[c],a.accepted||e.push(a);return e},c.prototype.getQueuedFiles=function(){var a,b,d,e,g;e=this.files;
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
g=[];b=0;for(d=e.length;d>b;b++)a=e[b],a.status===c.QUEUED&&g.push(a);return g},c.prototype.getUploadingFiles=function(){var a,b,d,e,g;e=this.files;g=[];b=0;for(d=e.length;d>b;b++)a=e[b],a.status===c.UPLOADING&&g.push(a);return g},c.prototype.init=function(){var a,b,d,e,g,f,k=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(c.createElement('<div class="dz-default dz-message"><span>'+
this.options.dictDefaultMessage+"</span></div>"));this.clickableElements.length&&(d=function(){return k.hiddenFileInput&&document.body.removeChild(k.hiddenFileInput),k.hiddenFileInput=document.createElement("input"),k.hiddenFileInput.setAttribute("type","file"),(null==k.options.maxFiles||1<k.options.maxFiles)&&k.hiddenFileInput.setAttribute("multiple","multiple"),null!=k.options.acceptedFiles&&k.hiddenFileInput.setAttribute("accept",k.options.acceptedFiles),k.hiddenFileInput.style.visibility="hidden",
k.hiddenFileInput.style.position="absolute",k.hiddenFileInput.style.top="0",k.hiddenFileInput.style.left="0",k.hiddenFileInput.style.height="0",k.hiddenFileInput.style.width="0",document.body.appendChild(k.hiddenFileInput),k.hiddenFileInput.addEventListener("change",function(){var a;return a=k.hiddenFileInput.files,a.length&&(k.emit("selectedfiles",a),k.handleFiles(a)),d()})},d());this.URL=null!=(a=window.URL)?a:window.webkitURL;f=this.events;e=0;for(g=f.length;g>e;e++)a=f[e],this.on(a,this.options[a]);
return this.on("uploadprogress",function(){return k.updateTotalUploadProgress()}),this.on("removedfile",function(){return k.updateTotalUploadProgress()}),this.on("canceled",function(a){return k.emit("complete",a)}),b=function(a){return a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(a){return k.emit("dragstart",a)},dragenter:function(a){return b(a),k.emit("dragenter",a)},dragover:function(a){return b(a),k.emit("dragover",
a)},dragleave:function(a){return k.emit("dragleave",a)},drop:function(a){return b(a),k.drop(a)},dragend:function(a){return k.emit("dragend",a)}}}],this.clickableElements.forEach(function(a){return k.listeners.push({element:a,events:{click:function(b){return a!==k.element||b.target===k.element||c.elementInside(b.target,k.element.querySelector(".dz-message"))?k.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},c.prototype.destroy=function(){var a;return this.disable(),
this.removeAllFiles(!0),(null!=(a=this.hiddenFileInput)?a.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},c.prototype.updateTotalUploadProgress=function(){var a,c,b,d,e,g;if(b=0,c=0,a=this.getAcceptedFiles(),a.length){g=this.getAcceptedFiles();d=0;for(e=g.length;e>d;d++)a=g[d],b+=a.upload.bytesSent,c+=a.upload.total;a=100*b/c}else a=100;return this.emit("totaluploadprogress",a,c,b)},c.prototype.getFallbackForm=
function(){var a,b,d,e;return(a=this.getExistingFallback())?a:(d='<div class="dz-fallback">',this.options.dictFallbackText&&(d+="<p>"+this.options.dictFallbackText+"</p>"),d+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',b=c.createElement(d),"FORM"!==this.element.tagName?(e=c.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+
this.options.method+'"></form>'),e.appendChild(b)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:b)},c.prototype.getExistingFallback=function(){var a,c,b,d,e,g;c=function(a){var c,b,d;b=0;for(d=a.length;d>b;b++)if(c=a[b],/(^| )fallback($| )/.test(c.className))return c};g=["div","form"];d=0;for(e=g.length;e>d;d++)if(b=g[d],a=c(this.element.getElementsByTagName(b)))return a},c.prototype.setupEventListeners=function(){var a,
c,b,d,e,g,f;g=this.listeners;f=[];d=0;for(e=g.length;e>d;d++)a=g[d],f.push(function(){var d,e;d=a.events;e=[];for(c in d)b=d[c],e.push(a.element.addEventListener(c,b,!1));return e}());return f},c.prototype.removeEventListeners=function(){var a,c,b,d,e,g,f;g=this.listeners;f=[];d=0;for(e=g.length;e>d;d++)a=g[d],f.push(function(){var d,e;d=a.events;e=[];for(c in d)b=d[c],e.push(a.element.removeEventListener(c,b,!1));return e}());return f},c.prototype.disable=function(){var a,c,b,d,e;this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")});
this.removeEventListeners();d=this.files;e=[];c=0;for(b=d.length;b>c;c++)a=d[c],e.push(this.cancelUpload(a));return e},c.prototype.enable=function(){return this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")}),this.setupEventListeners()},c.prototype.filesize=function(a){var c;return 1E11<=a?(a/=1E11,c="TB"):1E8<=a?(a/=1E8,c="GB"):1E5<=a?(a/=1E5,c="MB"):100<=a?(a/=100,c="KB"):(a*=10,c="b"),"<strong>"+Math.round(a)/10+"</strong> "+c},c.prototype._updateMaxFilesReachedClass=
function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},c.prototype.drop=function(a){var c,b;a.dataTransfer&&(this.emit("drop",a),c=a.dataTransfer.files,this.emit("selectedfiles",c),c.length&&(b=a.dataTransfer.items,b&&b.length&&(null!=b[0].webkitGetAsEntry||null!=b[0].getAsEntry)?this.handleItems(b):this.handleFiles(c)))},c.prototype.handleFiles=function(a){var c,
b,d,e;e=[];b=0;for(d=a.length;d>b;b++)c=a[b],e.push(this.addFile(c));return e},c.prototype.handleItems=function(a){var c,b,d,e;d=0;for(e=a.length;e>d;d++)b=a[d],null!=b.webkitGetAsEntry?(c=b.webkitGetAsEntry(),c.isFile?this.addFile(b.getAsFile()):c.isDirectory&&this.addDirectory(c,c.name)):this.addFile(b.getAsFile())},c.prototype.accept=function(a,b){return a.size>1048576*this.options.maxFilesize?b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",
this.options.maxFilesize)):c.isValidFile(a,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,b):b(this.options.dictInvalidFileType)},c.prototype.addFile=function(a){var b=this;return a.upload={progress:0,total:a.size,bytesSent:0},this.files.push(a),a.status=c.ADDED,this.emit("addedfile",a),this.options.createImageThumbnails&&
a.type.match(/image.*/)&&a.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(a),this.accept(a,function(c){return c?(a.accepted=!1,b._errorProcessing([a],c)):b.enqueueFile(a)})},c.prototype.enqueueFiles=function(a){var c,b,d;b=0;for(d=a.length;d>b;b++)c=a[b],this.enqueueFile(c);return null},c.prototype.enqueueFile=function(a){var b=this;if(a.accepted=!0,a.status!==c.ADDED)throw Error("This file can't be queued because it has already been processed or was rejected.");return a.status=
c.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return b.processQueue()},1):void 0},c.prototype.addDirectory=function(a,c){var b,d,e=this;return b=a.createReader(),d=function(b){var d,g;d=0;for(g=b.length;g>d;d++)a=b[d],a.isFile?a.file(function(a){return e.options.ignoreHiddenFiles&&"."===a.name.substring(0,1)?void 0:(a.fullPath=""+c+"/"+a.name,e.addFile(a))}):a.isDirectory&&e.addDirectory(a,""+c+"/"+a.name)},b.readEntries(d,function(a){return"undefined"!=typeof console&&null!==console?
<<<<<<< HEAD
"function"==typeof console.log?console.log(a):void 0:void 0})},c.prototype.removeFile=function(a){return a.status===c.UPLOADING&&this.cancelUpload(a),this.files=l(this.files,a),this.emit("removedfile",a),0===this.files.length?this.emit("reset"):void 0},c.prototype.removeAllFiles=function(a){var b,d,e,g;null==a&&(a=!1);g=this.files.slice();d=0;for(e=g.length;e>d;d++)b=g[d],(b.status!==c.UPLOADING||a)&&this.removeFile(b);return null},c.prototype.createThumbnail=function(a){var c,b=this;return c=new FileReader,
c.onload=function(){var d;return d=new Image,d.onload=function(){var c,e,g,f,k,h,l,m;return a.width=d.width,a.height=d.height,g=b.options.resize.call(b,a),null==g.trgWidth&&(g.trgWidth=b.options.thumbnailWidth),null==g.trgHeight&&(g.trgHeight=b.options.thumbnailHeight),c=document.createElement("canvas"),e=c.getContext("2d"),c.width=g.trgWidth,c.height=g.trgHeight,e.drawImage(d,null!=(k=g.srcX)?k:0,null!=(h=g.srcY)?h:0,g.srcWidth,g.srcHeight,null!=(l=g.trgX)?l:0,null!=(m=g.trgY)?m:0,g.trgWidth,g.trgHeight),
f=c.toDataURL("image/png"),b.emit("thumbnail",a,f)},d.src=c.result},c.readAsDataURL(a)},c.prototype.processQueue=function(){var a,c,b,d;if(c=this.options.parallelUploads,b=this.getUploadingFiles().length,a=b,!(b>=c)&&(d=this.getQueuedFiles(),0<d.length)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,c-b));for(;c>a&&d.length;)this.processFile(d.shift()),a++}},c.prototype.processFile=function(a){return this.processFiles([a])},c.prototype.processFiles=function(a){var b,d,e;d=0;for(e=
a.length;e>d;d++)b=a[d],b.processing=!0,b.status=c.UPLOADING,this.emit("processing",b);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)},c.prototype._getFilesWithXhr=function(a){var c,b,d,e,g;e=this.files;g=[];b=0;for(d=e.length;d>b;b++)c=e[b],c.xhr===a&&g.push(c);return g},c.prototype.cancelUpload=function(a){var b,d,e,g;if(a.status===c.UPLOADING){d=this._getFilesWithXhr(a.xhr);e=0;for(g=d.length;g>e;e++)b=d[e],b.status=c.CANCELED;a.xhr.abort();a=0;for(e=
d.length;e>a;a++)b=d[a],this.emit("canceled",b);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else((b=a.status)===c.ADDED||b===c.QUEUED)&&(a.status=c.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));return this.options.autoProcessQueue?this.processQueue():void 0},c.prototype.uploadFile=function(a){return this.uploadFiles([a])},c.prototype.uploadFiles=function(a){var d,e,g,f,k,h,l,m,p,n,y,E,D,M=this;p=new XMLHttpRequest;f=0;for(k=a.length;k>
f;f++)d=a[f],d.xhr=p;p.open(this.options.method,this.options.url,!0);p.withCredentials=!!this.options.withCredentials;l=null;g=function(){var c,b,e;e=[];c=0;for(b=a.length;b>c;c++)d=a[c],e.push(M._errorProcessing(a,l||M.options.dictResponseError.replace("{{statusCode}}",p.status),p));return e};m=function(c){var b,e,g;if(null!=c){b=100*c.loaded/c.total;e=0;for(g=a.length;g>e;e++)d=a[e],d.upload={progress:b,total:c.total,bytesSent:c.loaded}}else{c=!0;b=100;e=0;for(g=a.length;g>e;e++)d=a[e],(100!==d.upload.progress||
d.upload.bytesSent!==d.upload.total)&&(c=!1),d.upload.progress=b,d.upload.bytesSent=d.upload.total;if(c)return}g=[];c=0;for(e=a.length;e>c;c++)d=a[c],g.push(M.emit("uploadprogress",d,b,d.upload.bytesSent));return g};p.onload=function(b){var d;if(a[0].status!==c.CANCELED&&4===p.readyState){if(l=p.responseText,p.getResponseHeader("content-type")&&~p.getResponseHeader("content-type").indexOf("application/json"))try{l=JSON.parse(l)}catch(e){b=e,l="Invalid JSON response from server."}return m(),200<=(d=
p.status)&&300>d?M._finished(a,l,b):g()}};p.onerror=function(){return a[0].status!==c.CANCELED?g():void 0};(null!=(n=p.upload)?n:p).onprogress=m;k={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&b(k,this.options.headers);for(e in k)f=k[e],p.setRequestHeader(e,f);if(e=new FormData,this.options.params)for(h in k=this.options.params,k)f=k[h],e.append(h,f);h=0;for(f=a.length;f>h;h++)d=a[h],this.emit("sending",d,p,e);if(this.options.uploadMultiple&&
this.emit("sendingmultiple",a,p,e),"FORM"===this.element.tagName){D=this.element.querySelectorAll("input, textarea, select, button");n=0;for(E=D.length;E>n;n++)h=D[n],f=h.getAttribute("name"),k=h.getAttribute("type"),(!k||"checkbox"!==(y=k.toLowerCase())&&"radio"!==y||h.checked)&&e.append(f,h.value)}y=0;for(h=a.length;h>y;y++)d=a[y],e.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),d,d.name);return p.send(e)},c.prototype._finished=function(a,b,d){var e,g,f;g=0;for(f=a.length;f>
g;g++)e=a[g],e.status=c.SUCCESS,this.emit("success",e,b,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("successmultiple",a,b,d),this.emit("completemultiple",a)),this.options.autoProcessQueue?this.processQueue():void 0},c.prototype._errorProcessing=function(a,b,d){var e,g,f;g=0;for(f=a.length;f>g;g++)e=a[g],e.status=c.ERROR,this.emit("error",e,b,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("errormultiple",a,b,d),this.emit("completemultiple",a)),
this.options.autoProcessQueue?this.processQueue():void 0},c}(g);b.version="3.7.4-dev";b.options={};b.optionsForElement=function(a){return a.id?b.options[c(a.id)]:void 0};b.instances=[];b.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");
return a.dropzone};b.autoDiscover=!0;b.discover=function(){var a,c,e,g,f;document.querySelectorAll?c=document.querySelectorAll(".dropzone"):(c=[],a=function(a){var b,d,e,g;g=[];d=0;for(e=a.length;e>d;d++)b=a[d],/(^| )dropzone($| )/.test(b.className)?g.push(c.push(b)):g.push(void 0);return g},a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form")));f=[];e=0;for(g=c.length;g>e;e++)a=c[e],!1!==b.optionsForElement(a)?f.push(new b(a)):f.push(void 0);return f};b.blacklistedBrowsers=
[/opera.*Macintosh.*version\/12/i];b.isBrowserSupported=function(){var a,c,e,g,f;if(a=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){f=b.blacklistedBrowsers;e=0;for(g=f.length;g>e;e++)c=f[e],c.test(navigator.userAgent)&&(a=!1)}else a=!1;else a=!1;return a};l=function(a,c){var b,d,e,g;g=[];d=0;for(e=a.length;e>d;d++)b=a[d],b!==c&&g.push(b);return g};c=function(a){return a.replace(/[\-_](\w)/g,function(a){return a[1].toUpperCase()})};
b.createElement=function(a){var c;return c=document.createElement("div"),c.innerHTML=a,c.childNodes[0]};b.elementInside=function(a,c){if(a===c)return!0;for(;a=a.parentNode;)if(a===c)return!0;return!1};b.getElement=function(a,c){var b;if("string"==typeof a?b=document.querySelector(a):null!=a.nodeType&&(b=a),null==b)throw Error("Invalid `"+c+"` option provided. Please provide a CSS selector or a plain HTML element.");return b};b.getElements=function(a,c){var b,d,e,g,f;if(a instanceof Array){d=[];try{e=
0;for(g=a.length;g>e;e++)b=a[e],d.push(this.getElement(b,c))}catch(k){d=null}}else if("string"==typeof a){d=[];f=document.querySelectorAll(a);e=0;for(g=f.length;g>e;e++)b=f[e],d.push(b)}else null!=a.nodeType&&(d=[a]);if(null==d||!d.length)throw Error("Invalid `"+c+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return d};b.confirm=function(a,c,b){return window.confirm(a)?c():null!=b?b():void 0};b.isValidFile=function(a,c){var b,d,e,g,f;if(!c)return!0;
c=c.split(",");d=a.type;b=d.replace(/\/.*$/,"");g=0;for(f=c.length;f>g;g++)if(e=c[g],e=e.trim(),"."===e.charAt(0)){if(-1!==a.name.toLowerCase().indexOf(e.toLowerCase(),a.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(b===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1};"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new b(this,a)})});"undefined"!=typeof a&&null!==a?a.exports=b:window.Dropzone=b;b.ADDED="added";
b.QUEUED="queued";b.ACCEPTED=b.QUEUED;b.UPLOADING="uploading";b.PROCESSING=b.UPLOADING;b.CANCELED="canceled";b.ERROR="error";b.SUCCESS="success";b._autoDiscoverFunction=function(){return b.autoDiscover?b.discover():void 0};(function(a,c){var b,d,e,g,f,k,h,l,p;if(e=!1,p=!0,d=a.document,l=d.documentElement,b=d.addEventListener?"addEventListener":"attachEvent",h=d.addEventListener?"removeEventListener":"detachEvent",k=d.addEventListener?"":"on",g=function(b){return"readystatechange"!==b.type||"complete"===
d.readyState?(("load"===b.type?a:d)[h](k+b.type,g,!1),!e&&(e=!0)?c.call(a,b.type||b):void 0):void 0},f=function(){try{l.doScroll("left")}catch(a){return setTimeout(f,50),void 0}return g("poll")},"complete"!==d.readyState){if(d.createEventObject&&l.doScroll){try{p=!a.frameElement}catch(n){}p&&f()}return d[b](k+"DOMContentLoaded",g,!1),d[b](k+"readystatechange",g,!1),a[b](k+"load",g,!1)}})(window,b._autoDiscoverFunction)}).call(this)});b.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");
b.alias("component-emitter/index.js","emitter/index.js");"object"==typeof exports?module.exports=b("dropzone"):"function"==typeof define&&define.amd?define(function(){return b("dropzone")}):this.Dropzone=b("dropzone")}();
(function(){function b(){}function f(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function e(a){return function(){return this[a].apply(this,arguments)}}var a=b.prototype;a.getListeners=function(a){var b,c,e=this._getEvents();if("object"==typeof a)for(c in b={},e)e.hasOwnProperty(c)&&a.test(c)&&(b[c]=e[c]);else b=e[a]||(e[a]=[]);return b};a.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c};a.getListenersAsObject=function(a){var b,
c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c};a.addListener=function(a,b){var c,e=this.getListenersAsObject(a),l="object"==typeof b;for(c in e)e.hasOwnProperty(c)&&-1===f(e[c],b)&&e[c].push(l?b:{listener:b,once:!1});return this};a.on=e("addListener");a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};a.once=e("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);
return this};a.removeListener=function(a,b){var c,e,l=this.getListenersAsObject(a);for(e in l)l.hasOwnProperty(e)&&(c=f(l[e],b),-1!==c&&l[e].splice(c,1));return this};a.off=e("removeListener");a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};a.manipulateListeners=function(a,b,c){var e,f,h=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof
RegExp)for(e=c.length;e--;)h.call(this,b,c[e]);else for(e in b)b.hasOwnProperty(e)&&(f=b[e])&&("function"==typeof f?h.call(this,e,f):a.call(this,e,f));return this};a.removeEvent=function(a){var b,c=typeof a,e=this._getEvents();if("string"===c)delete e[a];else if("object"===c)for(b in e)e.hasOwnProperty(b)&&a.test(b)&&delete e[b];else delete this._events;return this};a.removeAllListeners=e("removeEvent");a.emitEvent=function(a,b){var c,e,f,h,p=this.getListenersAsObject(a);for(f in p)if(p.hasOwnProperty(f))for(e=
p[f].length;e--;)c=p[f][e],!0===c.once&&this.removeListener(a,c.listener),h=c.listener.apply(this,b||[]),h===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this};a.trigger=e("emitEvent");a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this);
(function(b){var f=document.documentElement,e=function(){};f.addEventListener?e=function(a,b,c){a.addEventListener(b,c,!1)}:f.attachEvent&&(e=function(a,e,c){a[e+c]=c.handleEvent?function(){var a=b.event;a.target=a.target||a.srcElement;c.handleEvent.call(c,a)}:function(){var e=b.event;e.target=e.target||e.srcElement;c.call(a,e)};a.attachEvent("on"+e,a[e+c])});var a=function(){};f.removeEventListener?a=function(a,b,c){a.removeEventListener(b,c,!1)}:f.detachEvent&&(a=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(e){a[b+c]=void 0}});f={bind:e,unbind:a};"function"==typeof define&&define.amd?define(f):b.eventie=f})(this);
(function(b){function f(a,c){for(var b in c)a[b]=c[b];return a}function e(a){var c=[];if("[object Array]"===k.call(a))c=a;else if("number"==typeof a.length)for(var b=0,d=a.length;d>b;b++)c.push(a[b]);else c.push(a);return c}function a(a,b){function k(a,c,b){if(!(this instanceof k))return new k(a,c);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=e(a);this.options=f({},this.options);"function"==typeof c?b=c:f(this.options,c);b&&this.on("always",b);this.getImages();d&&(this.jqDeferred=
new d.Deferred);var g=this;setTimeout(function(){g.check()})}function n(a){this.img=a}k.prototype=new a;k.prototype.options={};k.prototype.getImages=function(){this.images=[];for(var a=0,c=this.elements.length;c>a;a++){var b=this.elements[a];"IMG"===b.nodeName&&this.addImage(b);for(var b=b.querySelectorAll("img"),d=0,e=b.length;e>d;d++)this.addImage(b[d])}};k.prototype.addImage=function(a){a=new n(a);this.images.push(a)};k.prototype.check=function(){function a(f,k){return b.options.debug&&c&&g.log("confirm",
f,k),b.progress(f),d++,d===e&&b.complete(),!0}var b=this,d=0,e=this.images.length;if(this.hasAnyBroken=!1,!e)return this.complete(),void 0;for(var f=0;e>f;f++){var k=this.images[f];k.on("confirm",a);k.check()}};k.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var c=this;setTimeout(function(){c.emit("progress",c,a);c.jqDeferred&&c.jqDeferred.notify(c,a)})};k.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var c=this;setTimeout(function(){if(c.emit(a,
c),c.emit("always",c),c.jqDeferred)c.jqDeferred[c.hasAnyBroken?"reject":"resolve"](c)})};d&&(d.fn.imagesLoaded=function(a,c){return(new k(this,a,c)).jqDeferred.promise(d(this))});var m={};return n.prototype=new a,n.prototype.check=function(){var a=m[this.img.src];if(a)return this.useCached(a),void 0;if(m[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;a=this.proxyImage=new Image;b.bind(a,"load",this);b.bind(a,
"error",this);a.src=this.img.src},n.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var c=this;a.on("confirm",function(a){return c.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},n.prototype.confirm=function(a,c){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,c)},n.prototype.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},n.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},n.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},n.prototype.unbindProxyEvents=function(){b.unbind(this.proxyImage,"load",this);b.unbind(this.proxyImage,"error",this)},k}var d=b.jQuery,g=b.console,c=void 0!==g,k=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],a):b.imagesLoaded=a(b.EventEmitter,b.eventie)})(window);
(function(){Backbone.InfiniScroll=function(b,f){function e(b){b={};a.options.includePage&&(b.p=c+1);return b}f=f||{};var a={},d,g,c,k,l=0;k=b.length||25;a.collection=b;a.options=_.defaults(f,{success:function(){},error:function(){},onFetch:function(){},target:$(window),extraParams:{},pageSize:k,scrollOffset:100,remove:!1,strict:!1,includePage:!1});a.destroy=function(){d.off("scroll",a.watchScroll)};a.enableFetch=function(){g=!0};a.disableFetch=function(){g=!1};a.onFetch=function(){a.options.onFetch()};
a.fetchSuccess=function(b,d){a.options.strict&&b.length>=(c+1)*a.options.pageSize||!a.options.strict&&0<d.length?(a.enableFetch(),c+=1):a.disableFetch();a.options.success(b,d)};a.fetchError=function(c,b){a.enableFetch();a.options.error(c,b)};a.watchScroll=function(c){c=d.scrollTop()+d.height();var b=d.get(0).scrollHeight;b||(b=$(document).height());if(c>=b-a.options.scrollOffset&&g&&l<=c){b=a.collection.last();if(!b)return;a.onFetch();a.disableFetch();a.collection.fetch({success:a.fetchSuccess,error:a.fetchError,
remove:a.options.remove,data:$.extend(e(b),a.options.extraParams)})}l=c};d=$(a.options.target);g=!0;c=1;d.on("scroll",a.watchScroll);return a}})();
(function(b,f){function e(c,d){var e,g,f,n=c.nodeName.toLowerCase();return"area"===n?(e=c.parentNode,g=e.name,c.href&&g&&"map"===e.nodeName.toLowerCase()?(f=b("img[usemap=#"+g+"]")[0],!!f&&a(f)):!1):(/input|select|textarea|button|object/.test(n)?!c.disabled:"a"===n?c.href||d:d)&&a(c)}function a(a){return b.expr.filters.visible(a)&&!b(a).parents().addBack().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var d=0,g=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:function(a){return function(d,e){return"number"==typeof d?this.each(function(){var a=this;setTimeout(function(){b(a).focus();e&&e.call(a)},d)}):a.apply(this,arguments)}}(b.fn.focus),scrollParent:function(){var a;return a=b.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?b(document):a},zIndex:function(a){if(a!==f)return this.css("zIndex",a);if(this.length){var d,
e;for(a=b(this[0]);a.length&&a[0]!==document;){if(d=a.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(a.css("zIndex"),10),!isNaN(e)&&0!==e))return e;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&b(this).removeAttr("id")})}});b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(a){return function(d){return!!b.data(d,a)}}):
function(a,d,e){return!!b.data(a,e[3])},focusable:function(a){return e(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var d=b.attr(a,"tabindex"),g=isNaN(d);return(g||0<=d)&&e(a,!g)}});b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(a,d){function e(a,c,d,f){return b.each(g,function(){c-=parseFloat(b.css(a,"padding"+this))||0;d&&(c-=parseFloat(b.css(a,"border"+this+"Width"))||0);f&&(c-=parseFloat(b.css(a,"margin"+this))||0)}),c}var g="Width"===d?["Left","Right"]:["Top","Bottom"],
p=d.toLowerCase(),n={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+d]=function(a){return a===f?n["inner"+d].call(this):this.each(function(){b(this).css(p,e(this,a)+"px")})};b.fn["outer"+d]=function(a,c){return"number"!=typeof a?n["outer"+d].call(this,a):this.each(function(){b(this).css(p,e(this,a,!0,c)+"px")})}});b.fn.addBack||(b.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
b("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(b.fn.removeData=function(a){return function(d){return arguments.length?a.call(this,b.camelCase(d)):a.call(this)}}(b.fn.removeData));b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart"in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
b.extend(b.ui,{plugin:{add:function(a,d,e){var g;a=b.ui[a].prototype;for(g in e)a.plugins[g]=a.plugins[g]||[],a.plugins[g].push([d,e[g]])},call:function(a,b,d){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;e.length>b;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,d)}},hasScroll:function(a,d){if("hidden"===b(a).css("overflow"))return!1;var e=d&&"left"===d?"scrollLeft":"scrollTop";return 0<a[e]?!0:(a[e]=1,a[e]=0,!1)}})})(jQuery);
(function(b,f){var e=0,a=Array.prototype.slice,d=b.cleanData;b.cleanData=function(a){for(var c,e=0;null!=(c=a[e]);e++)try{b(c).triggerHandler("remove")}catch(f){}d(a)};b.widget=function(a,c,d){var e,h,p,n,m={},q=a.split(".")[0];a=a.split(".")[1];e=q+"-"+a;d||(d=c,c=b.Widget);b.expr[":"][e.toLowerCase()]=function(a){return!!b.data(a,e)};b[q]=b[q]||{};h=b[q][a];p=b[q][a]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),f):new p(a,c)};b.extend(p,h,{version:d.version,
_proto:b.extend({},d),_childConstructors:[]});n=new c;n.options=b.widget.extend({},n.options);b.each(d,function(a,d){return b.isFunction(d)?(m[a]=function(){var b=function(){return c.prototype[a].apply(this,arguments)},e=function(b){return c.prototype[a].apply(this,b)};return function(){var a,c=this._super,g=this._superApply;return this._super=b,this._superApply=e,a=d.apply(this,arguments),this._super=c,this._superApply=g,a}}(),f):(m[a]=d,f)});p.prototype=b.widget.extend(n,{widgetEventPrefix:h?n.widgetEventPrefix:
a},m,{constructor:p,namespace:q,widgetName:a,widgetFullName:e});h?(b.each(h._childConstructors,function(a,c){var d=c.prototype;b.widget(d.namespace+"."+d.widgetName,p,c._proto)}),delete h._childConstructors):c._childConstructors.push(p);b.widget.bridge(a,p)};b.widget.extend=function(d){for(var c,e,l=a.call(arguments,1),h=0,p=l.length;p>h;h++)for(c in l[h])e=l[h][c],l[h].hasOwnProperty(c)&&e!==f&&(d[c]=b.isPlainObject(e)?b.isPlainObject(d[c])?b.widget.extend({},d[c],e):b.widget.extend({},e):e);return d};
b.widget.bridge=function(d,c){var e=c.prototype.widgetFullName||d;b.fn[d]=function(l){var h="string"==typeof l,p=a.call(arguments,1),n=this;return l=!h&&p.length?b.widget.extend.apply(null,[l].concat(p)):l,h?this.each(function(){var a,c=b.data(this,e);return c?b.isFunction(c[l])&&"_"!==l.charAt(0)?(a=c[l].apply(c,p),a!==c&&a!==f?(n=a&&a.jquery?n.pushStack(a.get()):a,!1):f):b.error("no such method '"+l+"' for "+d+" widget instance"):b.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+
l+"'")}):this.each(function(){var a=b.data(this,e);a?a.option(l||{})._init():b.data(this,e,new c(l,this))}),n}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,c){c=b(c||this.defaultElement||this)[0];this.element=b(c);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);
this.bindings=b();this.hoverable=b();this.focusable=b();c!==this&&(b.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=b(c.style?c.ownerDocument:c.document||c),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(a,c){var d,e,h,p=a;
if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof a)if(p={},d=a.split("."),a=d.shift(),d.length){e=p[a]=b.widget.extend({},this.options[a]);for(h=0;d.length-1>h;h++)e[d[h]]=e[d[h]]||{},e=e[d[h]];if(a=d.pop(),c===f)return e[a]===f?null:e[a];e[a]=c}else{if(c===f)return this.options[a]===f?null:this.options[a];p[a]=c}return this._setOptions(p),this},_setOptions:function(a){for(var c in a)this._setOption(c,a[c]);return this},_setOption:function(a,c){return this.options[a]=
c,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,c,d){var e,h=this;"boolean"!=typeof a&&(d=c,c=a,a=!1);d?(c=e=b(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget());b.each(d,function(d,
k){function m(){return a||!0!==h.options.disabled&&!b(this).hasClass("ui-state-disabled")?("string"==typeof k?h[k]:k).apply(h,arguments):f}"string"!=typeof k&&(m.guid=k.guid=k.guid||m.guid||b.guid++);var q=d.match(/^(\w+)\s*(.*)$/),t=q[1]+h.eventNamespace;(q=q[2])?e.delegate(q,t,m):c.bind(t,m)})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(c).undelegate(c)},_delay:function(a,c){var b=this;return setTimeout(function(){return("string"==typeof a?
b[a]:a).apply(b,arguments)},c||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){b(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){b(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){b(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){b(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,c,d){var e,f=this.options[a];
if(d=d||{},c=b.Event(c),c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),c.target=this.element[0],a=c.originalEvent)for(e in a)e in c||(c[e]=a[e]);return this.element.trigger(c,d),!(b.isFunction(f)&&!1===f.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,c){b.Widget.prototype["_"+a]=function(d,e,f){"string"==typeof e&&(e={effect:e});var p,n=e?!0===e||"number"==typeof e?c:e.effect||c:a;e=e||{};"number"==typeof e&&
(e={duration:e});p=!b.isEmptyObject(e);e.complete=f;e.delay&&d.delay(e.delay);p&&b.effects&&b.effects.effect[n]?d[a](e):n!==a&&d[n]?d[n](e.duration,e.easing,f):d.queue(function(c){b(this)[a]();f&&f.call(d[0]);c()})}})})(jQuery);
(function(b){var f=!1;b(document).mouseup(function(){f=!1});b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(a){return e._mouseDown(a)}).bind("click."+this.widgetName,function(a){return!0===b.data(a.target,e.widgetName+".preventClickEvent")?(b.removeData(a.target,e.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!f){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var a=this,d=1===e.which,g="string"==typeof this.options.cancel&&e.target.nodeName?b(e.target).closest(this.options.cancel).length:!1;return d&&!g&&this._mouseCapture(e)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===b.data(e.target,this.widgetName+".preventClickEvent")&&b.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(c){return a._mouseMove(c)},this._mouseUpDelegate=function(c){return a._mouseUp(c)},
b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(e){return b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),
!this._mouseStarted)},_mouseUp:function(e){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&b.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(b){b.widget("ui.draggable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(f){var e=this.options;return this.helper||e.disabled||0<b(f.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(f),this.handle?(b(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){b("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(f){var e=this.options;return this.helper=this._createHelper(f),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,b.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(f),this.originalPageX=f.pageX,this.originalPageY=f.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",f)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,f),this._mouseDrag(f,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,f),!0)},_mouseDrag:function(f,
e){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(f),this.positionAbs=this._convertPositionTo("absolute"),!e){var a=this._uiHash();if(!1===this._trigger("drag",f,a))return this._mouseUp({}),!1;this.position=a.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&
b.ui.ddmanager.drag(this,f),!1},_mouseStop:function(f){var e=this,a=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(a=b.ui.ddmanager.drop(this,f)),this.dropped&&(a=this.dropped,this.dropped=!1),"original"!==this.options.helper||b.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?b(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",f)&&e._clear()}):!1!==this._trigger("stop",f)&&this._clear(),!1):!1},_mouseUp:function(f){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,f),b.ui.mouse.prototype._mouseUp.call(this,f)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(f){return this.options.handle?
!!b(f.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(f){var e=this.options;f=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[f])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return f.parents("body").length||f.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),f[0]===this.element[0]||/(fixed|absolute)/.test(f.css("position"))||f.css("position","absolute"),f},_adjustOffsetFromHelper:function(f){"string"==
typeof f&&(f=f.split(" "));b.isArray(f)&&(f={left:+f[0],top:+f[1]||0});"left"in f&&(this.offset.click.left=f.left+this.margins.left);"right"in f&&(this.offset.click.left=this.helperProportions.width-f.right+this.margins.left);"top"in f&&(this.offset.click.top=f.top+this.margins.top);"bottom"in f&&(this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top)},_getParentOffset:function(){var f=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
b.contains(this.scrollParent[0],this.offsetParent[0])&&(f.left+=this.scrollParent.scrollLeft(),f.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(f={top:0,left:0}),{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();
return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,e,a,d=this.options;return d.containment?"window"===d.containment?(this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===d.containment?(this.containment=[0,0,b(document).width()-this.helperProportions.width-this.margins.left,(b(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment.constructor===Array?(this.containment=d.containment,void 0):("parent"===d.containment&&(d.containment=this.helper[0].parentNode),e=b(d.containment),a=e[0],a&&(f="hidden"!==e.css("overflow"),this.containment=[(parseInt(e.css("borderLeftWidth"),
10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(f?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=e),void 0):(this.containment=null,void 0)},_convertPositionTo:function(f,e){e||(e=this.position);var a="absolute"===f?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:d.scrollTop(),left:d.scrollLeft()}),{top:e.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*a,left:e.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*a}},_generatePosition:function(f){var e,a,d,g,c=this.options,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=f.pageX,h=f.pageY;return this.offset.scroll||(this.offset.scroll=
{top:k.scrollTop(),left:k.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(a=this.relative_container.offset(),e=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):e=this.containment,f.pageX-this.offset.click.left<e[0]&&(l=e[0]+this.offset.click.left),f.pageY-this.offset.click.top<e[1]&&(h=e[1]+this.offset.click.top),f.pageX-this.offset.click.left>e[2]&&(l=e[2]+this.offset.click.left),f.pageY-this.offset.click.top>
e[3]&&(h=e[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,h=e?d-this.offset.click.top>=e[1]||d-this.offset.click.top>e[3]?d:d-this.offset.click.top>=e[1]?d-c.grid[1]:d+c.grid[1]:d,g=c.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,l=e?g-this.offset.click.left>=e[0]||g-this.offset.click.left>e[2]?g:g-this.offset.click.left>=e[0]?g-c.grid[0]:g+c.grid[0]:
g)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(f,e,a){return a=a||this._uiHash(),b.ui.plugin.call(this,f,[e,a]),"drag"===f&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,f,e,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(f,e){var a=b(this).data("ui-draggable"),d=a.options,g=b.extend({},e,{item:a.element});a.sortables=
[];b(d.connectToSortable).each(function(){var c=b.data(this,"ui-sortable");c&&!c.options.disabled&&(a.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",f,g))})},stop:function(f,e){var a=b(this).data("ui-draggable"),d=b.extend({},e,{item:a.element});b.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(f),this.instance.options.helper=this.instance.options._helper,"original"===a.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",f,d))})},drag:function(f,e){var a=b(this).data("ui-draggable"),d=this;b.each(a.sortables,function(){var g=!1,c=this;this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(g=!0,b.each(a.sortables,function(){return this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this!==c&&this.instance._intersectsWith(this.instance.containerCache)&&b.contains(c.instance.element[0],this.instance.element[0])&&(g=!1),g}));g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},f.target=this.instance.currentItem[0],this.instance._mouseCapture(f,!0),this.instance._mouseStart(f,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,a._trigger("toSortable",f),a.dropped=
this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(f)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",f,this.instance._uiHash(this.instance)),this.instance._mouseStop(f,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
a._trigger("fromSortable",f),a.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(){var f=b("body"),e=b(this).data("ui-draggable").options;f.css("cursor")&&(e._cursor=f.css("cursor"));f.css("cursor",e.cursor)},stop:function(){var f=b(this).data("ui-draggable").options;f._cursor&&b("body").css("cursor",f._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(f,e){var a=b(e.helper),d=b(this).data("ui-draggable").options;a.css("opacity")&&(d._opacity=a.css("opacity"));a.css("opacity",
d.opacity)},stop:function(f,e){var a=b(this).data("ui-draggable").options;a._opacity&&b(e.helper).css("opacity",a._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var f=b(this).data("ui-draggable");f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName&&(f.overflowOffset=f.scrollParent.offset())},drag:function(f){var e=b(this).data("ui-draggable"),a=e.options,d=!1;e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName?(a.axis&&"x"===a.axis||(e.overflowOffset.top+
e.scrollParent[0].offsetHeight-f.pageY<a.scrollSensitivity?e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop+a.scrollSpeed:f.pageY-e.overflowOffset.top<a.scrollSensitivity&&(e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(e.overflowOffset.left+e.scrollParent[0].offsetWidth-f.pageX<a.scrollSensitivity?e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft+a.scrollSpeed:f.pageX-e.overflowOffset.left<a.scrollSensitivity&&(e.scrollParent[0].scrollLeft=
d=e.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(f.pageY-b(document).scrollTop()<a.scrollSensitivity?d=b(document).scrollTop(b(document).scrollTop()-a.scrollSpeed):b(window).height()-(f.pageY-b(document).scrollTop())<a.scrollSensitivity&&(d=b(document).scrollTop(b(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(f.pageX-b(document).scrollLeft()<a.scrollSensitivity?d=b(document).scrollLeft(b(document).scrollLeft()-a.scrollSpeed):b(window).width()-(f.pageX-b(document).scrollLeft())<
a.scrollSensitivity&&(d=b(document).scrollLeft(b(document).scrollLeft()+a.scrollSpeed))));!1!==d&&b.ui.ddmanager&&!a.dropBehaviour&&b.ui.ddmanager.prepareOffsets(e,f)}});b.ui.plugin.add("draggable","snap",{start:function(){var f=b(this).data("ui-draggable"),e=f.options;f.snapElements=[];b(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var a=b(this),d=a.offset();this!==f.element[0]&&f.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:d.top,left:d.left})})},drag:function(f,e){var a,d,g,c,k,l,h,p,n,m,q=b(this).data("ui-draggable"),t=q.options,r=t.snapTolerance,v=e.offset.left,w=v+q.helperProportions.width,B=e.offset.top,x=B+q.helperProportions.height;for(n=q.snapElements.length-1;0<=n;n--)k=q.snapElements[n].left,l=k+q.snapElements[n].width,h=q.snapElements[n].top,p=h+q.snapElements[n].height,k-r>w||v>l+r||h-r>x||B>p+r||!b.contains(q.snapElements[n].item.ownerDocument,q.snapElements[n].item)?(q.snapElements[n].snapping&&q.options.snap.release&&
q.options.snap.release.call(q.element,f,b.extend(q._uiHash(),{snapItem:q.snapElements[n].item})),q.snapElements[n].snapping=!1):("inner"!==t.snapMode&&(a=r>=Math.abs(h-x),d=r>=Math.abs(p-B),g=r>=Math.abs(k-w),c=r>=Math.abs(l-v),a&&(e.position.top=q._convertPositionTo("relative",{top:h-q.helperProportions.height,left:0}).top-q.margins.top),d&&(e.position.top=q._convertPositionTo("relative",{top:p,left:0}).top-q.margins.top),g&&(e.position.left=q._convertPositionTo("relative",{top:0,left:k-q.helperProportions.width}).left-
q.margins.left),c&&(e.position.left=q._convertPositionTo("relative",{top:0,left:l}).left-q.margins.left)),m=a||d||g||c,"outer"!==t.snapMode&&(a=r>=Math.abs(h-B),d=r>=Math.abs(p-x),g=r>=Math.abs(k-v),c=r>=Math.abs(l-w),a&&(e.position.top=q._convertPositionTo("relative",{top:h,left:0}).top-q.margins.top),d&&(e.position.top=q._convertPositionTo("relative",{top:p-q.helperProportions.height,left:0}).top-q.margins.top),g&&(e.position.left=q._convertPositionTo("relative",{top:0,left:k}).left-q.margins.left),
c&&(e.position.left=q._convertPositionTo("relative",{top:0,left:l-q.helperProportions.width}).left-q.margins.left)),!q.snapElements[n].snapping&&(a||d||g||c||m)&&q.options.snap.snap&&q.options.snap.snap.call(q.element,f,b.extend(q._uiHash(),{snapItem:q.snapElements[n].item})),q.snapElements[n].snapping=a||d||g||c||m)}});b.ui.plugin.add("draggable","stack",{start:function(){var f,e=this.data("ui-draggable").options,e=b.makeArray(b(e.stack)).sort(function(a,d){return(parseInt(b(a).css("zIndex"),10)||
0)-(parseInt(b(d).css("zIndex"),10)||0)});e.length&&(f=parseInt(b(e[0]).css("zIndex"),10)||0,b(e).each(function(a){b(this).css("zIndex",f+a)}),this.css("zIndex",f+e.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(f,e){var a=b(e.helper),d=b(this).data("ui-draggable").options;a.css("zIndex")&&(d._zIndex=a.css("zIndex"));a.css("zIndex",d.zIndex)},stop:function(f,e){var a=b(this).data("ui-draggable").options;a._zIndex&&b(e.helper).css("zIndex",a._zIndex)}})})(jQuery);
(function(b){function f(a){return parseInt(a,10)||0}function e(a){return!isNaN(parseInt(a,10))}b.widget("ui.resizable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var a,d,e,c,f,l=this,h=this.options;if(this.element.addClass("ui-resizable"),
b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");a=this.handles.split(",");this.handles={};for(d=0;a.length>d;d++)e=b.trim(a[d]),f="ui-resizable-"+e,c=b("<div class='ui-resizable-handle "+f+"'></div>"),c.css({zIndex:h.zIndex}),"se"===e&&c.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[e]=".ui-resizable-"+e,this.element.append(c)}this._renderAxis=function(a){var c,d,e,g;a=a||this.element;for(c in this.handles)this.handles[c].constructor===
String&&(this.handles[c]=b(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=b(this.handles[c],this.element),g=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),a.css(e,g),this._proportionallyResize()),b(this.handles[c]).length};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){l.resizing||(this.className&&(c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=c&&c[1]?c[1]:"se")});h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),l._handles.show())}).mouseleave(function(){h.disabled||l.resizing||(b(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var a,d=function(a){b(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),
this},_mouseCapture:function(a){var d,e,c=!1;for(d in this.handles)e=b(this.handles[d])[0],(e===a.target||b.contains(e,a.target))&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(a){var d,e,c,k=this.options,l=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:l.top,left:l.left}),this._renderProxy(),d=f(this.helper.css("left")),
e=f(this.helper.css("top")),k.containment&&(d+=b(k.containment).scrollLeft()||0,e+=b(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-
h.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1,c=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===c?this.axis+"-resize":c),h.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var d,e=this.helper,c={},f=this.originalMousePosition,l=this.position.top,h=this.position.left,p=this.size.width,n=this.size.height,
m=a.pageX-f.left||0,f=a.pageY-f.top||0,q=this._change[this.axis];return q?(d=q.apply(this,[a,m,f]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(d=this._updateRatio(d,a)),d=this._respectSize(d,a),this._updateCache(d),this._propagate("resize",a),this.position.top!==l&&(c.top=this.position.top+"px"),this.position.left!==h&&(c.left=this.position.left+"px"),this.size.width!==p&&(c.width=this.size.width+"px"),this.size.height!==n&&(c.height=this.size.height+"px"),e.css(c),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(c)||this._trigger("resize",a,this.ui()),!1):!1},_mouseStop:function(a){this.resizing=!1;var d,e,c,f,l,h,p,n=this.options;return this._helper&&(d=this._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),c=e&&b.ui.hasScroll(d[0],"left")?0:this.sizeDiff.height,f=e?0:this.sizeDiff.width,l={width:this.helper.width()-f,height:this.helper.height()-c},h=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,p=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,n.animate||this.element.css(b.extend(l,{top:p,left:h})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!n.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
g,c,f,l;l=this.options;l={minWidth:e(l.minWidth)?l.minWidth:0,maxWidth:e(l.maxWidth)?l.maxWidth:1/0,minHeight:e(l.minHeight)?l.minHeight:0,maxHeight:e(l.maxHeight)?l.maxHeight:1/0};(this._aspectRatio||a)&&(b=l.minHeight*this.aspectRatio,c=l.minWidth/this.aspectRatio,g=l.maxHeight*this.aspectRatio,f=l.maxWidth/this.aspectRatio,b>l.minWidth&&(l.minWidth=b),c>l.minHeight&&(l.minHeight=c),l.maxWidth>g&&(l.maxWidth=g),l.maxHeight>f&&(l.maxHeight=f));this._vBoundaries=l},_updateCache:function(a){this.offset=
this.helper.offset();e(a.left)&&(this.position.left=a.left);e(a.top)&&(this.position.top=a.top);e(a.height)&&(this.size.height=a.height);e(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,g=this.size,c=this.axis;return e(a.height)?a.width=a.height*this.aspectRatio:e(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===c&&(a.left=b.left+(g.width-a.width),a.top=null),"nw"===c&&(a.top=b.top+(g.height-a.height),a.left=b.left+(g.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,g=this.axis,c=e(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=e(a.height)&&b.maxHeight&&b.maxHeight<a.height,l=e(a.width)&&b.minWidth&&b.minWidth>a.width,h=e(a.height)&&b.minHeight&&b.minHeight>a.height,p=this.originalPosition.left+this.originalSize.width,n=this.position.top+this.size.height,m=/sw|nw|w/.test(g),g=/nw|ne|n/.test(g);return l&&(a.width=b.minWidth),h&&(a.height=b.minHeight),c&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),l&&m&&(a.left=p-b.minWidth),c&&m&&(a.left=p-b.maxWidth),
h&&g&&(a.top=n-b.minHeight),f&&g&&(a.top=n-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,e,c,f,l=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(f=this._proportionallyResizeElements[a],!this.borderDif){this.borderDif=[];e=[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")];
c=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];for(b=0;e.length>b;b++)this.borderDif[b]=(parseInt(e[b],10)||0)+(parseInt(c[b],10)||0)}f.css({height:l.height()-this.borderDif[0]-this.borderDif[2]||0,width:l.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,b,e){return{height:this.originalSize.height+
e}},se:function(a,d,e){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,d,e]))},sw:function(a,d,e){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,d,e]))},ne:function(a,d,e){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,d,e]))},nw:function(a,d,e){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,d,e]))}},_propagate:function(a,d){b.ui.plugin.call(this,a,[d,this.ui()]);
"resize"!==a&&this._trigger(a,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","animate",{stop:function(a){var d=b(this).data("ui-resizable"),e=d.options,c=d._proportionallyResizeElements,f=c.length&&/textarea/i.test(c[0].nodeName),l=f&&b.ui.hasScroll(c[0],"left")?0:d.sizeDiff.height,f=
{width:d.size.width-(f?0:d.sizeDiff.width),height:d.size.height-l},l=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,h=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(b.extend(f,h&&l?{top:h,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),
10)};c&&c.length&&b(c[0]).css({width:e.width,height:e.height});d._updateCache(e);d._propagate("resize",a)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var a,d,e,c,k,l,h,p=b(this).data("ui-resizable"),n=p.element,m=p.options.containment;(n=m instanceof b?m.get(0):/parent/.test(m)?n.parent().get(0):m)&&(p.containerElement=b(n),/document/.test(m)||m===document?(p.containerOffset={left:0,top:0},p.containerPosition={left:0,top:0},p.parentData={element:b(document),left:0,top:0,width:b(document).width(),
height:b(document).height()||document.body.parentNode.scrollHeight}):(a=b(n),d=[],b(["Top","Right","Left","Bottom"]).each(function(c,b){d[c]=f(a.css("padding"+b))}),p.containerOffset=a.offset(),p.containerPosition=a.position(),p.containerSize={height:a.innerHeight()-d[3],width:a.innerWidth()-d[1]},e=p.containerOffset,c=p.containerSize.height,k=p.containerSize.width,l=b.ui.hasScroll(n,"left")?n.scrollWidth:k,h=b.ui.hasScroll(n)?n.scrollHeight:c,p.parentData={element:n,left:e.left,top:e.top,width:l,
height:h}))},resize:function(a){var d,e,c,f,l=b(this).data("ui-resizable");d=l.options;e=l.containerOffset;c=l.position;a=l._aspectRatio||a.shiftKey;f={top:0,left:0};var h=l.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(f=e);c.left<(l._helper?e.left:0)&&(l.size.width+=l._helper?l.position.left-e.left:l.position.left-f.left,a&&(l.size.height=l.size.width/l.aspectRatio),l.position.left=d.helper?e.left:0);c.top<(l._helper?e.top:0)&&(l.size.height+=l._helper?l.position.top-e.top:
l.position.top,a&&(l.size.width=l.size.height*l.aspectRatio),l.position.top=l._helper?e.top:0);l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;d=Math.abs(l.offset.left-f.left+l.sizeDiff.width);e=Math.abs((l._helper?l.offset.top-f.top:l.offset.top-e.top)+l.sizeDiff.height);c=l.containerElement.get(0)===l.element.parent().get(0);f=/relative|absolute/.test(l.containerElement.css("position"));c&&f&&(d-=l.parentData.left);d+l.size.width>=l.parentData.width&&
(l.size.width=l.parentData.width-d,a&&(l.size.height=l.size.width/l.aspectRatio));e+l.size.height>=l.parentData.height&&(l.size.height=l.parentData.height-e,a&&(l.size.width=l.size.height*l.aspectRatio))},stop:function(){var a=b(this).data("ui-resizable"),d=a.options,e=a.containerOffset,c=a.containerPosition,f=a.containerElement,l=b(a.helper),h=l.offset(),p=l.outerWidth()-a.sizeDiff.width,l=l.outerHeight()-a.sizeDiff.height;a._helper&&!d.animate&&/relative/.test(f.css("position"))&&b(this).css({left:h.left-
c.left-e.left,width:p,height:l});a._helper&&!d.animate&&/static/.test(f.css("position"))&&b(this).css({left:h.left-c.left-e.left,width:p,height:l})}});b.ui.plugin.add("resizable","alsoResize",{start:function(){var a=b(this).data("ui-resizable").options,d=function(a){b(a).each(function(){var a=b(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?
d(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],d(a.alsoResize)):b.each(a.alsoResize,function(a){d(a)})},resize:function(a,d){var e=b(this).data("ui-resizable"),c=e.options,f=e.originalSize,l=e.originalPosition,h={height:e.size.height-f.height||0,width:e.size.width-f.width||0,top:e.position.top-l.top||0,left:e.position.left-l.left||0},p=function(a,c){b(a).each(function(){var a=b(this),e=b(this).data("ui-resizable-alsoresize"),g={},f=c&&c.length?c:a.parents(d.originalElement[0]).length?
["width","height"]:["width","height","top","left"];b.each(f,function(a,c){var b=(e[c]||0)+(h[c]||0);b&&0<=b&&(g[c]=b||null)});a.css(g)})};"object"!=typeof c.alsoResize||c.alsoResize.nodeType?p(c.alsoResize):b.each(c.alsoResize,function(a,c){p(a,c)})},stop:function(){b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable","ghost",{start:function(){var a=b(this).data("ui-resizable"),d=a.options,e=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",
height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=b(this).data("ui-resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=b(this).data("ui-resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(){var a=b(this).data("ui-resizable"),
d=a.options,e=a.size,c=a.originalSize,f=a.originalPosition,l=a.axis,h="number"==typeof d.grid?[d.grid,d.grid]:d.grid,p=h[0]||1,n=h[1]||1,m=Math.round((e.width-c.width)/p)*p,e=Math.round((e.height-c.height)/n)*n,q=c.width+m,c=c.height+e,t=d.maxWidth&&q>d.maxWidth,r=d.maxHeight&&c>d.maxHeight,v=d.minWidth&&d.minWidth>q,w=d.minHeight&&d.minHeight>c;d.grid=h;v&&(q+=p);w&&(c+=n);t&&(q-=p);r&&(c-=n);/^(se|s|e)$/.test(l)?(a.size.width=q,a.size.height=c):/^(ne)$/.test(l)?(a.size.width=q,a.size.height=c,a.position.top=
f.top-e):/^(sw)$/.test(l)?(a.size.width=q,a.size.height=c,a.position.left=f.left-m):(a.size.width=q,a.size.height=c,a.position.top=f.top-e,a.position.left=f.left-m)}})})(jQuery);
(function(b,f){function e(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,this.regional[""]);this.dpDiv=a(b("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){b(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&b(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){b.datepicker._isDisabledDatepicker(g.inline?a.parent()[0]:g.input[0])||(b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&b(this).addClass("ui-datepicker-next-hover"))})}function d(a,d){b.extend(a,d);for(var e in d)null==d[e]&&(a[e]=d[e]);return a}b.extend(b.ui,{datepicker:{version:"1.10.3"}});var g;b.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return d(this._defaults,a||{}),this},_attachDatepicker:function(a,
d){var e,g,f;e=a.nodeName.toLowerCase();g="div"===e||"span"===e;a.id||(this.uuid+=1,a.id="dp"+this.uuid);f=this._newInst(b(a),g);f.settings=b.extend({},d||{});"input"===e?this._connectDatepicker(a,f):g&&this._inlineDatepicker(a,f)},_newInst:function(c,d){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?a(b("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(a,d){var e=b(a);d.append=b([]);d.trigger=b([]);e.hasClass(this.markerClassName)||(this._attachments(e,d),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(d),b.data(a,"datepicker",d),d.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,d){var e,g,f;e=this._get(d,"appendText");var n=this._get(d,"isRTL");d.append&&d.append.remove();e&&(d.append=b("<span class='"+this._appendClass+
"'>"+e+"</span>"),a[n?"before":"after"](d.append));a.unbind("focus",this._showDatepicker);d.trigger&&d.trigger.remove();e=this._get(d,"showOn");("focus"===e||"both"===e)&&a.focus(this._showDatepicker);("button"===e||"both"===e)&&(g=this._get(d,"buttonText"),f=this._get(d,"buttonImage"),d.trigger=b(this._get(d,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:f,alt:g,title:g}):b("<button type='button'></button>").addClass(this._triggerClass).html(f?b("<img/>").attr({src:f,alt:g,
title:g}):g)),a[n?"before":"after"](d.trigger),d.trigger.click(function(){return b.datepicker._datepickerShowing&&b.datepicker._lastInput===a[0]?b.datepicker._hideDatepicker():b.datepicker._datepickerShowing&&b.datepicker._lastInput!==a[0]?(b.datepicker._hideDatepicker(),b.datepicker._showDatepicker(a[0])):b.datepicker._showDatepicker(a[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,d,e,g,f=new Date(2009,11,20),m=this._get(a,"dateFormat");m.match(/[DM]/)&&(b=function(a){for(g=
e=d=0;a.length>g;g++)a[g].length>d&&(d=a[g].length,e=g);return e},f.setMonth(b(this._get(a,m.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,m.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,d){var e=b(a);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(d.dpDiv),b.data(a,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),
d.settings.disabled&&this._disableDatepicker(a),d.dpDiv.css("display","block"))},_dialogDatepicker:function(a,e,g,f,p){var n,m,q,t,r;a=this._dialogInst;return a||(this.uuid+=1,n="dp"+this.uuid,this._dialogInput=b("<input type='text' id='"+n+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],"datepicker",a)),d(a.settings,
f||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=p?p.length?p:[p.pageX,p.pageY]:null,this._pos||(m=document.documentElement.clientWidth,q=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[m/2-100+t,q/2-150+r]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),b.blockUI&&b.blockUI(this.dpDiv),b.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var d,e=b(a),g=b.data(a,"datepicker");e.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),b.removeData(a,"datepicker"),"input"===d?(g.append.remove(),g.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===d||"span"===d)&&e.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var d,e,g=b(a),f=b.data(a,"datepicker");g.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),"input"===d?(a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===d||"span"===d)&&(e=g.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b}))},_disableDatepicker:function(a){var d,e,g=b(a),f=b.data(a,"datepicker");g.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),"input"===d?(a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===d||"span"===d)&&(e=g.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,e,g){var h,p,n,m,q=this._getInst(a);return 2===arguments.length&&"string"==
typeof e?"defaults"===e?b.extend({},b.datepicker._defaults):q?"all"===e?b.extend({},q.settings):this._get(q,e):null:(h=e||{},"string"==typeof e&&(h={},h[e]=g),q&&(this._curInst===q&&this._hideDatepicker(),p=this._getDateDatepicker(a,!0),n=this._getMinMaxDate(q,"min"),m=this._getMinMaxDate(q,"max"),d(q.settings,h),null!==n&&h.dateFormat!==f&&h.minDate===f&&(q.settings.minDate=this._formatDate(q,n)),null!==m&&h.dateFormat!==f&&h.maxDate===f&&(q.settings.maxDate=this._formatDate(q,m)),"disabled"in h&&
(h.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(b(a),q),this._autoSize(q),this._setDate(q,p),this._updateAlternate(q),this._updateDatepicker(q)),f)},_changeDatepicker:function(a,b,d){this._optionDatepicker(a,b,d)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var d=this._getInst(a);d&&(this._setDate(d,b),this._updateDatepicker(d),this._updateAlternate(d))},_getDateDatepicker:function(a,b){var d=
this._getInst(a);return d&&!d.inline&&this._setDateFromField(d,b),d?this._getDate(d):null},_doKeyDown:function(a){var d,e,g,f=b.datepicker._getInst(a.target),n=!0,m=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();n=!1;break;case 13:return g=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",f.dpDiv),g[0]&&b.datepicker._selectDay(a.target,f.selectedMonth,f.selectedYear,g[0]),d=b.datepicker._get(f,
"onSelect"),d?(e=b.datepicker._formatDate(f),d.apply(f.input?f.input[0]:null,[e,f])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target);
n=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);n=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,m?1:-1,"D");n=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");n=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&
b.datepicker._adjustDate(a.target,m?-1:1,"D");n=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,7,"D");n=a.ctrlKey||a.metaKey;break;default:n=!1}else 36===a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):n=!1;n&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var d,e,g=b.datepicker._getInst(a.target);
return b.datepicker._get(g,"constrainInput")?(d=b.datepicker._possibleChars(b.datepicker._get(g,"dateFormat")),e=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">e||!d||-1<d.indexOf(e)):f},_doKeyUp:function(a){var d;a=b.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{(d=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,b.datepicker._getFormatConfig(a)))&&(b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),
b.datepicker._updateDatepicker(a))}catch(e){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]),!b.datepicker._isDisabledDatepicker(a)&&b.datepicker._lastInput!==a){var e,g,f,p,n,m;e=b.datepicker._getInst(a);b.datepicker._curInst&&b.datepicker._curInst!==e&&(b.datepicker._curInst.dpDiv.stop(!0,!0),e&&b.datepicker._datepickerShowing&&b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));g=(g=b.datepicker._get(e,"beforeShow"))?
g.apply(a,[a,e]):{};!1!==g&&(d(e.settings,g),e.lastVal=null,b.datepicker._lastInput=a,b.datepicker._setDateFromField(e),b.datepicker._inDialog&&(a.value=""),b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),b.datepicker._pos[1]+=a.offsetHeight),f=!1,b(a).parents().each(function(){return f|="fixed"===b(this).css("position"),!f}),p={left:b.datepicker._pos[0],top:b.datepicker._pos[1]},b.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
b.datepicker._updateDatepicker(e),p=b.datepicker._checkOffset(e,p,f),e.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":f?"fixed":"absolute",display:"none",left:p.left+"px",top:p.top+"px"}),e.inline||(n=b.datepicker._get(e,"showAnim"),m=b.datepicker._get(e,"duration"),e.dpDiv.zIndex(b(a).zIndex()+1),b.datepicker._datepickerShowing=!0,b.effects&&b.effects.effect[n]?e.dpDiv.show(n,b.datepicker._get(e,"showOptions"),m):e.dpDiv[n||"show"](n?m:null),b.datepicker._shouldFocusInput(e)&&e.input.focus(),
b.datepicker._curInst=e))}},_updateDatepicker:function(a){this.maxRows=4;g=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,e=this._getNumberOfMonths(a),f=e[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===b.datepicker._curInst&&b.datepicker._datepickerShowing&&b.datepicker._shouldFocusInput(a)&&a.input.focus();a.yearshtml&&(d=a.yearshtml,setTimeout(function(){d===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);d=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,d,e){var g=a.dpDiv.outerWidth(),
f=a.dpDiv.outerHeight(),n=a.input?a.input.outerWidth():0,m=a.input?a.input.outerHeight():0,q=document.documentElement.clientWidth+(e?0:b(document).scrollLeft()),t=document.documentElement.clientHeight+(e?0:b(document).scrollTop());return d.left-=this._get(a,"isRTL")?g-n:0,d.left-=e&&d.left===a.input.offset().left?b(document).scrollLeft():0,d.top-=e&&d.top===a.input.offset().top+m?b(document).scrollTop():0,d.left-=Math.min(d.left,d.left+g>q&&q>g?Math.abs(d.left+g-q):0),d.top-=Math.min(d.top,d.top+
f>t&&t>f?Math.abs(f+m):0),d},_findPos:function(a){for(var d,e=this._getInst(a),e=this._get(e,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||b.expr.filters.hidden(a));)a=a[e?"previousSibling":"nextSibling"];return d=b(a).offset(),[d.left,d.top]},_hideDatepicker:function(a){var d,e,g,f,n=this._curInst;!n||a&&n!==b.data(a,"datepicker")||this._datepickerShowing&&(d=this._get(n,"showAnim"),e=this._get(n,"duration"),g=function(){b.datepicker._tidyDialog(n)},b.effects&&(b.effects.effect[d]||b.effects[d])?
n.dpDiv.hide(d,b.datepicker._get(n,"showOptions"),e,g):n.dpDiv["slideDown"===d?"slideUp":"fadeIn"===d?"fadeOut":"hide"](d?e:null,g),d||g(),this._datepickerShowing=!1,f=this._get(n,"onClose"),f&&f.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),b("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var d=b.datepicker._getInst(a[0]);(a[0].id!==b.datepicker._mainDivId&&0===a.parents("#"+b.datepicker._mainDivId).length&&!a.hasClass(b.datepicker.markerClassName)&&!a.closest("."+b.datepicker._triggerClass).length&&b.datepicker._datepickerShowing&&(!b.datepicker._inDialog||!b.blockUI)||a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!==d)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,d,e){a=b(a);var g=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(g,d+("M"===e?this._get(g,"showCurrentAtPos"):0),e),this._updateDatepicker(g))},_gotoToday:function(a){var d;a=b(a);var e=this._getInst(a[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(d=new Date,e.selectedDay=d.getDate(),e.drawMonth=e.selectedMonth=d.getMonth(),e.drawYear=e.selectedYear=d.getFullYear());this._notifyChange(e);
this._adjustDate(a)},_selectMonthYear:function(a,d,e){a=b(a);var g=this._getInst(a[0]);g["selected"+("M"===e?"Month":"Year")]=g["draw"+("M"===e?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(a)},_selectDay:function(a,d,e,g){var f,n=b(a);b(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||(f=this._getInst(n[0]),f.selectedDay=f.currentDay=b("a",g).html(),f.selectedMonth=f.currentMonth=d,f.selectedYear=f.currentYear=e,this._selectDate(a,
this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=b(a);this._selectDate(a,"")},_selectDate:function(a,d){var e;e=b(a);var g=this._getInst(e[0]);d=null!=d?d:this._formatDate(g);g.input&&g.input.val(d);this._updateAlternate(g);(e=this._get(g,"onSelect"))?e.apply(g.input?g.input[0]:null,[d,g]):g.input&&g.input.trigger("change");g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!=typeof g.input[0]&&g.input.focus(),this._lastInput=
null)},_updateAlternate:function(a){var d,e,g,f=this._get(a,"altField");f&&(d=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),g=this.formatDate(d,e,this._getFormatConfig(a)),b(f).each(function(){b(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,d,
e){if(null==a||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var g,p,n,m,q=0,t=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),r=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,v=(e?e.dayNames:null)||this._defaults.dayNames,w=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var B=-1,x=-1,A=-1,C=-1,I=!1,F=function(b){b=
a.length>g+1&&a.charAt(g+1)===b;return b&&g++,b},L=function(a){var b=F(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=d.substring(q).match(a);if(!a)throw"Missing number at position "+q;return q+=a[0].length,parseInt(a[0],10)},u=function(a,c,e){var g=-1;a=b.map(F(a)?e:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(b.each(a,function(a,b){var c=b[1];return d.substr(q,c.length).toLowerCase()===c.toLowerCase()?(g=b[0],q+=c.length,
!1):f}),-1!==g)return g+1;throw"Unknown name at position "+q;},y=function(){if(d.charAt(q)!==a.charAt(g))throw"Unexpected literal at position "+q;q++};for(g=0;a.length>g;g++)if(I)"'"!==a.charAt(g)||F("'")?y():I=!1;else switch(a.charAt(g)){case "d":A=L("d");break;case "D":u("D",r,v);break;case "o":C=L("o");break;case "m":x=L("m");break;case "M":x=u("M",w,e);break;case "y":B=L("y");break;case "@":m=new Date(L("@"));B=m.getFullYear();x=m.getMonth()+1;A=m.getDate();break;case "!":m=new Date((L("!")-this._ticksTo1970)/
1E4);B=m.getFullYear();x=m.getMonth()+1;A=m.getDate();break;case "'":F("'")?y():I=!0;break;default:y()}if(d.length>q&&(n=d.substr(q),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===B?B=(new Date).getFullYear():100>B&&(B+=(new Date).getFullYear()-(new Date).getFullYear()%100+(t>=B?0:-100)),-1<C){x=1;for(A=C;!(p=this._getDaysInMonth(B,x-1),p>=A);)x++,A-=p}if(m=this._daylightSavingAdjust(new Date(B,x-1,A)),m.getFullYear()!==B||m.getMonth()+1!==x||m.getDate()!==A)throw"Invalid date";
return m},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,d){if(!b)return"";var e,g=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,f=(d?d.dayNames:null)||this._defaults.dayNames,m=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort;
d=(d?d.monthNames:null)||this._defaults.monthNames;var q=function(b){b=a.length>e+1&&a.charAt(e+1)===b;return b&&e++,b},t=function(a,b,c){b=""+b;if(q(a))for(;c>b.length;)b="0"+b;return b},r=function(a,b,c,d){return q(a)?d[b]:c[b]},v="",w=!1;if(b)for(e=0;a.length>e;e++)if(w)"'"!==a.charAt(e)||q("'")?v+=a.charAt(e):w=!1;else switch(a.charAt(e)){case "d":v+=t("d",b.getDate(),2);break;case "D":v+=r("D",b.getDay(),g,f);break;case "o":v+=t("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-
(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":v+=t("m",b.getMonth()+1,2);break;case "M":v+=r("M",b.getMonth(),m,d);break;case "y":v+=q("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":v+=b.getTime();break;case "!":v+=1E4*b.getTime()+this._ticksTo1970;break;case "'":q("'")?v+="'":w=!0;break;default:v+=a.charAt(e)}return v},_possibleChars:function(a){var b,d="",e=!1,g=function(d){d=a.length>b+1&&a.charAt(b+1)===d;return d&&b++,d};for(b=0;a.length>
b;b++)if(e)"'"!==a.charAt(b)||g("'")?d+=a.charAt(b):e=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":d+="0123456789";break;case "D":case "M":return null;case "'":g("'")?d+="'":e=!0;break;default:d+=a.charAt(b)}return d},_get:function(a,b){return a.settings[b]!==f?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var d=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),f=g,m=this._getFormatConfig(a);
try{f=this.parseDate(d,e,m)||g}catch(q){e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,d,e){var g=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(d){try{return b.datepicker.parseDate(b.datepicker._get(a,
"dateFormat"),d,b.datepicker._getFormatConfig(a))}catch(e){}for(var g=(d.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date,f=g.getFullYear(),h=g.getMonth(),g=g.getDate(),k=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,p=k.exec(d);p;){switch(p[2]||"d"){case "d":case "D":g+=parseInt(p[1],10);break;case "w":case "W":g+=7*parseInt(p[1],10);break;case "m":case "M":h+=parseInt(p[1],10);g=Math.min(g,b.datepicker._getDaysInMonth(f,h));break;case "y":case "Y":f+=parseInt(p[1],10),g=Math.min(g,b.datepicker._getDaysInMonth(f,
h))}p=k.exec(d)}return new Date(f,h,g)};d=null==d||""===d?e:"string"==typeof d?f(d):"number"==typeof d?isNaN(d)?e:g(d):new Date(d.getTime());return d=d&&"Invalid Date"==""+d?e:d,d&&(d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0)),this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,d){var e=!b,g=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));
a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();g===a.selectedMonth&&f===a.selectedYear||d||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var d=this._get(a,"stepMonths"),
e="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).bind(this.getAttribute("data-event"),{prev:function(){b.datepicker._adjustDate(e,-d,"M")},next:function(){b.datepicker._adjustDate(e,+d,"M")},hide:function(){b.datepicker._hideDatepicker()},today:function(){b.datepicker._gotoToday(e)},selectDay:function(){return b.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return b.datepicker._selectMonthYear(e,
this,"M"),!1},selectYear:function(){return b.datepicker._selectMonthYear(e,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,d,e,g,f,m,q,t,r,v,w,B,x,A,C,I,F,L,u,y,E,D,M,O,T,W,R,U=new Date,U=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),Q=this._get(a,"isRTL");m=this._get(a,"showButtonPanel");e=this._get(a,"hideIfNoPrevNext");f=this._get(a,"navigationAsDateFormat");var P=this._getNumberOfMonths(a),z=this._get(a,"showCurrentAtPos");
g=this._get(a,"stepMonths");var N=1!==P[0]||1!==P[1],G=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),H=this._getMinMaxDate(a,"min"),J=this._getMinMaxDate(a,"max"),z=a.drawMonth-z,K=a.drawYear;if(0>z&&(z+=12,K--),J){b=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-P[0]*P[1]+1,J.getDate()));for(b=H&&H>b?H:b;this._daylightSavingAdjust(new Date(K,z,1))>b;)z--,0>z&&(z=11,K--)}a.drawMonth=z;a.drawYear=K;b=this._get(a,"prevText");
b=f?this.formatDate(b,this._daylightSavingAdjust(new Date(K,z-g,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,K,z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+b+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+b+"</span></a>";d=this._get(a,"nextText");d=f?this.formatDate(d,
this._daylightSavingAdjust(new Date(K,z+g,1)),this._getFormatConfig(a)):d;e=this._canAdjustMonth(a,1,K,z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+d+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+d+"</span></a>";g=this._get(a,"currentText");d=this._get(a,"gotoCurrent")&&
a.currentDay?G:U;g=f?this.formatDate(g,d,this._getFormatConfig(a)):g;f=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";m=m?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?f:"")+(this._isInRange(a,d)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
g+"</button>":"")+(Q?"":f)+"</div>":"";f=parseInt(this._get(a,"firstDay"),10);f=isNaN(f)?0:f;g=this._get(a,"showWeek");d=this._get(a,"dayNames");q=this._get(a,"dayNamesMin");t=this._get(a,"monthNames");r=this._get(a,"monthNamesShort");v=this._get(a,"beforeShowDay");w=this._get(a,"showOtherMonths");B=this._get(a,"selectOtherMonths");x=this._getDefaultDate(a);A="";for(I=0;P[0]>I;I++){F="";this.maxRows=4;for(L=0;P[1]>L;L++){if(u=this._daylightSavingAdjust(new Date(K,z,a.selectedDay)),C=" ui-corner-all",
y="",N){if(y+="<div class='ui-datepicker-group",1<P[1])switch(L){case 0:y+=" ui-datepicker-group-first";C=" ui-corner-"+(Q?"right":"left");break;case P[1]-1:y+=" ui-datepicker-group-last";C=" ui-corner-"+(Q?"left":"right");break;default:y+=" ui-datepicker-group-middle",C=""}y+="'>"}y+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===I?Q?e:b:"")+(/all|right/.test(C)&&0===I?Q?b:e:"")+this._generateMonthYearHeader(a,z,K,H,J,0<I||0<L,t,r)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
E=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(C=0;7>C;C++)D=(C+f)%7,E+="<th"+(5<=(C+f+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+q[D]+"</span></th>";y+=E+"</tr></thead><tbody>";E=this._getDaysInMonth(K,z);K===a.selectedYear&&z===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E));C=(this._getFirstDayOfMonth(K,z)-f+7)%7;E=Math.ceil((C+E)/7);this.maxRows=E=N?this.maxRows>E?this.maxRows:E:E;D=this._daylightSavingAdjust(new Date(K,
z,1-C));for(M=0;E>M;M++){y+="<tr>";O=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(D)+"</td>":"";for(C=0;7>C;C++)T=v?v.apply(a.input?a.input[0]:null,[D]):[!0,""],R=(W=D.getMonth()!==z)&&!B||!T[0]||H&&H>D||J&&D>J,O+="<td class='"+(5<=(C+f+6)%7?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(D.getTime()===u.getTime()&&z===a.selectedMonth&&a._keyEvent||x.getTime()===D.getTime()&&x.getTime()===u.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+
" ui-state-disabled":"")+(W&&!w?"":" "+T[1]+(D.getTime()===G.getTime()?" "+this._currentClass:"")+(D.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(W&&!w||!T[2]?"":" title='"+T[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(W&&!w?"&#xa0;":R?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===U.getTime()?" ui-state-highlight":"")+(D.getTime()===
G.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);y+=O+"</tr>"}z++;11<z&&(z=0,K++);y+="</tbody></table>"+(N?"</div>"+(0<P[0]&&L===P[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");F+=y}A+=F}return A+=m,a._keyEvent=!1,A},_generateMonthYearHeader:function(a,b,d,e,g,f,m,q){var t,r,v,w=this._get(a,"changeMonth"),B=this._get(a,"changeYear"),x=this._get(a,"showMonthAfterYear"),
A="<div class='ui-datepicker-title'>",C="";if(f||!w)C+="<span class='ui-datepicker-month'>"+m[b]+"</span>";else{m=e&&e.getFullYear()===d;t=g&&g.getFullYear()===d;C+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(r=0;12>r;r++)(!m||r>=e.getMonth())&&(!t||g.getMonth()>=r)&&(C+="<option value='"+r+"'"+(r===b?" selected='selected'":"")+">"+q[r]+"</option>");C+="</select>"}if(x||(A+=C+(!f&&w&&B?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!B)A+="<span class='ui-datepicker-year'>"+
d+"</span>";else{q=this._get(a,"yearRange").split(":");v=(new Date).getFullYear();m=function(a){a=a.match(/c[+\-].*/)?d+parseInt(a.substring(1),10):a.match(/[+\-].*/)?v+parseInt(a,10):parseInt(a,10);return isNaN(a)?v:a};b=m(q[0]);q=Math.max(b,m(q[1]||""));b=e?Math.max(b,e.getFullYear()):b;q=g?Math.min(q,g.getFullYear()):q;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";q>=b;b++)a.yearshtml+="<option value='"+b+"'"+(b===d?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";A+=a.yearshtml;a.yearshtml=null}return A+=this._get(a,"yearSuffix"),x&&(A+=(!f&&w&&B?"":"&#xa0;")+C),A+="</div>"},_adjustInstDate:function(a,b,d){var e=a.drawYear+("Y"===d?b:0),g=a.drawMonth+("M"===d?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,g))+("D"===d?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,g,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();("M"===
d||"Y"===d)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var d=this._getMinMaxDate(a,"min"),e=this._getMinMaxDate(a,"max"),d=d&&d>b?d:b;return e&&d>e?e:d},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,d,e){var g=this._getNumberOfMonths(a);d=this._daylightSavingAdjust(new Date(d,e+(0>b?b:g[0]*g[1]),1));return 0>b&&d.setDate(this._getDaysInMonth(d.getFullYear(),d.getMonth())),this._isInRange(a,d)},_isInRange:function(a,b){var d,e,g=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),m=null,q=null,t=
this._get(a,"yearRange");return t&&(d=t.split(":"),e=(new Date).getFullYear(),m=parseInt(d[0],10),q=parseInt(d[1],10),d[0].match(/[+\-].*/)&&(m+=e),d[1].match(/[+\-].*/)&&(q+=e)),(!g||b.getTime()>=g.getTime())&&(!f||b.getTime()<=f.getTime())&&(!m||b.getFullYear()>=m)&&(!q||q>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,d,e){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(e,d,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});b.fn.datepicker=function(a){if(!this.length)return this;
b.datepicker.initialized||(b(document).mousedown(b.datepicker._checkExternalClick),b.datepicker.initialized=!0);0===b("#"+b.datepicker._mainDivId).length&&b("body").append(b.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(d)):this.each(function(){"string"==typeof a?b.datepicker["_"+
a+"Datepicker"].apply(b.datepicker,[this].concat(d)):b.datepicker._attachDatepicker(this,a)}):b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(d))};b.datepicker=new e;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.10.3"})(jQuery);
!function(b){var f={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,
nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4E3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};b.fn.bxSlider=function(e){if(0==this.length)return this;if(1<this.length)return this.each(function(){b(this).bxSlider(e)}),
this;var a={},d=this,g=b(window).width(),c=b(window).height(),k=function(){a.settings=b.extend({},f,e);a.settings.slideWidth=parseInt(a.settings.slideWidth);a.children=d.children(a.settings.slideSelector);a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length);a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length);a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length));a.active={index:a.settings.startSlide};a.carousel=
1<a.settings.minSlides||1<a.settings.maxSlides;a.carousel&&(a.settings.preloadImages="all");a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin;a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin;a.working=!1;a.controls={};a.interval=null;a.animProp="vertical"==a.settings.mode?"top":"left";a.usingCSS=a.settings.useCSS&&"fade"!=a.settings.mode&&function(){var b=document.createElement("div"),
c=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],d;for(d in c)if(void 0!==b.style[c[d]])return a.cssPrefix=c[d].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}();"vertical"==a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides);d.data("origStyle",d.attr("style"));d.children(a.settings.slideSelector).each(function(){b(this).data("origStyle",b(this).attr("style"))});l()},l=function(){d.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');
a.viewport=d.parent();a.loader=b('<div class="bx-loading" />');a.viewport.prepend(a.loader);d.css({width:"horizontal"==a.settings.mode?100*a.children.length+215+"%":"auto",position:"relative"});a.usingCSS&&a.settings.easing?d.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing");t();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"});a.viewport.parent().css({maxWidth:m()});a.settings.pager||a.viewport.parent().css({margin:"0 auto 0px"});
a.children.css({"float":"horizontal"==a.settings.mode?"left":"none",listStyle:"none",position:"relative"});a.children.css("width",q());"horizontal"==a.settings.mode&&0<a.settings.slideMargin&&a.children.css("marginRight",a.settings.slideMargin);"vertical"==a.settings.mode&&0<a.settings.slideMargin&&a.children.css("marginBottom",a.settings.slideMargin);"fade"==a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:50,display:"block"}));
=======
"function"==typeof console.log?console.log(a):void 0:void 0})},c.prototype.removeFile=function(a){return a.status===c.UPLOADING&&this.cancelUpload(a),this.files=m(this.files,a),this.emit("removedfile",a),0===this.files.length?this.emit("reset"):void 0},c.prototype.removeAllFiles=function(a){var b,d,e,g;null==a&&(a=!1);g=this.files.slice();d=0;for(e=g.length;e>d;d++)b=g[d],(b.status!==c.UPLOADING||a)&&this.removeFile(b);return null},c.prototype.createThumbnail=function(a){var c,b=this;return c=new FileReader,
c.onload=function(){var d;return d=new Image,d.onload=function(){var c,e,g,f,k,h,m,l;return a.width=d.width,a.height=d.height,g=b.options.resize.call(b,a),null==g.trgWidth&&(g.trgWidth=b.options.thumbnailWidth),null==g.trgHeight&&(g.trgHeight=b.options.thumbnailHeight),c=document.createElement("canvas"),e=c.getContext("2d"),c.width=g.trgWidth,c.height=g.trgHeight,e.drawImage(d,null!=(k=g.srcX)?k:0,null!=(h=g.srcY)?h:0,g.srcWidth,g.srcHeight,null!=(m=g.trgX)?m:0,null!=(l=g.trgY)?l:0,g.trgWidth,g.trgHeight),
f=c.toDataURL("image/png"),b.emit("thumbnail",a,f)},d.src=c.result},c.readAsDataURL(a)},c.prototype.processQueue=function(){var a,c,b,d;if(c=this.options.parallelUploads,b=this.getUploadingFiles().length,a=b,!(b>=c)&&(d=this.getQueuedFiles(),0<d.length)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,c-b));for(;c>a&&d.length;)this.processFile(d.shift()),a++}},c.prototype.processFile=function(a){return this.processFiles([a])},c.prototype.processFiles=function(a){var b,d,e;d=0;for(e=
a.length;e>d;d++)b=a[d],b.processing=!0,b.status=c.UPLOADING,this.emit("processing",b);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)},c.prototype._getFilesWithXhr=function(a){var c,b,d,e,g;e=this.files;g=[];b=0;for(d=e.length;d>b;b++)c=e[b],c.xhr===a&&g.push(c);return g},c.prototype.cancelUpload=function(a){var b,d,e,g;if(a.status===c.UPLOADING){d=this._getFilesWithXhr(a.xhr);e=0;for(g=d.length;g>e;e++)b=d[e],b.status=c.CANCELED;a.xhr.abort();a=0;for(e=
d.length;e>a;a++)b=d[a],this.emit("canceled",b);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else((b=a.status)===c.ADDED||b===c.QUEUED)&&(a.status=c.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));return this.options.autoProcessQueue?this.processQueue():void 0},c.prototype.uploadFile=function(a){return this.uploadFiles([a])},c.prototype.uploadFiles=function(a){var d,e,g,f,k,h,m,l,q,n,x,E,D,N=this;q=new XMLHttpRequest;f=0;for(k=a.length;k>
f;f++)d=a[f],d.xhr=q;q.open(this.options.method,this.options.url,!0);q.withCredentials=!!this.options.withCredentials;m=null;g=function(){var c,b,e;e=[];c=0;for(b=a.length;b>c;c++)d=a[c],e.push(N._errorProcessing(a,m||N.options.dictResponseError.replace("{{statusCode}}",q.status),q));return e};l=function(c){var b,e,g;if(null!=c){b=100*c.loaded/c.total;e=0;for(g=a.length;g>e;e++)d=a[e],d.upload={progress:b,total:c.total,bytesSent:c.loaded}}else{c=!0;b=100;e=0;for(g=a.length;g>e;e++)d=a[e],(100!==d.upload.progress||
d.upload.bytesSent!==d.upload.total)&&(c=!1),d.upload.progress=b,d.upload.bytesSent=d.upload.total;if(c)return}g=[];c=0;for(e=a.length;e>c;c++)d=a[c],g.push(N.emit("uploadprogress",d,b,d.upload.bytesSent));return g};q.onload=function(b){var d;if(a[0].status!==c.CANCELED&&4===q.readyState){if(m=q.responseText,q.getResponseHeader("content-type")&&~q.getResponseHeader("content-type").indexOf("application/json"))try{m=JSON.parse(m)}catch(e){b=e,m="Invalid JSON response from server."}return l(),200<=(d=
q.status)&&300>d?N._finished(a,m,b):g()}};q.onerror=function(){return a[0].status!==c.CANCELED?g():void 0};(null!=(n=q.upload)?n:q).onprogress=l;k={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&b(k,this.options.headers);for(e in k)f=k[e],q.setRequestHeader(e,f);if(e=new FormData,this.options.params)for(h in k=this.options.params,k)f=k[h],e.append(h,f);h=0;for(f=a.length;f>h;h++)d=a[h],this.emit("sending",d,q,e);if(this.options.uploadMultiple&&
this.emit("sendingmultiple",a,q,e),"FORM"===this.element.tagName){D=this.element.querySelectorAll("input, textarea, select, button");n=0;for(E=D.length;E>n;n++)h=D[n],f=h.getAttribute("name"),k=h.getAttribute("type"),(!k||"checkbox"!==(x=k.toLowerCase())&&"radio"!==x||h.checked)&&e.append(f,h.value)}x=0;for(h=a.length;h>x;x++)d=a[x],e.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),d,d.name);return q.send(e)},c.prototype._finished=function(a,b,d){var e,g,f;g=0;for(f=a.length;f>
g;g++)e=a[g],e.status=c.SUCCESS,this.emit("success",e,b,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("successmultiple",a,b,d),this.emit("completemultiple",a)),this.options.autoProcessQueue?this.processQueue():void 0},c.prototype._errorProcessing=function(a,b,d){var e,g,f;g=0;for(f=a.length;f>g;g++)e=a[g],e.status=c.ERROR,this.emit("error",e,b,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("errormultiple",a,b,d),this.emit("completemultiple",a)),
this.options.autoProcessQueue?this.processQueue():void 0},c}(e);b.version="3.7.4-dev";b.options={};b.optionsForElement=function(a){return a.id?b.options[c(a.id)]:void 0};b.instances=[];b.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");
return a.dropzone};b.autoDiscover=!0;b.discover=function(){var a,c,e,g,f;document.querySelectorAll?c=document.querySelectorAll(".dropzone"):(c=[],a=function(a){var b,d,e,g;g=[];d=0;for(e=a.length;e>d;d++)b=a[d],/(^| )dropzone($| )/.test(b.className)?g.push(c.push(b)):g.push(void 0);return g},a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form")));f=[];e=0;for(g=c.length;g>e;e++)a=c[e],!1!==b.optionsForElement(a)?f.push(new b(a)):f.push(void 0);return f};b.blacklistedBrowsers=
[/opera.*Macintosh.*version\/12/i];b.isBrowserSupported=function(){var a,c,e,g,f;if(a=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){f=b.blacklistedBrowsers;e=0;for(g=f.length;g>e;e++)c=f[e],c.test(navigator.userAgent)&&(a=!1)}else a=!1;else a=!1;return a};m=function(a,c){var b,d,e,g;g=[];d=0;for(e=a.length;e>d;d++)b=a[d],b!==c&&g.push(b);return g};c=function(a){return a.replace(/[\-_](\w)/g,function(a){return a[1].toUpperCase()})};
b.createElement=function(a){var c;return c=document.createElement("div"),c.innerHTML=a,c.childNodes[0]};b.elementInside=function(a,c){if(a===c)return!0;for(;a=a.parentNode;)if(a===c)return!0;return!1};b.getElement=function(a,c){var b;if("string"==typeof a?b=document.querySelector(a):null!=a.nodeType&&(b=a),null==b)throw Error("Invalid `"+c+"` option provided. Please provide a CSS selector or a plain HTML element.");return b};b.getElements=function(a,c){var b,d,e,g,f;if(a instanceof Array){d=[];try{e=
0;for(g=a.length;g>e;e++)b=a[e],d.push(this.getElement(b,c))}catch(k){d=null}}else if("string"==typeof a){d=[];f=document.querySelectorAll(a);e=0;for(g=f.length;g>e;e++)b=f[e],d.push(b)}else null!=a.nodeType&&(d=[a]);if(null==d||!d.length)throw Error("Invalid `"+c+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return d};b.confirm=function(a,c,b){return window.confirm(a)?c():null!=b?b():void 0};b.isValidFile=function(a,c){var b,d,e,g,f;if(!c)return!0;
c=c.split(",");d=a.type;b=d.replace(/\/.*$/,"");g=0;for(f=c.length;f>g;g++)if(e=c[g],e=e.trim(),"."===e.charAt(0)){if(-1!==a.name.toLowerCase().indexOf(e.toLowerCase(),a.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(b===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1};"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new b(this,a)})});"undefined"!=typeof a&&null!==a?a.exports=b:window.Dropzone=b;b.ADDED="added";
b.QUEUED="queued";b.ACCEPTED=b.QUEUED;b.UPLOADING="uploading";b.PROCESSING=b.UPLOADING;b.CANCELED="canceled";b.ERROR="error";b.SUCCESS="success";b._autoDiscoverFunction=function(){return b.autoDiscover?b.discover():void 0};(function(a,c){var b,d,e,g,f,k,h,m,l;if(e=!1,l=!0,d=a.document,m=d.documentElement,b=d.addEventListener?"addEventListener":"attachEvent",h=d.addEventListener?"removeEventListener":"detachEvent",k=d.addEventListener?"":"on",g=function(b){return"readystatechange"!==b.type||"complete"===
d.readyState?(("load"===b.type?a:d)[h](k+b.type,g,!1),!e&&(e=!0)?c.call(a,b.type||b):void 0):void 0},f=function(){try{m.doScroll("left")}catch(a){return setTimeout(f,50),void 0}return g("poll")},"complete"!==d.readyState){if(d.createEventObject&&m.doScroll){try{l=!a.frameElement}catch(n){}l&&f()}return d[b](k+"DOMContentLoaded",g,!1),d[b](k+"readystatechange",g,!1),a[b](k+"load",g,!1)}})(window,b._autoDiscoverFunction)}).call(this)});b.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");
b.alias("component-emitter/index.js","emitter/index.js");"object"==typeof exports?module.exports=b("dropzone"):"function"==typeof define&&define.amd?define(function(){return b("dropzone")}):this.Dropzone=b("dropzone")}();
(function(){function b(){}function f(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function g(a){return function(){return this[a].apply(this,arguments)}}var a=b.prototype;a.getListeners=function(a){var b,c,g=this._getEvents();if("object"==typeof a)for(c in b={},g)g.hasOwnProperty(c)&&a.test(c)&&(b[c]=g[c]);else b=g[a]||(g[a]=[]);return b};a.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c};a.getListenersAsObject=function(a){var b,
c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c};a.addListener=function(a,b){var c,g=this.getListenersAsObject(a),m="object"==typeof b;for(c in g)g.hasOwnProperty(c)&&-1===f(g[c],b)&&g[c].push(m?b:{listener:b,once:!1});return this};a.on=g("addListener");a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};a.once=g("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);
return this};a.removeListener=function(a,b){var c,g,m=this.getListenersAsObject(a);for(g in m)m.hasOwnProperty(g)&&(c=f(m[g],b),-1!==c&&m[g].splice(c,1));return this};a.off=g("removeListener");a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};a.manipulateListeners=function(a,b,c){var g,f,h=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof
RegExp)for(g=c.length;g--;)h.call(this,b,c[g]);else for(g in b)b.hasOwnProperty(g)&&(f=b[g])&&("function"==typeof f?h.call(this,g,f):a.call(this,g,f));return this};a.removeEvent=function(a){var b,c=typeof a,g=this._getEvents();if("string"===c)delete g[a];else if("object"===c)for(b in g)g.hasOwnProperty(b)&&a.test(b)&&delete g[b];else delete this._events;return this};a.removeAllListeners=g("removeEvent");a.emitEvent=function(a,b){var c,g,f,h,n=this.getListenersAsObject(a);for(f in n)if(n.hasOwnProperty(f))for(g=
n[f].length;g--;)c=n[f][g],!0===c.once&&this.removeListener(a,c.listener),h=c.listener.apply(this,b||[]),h===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this};a.trigger=g("emitEvent");a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this);
(function(b){var f=document.documentElement,g=function(){};f.addEventListener?g=function(a,b,c){a.addEventListener(b,c,!1)}:f.attachEvent&&(g=function(a,e,c){a[e+c]=c.handleEvent?function(){var a=b.event;a.target=a.target||a.srcElement;c.handleEvent.call(c,a)}:function(){var e=b.event;e.target=e.target||e.srcElement;c.call(a,e)};a.attachEvent("on"+e,a[e+c])});var a=function(){};f.removeEventListener?a=function(a,b,c){a.removeEventListener(b,c,!1)}:f.detachEvent&&(a=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(g){a[b+c]=void 0}});f={bind:g,unbind:a};"function"==typeof define&&define.amd?define(f):b.eventie=f})(this);
(function(b){function f(a,c){for(var b in c)a[b]=c[b];return a}function g(a){var c=[];if("[object Array]"===k.call(a))c=a;else if("number"==typeof a.length)for(var b=0,d=a.length;d>b;b++)c.push(a[b]);else c.push(a);return c}function a(a,b){function k(a,c,b){if(!(this instanceof k))return new k(a,c);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=g(a);this.options=f({},this.options);"function"==typeof c?b=c:f(this.options,c);b&&this.on("always",b);this.getImages();d&&(this.jqDeferred=
new d.Deferred);var e=this;setTimeout(function(){e.check()})}function l(a){this.img=a}k.prototype=new a;k.prototype.options={};k.prototype.getImages=function(){this.images=[];for(var a=0,c=this.elements.length;c>a;a++){var b=this.elements[a];"IMG"===b.nodeName&&this.addImage(b);for(var b=b.querySelectorAll("img"),d=0,e=b.length;e>d;d++)this.addImage(b[d])}};k.prototype.addImage=function(a){a=new l(a);this.images.push(a)};k.prototype.check=function(){function a(f,k){return b.options.debug&&c&&e.log("confirm",
f,k),b.progress(f),d++,d===g&&b.complete(),!0}var b=this,d=0,g=this.images.length;if(this.hasAnyBroken=!1,!g)return this.complete(),void 0;for(var f=0;g>f;f++){var k=this.images[f];k.on("confirm",a);k.check()}};k.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var c=this;setTimeout(function(){c.emit("progress",c,a);c.jqDeferred&&c.jqDeferred.notify(c,a)})};k.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var c=this;setTimeout(function(){if(c.emit(a,
c),c.emit("always",c),c.jqDeferred)c.jqDeferred[c.hasAnyBroken?"reject":"resolve"](c)})};d&&(d.fn.imagesLoaded=function(a,c){return(new k(this,a,c)).jqDeferred.promise(d(this))});var q={};return l.prototype=new a,l.prototype.check=function(){var a=q[this.img.src];if(a)return this.useCached(a),void 0;if(q[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;a=this.proxyImage=new Image;b.bind(a,"load",this);b.bind(a,
"error",this);a.src=this.img.src},l.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var c=this;a.on("confirm",function(a){return c.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},l.prototype.confirm=function(a,c){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,c)},l.prototype.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},l.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},l.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},l.prototype.unbindProxyEvents=function(){b.unbind(this.proxyImage,"load",this);b.unbind(this.proxyImage,"error",this)},k}var d=b.jQuery,e=b.console,c=void 0!==e,k=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],a):b.imagesLoaded=a(b.EventEmitter,b.eventie)})(window);
(function(){Backbone.InfiniScroll=function(b,f){function g(b){b={};a.options.includePage&&(b.p=c+1);return b}f=f||{};var a={},d,e,c,k,m=0;k=b.length||25;a.collection=b;a.options=_.defaults(f,{success:function(){},error:function(){},onFetch:function(){},target:$(window),extraParams:{},pageSize:k,scrollOffset:100,remove:!1,strict:!1,includePage:!1});a.destroy=function(){d.off("scroll",a.watchScroll)};a.enableFetch=function(){e=!0};a.disableFetch=function(){e=!1};a.onFetch=function(){a.options.onFetch()};
a.fetchSuccess=function(b,d){a.options.strict&&b.length>=(c+1)*a.options.pageSize||!a.options.strict&&0<d.length?(a.enableFetch(),c+=1):a.disableFetch();a.options.success(b,d)};a.fetchError=function(c,b){a.enableFetch();a.options.error(c,b)};a.watchScroll=function(c){c=d.scrollTop()+d.height();var b=d.get(0).scrollHeight;b||(b=$(document).height());if(c>=b-a.options.scrollOffset&&e&&m<=c){b=a.collection.last();if(!b)return;a.onFetch();a.disableFetch();a.collection.fetch({success:a.fetchSuccess,error:a.fetchError,
remove:a.options.remove,data:$.extend(g(b),a.options.extraParams)})}m=c};d=$(a.options.target);e=!0;c=1;d.on("scroll",a.watchScroll);return a}})();
(function(b,f){function g(c,d){var e,g,f,l=c.nodeName.toLowerCase();return"area"===l?(e=c.parentNode,g=e.name,c.href&&g&&"map"===e.nodeName.toLowerCase()?(f=b("img[usemap=#"+g+"]")[0],!!f&&a(f)):!1):(/input|select|textarea|button|object/.test(l)?!c.disabled:"a"===l?c.href||d:d)&&a(c)}function a(a){return b.expr.filters.visible(a)&&!b(a).parents().addBack().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var d=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:function(a){return function(d,e){return"number"==typeof d?this.each(function(){var a=this;setTimeout(function(){b(a).focus();e&&e.call(a)},d)}):a.apply(this,arguments)}}(b.fn.focus),scrollParent:function(){var a;return a=b.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?b(document):a},zIndex:function(a){if(a!==f)return this.css("zIndex",a);if(this.length){var d,
e;for(a=b(this[0]);a.length&&a[0]!==document;){if(d=a.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(a.css("zIndex"),10),!isNaN(e)&&0!==e))return e;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&b(this).removeAttr("id")})}});b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(a){return function(d){return!!b.data(d,a)}}):
function(a,d,e){return!!b.data(a,e[3])},focusable:function(a){return g(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var d=b.attr(a,"tabindex"),e=isNaN(d);return(e||0<=d)&&g(a,!e)}});b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(a,d){function e(a,c,d,f){return b.each(g,function(){c-=parseFloat(b.css(a,"padding"+this))||0;d&&(c-=parseFloat(b.css(a,"border"+this+"Width"))||0);f&&(c-=parseFloat(b.css(a,"margin"+this))||0)}),c}var g="Width"===d?["Left","Right"]:["Top","Bottom"],
n=d.toLowerCase(),l={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+d]=function(a){return a===f?l["inner"+d].call(this):this.each(function(){b(this).css(n,e(this,a)+"px")})};b.fn["outer"+d]=function(a,c){return"number"!=typeof a?l["outer"+d].call(this,a):this.each(function(){b(this).css(n,e(this,a,!0,c)+"px")})}});b.fn.addBack||(b.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
b("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(b.fn.removeData=function(a){return function(d){return arguments.length?a.call(this,b.camelCase(d)):a.call(this)}}(b.fn.removeData));b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart"in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
b.extend(b.ui,{plugin:{add:function(a,d,e){var g;a=b.ui[a].prototype;for(g in e)a.plugins[g]=a.plugins[g]||[],a.plugins[g].push([d,e[g]])},call:function(a,b,d){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;e.length>b;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,d)}},hasScroll:function(a,d){if("hidden"===b(a).css("overflow"))return!1;var e=d&&"left"===d?"scrollLeft":"scrollTop";return 0<a[e]?!0:(a[e]=1,a[e]=0,!1)}})})(jQuery);
(function(b,f){var g=0,a=Array.prototype.slice,d=b.cleanData;b.cleanData=function(a){for(var c,g=0;null!=(c=a[g]);g++)try{b(c).triggerHandler("remove")}catch(f){}d(a)};b.widget=function(a,c,d){var g,h,n,l,q={},p=a.split(".")[0];a=a.split(".")[1];g=p+"-"+a;d||(d=c,c=b.Widget);b.expr[":"][g.toLowerCase()]=function(a){return!!b.data(a,g)};b[p]=b[p]||{};h=b[p][a];n=b[p][a]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),f):new n(a,c)};b.extend(n,h,{version:d.version,
_proto:b.extend({},d),_childConstructors:[]});l=new c;l.options=b.widget.extend({},l.options);b.each(d,function(a,d){return b.isFunction(d)?(q[a]=function(){var b=function(){return c.prototype[a].apply(this,arguments)},e=function(b){return c.prototype[a].apply(this,b)};return function(){var a,c=this._super,g=this._superApply;return this._super=b,this._superApply=e,a=d.apply(this,arguments),this._super=c,this._superApply=g,a}}(),f):(q[a]=d,f)});n.prototype=b.widget.extend(l,{widgetEventPrefix:h?l.widgetEventPrefix:
a},q,{constructor:n,namespace:p,widgetName:a,widgetFullName:g});h?(b.each(h._childConstructors,function(a,c){var d=c.prototype;b.widget(d.namespace+"."+d.widgetName,n,c._proto)}),delete h._childConstructors):c._childConstructors.push(n);b.widget.bridge(a,n)};b.widget.extend=function(d){for(var c,g,m=a.call(arguments,1),h=0,n=m.length;n>h;h++)for(c in m[h])g=m[h][c],m[h].hasOwnProperty(c)&&g!==f&&(d[c]=b.isPlainObject(g)?b.isPlainObject(d[c])?b.widget.extend({},d[c],g):b.widget.extend({},g):g);return d};
b.widget.bridge=function(d,c){var g=c.prototype.widgetFullName||d;b.fn[d]=function(m){var h="string"==typeof m,n=a.call(arguments,1),l=this;return m=!h&&n.length?b.widget.extend.apply(null,[m].concat(n)):m,h?this.each(function(){var a,c=b.data(this,g);return c?b.isFunction(c[m])&&"_"!==m.charAt(0)?(a=c[m].apply(c,n),a!==c&&a!==f?(l=a&&a.jquery?l.pushStack(a.get()):a,!1):f):b.error("no such method '"+m+"' for "+d+" widget instance"):b.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+
m+"'")}):this.each(function(){var a=b.data(this,g);a?a.option(m||{})._init():b.data(this,g,new c(m,this))}),l}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,c){c=b(c||this.defaultElement||this)[0];this.element=b(c);this.uuid=g++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);
this.bindings=b();this.hoverable=b();this.focusable=b();c!==this&&(b.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=b(c.style?c.ownerDocument:c.document||c),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(a,c){var d,g,h,n=a;
if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof a)if(n={},d=a.split("."),a=d.shift(),d.length){g=n[a]=b.widget.extend({},this.options[a]);for(h=0;d.length-1>h;h++)g[d[h]]=g[d[h]]||{},g=g[d[h]];if(a=d.pop(),c===f)return g[a]===f?null:g[a];g[a]=c}else{if(c===f)return this.options[a]===f?null:this.options[a];n[a]=c}return this._setOptions(n),this},_setOptions:function(a){for(var c in a)this._setOption(c,a[c]);return this},_setOption:function(a,c){return this.options[a]=
c,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,c,d){var g,h=this;"boolean"!=typeof a&&(d=c,c=a,a=!1);d?(c=g=b(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,g=this.widget());b.each(d,function(d,
k){function q(){return a||!0!==h.options.disabled&&!b(this).hasClass("ui-state-disabled")?("string"==typeof k?h[k]:k).apply(h,arguments):f}"string"!=typeof k&&(q.guid=k.guid=k.guid||q.guid||b.guid++);var p=d.match(/^(\w+)\s*(.*)$/),t=p[1]+h.eventNamespace;(p=p[2])?g.delegate(p,t,q):c.bind(t,q)})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(c).undelegate(c)},_delay:function(a,c){var b=this;return setTimeout(function(){return("string"==typeof a?
b[a]:a).apply(b,arguments)},c||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){b(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){b(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){b(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){b(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,c,d){var g,f=this.options[a];
if(d=d||{},c=b.Event(c),c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),c.target=this.element[0],a=c.originalEvent)for(g in a)g in c||(c[g]=a[g]);return this.element.trigger(c,d),!(b.isFunction(f)&&!1===f.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,c){b.Widget.prototype["_"+a]=function(d,g,f){"string"==typeof g&&(g={effect:g});var n,l=g?!0===g||"number"==typeof g?c:g.effect||c:a;g=g||{};"number"==typeof g&&
(g={duration:g});n=!b.isEmptyObject(g);g.complete=f;g.delay&&d.delay(g.delay);n&&b.effects&&b.effects.effect[l]?d[a](g):l!==a&&d[l]?d[l](g.duration,g.easing,f):d.queue(function(c){b(this)[a]();f&&f.call(d[0]);c()})}})})(jQuery);
(function(b){var f=!1;b(document).mouseup(function(){f=!1});b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.bind("mousedown."+this.widgetName,function(a){return g._mouseDown(a)}).bind("click."+this.widgetName,function(a){return!0===b.data(a.target,g.widgetName+".preventClickEvent")?(b.removeData(a.target,g.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(g){if(!f){this._mouseStarted&&this._mouseUp(g);this._mouseDownEvent=g;var a=this,d=1===g.which,e="string"==typeof this.options.cancel&&g.target.nodeName?b(g.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(g)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&(this._mouseStarted=!1!==this._mouseStart(g),!this._mouseStarted)?(g.preventDefault(),!0):(!0===b.data(g.target,this.widgetName+".preventClickEvent")&&b.removeData(g.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(c){return a._mouseMove(c)},this._mouseUpDelegate=function(c){return a._mouseUp(c)},
b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),g.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(g){return b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!g.button?this._mouseUp(g):this._mouseStarted?(this._mouseDrag(g),g.preventDefault()):(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,g),this._mouseStarted?this._mouseDrag(g):this._mouseUp(g)),
!this._mouseStarted)},_mouseUp:function(g){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,g.target===this._mouseDownEvent.target&&b.data(g.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(g)),!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(b){b.widget("ui.draggable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(f){var g=this.options;return this.helper||g.disabled||0<b(f.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(f),this.handle?(b(!0===g.iframeFix?"iframe":g.iframeFix).each(function(){b("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(f){var g=this.options;return this.helper=this._createHelper(f),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,b.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(f),this.originalPageX=f.pageX,this.originalPageY=f.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this._setContainment(),!1===this._trigger("start",f)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,f),this._mouseDrag(f,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,f),!0)},_mouseDrag:function(f,
g){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(f),this.positionAbs=this._convertPositionTo("absolute"),!g){var a=this._uiHash();if(!1===this._trigger("drag",f,a))return this._mouseUp({}),!1;this.position=a.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&
b.ui.ddmanager.drag(this,f),!1},_mouseStop:function(f){var g=this,a=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(a=b.ui.ddmanager.drop(this,f)),this.dropped&&(a=this.dropped,this.dropped=!1),"original"!==this.options.helper||b.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?b(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==g._trigger("stop",f)&&g._clear()}):!1!==this._trigger("stop",f)&&this._clear(),!1):!1},_mouseUp:function(f){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,f),b.ui.mouse.prototype._mouseUp.call(this,f)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(f){return this.options.handle?
!!b(f.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(f){var g=this.options;f=b.isFunction(g.helper)?b(g.helper.apply(this.element[0],[f])):"clone"===g.helper?this.element.clone().removeAttr("id"):this.element;return f.parents("body").length||f.appendTo("parent"===g.appendTo?this.element[0].parentNode:g.appendTo),f[0]===this.element[0]||/(fixed|absolute)/.test(f.css("position"))||f.css("position","absolute"),f},_adjustOffsetFromHelper:function(f){"string"==
typeof f&&(f=f.split(" "));b.isArray(f)&&(f={left:+f[0],top:+f[1]||0});"left"in f&&(this.offset.click.left=f.left+this.margins.left);"right"in f&&(this.offset.click.left=this.helperProportions.width-f.right+this.margins.left);"top"in f&&(this.offset.click.top=f.top+this.margins.top);"bottom"in f&&(this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top)},_getParentOffset:function(){var f=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
b.contains(this.scrollParent[0],this.offsetParent[0])&&(f.left+=this.scrollParent.scrollLeft(),f.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(f={top:0,left:0}),{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();
return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,g,a,d=this.options;return d.containment?"window"===d.containment?(this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===d.containment?(this.containment=[0,0,b(document).width()-this.helperProportions.width-this.margins.left,(b(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment.constructor===Array?(this.containment=d.containment,void 0):("parent"===d.containment&&(d.containment=this.helper[0].parentNode),g=b(d.containment),a=g[0],a&&(f="hidden"!==g.css("overflow"),this.containment=[(parseInt(g.css("borderLeftWidth"),
10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(f?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=g),void 0):(this.containment=null,void 0)},_convertPositionTo:function(f,g){g||(g=this.position);var a="absolute"===f?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:d.scrollTop(),left:d.scrollLeft()}),{top:g.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*a,left:g.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*a}},_generatePosition:function(f){var g,a,d,e,c=this.options,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=f.pageX,h=f.pageY;return this.offset.scroll||(this.offset.scroll=
{top:k.scrollTop(),left:k.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(a=this.relative_container.offset(),g=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):g=this.containment,f.pageX-this.offset.click.left<g[0]&&(m=g[0]+this.offset.click.left),f.pageY-this.offset.click.top<g[1]&&(h=g[1]+this.offset.click.top),f.pageX-this.offset.click.left>g[2]&&(m=g[2]+this.offset.click.left),f.pageY-this.offset.click.top>
g[3]&&(h=g[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,h=g?d-this.offset.click.top>=g[1]||d-this.offset.click.top>g[3]?d:d-this.offset.click.top>=g[1]?d-c.grid[1]:d+c.grid[1]:d,e=c.grid[0]?this.originalPageX+Math.round((m-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,m=g?e-this.offset.click.left>=g[0]||e-this.offset.click.left>g[2]?e:e-this.offset.click.left>=g[0]?e-c.grid[0]:e+c.grid[0]:
e)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(f,g,a){return a=a||this._uiHash(),b.ui.plugin.call(this,f,[g,a]),"drag"===f&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,f,g,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(f,g){var a=b(this).data("ui-draggable"),d=a.options,e=b.extend({},g,{item:a.element});a.sortables=
[];b(d.connectToSortable).each(function(){var c=b.data(this,"ui-sortable");c&&!c.options.disabled&&(a.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",f,e))})},stop:function(f,g){var a=b(this).data("ui-draggable"),d=b.extend({},g,{item:a.element});b.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(f),this.instance.options.helper=this.instance.options._helper,"original"===a.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",f,d))})},drag:function(f,g){var a=b(this).data("ui-draggable"),d=this;b.each(a.sortables,function(){var e=!1,c=this;this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(e=!0,b.each(a.sortables,function(){return this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this!==c&&this.instance._intersectsWith(this.instance.containerCache)&&b.contains(c.instance.element[0],this.instance.element[0])&&(e=!1),e}));e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return g.helper[0]},f.target=this.instance.currentItem[0],this.instance._mouseCapture(f,!0),this.instance._mouseStart(f,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,a._trigger("toSortable",f),a.dropped=
this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(f)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",f,this.instance._uiHash(this.instance)),this.instance._mouseStop(f,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
a._trigger("fromSortable",f),a.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(){var f=b("body"),g=b(this).data("ui-draggable").options;f.css("cursor")&&(g._cursor=f.css("cursor"));f.css("cursor",g.cursor)},stop:function(){var f=b(this).data("ui-draggable").options;f._cursor&&b("body").css("cursor",f._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(f,g){var a=b(g.helper),d=b(this).data("ui-draggable").options;a.css("opacity")&&(d._opacity=a.css("opacity"));a.css("opacity",
d.opacity)},stop:function(f,g){var a=b(this).data("ui-draggable").options;a._opacity&&b(g.helper).css("opacity",a._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var f=b(this).data("ui-draggable");f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName&&(f.overflowOffset=f.scrollParent.offset())},drag:function(f){var g=b(this).data("ui-draggable"),a=g.options,d=!1;g.scrollParent[0]!==document&&"HTML"!==g.scrollParent[0].tagName?(a.axis&&"x"===a.axis||(g.overflowOffset.top+
g.scrollParent[0].offsetHeight-f.pageY<a.scrollSensitivity?g.scrollParent[0].scrollTop=d=g.scrollParent[0].scrollTop+a.scrollSpeed:f.pageY-g.overflowOffset.top<a.scrollSensitivity&&(g.scrollParent[0].scrollTop=d=g.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(g.overflowOffset.left+g.scrollParent[0].offsetWidth-f.pageX<a.scrollSensitivity?g.scrollParent[0].scrollLeft=d=g.scrollParent[0].scrollLeft+a.scrollSpeed:f.pageX-g.overflowOffset.left<a.scrollSensitivity&&(g.scrollParent[0].scrollLeft=
d=g.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(f.pageY-b(document).scrollTop()<a.scrollSensitivity?d=b(document).scrollTop(b(document).scrollTop()-a.scrollSpeed):b(window).height()-(f.pageY-b(document).scrollTop())<a.scrollSensitivity&&(d=b(document).scrollTop(b(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(f.pageX-b(document).scrollLeft()<a.scrollSensitivity?d=b(document).scrollLeft(b(document).scrollLeft()-a.scrollSpeed):b(window).width()-(f.pageX-b(document).scrollLeft())<
a.scrollSensitivity&&(d=b(document).scrollLeft(b(document).scrollLeft()+a.scrollSpeed))));!1!==d&&b.ui.ddmanager&&!a.dropBehaviour&&b.ui.ddmanager.prepareOffsets(g,f)}});b.ui.plugin.add("draggable","snap",{start:function(){var f=b(this).data("ui-draggable"),g=f.options;f.snapElements=[];b(g.snap.constructor!==String?g.snap.items||":data(ui-draggable)":g.snap).each(function(){var a=b(this),d=a.offset();this!==f.element[0]&&f.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:d.top,left:d.left})})},drag:function(f,g){var a,d,e,c,k,m,h,n,l,q,p=b(this).data("ui-draggable"),t=p.options,r=t.snapTolerance,v=g.offset.left,z=v+p.helperProportions.width,B=g.offset.top,w=B+p.helperProportions.height;for(l=p.snapElements.length-1;0<=l;l--)k=p.snapElements[l].left,m=k+p.snapElements[l].width,h=p.snapElements[l].top,n=h+p.snapElements[l].height,k-r>z||v>m+r||h-r>w||B>n+r||!b.contains(p.snapElements[l].item.ownerDocument,p.snapElements[l].item)?(p.snapElements[l].snapping&&p.options.snap.release&&
p.options.snap.release.call(p.element,f,b.extend(p._uiHash(),{snapItem:p.snapElements[l].item})),p.snapElements[l].snapping=!1):("inner"!==t.snapMode&&(a=r>=Math.abs(h-w),d=r>=Math.abs(n-B),e=r>=Math.abs(k-z),c=r>=Math.abs(m-v),a&&(g.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),d&&(g.position.top=p._convertPositionTo("relative",{top:n,left:0}).top-p.margins.top),e&&(g.position.left=p._convertPositionTo("relative",{top:0,left:k-p.helperProportions.width}).left-
p.margins.left),c&&(g.position.left=p._convertPositionTo("relative",{top:0,left:m}).left-p.margins.left)),q=a||d||e||c,"outer"!==t.snapMode&&(a=r>=Math.abs(h-B),d=r>=Math.abs(n-w),e=r>=Math.abs(k-v),c=r>=Math.abs(m-z),a&&(g.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),d&&(g.position.top=p._convertPositionTo("relative",{top:n-p.helperProportions.height,left:0}).top-p.margins.top),e&&(g.position.left=p._convertPositionTo("relative",{top:0,left:k}).left-p.margins.left),
c&&(g.position.left=p._convertPositionTo("relative",{top:0,left:m-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[l].snapping&&(a||d||e||c||q)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,f,b.extend(p._uiHash(),{snapItem:p.snapElements[l].item})),p.snapElements[l].snapping=a||d||e||c||q)}});b.ui.plugin.add("draggable","stack",{start:function(){var f,g=this.data("ui-draggable").options,g=b.makeArray(b(g.stack)).sort(function(a,d){return(parseInt(b(a).css("zIndex"),10)||
0)-(parseInt(b(d).css("zIndex"),10)||0)});g.length&&(f=parseInt(b(g[0]).css("zIndex"),10)||0,b(g).each(function(a){b(this).css("zIndex",f+a)}),this.css("zIndex",f+g.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(f,g){var a=b(g.helper),d=b(this).data("ui-draggable").options;a.css("zIndex")&&(d._zIndex=a.css("zIndex"));a.css("zIndex",d.zIndex)},stop:function(f,g){var a=b(this).data("ui-draggable").options;a._zIndex&&b(g.helper).css("zIndex",a._zIndex)}})})(jQuery);
(function(b){function f(a){return parseInt(a,10)||0}function g(a){return!isNaN(parseInt(a,10))}b.widget("ui.resizable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var a,d,e,c,g,f=this,h=this.options;if(this.element.addClass("ui-resizable"),
b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");a=this.handles.split(",");this.handles={};for(d=0;a.length>d;d++)e=b.trim(a[d]),g="ui-resizable-"+e,c=b("<div class='ui-resizable-handle "+g+"'></div>"),c.css({zIndex:h.zIndex}),"se"===e&&c.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[e]=".ui-resizable-"+e,this.element.append(c)}this._renderAxis=function(a){var c,d,e,g;a=a||this.element;for(c in this.handles)this.handles[c].constructor===
String&&(this.handles[c]=b(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=b(this.handles[c],this.element),g=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),a.css(e,g),this._proportionallyResize()),b(this.handles[c]).length};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){f.resizing||(this.className&&(c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),f.axis=c&&c[1]?c[1]:"se")});h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),f._handles.show())}).mouseleave(function(){h.disabled||f.resizing||(b(this).addClass("ui-resizable-autohide"),f._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var a,d=function(a){b(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),
this},_mouseCapture:function(a){var d,e,c=!1;for(d in this.handles)e=b(this.handles[d])[0],(e===a.target||b.contains(e,a.target))&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(a){var d,e,c,g=this.options,m=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:m.top,left:m.left}),this._renderProxy(),d=f(this.helper.css("left")),
e=f(this.helper.css("top")),g.containment&&(d+=b(g.containment).scrollLeft()||0,e+=b(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-
h.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,c=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===c?this.axis+"-resize":c),h.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var d,e=this.helper,c={},g=this.originalMousePosition,f=this.position.top,h=this.position.left,n=this.size.width,l=this.size.height,
q=a.pageX-g.left||0,g=a.pageY-g.top||0,p=this._change[this.axis];return p?(d=p.apply(this,[a,q,g]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(d=this._updateRatio(d,a)),d=this._respectSize(d,a),this._updateCache(d),this._propagate("resize",a),this.position.top!==f&&(c.top=this.position.top+"px"),this.position.left!==h&&(c.left=this.position.left+"px"),this.size.width!==n&&(c.width=this.size.width+"px"),this.size.height!==l&&(c.height=this.size.height+"px"),e.css(c),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(c)||this._trigger("resize",a,this.ui()),!1):!1},_mouseStop:function(a){this.resizing=!1;var d,e,c,g,f,h,n,l=this.options;return this._helper&&(d=this._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),c=e&&b.ui.hasScroll(d[0],"left")?0:this.sizeDiff.height,g=e?0:this.sizeDiff.width,f={width:this.helper.width()-g,height:this.helper.height()-c},h=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,n=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(b.extend(f,{top:n,left:h})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
e,c,f,m;m=this.options;m={minWidth:g(m.minWidth)?m.minWidth:0,maxWidth:g(m.maxWidth)?m.maxWidth:1/0,minHeight:g(m.minHeight)?m.minHeight:0,maxHeight:g(m.maxHeight)?m.maxHeight:1/0};(this._aspectRatio||a)&&(b=m.minHeight*this.aspectRatio,c=m.minWidth/this.aspectRatio,e=m.maxHeight*this.aspectRatio,f=m.maxWidth/this.aspectRatio,b>m.minWidth&&(m.minWidth=b),c>m.minHeight&&(m.minHeight=c),m.maxWidth>e&&(m.maxWidth=e),m.maxHeight>f&&(m.maxHeight=f));this._vBoundaries=m},_updateCache:function(a){this.offset=
this.helper.offset();g(a.left)&&(this.position.left=a.left);g(a.top)&&(this.position.top=a.top);g(a.height)&&(this.size.height=a.height);g(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,e=this.size,c=this.axis;return g(a.height)?a.width=a.height*this.aspectRatio:g(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===c&&(a.left=b.left+(e.width-a.width),a.top=null),"nw"===c&&(a.top=b.top+(e.height-a.height),a.left=b.left+(e.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,e=this.axis,c=g(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=g(a.height)&&b.maxHeight&&b.maxHeight<a.height,m=g(a.width)&&b.minWidth&&b.minWidth>a.width,h=g(a.height)&&b.minHeight&&b.minHeight>a.height,n=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,q=/sw|nw|w/.test(e),e=/nw|ne|n/.test(e);return m&&(a.width=b.minWidth),h&&(a.height=b.minHeight),c&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),m&&q&&(a.left=n-b.minWidth),c&&q&&(a.left=n-b.maxWidth),
h&&e&&(a.top=l-b.minHeight),f&&e&&(a.top=l-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,e,c,g,f=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(g=this._proportionallyResizeElements[a],!this.borderDif){this.borderDif=[];e=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")];
c=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")];for(b=0;e.length>b;b++)this.borderDif[b]=(parseInt(e[b],10)||0)+(parseInt(c[b],10)||0)}g.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,b,e){return{height:this.originalSize.height+
e}},se:function(a,d,e){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,d,e]))},sw:function(a,d,e){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,d,e]))},ne:function(a,d,e){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,d,e]))},nw:function(a,d,e){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,d,e]))}},_propagate:function(a,d){b.ui.plugin.call(this,a,[d,this.ui()]);
"resize"!==a&&this._trigger(a,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","animate",{stop:function(a){var d=b(this).data("ui-resizable"),e=d.options,c=d._proportionallyResizeElements,g=c.length&&/textarea/i.test(c[0].nodeName),f=g&&b.ui.hasScroll(c[0],"left")?0:d.sizeDiff.height,g=
{width:d.size.width-(g?0:d.sizeDiff.width),height:d.size.height-f},f=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,h=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(b.extend(g,h&&f?{top:h,left:f}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),
10)};c&&c.length&&b(c[0]).css({width:e.width,height:e.height});d._updateCache(e);d._propagate("resize",a)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var a,d,e,c,g,m,h,n=b(this).data("ui-resizable"),l=n.element,q=n.options.containment;(l=q instanceof b?q.get(0):/parent/.test(q)?l.parent().get(0):q)&&(n.containerElement=b(l),/document/.test(q)||q===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:b(document),left:0,top:0,width:b(document).width(),
height:b(document).height()||document.body.parentNode.scrollHeight}):(a=b(l),d=[],b(["Top","Right","Left","Bottom"]).each(function(c,b){d[c]=f(a.css("padding"+b))}),n.containerOffset=a.offset(),n.containerPosition=a.position(),n.containerSize={height:a.innerHeight()-d[3],width:a.innerWidth()-d[1]},e=n.containerOffset,c=n.containerSize.height,g=n.containerSize.width,m=b.ui.hasScroll(l,"left")?l.scrollWidth:g,h=b.ui.hasScroll(l)?l.scrollHeight:c,n.parentData={element:l,left:e.left,top:e.top,width:m,
height:h}))},resize:function(a){var d,e,c,g,f=b(this).data("ui-resizable");d=f.options;e=f.containerOffset;c=f.position;a=f._aspectRatio||a.shiftKey;g={top:0,left:0};var h=f.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(g=e);c.left<(f._helper?e.left:0)&&(f.size.width+=f._helper?f.position.left-e.left:f.position.left-g.left,a&&(f.size.height=f.size.width/f.aspectRatio),f.position.left=d.helper?e.left:0);c.top<(f._helper?e.top:0)&&(f.size.height+=f._helper?f.position.top-e.top:
f.position.top,a&&(f.size.width=f.size.height*f.aspectRatio),f.position.top=f._helper?e.top:0);f.offset.left=f.parentData.left+f.position.left;f.offset.top=f.parentData.top+f.position.top;d=Math.abs(f.offset.left-g.left+f.sizeDiff.width);e=Math.abs((f._helper?f.offset.top-g.top:f.offset.top-e.top)+f.sizeDiff.height);c=f.containerElement.get(0)===f.element.parent().get(0);g=/relative|absolute/.test(f.containerElement.css("position"));c&&g&&(d-=f.parentData.left);d+f.size.width>=f.parentData.width&&
(f.size.width=f.parentData.width-d,a&&(f.size.height=f.size.width/f.aspectRatio));e+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-e,a&&(f.size.width=f.size.height*f.aspectRatio))},stop:function(){var a=b(this).data("ui-resizable"),d=a.options,e=a.containerOffset,c=a.containerPosition,g=a.containerElement,f=b(a.helper),h=f.offset(),n=f.outerWidth()-a.sizeDiff.width,f=f.outerHeight()-a.sizeDiff.height;a._helper&&!d.animate&&/relative/.test(g.css("position"))&&b(this).css({left:h.left-
c.left-e.left,width:n,height:f});a._helper&&!d.animate&&/static/.test(g.css("position"))&&b(this).css({left:h.left-c.left-e.left,width:n,height:f})}});b.ui.plugin.add("resizable","alsoResize",{start:function(){var a=b(this).data("ui-resizable").options,d=function(a){b(a).each(function(){var a=b(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?
d(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],d(a.alsoResize)):b.each(a.alsoResize,function(a){d(a)})},resize:function(a,d){var e=b(this).data("ui-resizable"),c=e.options,g=e.originalSize,f=e.originalPosition,h={height:e.size.height-g.height||0,width:e.size.width-g.width||0,top:e.position.top-f.top||0,left:e.position.left-f.left||0},n=function(a,c){b(a).each(function(){var a=b(this),e=b(this).data("ui-resizable-alsoresize"),g={},f=c&&c.length?c:a.parents(d.originalElement[0]).length?
["width","height"]:["width","height","top","left"];b.each(f,function(a,c){var b=(e[c]||0)+(h[c]||0);b&&0<=b&&(g[c]=b||null)});a.css(g)})};"object"!=typeof c.alsoResize||c.alsoResize.nodeType?n(c.alsoResize):b.each(c.alsoResize,function(a,c){n(a,c)})},stop:function(){b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable","ghost",{start:function(){var a=b(this).data("ui-resizable"),d=a.options,e=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",
height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=b(this).data("ui-resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=b(this).data("ui-resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(){var a=b(this).data("ui-resizable"),
d=a.options,e=a.size,c=a.originalSize,g=a.originalPosition,f=a.axis,h="number"==typeof d.grid?[d.grid,d.grid]:d.grid,n=h[0]||1,l=h[1]||1,q=Math.round((e.width-c.width)/n)*n,e=Math.round((e.height-c.height)/l)*l,p=c.width+q,c=c.height+e,t=d.maxWidth&&p>d.maxWidth,r=d.maxHeight&&c>d.maxHeight,v=d.minWidth&&d.minWidth>p,z=d.minHeight&&d.minHeight>c;d.grid=h;v&&(p+=n);z&&(c+=l);t&&(p-=n);r&&(c-=l);/^(se|s|e)$/.test(f)?(a.size.width=p,a.size.height=c):/^(ne)$/.test(f)?(a.size.width=p,a.size.height=c,a.position.top=
g.top-e):/^(sw)$/.test(f)?(a.size.width=p,a.size.height=c,a.position.left=g.left-q):(a.size.width=p,a.size.height=c,a.position.top=g.top-e,a.position.left=g.left-q)}})})(jQuery);
(function(b,f){function g(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,this.regional[""]);this.dpDiv=a(b("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){b(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&b(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){b.datepicker._isDisabledDatepicker(e.inline?a.parent()[0]:e.input[0])||(b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&b(this).addClass("ui-datepicker-next-hover"))})}function d(a,d){b.extend(a,d);for(var e in d)null==d[e]&&(a[e]=d[e]);return a}b.extend(b.ui,{datepicker:{version:"1.10.3"}});var e;b.extend(g.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return d(this._defaults,a||{}),this},_attachDatepicker:function(a,
d){var e,g,f;e=a.nodeName.toLowerCase();g="div"===e||"span"===e;a.id||(this.uuid+=1,a.id="dp"+this.uuid);f=this._newInst(b(a),g);f.settings=b.extend({},d||{});"input"===e?this._connectDatepicker(a,f):g&&this._inlineDatepicker(a,f)},_newInst:function(c,d){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?a(b("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(a,d){var e=b(a);d.append=b([]);d.trigger=b([]);e.hasClass(this.markerClassName)||(this._attachments(e,d),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(d),b.data(a,"datepicker",d),d.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,d){var e,g,f;e=this._get(d,"appendText");var l=this._get(d,"isRTL");d.append&&d.append.remove();e&&(d.append=b("<span class='"+this._appendClass+
"'>"+e+"</span>"),a[l?"before":"after"](d.append));a.unbind("focus",this._showDatepicker);d.trigger&&d.trigger.remove();e=this._get(d,"showOn");("focus"===e||"both"===e)&&a.focus(this._showDatepicker);("button"===e||"both"===e)&&(g=this._get(d,"buttonText"),f=this._get(d,"buttonImage"),d.trigger=b(this._get(d,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:f,alt:g,title:g}):b("<button type='button'></button>").addClass(this._triggerClass).html(f?b("<img/>").attr({src:f,alt:g,
title:g}):g)),a[l?"before":"after"](d.trigger),d.trigger.click(function(){return b.datepicker._datepickerShowing&&b.datepicker._lastInput===a[0]?b.datepicker._hideDatepicker():b.datepicker._datepickerShowing&&b.datepicker._lastInput!==a[0]?(b.datepicker._hideDatepicker(),b.datepicker._showDatepicker(a[0])):b.datepicker._showDatepicker(a[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,d,e,g,f=new Date(2009,11,20),q=this._get(a,"dateFormat");q.match(/[DM]/)&&(b=function(a){for(g=
e=d=0;a.length>g;g++)a[g].length>d&&(d=a[g].length,e=g);return e},f.setMonth(b(this._get(a,q.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,q.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,d){var e=b(a);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(d.dpDiv),b.data(a,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),
d.settings.disabled&&this._disableDatepicker(a),d.dpDiv.css("display","block"))},_dialogDatepicker:function(a,e,g,f,n){var l,q,p,t,r;a=this._dialogInst;return a||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=b("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],"datepicker",a)),d(a.settings,
f||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(q=document.documentElement.clientWidth,p=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[q/2-100+t,p/2-150+r]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),b.blockUI&&b.blockUI(this.dpDiv),b.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var d,e=b(a),g=b.data(a,"datepicker");e.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),b.removeData(a,"datepicker"),"input"===d?(g.append.remove(),g.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===d||"span"===d)&&e.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var d,e,g=b(a),f=b.data(a,"datepicker");g.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),"input"===d?(a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===d||"span"===d)&&(e=g.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b}))},_disableDatepicker:function(a){var d,e,g=b(a),f=b.data(a,"datepicker");g.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),"input"===d?(a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===d||"span"===d)&&(e=g.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,e,g){var h,n,l,q,p=this._getInst(a);return 2===arguments.length&&"string"==
typeof e?"defaults"===e?b.extend({},b.datepicker._defaults):p?"all"===e?b.extend({},p.settings):this._get(p,e):null:(h=e||{},"string"==typeof e&&(h={},h[e]=g),p&&(this._curInst===p&&this._hideDatepicker(),n=this._getDateDatepicker(a,!0),l=this._getMinMaxDate(p,"min"),q=this._getMinMaxDate(p,"max"),d(p.settings,h),null!==l&&h.dateFormat!==f&&h.minDate===f&&(p.settings.minDate=this._formatDate(p,l)),null!==q&&h.dateFormat!==f&&h.maxDate===f&&(p.settings.maxDate=this._formatDate(p,q)),"disabled"in h&&
(h.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(b(a),p),this._autoSize(p),this._setDate(p,n),this._updateAlternate(p),this._updateDatepicker(p)),f)},_changeDatepicker:function(a,b,d){this._optionDatepicker(a,b,d)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var d=this._getInst(a);d&&(this._setDate(d,b),this._updateDatepicker(d),this._updateAlternate(d))},_getDateDatepicker:function(a,b){var d=
this._getInst(a);return d&&!d.inline&&this._setDateFromField(d,b),d?this._getDate(d):null},_doKeyDown:function(a){var d,e,g,f=b.datepicker._getInst(a.target),l=!0,q=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();l=!1;break;case 13:return g=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",f.dpDiv),g[0]&&b.datepicker._selectDay(a.target,f.selectedMonth,f.selectedYear,g[0]),d=b.datepicker._get(f,
"onSelect"),d?(e=b.datepicker._formatDate(f),d.apply(f.input?f.input[0]:null,[e,f])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target);
l=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);l=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,q?1:-1,"D");l=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(f,"stepBigMonths"):-b.datepicker._get(f,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");l=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&
b.datepicker._adjustDate(a.target,q?-1:1,"D");l=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(f,"stepBigMonths"):+b.datepicker._get(f,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,7,"D");l=a.ctrlKey||a.metaKey;break;default:l=!1}else 36===a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):l=!1;l&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var d,e,g=b.datepicker._getInst(a.target);
return b.datepicker._get(g,"constrainInput")?(d=b.datepicker._possibleChars(b.datepicker._get(g,"dateFormat")),e=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">e||!d||-1<d.indexOf(e)):f},_doKeyUp:function(a){var d;a=b.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{(d=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,b.datepicker._getFormatConfig(a)))&&(b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),
b.datepicker._updateDatepicker(a))}catch(e){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]),!b.datepicker._isDisabledDatepicker(a)&&b.datepicker._lastInput!==a){var e,g,f,n,l,q;e=b.datepicker._getInst(a);b.datepicker._curInst&&b.datepicker._curInst!==e&&(b.datepicker._curInst.dpDiv.stop(!0,!0),e&&b.datepicker._datepickerShowing&&b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));g=(g=b.datepicker._get(e,"beforeShow"))?
g.apply(a,[a,e]):{};!1!==g&&(d(e.settings,g),e.lastVal=null,b.datepicker._lastInput=a,b.datepicker._setDateFromField(e),b.datepicker._inDialog&&(a.value=""),b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),b.datepicker._pos[1]+=a.offsetHeight),f=!1,b(a).parents().each(function(){return f|="fixed"===b(this).css("position"),!f}),n={left:b.datepicker._pos[0],top:b.datepicker._pos[1]},b.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
b.datepicker._updateDatepicker(e),n=b.datepicker._checkOffset(e,n,f),e.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":f?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),e.inline||(l=b.datepicker._get(e,"showAnim"),q=b.datepicker._get(e,"duration"),e.dpDiv.zIndex(b(a).zIndex()+1),b.datepicker._datepickerShowing=!0,b.effects&&b.effects.effect[l]?e.dpDiv.show(l,b.datepicker._get(e,"showOptions"),q):e.dpDiv[l||"show"](l?q:null),b.datepicker._shouldFocusInput(e)&&e.input.focus(),
b.datepicker._curInst=e))}},_updateDatepicker:function(a){this.maxRows=4;e=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,g=this._getNumberOfMonths(a),f=g[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!==g[0]||1!==g[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===b.datepicker._curInst&&b.datepicker._datepickerShowing&&b.datepicker._shouldFocusInput(a)&&a.input.focus();a.yearshtml&&(d=a.yearshtml,setTimeout(function(){d===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);d=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,d,e){var g=a.dpDiv.outerWidth(),
f=a.dpDiv.outerHeight(),l=a.input?a.input.outerWidth():0,q=a.input?a.input.outerHeight():0,p=document.documentElement.clientWidth+(e?0:b(document).scrollLeft()),t=document.documentElement.clientHeight+(e?0:b(document).scrollTop());return d.left-=this._get(a,"isRTL")?g-l:0,d.left-=e&&d.left===a.input.offset().left?b(document).scrollLeft():0,d.top-=e&&d.top===a.input.offset().top+q?b(document).scrollTop():0,d.left-=Math.min(d.left,d.left+g>p&&p>g?Math.abs(d.left+g-p):0),d.top-=Math.min(d.top,d.top+
f>t&&t>f?Math.abs(f+q):0),d},_findPos:function(a){for(var d,e=this._getInst(a),e=this._get(e,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||b.expr.filters.hidden(a));)a=a[e?"previousSibling":"nextSibling"];return d=b(a).offset(),[d.left,d.top]},_hideDatepicker:function(a){var d,e,g,f,l=this._curInst;!l||a&&l!==b.data(a,"datepicker")||this._datepickerShowing&&(d=this._get(l,"showAnim"),e=this._get(l,"duration"),g=function(){b.datepicker._tidyDialog(l)},b.effects&&(b.effects.effect[d]||b.effects[d])?
l.dpDiv.hide(d,b.datepicker._get(l,"showOptions"),e,g):l.dpDiv["slideDown"===d?"slideUp":"fadeIn"===d?"fadeOut":"hide"](d?e:null,g),d||g(),this._datepickerShowing=!1,f=this._get(l,"onClose"),f&&f.apply(l.input?l.input[0]:null,[l.input?l.input.val():"",l]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),b("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var d=b.datepicker._getInst(a[0]);(a[0].id!==b.datepicker._mainDivId&&0===a.parents("#"+b.datepicker._mainDivId).length&&!a.hasClass(b.datepicker.markerClassName)&&!a.closest("."+b.datepicker._triggerClass).length&&b.datepicker._datepickerShowing&&(!b.datepicker._inDialog||!b.blockUI)||a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!==d)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,d,e){a=b(a);var g=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(g,d+("M"===e?this._get(g,"showCurrentAtPos"):0),e),this._updateDatepicker(g))},_gotoToday:function(a){var d;a=b(a);var e=this._getInst(a[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(d=new Date,e.selectedDay=d.getDate(),e.drawMonth=e.selectedMonth=d.getMonth(),e.drawYear=e.selectedYear=d.getFullYear());this._notifyChange(e);
this._adjustDate(a)},_selectMonthYear:function(a,d,e){a=b(a);var g=this._getInst(a[0]);g["selected"+("M"===e?"Month":"Year")]=g["draw"+("M"===e?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(a)},_selectDay:function(a,d,e,g){var f,l=b(a);b(g).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])||(f=this._getInst(l[0]),f.selectedDay=f.currentDay=b("a",g).html(),f.selectedMonth=f.currentMonth=d,f.selectedYear=f.currentYear=e,this._selectDate(a,
this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=b(a);this._selectDate(a,"")},_selectDate:function(a,d){var e;e=b(a);var g=this._getInst(e[0]);d=null!=d?d:this._formatDate(g);g.input&&g.input.val(d);this._updateAlternate(g);(e=this._get(g,"onSelect"))?e.apply(g.input?g.input[0]:null,[d,g]):g.input&&g.input.trigger("change");g.inline?this._updateDatepicker(g):(this._hideDatepicker(),this._lastInput=g.input[0],"object"!=typeof g.input[0]&&g.input.focus(),this._lastInput=
null)},_updateAlternate:function(a){var d,e,g,f=this._get(a,"altField");f&&(d=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),g=this.formatDate(d,e,this._getFormatConfig(a)),b(f).each(function(){b(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,d,
e){if(null==a||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var g,n,l,q,p=0,t=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),r=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,v=(e?e.dayNames:null)||this._defaults.dayNames,z=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var B=-1,w=-1,A=-1,C=-1,J=!1,F=function(b){b=
a.length>g+1&&a.charAt(g+1)===b;return b&&g++,b},M=function(a){var b=F(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=d.substring(p).match(a);if(!a)throw"Missing number at position "+p;return p+=a[0].length,parseInt(a[0],10)},u=function(a,c,e){var g=-1;a=b.map(F(a)?e:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(b.each(a,function(a,b){var c=b[1];return d.substr(p,c.length).toLowerCase()===c.toLowerCase()?(g=b[0],p+=c.length,
!1):f}),-1!==g)return g+1;throw"Unknown name at position "+p;},x=function(){if(d.charAt(p)!==a.charAt(g))throw"Unexpected literal at position "+p;p++};for(g=0;a.length>g;g++)if(J)"'"!==a.charAt(g)||F("'")?x():J=!1;else switch(a.charAt(g)){case "d":A=M("d");break;case "D":u("D",r,v);break;case "o":C=M("o");break;case "m":w=M("m");break;case "M":w=u("M",z,e);break;case "y":B=M("y");break;case "@":q=new Date(M("@"));B=q.getFullYear();w=q.getMonth()+1;A=q.getDate();break;case "!":q=new Date((M("!")-this._ticksTo1970)/
1E4);B=q.getFullYear();w=q.getMonth()+1;A=q.getDate();break;case "'":F("'")?x():J=!0;break;default:x()}if(d.length>p&&(l=d.substr(p),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;if(-1===B?B=(new Date).getFullYear():100>B&&(B+=(new Date).getFullYear()-(new Date).getFullYear()%100+(t>=B?0:-100)),-1<C){w=1;for(A=C;!(n=this._getDaysInMonth(B,w-1),n>=A);)w++,A-=n}if(q=this._daylightSavingAdjust(new Date(B,w-1,A)),q.getFullYear()!==B||q.getMonth()+1!==w||q.getDate()!==A)throw"Invalid date";
return q},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,d){if(!b)return"";var e,g=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,f=(d?d.dayNames:null)||this._defaults.dayNames,q=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort;
d=(d?d.monthNames:null)||this._defaults.monthNames;var p=function(b){b=a.length>e+1&&a.charAt(e+1)===b;return b&&e++,b},t=function(a,b,c){b=""+b;if(p(a))for(;c>b.length;)b="0"+b;return b},r=function(a,b,c,d){return p(a)?d[b]:c[b]},v="",z=!1;if(b)for(e=0;a.length>e;e++)if(z)"'"!==a.charAt(e)||p("'")?v+=a.charAt(e):z=!1;else switch(a.charAt(e)){case "d":v+=t("d",b.getDate(),2);break;case "D":v+=r("D",b.getDay(),g,f);break;case "o":v+=t("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-
(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":v+=t("m",b.getMonth()+1,2);break;case "M":v+=r("M",b.getMonth(),q,d);break;case "y":v+=p("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":v+=b.getTime();break;case "!":v+=1E4*b.getTime()+this._ticksTo1970;break;case "'":p("'")?v+="'":z=!0;break;default:v+=a.charAt(e)}return v},_possibleChars:function(a){var b,d="",e=!1,g=function(d){d=a.length>b+1&&a.charAt(b+1)===d;return d&&b++,d};for(b=0;a.length>
b;b++)if(e)"'"!==a.charAt(b)||g("'")?d+=a.charAt(b):e=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":d+="0123456789";break;case "D":case "M":return null;case "'":g("'")?d+="'":e=!0;break;default:d+=a.charAt(b)}return d},_get:function(a,b){return a.settings[b]!==f?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var d=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),f=g,q=this._getFormatConfig(a);
try{f=this.parseDate(d,e,q)||g}catch(p){e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,d,e){var g=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(d){try{return b.datepicker.parseDate(b.datepicker._get(a,
"dateFormat"),d,b.datepicker._getFormatConfig(a))}catch(e){}for(var g=(d.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date,f=g.getFullYear(),h=g.getMonth(),g=g.getDate(),k=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,n=k.exec(d);n;){switch(n[2]||"d"){case "d":case "D":g+=parseInt(n[1],10);break;case "w":case "W":g+=7*parseInt(n[1],10);break;case "m":case "M":h+=parseInt(n[1],10);g=Math.min(g,b.datepicker._getDaysInMonth(f,h));break;case "y":case "Y":f+=parseInt(n[1],10),g=Math.min(g,b.datepicker._getDaysInMonth(f,
h))}n=k.exec(d)}return new Date(f,h,g)};d=null==d||""===d?e:"string"==typeof d?f(d):"number"==typeof d?isNaN(d)?e:g(d):new Date(d.getTime());return d=d&&"Invalid Date"==""+d?e:d,d&&(d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0)),this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,d){var e=!b,g=a.selectedMonth,f=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));
a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();g===a.selectedMonth&&f===a.selectedYear||d||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var d=this._get(a,"stepMonths"),
e="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).bind(this.getAttribute("data-event"),{prev:function(){b.datepicker._adjustDate(e,-d,"M")},next:function(){b.datepicker._adjustDate(e,+d,"M")},hide:function(){b.datepicker._hideDatepicker()},today:function(){b.datepicker._gotoToday(e)},selectDay:function(){return b.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return b.datepicker._selectMonthYear(e,
this,"M"),!1},selectYear:function(){return b.datepicker._selectMonthYear(e,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,d,e,g,f,q,p,t,r,v,z,B,w,A,C,J,F,M,u,x,E,D,N,P,T,W,R,U=new Date,U=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),I=this._get(a,"isRTL");q=this._get(a,"showButtonPanel");e=this._get(a,"hideIfNoPrevNext");f=this._get(a,"navigationAsDateFormat");var Q=this._getNumberOfMonths(a),y=this._get(a,"showCurrentAtPos");
g=this._get(a,"stepMonths");var O=1!==Q[0]||1!==Q[1],G=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),H=this._getMinMaxDate(a,"min"),K=this._getMinMaxDate(a,"max"),y=a.drawMonth-y,L=a.drawYear;if(0>y&&(y+=12,L--),K){b=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth()-Q[0]*Q[1]+1,K.getDate()));for(b=H&&H>b?H:b;this._daylightSavingAdjust(new Date(L,y,1))>b;)y--,0>y&&(y=11,L--)}a.drawMonth=y;a.drawYear=L;b=this._get(a,"prevText");
b=f?this.formatDate(b,this._daylightSavingAdjust(new Date(L,y-g,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,L,y)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"e":"w")+"'>"+b+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"e":"w")+"'>"+b+"</span></a>";d=this._get(a,"nextText");d=f?this.formatDate(d,
this._daylightSavingAdjust(new Date(L,y+g,1)),this._getFormatConfig(a)):d;e=this._canAdjustMonth(a,1,L,y)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"w":"e")+"'>"+d+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"w":"e")+"'>"+d+"</span></a>";g=this._get(a,"currentText");d=this._get(a,"gotoCurrent")&&
a.currentDay?G:U;g=f?this.formatDate(g,d,this._getFormatConfig(a)):g;f=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";q=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(I?f:"")+(this._isInRange(a,d)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
g+"</button>":"")+(I?"":f)+"</div>":"";f=parseInt(this._get(a,"firstDay"),10);f=isNaN(f)?0:f;g=this._get(a,"showWeek");d=this._get(a,"dayNames");p=this._get(a,"dayNamesMin");t=this._get(a,"monthNames");r=this._get(a,"monthNamesShort");v=this._get(a,"beforeShowDay");z=this._get(a,"showOtherMonths");B=this._get(a,"selectOtherMonths");w=this._getDefaultDate(a);A="";for(J=0;Q[0]>J;J++){F="";this.maxRows=4;for(M=0;Q[1]>M;M++){if(u=this._daylightSavingAdjust(new Date(L,y,a.selectedDay)),C=" ui-corner-all",
x="",O){if(x+="<div class='ui-datepicker-group",1<Q[1])switch(M){case 0:x+=" ui-datepicker-group-first";C=" ui-corner-"+(I?"right":"left");break;case Q[1]-1:x+=" ui-datepicker-group-last";C=" ui-corner-"+(I?"left":"right");break;default:x+=" ui-datepicker-group-middle",C=""}x+="'>"}x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===J?I?e:b:"")+(/all|right/.test(C)&&0===J?I?b:e:"")+this._generateMonthYearHeader(a,y,L,H,K,0<J||0<M,t,r)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
E=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(C=0;7>C;C++)D=(C+f)%7,E+="<th"+(5<=(C+f+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[D]+"'>"+p[D]+"</span></th>";x+=E+"</tr></thead><tbody>";E=this._getDaysInMonth(L,y);L===a.selectedYear&&y===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E));C=(this._getFirstDayOfMonth(L,y)-f+7)%7;E=Math.ceil((C+E)/7);this.maxRows=E=O?this.maxRows>E?this.maxRows:E:E;D=this._daylightSavingAdjust(new Date(L,
y,1-C));for(N=0;E>N;N++){x+="<tr>";P=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(D)+"</td>":"";for(C=0;7>C;C++)T=v?v.apply(a.input?a.input[0]:null,[D]):[!0,""],R=(W=D.getMonth()!==y)&&!B||!T[0]||H&&H>D||K&&D>K,P+="<td class='"+(5<=(C+f+6)%7?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(D.getTime()===u.getTime()&&y===a.selectedMonth&&a._keyEvent||w.getTime()===D.getTime()&&w.getTime()===u.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+
" ui-state-disabled":"")+(W&&!z?"":" "+T[1]+(D.getTime()===G.getTime()?" "+this._currentClass:"")+(D.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(W&&!z||!T[2]?"":" title='"+T[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(W&&!z?"&#xa0;":R?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===U.getTime()?" ui-state-highlight":"")+(D.getTime()===
G.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);x+=P+"</tr>"}y++;11<y&&(y=0,L++);x+="</tbody></table>"+(O?"</div>"+(0<Q[0]&&M===Q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");F+=x}A+=F}return A+=q,a._keyEvent=!1,A},_generateMonthYearHeader:function(a,b,d,e,g,f,q,p){var t,r,v,z=this._get(a,"changeMonth"),B=this._get(a,"changeYear"),w=this._get(a,"showMonthAfterYear"),
A="<div class='ui-datepicker-title'>",C="";if(f||!z)C+="<span class='ui-datepicker-month'>"+q[b]+"</span>";else{q=e&&e.getFullYear()===d;t=g&&g.getFullYear()===d;C+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(r=0;12>r;r++)(!q||r>=e.getMonth())&&(!t||g.getMonth()>=r)&&(C+="<option value='"+r+"'"+(r===b?" selected='selected'":"")+">"+p[r]+"</option>");C+="</select>"}if(w||(A+=C+(!f&&z&&B?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!B)A+="<span class='ui-datepicker-year'>"+
d+"</span>";else{p=this._get(a,"yearRange").split(":");v=(new Date).getFullYear();q=function(a){a=a.match(/c[+\-].*/)?d+parseInt(a.substring(1),10):a.match(/[+\-].*/)?v+parseInt(a,10):parseInt(a,10);return isNaN(a)?v:a};b=q(p[0]);p=Math.max(b,q(p[1]||""));b=e?Math.max(b,e.getFullYear()):b;p=g?Math.min(p,g.getFullYear()):p;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=b;b++)a.yearshtml+="<option value='"+b+"'"+(b===d?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";A+=a.yearshtml;a.yearshtml=null}return A+=this._get(a,"yearSuffix"),w&&(A+=(!f&&z&&B?"":"&#xa0;")+C),A+="</div>"},_adjustInstDate:function(a,b,d){var e=a.drawYear+("Y"===d?b:0),g=a.drawMonth+("M"===d?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,g))+("D"===d?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,g,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();("M"===
d||"Y"===d)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var d=this._getMinMaxDate(a,"min"),e=this._getMinMaxDate(a,"max"),d=d&&d>b?d:b;return e&&d>e?e:d},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,d,e){var g=this._getNumberOfMonths(a);d=this._daylightSavingAdjust(new Date(d,e+(0>b?b:g[0]*g[1]),1));return 0>b&&d.setDate(this._getDaysInMonth(d.getFullYear(),d.getMonth())),this._isInRange(a,d)},_isInRange:function(a,b){var d,e,g=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),q=null,p=null,t=
this._get(a,"yearRange");return t&&(d=t.split(":"),e=(new Date).getFullYear(),q=parseInt(d[0],10),p=parseInt(d[1],10),d[0].match(/[+\-].*/)&&(q+=e),d[1].match(/[+\-].*/)&&(p+=e)),(!g||b.getTime()>=g.getTime())&&(!f||b.getTime()<=f.getTime())&&(!q||b.getFullYear()>=q)&&(!p||p>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,d,e){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(e,d,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});b.fn.datepicker=function(a){if(!this.length)return this;
b.datepicker.initialized||(b(document).mousedown(b.datepicker._checkExternalClick),b.datepicker.initialized=!0);0===b("#"+b.datepicker._mainDivId).length&&b("body").append(b.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(d)):this.each(function(){"string"==typeof a?b.datepicker["_"+
a+"Datepicker"].apply(b.datepicker,[this].concat(d)):b.datepicker._attachDatepicker(this,a)}):b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(d))};b.datepicker=new g;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.10.3"})(jQuery);
!function(b){var f={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,
nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4E3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};b.fn.bxSlider=function(g){if(0==this.length)return this;if(1<this.length)return this.each(function(){b(this).bxSlider(g)}),
this;var a={},d=this,e=b(window).width(),c=b(window).height(),k=function(){a.settings=b.extend({},f,g);a.settings.slideWidth=parseInt(a.settings.slideWidth);a.children=d.children(a.settings.slideSelector);a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length);a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length);a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length));a.active={index:a.settings.startSlide};a.carousel=
1<a.settings.minSlides||1<a.settings.maxSlides;a.carousel&&(a.settings.preloadImages="all");a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin;a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin;a.working=!1;a.controls={};a.interval=null;a.animProp="vertical"==a.settings.mode?"top":"left";a.usingCSS=a.settings.useCSS&&"fade"!=a.settings.mode&&function(){var b=document.createElement("div"),
c=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],d;for(d in c)if(void 0!==b.style[c[d]])return a.cssPrefix=c[d].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}();"vertical"==a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides);d.data("origStyle",d.attr("style"));d.children(a.settings.slideSelector).each(function(){b(this).data("origStyle",b(this).attr("style"))});m()},m=function(){d.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');
a.viewport=d.parent();a.loader=b('<div class="bx-loading" />');a.viewport.prepend(a.loader);d.css({width:"horizontal"==a.settings.mode?100*a.children.length+215+"%":"auto",position:"relative"});a.usingCSS&&a.settings.easing?d.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing");t();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"});a.viewport.parent().css({maxWidth:q()});a.settings.pager||a.viewport.parent().css({margin:"0 auto 0px"});
a.children.css({"float":"horizontal"==a.settings.mode?"left":"none",listStyle:"none",position:"relative"});a.children.css("width",p());"horizontal"==a.settings.mode&&0<a.settings.slideMargin&&a.children.css("marginRight",a.settings.slideMargin);"vertical"==a.settings.mode&&0<a.settings.slideMargin&&a.children.css("marginBottom",a.settings.slideMargin);"fade"==a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:50,display:"block"}));
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
a.controls.el=b('<div class="bx-controls" />');a.settings.captions&&A();a.active.last=a.settings.startSlide==r()-1;a.settings.video&&d.fitVids();var c=a.children.eq(a.settings.startSlide);"all"==a.settings.preloadImages&&(c=a.children);a.settings.ticker?a.settings.pager=!1:(a.settings.pager&&(a.settings.pagerCustom?a.pagerEl=b(a.settings.pagerCustom):(a.pagerEl=b('<div class="bx-pager" />'),a.settings.pagerSelector?b(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),
x()),a.pagerEl.delegate("a","click",u)),a.settings.controls&&(a.controls.next=b('<a class="bx-next" href="">'+a.settings.nextText+"</a>"),a.controls.prev=b('<a class="bx-prev" href="">'+a.settings.prevText+"</a>"),a.controls.next.bind("click",C),a.controls.prev.bind("click",I),a.settings.nextSelector&&b(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&b(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=
b('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))),a.settings.auto&&a.settings.autoControls&&(a.controls.start=b('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=b('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=b('<div class="bx-controls-auto" />'),
<<<<<<< HEAD
a.controls.autoEl.delegate(".bx-start","click",F),a.controls.autoEl.delegate(".bx-stop","click",L),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?b(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),D(a.settings.autoStart?"stop":"start")),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&
a.viewport.after(a.controls.el));h(c,p)},h=function(a,c){var d=a.find("img, iframe").length;if(0==d)return c(),void 0;var e=0;a.find("img, iframe").each(function(){b(this).one("load",function(){++e==d&&c()}).each(function(){this.complete&&b(this).load()})})},p=function(){if(a.settings.infiniteLoop&&"fade"!=a.settings.mode&&!a.settings.ticker){var c="vertical"==a.settings.mode?a.settings.minSlides:a.settings.maxSlides,e=a.children.slice(0,c).clone().addClass("bx-clone"),c=a.children.slice(-c).clone().addClass("bx-clone");
d.append(e).prepend(c)}a.loader.remove();w();"vertical"==a.settings.mode&&(a.settings.adaptiveHeight=!0);a.viewport.height(n());d.redrawSlider();a.settings.onSliderLoad(a.active.index);a.initialized=!0;a.settings.responsive&&b(window).bind("resize",P);a.settings.auto&&a.settings.autoStart&&O();a.settings.ticker&&T();a.settings.pager&&y(a.settings.startSlide);a.settings.controls&&M();a.settings.touchEnabled&&!a.settings.ticker&&(a.touch={start:{x:0,y:0},end:{x:0,y:0}},a.viewport.bind("touchstart",
R))},n=function(){var c=0,d=b();if("vertical"==a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var e=1==a.settings.moveSlides?a.active.index:a.active.index*v(),d=a.children.eq(e);for(i=1;i<=a.settings.maxSlides-1;i++)d=e+i>=a.children.length?d.add(a.children.eq(i-1)):d.add(a.children.eq(e+i))}else d=a.children.eq(a.active.index);else d=a.children;return"vertical"==a.settings.mode?(d.each(function(){c+=b(this).outerHeight()}),0<a.settings.slideMargin&&(c+=a.settings.slideMargin*(a.settings.minSlides-
1))):c=Math.max.apply(Math,d.map(function(){return b(this).outerHeight(!1)}).get()),c},m=function(){return"100%"},q=function(){var b=a.settings.slideWidth,c=a.viewport.width();return 0==a.settings.slideWidth||a.settings.slideWidth>c&&!a.carousel||"vertical"==a.settings.mode?b=c:1<a.settings.maxSlides&&"horizontal"==a.settings.mode&&(c>a.maxThreshold||c<a.minThreshold&&(b=(c-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides)),b},t=function(){var b=1;"horizontal"==a.settings.mode&&
0<a.settings.slideWidth?a.viewport.width()<a.minThreshold?b=a.settings.minSlides:a.viewport.width()>a.maxThreshold?b=a.settings.maxSlides:(b=a.children.first().width(),b=Math.floor(a.viewport.width()/b)):"vertical"==a.settings.mode&&(b=a.settings.minSlides);return b},r=function(){var b=0;if(0<a.settings.moveSlides)if(a.settings.infiniteLoop)b=a.children.length/v();else for(var c=0,d=0;c<a.children.length;)++b,c=d+t(),d+=a.settings.moveSlides<=t()?a.settings.moveSlides:t();else b=Math.ceil(a.children.length/
t());return b},v=function(){return 0<a.settings.moveSlides&&a.settings.moveSlides<=t()?a.settings.moveSlides:t()},w=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop)if("horizontal"==a.settings.mode){var b=a.children.last(),c=b.position();B(-(c.left-(a.viewport.width()-b.width())),"reset",0)}else"vertical"==a.settings.mode&&(c=a.children.eq(a.children.length-a.settings.minSlides).position(),B(-c.top,"reset",0));else c=a.children.eq(a.active.index*v()).position(),
a.active.index==r()-1&&(a.active.last=!0),void 0!=c&&("horizontal"==a.settings.mode?B(-c.left,"reset",0):"vertical"==a.settings.mode&&B(-c.top,"reset",0))},B=function(b,c,e,g){if(a.usingCSS)b="vertical"==a.settings.mode?"translate3d(0, "+b+"px, 0)":"translate3d("+b+"px, 0, 0)",d.css("-"+a.cssPrefix+"-transition-duration",e/1E3+"s"),"slide"==c?(d.css(a.animProp,b),d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");
E()})):"reset"==c?d.css(a.animProp,b):"ticker"==c&&(d.css("-"+a.cssPrefix+"-transition-timing-function","linear"),d.css(a.animProp,b),d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");B(g.resetValue,"reset",0);W()}));else{var f={};f[a.animProp]=b;"slide"==c?d.animate(f,e,a.settings.easing,function(){E()}):"reset"==c?d.css(a.animProp,b):"ticker"==c&&d.animate(f,speed,"linear",function(){B(g.resetValue,
"reset",0);W()})}},x=function(){for(var c="",d=r(),e=0;d>e;e++){var g="";a.settings.buildPager&&b.isFunction(a.settings.buildPager)?(g=a.settings.buildPager(e),a.pagerEl.addClass("bx-custom-pager")):(g=e+1,a.pagerEl.addClass("bx-default-pager"));c+='<div class="bx-pager-item"><a href="" data-slide-index="'+e+'" class="bx-pager-link">'+g+"</a></div>"}a.pagerEl.html(c)},A=function(){a.children.each(function(){var a=b(this).find("img:first").attr("title");void 0!=a&&(""+a).length&&b(this).append('<div class="bx-caption"><span>'+
a+"</span></div>")})},C=function(b){a.settings.auto&&d.stopAuto();d.goToNextSlide();b.preventDefault()},I=function(b){a.settings.auto&&d.stopAuto();d.goToPrevSlide();b.preventDefault()},F=function(a){d.startAuto();a.preventDefault()},L=function(a){d.stopAuto();a.preventDefault()},u=function(c){a.settings.auto&&d.stopAuto();var e=b(c.currentTarget),e=parseInt(e.attr("data-slide-index"));e!=a.active.index&&d.goToSlide(e);c.preventDefault()},y=function(c){var d=a.children.length;return"short"==a.settings.pagerType?
=======
a.controls.autoEl.delegate(".bx-start","click",F),a.controls.autoEl.delegate(".bx-stop","click",M),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?b(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),D(a.settings.autoStart?"stop":"start")),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&
a.viewport.after(a.controls.el));h(c,n)},h=function(a,c){var d=a.find("img, iframe").length;if(0==d)return c(),void 0;var e=0;a.find("img, iframe").each(function(){b(this).one("load",function(){++e==d&&c()}).each(function(){this.complete&&b(this).load()})})},n=function(){if(a.settings.infiniteLoop&&"fade"!=a.settings.mode&&!a.settings.ticker){var c="vertical"==a.settings.mode?a.settings.minSlides:a.settings.maxSlides,e=a.children.slice(0,c).clone().addClass("bx-clone"),c=a.children.slice(-c).clone().addClass("bx-clone");
d.append(e).prepend(c)}a.loader.remove();z();"vertical"==a.settings.mode&&(a.settings.adaptiveHeight=!0);a.viewport.height(l());d.redrawSlider();a.settings.onSliderLoad(a.active.index);a.initialized=!0;a.settings.responsive&&b(window).bind("resize",Q);a.settings.auto&&a.settings.autoStart&&P();a.settings.ticker&&T();a.settings.pager&&x(a.settings.startSlide);a.settings.controls&&N();a.settings.touchEnabled&&!a.settings.ticker&&(a.touch={start:{x:0,y:0},end:{x:0,y:0}},a.viewport.bind("touchstart",
R))},l=function(){var c=0,d=b();if("vertical"==a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var e=1==a.settings.moveSlides?a.active.index:a.active.index*v(),d=a.children.eq(e);for(i=1;i<=a.settings.maxSlides-1;i++)d=e+i>=a.children.length?d.add(a.children.eq(i-1)):d.add(a.children.eq(e+i))}else d=a.children.eq(a.active.index);else d=a.children;return"vertical"==a.settings.mode?(d.each(function(){c+=b(this).outerHeight()}),0<a.settings.slideMargin&&(c+=a.settings.slideMargin*(a.settings.minSlides-
1))):c=Math.max.apply(Math,d.map(function(){return b(this).outerHeight(!1)}).get()),c},q=function(){return"100%"},p=function(){var b=a.settings.slideWidth,c=a.viewport.width();return 0==a.settings.slideWidth||a.settings.slideWidth>c&&!a.carousel||"vertical"==a.settings.mode?b=c:1<a.settings.maxSlides&&"horizontal"==a.settings.mode&&(c>a.maxThreshold||c<a.minThreshold&&(b=(c-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides)),b},t=function(){var b=1;"horizontal"==a.settings.mode&&
0<a.settings.slideWidth?a.viewport.width()<a.minThreshold?b=a.settings.minSlides:a.viewport.width()>a.maxThreshold?b=a.settings.maxSlides:(b=a.children.first().width(),b=Math.floor(a.viewport.width()/b)):"vertical"==a.settings.mode&&(b=a.settings.minSlides);return b},r=function(){var b=0;if(0<a.settings.moveSlides)if(a.settings.infiniteLoop)b=a.children.length/v();else for(var c=0,d=0;c<a.children.length;)++b,c=d+t(),d+=a.settings.moveSlides<=t()?a.settings.moveSlides:t();else b=Math.ceil(a.children.length/
t());return b},v=function(){return 0<a.settings.moveSlides&&a.settings.moveSlides<=t()?a.settings.moveSlides:t()},z=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop)if("horizontal"==a.settings.mode){var b=a.children.last(),c=b.position();B(-(c.left-(a.viewport.width()-b.width())),"reset",0)}else"vertical"==a.settings.mode&&(c=a.children.eq(a.children.length-a.settings.minSlides).position(),B(-c.top,"reset",0));else c=a.children.eq(a.active.index*v()).position(),
a.active.index==r()-1&&(a.active.last=!0),void 0!=c&&("horizontal"==a.settings.mode?B(-c.left,"reset",0):"vertical"==a.settings.mode&&B(-c.top,"reset",0))},B=function(b,c,e,g){if(a.usingCSS)b="vertical"==a.settings.mode?"translate3d(0, "+b+"px, 0)":"translate3d("+b+"px, 0, 0)",d.css("-"+a.cssPrefix+"-transition-duration",e/1E3+"s"),"slide"==c?(d.css(a.animProp,b),d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");
E()})):"reset"==c?d.css(a.animProp,b):"ticker"==c&&(d.css("-"+a.cssPrefix+"-transition-timing-function","linear"),d.css(a.animProp,b),d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");B(g.resetValue,"reset",0);W()}));else{var f={};f[a.animProp]=b;"slide"==c?d.animate(f,e,a.settings.easing,function(){E()}):"reset"==c?d.css(a.animProp,b):"ticker"==c&&d.animate(f,speed,"linear",function(){B(g.resetValue,
"reset",0);W()})}},w=function(){for(var c="",d=r(),e=0;d>e;e++){var g="";a.settings.buildPager&&b.isFunction(a.settings.buildPager)?(g=a.settings.buildPager(e),a.pagerEl.addClass("bx-custom-pager")):(g=e+1,a.pagerEl.addClass("bx-default-pager"));c+='<div class="bx-pager-item"><a href="" data-slide-index="'+e+'" class="bx-pager-link">'+g+"</a></div>"}a.pagerEl.html(c)},A=function(){a.children.each(function(){var a=b(this).find("img:first").attr("title");void 0!=a&&(""+a).length&&b(this).append('<div class="bx-caption"><span>'+
a+"</span></div>")})},C=function(b){a.settings.auto&&d.stopAuto();d.goToNextSlide();b.preventDefault()},J=function(b){a.settings.auto&&d.stopAuto();d.goToPrevSlide();b.preventDefault()},F=function(a){d.startAuto();a.preventDefault()},M=function(a){d.stopAuto();a.preventDefault()},u=function(c){a.settings.auto&&d.stopAuto();var e=b(c.currentTarget),e=parseInt(e.attr("data-slide-index"));e!=a.active.index&&d.goToSlide(e);c.preventDefault()},x=function(c){var d=a.children.length;return"short"==a.settings.pagerType?
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
(1<a.settings.maxSlides&&(d=Math.ceil(a.children.length/a.settings.maxSlides)),a.pagerEl.html(c+1+a.settings.pagerShortSeparator+d),void 0):(a.pagerEl.find("a").removeClass("active"),a.pagerEl.each(function(a,d){b(d).find("a").eq(c).addClass("active")}),void 0)},E=function(){if(a.settings.infiniteLoop){var b="";0==a.active.index?b=a.children.eq(0).position():a.active.index==r()-1&&a.carousel?b=a.children.eq((r()-1)*v()).position():a.active.index==a.children.length-1&&(b=a.children.eq(a.children.length-
1).position());"horizontal"==a.settings.mode?B(-b.left,"reset",0):"vertical"==a.settings.mode&&B(-b.top,"reset",0)}a.working=!1;a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},D=function(b){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[b]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+b+")").addClass("active"))},M=function(){1==r()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):
!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0==a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index==r()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},O=function(){0<a.settings.autoDelay?setTimeout(d.startAuto,a.settings.autoDelay):d.startAuto();a.settings.autoHover&&d.hover(function(){a.interval&&(d.stopAuto(!0),
a.autoPaused=!0)},function(){a.autoPaused&&(d.startAuto(!0),a.autoPaused=null)})},T=function(){var c=0;"next"==a.settings.autoDirection?d.append(a.children.clone().addClass("bx-clone")):(d.prepend(a.children.clone().addClass("bx-clone")),c=a.children.first().position(),c="horizontal"==a.settings.mode?-c.left:-c.top);B(c,"reset",0);a.settings.pager=!1;a.settings.controls=!1;a.settings.autoControls=!1;a.settings.tickerHover&&!a.usingCSS&&a.viewport.hover(function(){d.stop()},function(){var c=0;a.children.each(function(){c+=
"horizontal"==a.settings.mode?b(this).outerWidth(!0):b(this).outerHeight(!0)});var e=a.settings.speed/c*(c-Math.abs(parseInt(d.css("horizontal"==a.settings.mode?"left":"top"))));W(e)});W()},W=function(b){speed=b?b:a.settings.speed;b={left:0,top:0};var c={left:0,top:0};"next"==a.settings.autoDirection?b=d.find(".bx-clone").first().position():c=a.children.first().position();B("horizontal"==a.settings.mode?-b.left:-b.top,"ticker",speed,{resetValue:"horizontal"==a.settings.mode?-c.left:-c.top})},R=function(b){a.working?
<<<<<<< HEAD
b.preventDefault():(a.touch.originalPos=d.position(),b=b.originalEvent,a.touch.start.x=b.changedTouches[0].pageX,a.touch.start.y=b.changedTouches[0].pageY,a.viewport.bind("touchmove",U),a.viewport.bind("touchend",Q))},U=function(b){var c=b.originalEvent,d=Math.abs(c.changedTouches[0].pageX-a.touch.start.x),e=Math.abs(c.changedTouches[0].pageY-a.touch.start.y);if(3*d>e&&a.settings.preventDefaultSwipeX?b.preventDefault():3*e>d&&a.settings.preventDefaultSwipeY&&b.preventDefault(),"fade"!=a.settings.mode&&
a.settings.oneToOneTouch)b=0,"horizontal"==a.settings.mode?(c=c.changedTouches[0].pageX-a.touch.start.x,b=a.touch.originalPos.left+c):(c=c.changedTouches[0].pageY-a.touch.start.y,b=a.touch.originalPos.top+c),B(b,"reset",0)},Q=function(b){a.viewport.unbind("touchmove",U);var c=b.originalEvent;b=0;(a.touch.end.x=c.changedTouches[0].pageX,a.touch.end.y=c.changedTouches[0].pageY,"fade"==a.settings.mode)?(c=Math.abs(a.touch.start.x-a.touch.end.x),c>=a.settings.swipeThreshold&&(a.touch.start.x>a.touch.end.x?
d.goToNextSlide():d.goToPrevSlide(),d.stopAuto())):(c=0,"horizontal"==a.settings.mode?(c=a.touch.end.x-a.touch.start.x,b=a.touch.originalPos.left):(c=a.touch.end.y-a.touch.start.y,b=a.touch.originalPos.top),!a.settings.infiniteLoop&&(0==a.active.index&&0<c||a.active.last&&0>c)?B(b,"reset",200):Math.abs(c)>=a.settings.swipeThreshold?(0>c?d.goToNextSlide():d.goToPrevSlide(),d.stopAuto()):B(b,"reset",200));a.viewport.unbind("touchend",Q)},P=function(){var a=b(window).width(),e=b(window).height();(g!=
a||c!=e)&&(g=a,c=e,d.redrawSlider())};return d.goToSlide=function(c,e){if(!a.working&&a.active.index!=c)if(a.working=!0,a.oldIndex=a.active.index,a.active.index=0>c?r()-1:c>=r()?0:c,a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index),"next"==e?a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index):"prev"==e&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index),a.active.last=a.active.index>=r()-1,a.settings.pager&&y(a.active.index),
a.settings.controls&&M(),"fade"==a.settings.mode)a.settings.adaptiveHeight&&a.viewport.height()!=n()&&a.viewport.animate({height:n()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",51).fadeIn(a.settings.speed,function(){b(this).css("zIndex",50);E()});else{a.settings.adaptiveHeight&&a.viewport.height()!=n()&&a.viewport.animate({height:n()},a.settings.adaptiveHeightSpeed);var g=0,f={left:0,top:0};if(!a.settings.infiniteLoop&&
a.carousel&&a.active.last)if("horizontal"==a.settings.mode)var h=a.children.eq(a.children.length-1),f=h.position(),g=a.viewport.width()-h.outerWidth();else f=a.children.eq(a.children.length-a.settings.minSlides).position();else a.carousel&&a.active.last&&"prev"==e?(f=1==a.settings.moveSlides?a.settings.maxSlides-v():(r()-1)*v()-(a.children.length-a.settings.maxSlides),h=d.children(".bx-clone").eq(f),f=h.position()):"next"==e&&0==a.active.index?(f=d.find("> .bx-clone").eq(a.settings.maxSlides).position(),
a.active.last=!1):0<=c&&(f=c*v(),f=a.children.eq(f).position());"undefined"!=typeof f&&B("horizontal"==a.settings.mode?-(f.left-g):-f.top,"slide",a.settings.speed)}},d.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var b=parseInt(a.active.index)+1;d.goToSlide(b,"next")}},d.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!=a.active.index){var b=parseInt(a.active.index)-1;d.goToSlide(b,"prev")}},d.startAuto=function(b){a.interval||(a.interval=setInterval(function(){"next"==
a.settings.autoDirection?d.goToNextSlide():d.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&1!=b&&D("stop"))},d.stopAuto=function(b){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&1!=b&&D("start"))},d.getCurrentSlide=function(){return a.active.index},d.getSlideCount=function(){return a.children.length},d.redrawSlider=function(){a.children.add(d.find(".bx-clone")).outerWidth(q());a.viewport.css("height",n());a.settings.ticker||w();a.active.last&&(a.active.index=
r()-1);a.active.index>=r()&&(a.active.last=!0);a.settings.pager&&!a.settings.pagerCustom&&(x(),y(a.active.index))},d.destroySlider=function(){a.initialized&&(a.initialized=!1,b(".bx-clone",this).remove(),a.children.each(function(){void 0!=b(this).data("origStyle")?b(this).attr("style",b(this).data("origStyle")):b(this).removeAttr("style")}),void 0!=b(this).data("origStyle")?this.attr("style",b(this).data("origStyle")):b(this).removeAttr("style"),b(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),
a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.pagerEl.remove(),b(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&b(window).unbind("resize",P))},d.reloadSlider=function(a){void 0!=a&&(e=a);d.destroySlider();k()},k(),this}}(jQuery);
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function f(a){return a}function e(a){return decodeURIComponent(a.replace(d," "))}function a(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return g.json?JSON.parse(a):a}catch(b){}}var d=/\+/g,g=b.cookie=function(c,d,l){if(void 0!==d){l=b.extend({},g.defaults,l);if("number"===typeof l.expires){var h=l.expires,p=l.expires=new Date;p.setDate(p.getDate()+h)}d=g.json?
JSON.stringify(d):String(d);return document.cookie=[g.raw?c:encodeURIComponent(c),"=",g.raw?d:encodeURIComponent(d),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}d=g.raw?f:e;l=document.cookie.split("; ");for(var h=c?void 0:{},p=0,n=l.length;p<n;p++){var m=l[p].split("="),q=d(m.shift()),m=d(m.join("="));if(c&&c===q){h=a(m);break}c||(h[q]=a(m))}return h};g.defaults={};b.removeCookie=function(a,d){return void 0!==
b.cookie(a)?(b.cookie(a,"",b.extend({},d,{expires:-1})),!0):!1}});
(function(b){function f(a){null!=g&&(a.dropClass&&g.removeClass(a.dropClass),g=null);null!=d&&a.canDropClass&&d.removeClass(a.canDropClass)}var e={makeClone:!1,sourceClass:null,sourceHide:!1,dragClass:null,canDropClass:null,dropClass:null,isActive:!0,container:null,canDrag:function(a,b){return a},canDrop:function(a){return a.hasClass("drop")||0<a.parents(".drop").size()},didDrop:function(a,b){a.appendTo(b)}},a=null,d=null,g=null,c,k,l,h=!1,p=!1,n={init:function(a){a=b.extend({},e,a);this.data("options",
a);this.bind("mousedown.dragdrop touchstart.dragdrop",n.onStart);return this},destroy:function(){this.unbind("mousedown.dragdrop touchstart.dragdrop");return this},on:function(){this.data("options").isActive=!0},off:function(){this.data("options").isActive=!1},onStart:function(e){var g=b(this),f=g.data("options");if(f.isActive){var r=f.canDrag(g,e);h=!0;p=!1;if(r){a=r;var v=a.position(),w=a.width(),B=a.height();"touchstart"==e.type?(c=e.originalEvent.touches[0].clientX-v.left,k=e.originalEvent.touches[0].clientY-
v.top):(c=e.pageX-v.left,k=e.pageY-v.top);f.makeClone?(d=a.clone(!1),d.appendTo(r.parent()),f.sourceClass?a.addClass(f.sourceClass):f.sourceHide&&a.css("visibility","hidden")):d=a;d.css({position:"absolute",left:v.left,top:v.top,width:w,height:B});f.dragClass&&d.addClass(f.dragClass);if(f=f.container)v=f.position(),l={minX:v.left,minY:v.top,maxX:v.left+f.outerWidth()-r.outerWidth(),maxY:v.top+f.outerHeight()-r.outerHeight()};b(window).bind("mousemove.dragdrop touchmove.dragdrop",{source:g},n.onMove).bind("mouseup.dragdrop touchend.dragdrop",
{source:g},n.onEnd);e.stopPropagation();return!1}}},onMove:function(a){if(d){var e=a.data.source.data("options"),n,r;p=!0;h=!1;console.log("move");"touchmove"==a.type?(n=a.originalEvent.touches[0].clientX,r=a.originalEvent.touches[0].clientY):(n=a.pageX,r=a.pageY);d.css("display","none");var v=document.elementFromPoint(n-document.documentElement.scrollLeft-document.body.scrollLeft,r-document.documentElement.scrollTop-document.body.scrollTop);d.css("display","");n-=c;r-=k;l&&(n=Math.min(Math.max(n,
l.minX),l.maxX),r=Math.min(Math.max(r,l.minY),l.maxY));d.css({left:n,top:r});if(v){if(null==g||g.get(0)!=v)n=b(v),e.canDrop(n)?(e.dropClass&&(null!=g&&g.removeClass(e.dropClass),n.addClass(e.dropClass)),e.canDropClass&&d.addClass(e.canDropClass),g=n):null!=g&&f(e)}else null!=g&&f(e);a.stopPropagation();return!1}},onEnd:function(c){if(d){c=c.data.source.data("options");if(d.closest(".popupwin_add-trip").length&&!0==h&&!1==p){var e=parseInt(d.data("step"))+1,e=d.closest(".popupwin_add-trip").find(".trip-step__block:nth-child("+
e+")");e.length&&d.closest(".popupwin__viewport").animate({scrollTop:e.position().top})}g&&c.didDrop(a,g);f(c);c.makeClone?(d.remove(),c.sourceClass?a.removeClass(c.sourceClass):c.sourceHide&&a.css("visibility","visible")):(d.css("position","static"),d.css("width",""),d.css("height",""),c.dragClass&&d.removeClass(c.dragClass));b(window).unbind("mousemove.dragdrop touchmove.dragdrop");b(window).unbind("mouseup.dragdrop touchend.dragdrop");a=d=l=null}}};b.fn.dragdrop=function(a){if(n[a])return n[a].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return n.init.apply(this,arguments);b.error("Method "+a+" does not exist on jQuery.dragdrop")}})(jQuery);
(function(b,f,e,a){var d=e(b),g=e(f),c=e.fancybox=function(){c.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/),l=null,h=f.createTouch!==a,p=function(a){return a&&a.hasOwnProperty&&a instanceof e},n=function(a){return a&&"string"===e.type(a)},m=function(a){return n(a)&&0<a.indexOf("%")},q=function(a,b){var d=parseInt(a,10)||0;b&&m(a)&&(d*=c.getViewport()[b]/100);return Math.ceil(d)},t=function(a,b){return q(a,b)+"px"};e.extend(c,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,
height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",
34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:e.noop,beforeLoad:e.noop,afterLoad:e.noop,beforeShow:e.noop,afterShow:e.noop,beforeChange:e.noop,beforeClose:e.noop,afterClose:e.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,d){if(b&&(e.isPlainObject(d)||(d={}),!1!==c.close(!0)))return e.isArray(b)||(b=p(b)?e(b).get():[b]),e.each(b,function(g,f){var h={},m,k,l,q,t;"object"===e.type(f)&&(f.nodeType&&(f=e(f)),p(f)?(h={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},e.metadata&&e.extend(!0,h,
f.metadata())):h=f);m=d.href||h.href||(n(f)?f:null);k=d.title!==a?d.title:h.title||"";q=(l=d.content||h.content)?"html":d.type||h.type;!q&&h.isDom&&(q=f.data("fancybox-type"),q||(q=(q=f.prop("class").match(/fancybox\.(\w+)/))?q[1]:null));n(m)&&(q||(c.isImage(m)?q="image":c.isSWF(m)?q="swf":"#"===m.charAt(0)?q="inline":n(f)&&(q="html",l=f)),"ajax"===q&&(t=m.split(/\s+/,2),m=t.shift(),t=t.shift()));l||("inline"===q?m?l=e(n(m)?m.replace(/.*(?=#[^\s]+$)/,""):m):h.isDom&&(l=f):"html"===q?l=m:!q&&(!m&&
h.isDom)&&(q="inline",l=f));e.extend(h,{href:m,type:q,content:l,title:k,selector:t});b[g]=h}),c.opts=e.extend(!0,{},c.defaults,d),d.keys!==a&&(c.opts.keys=d.keys?e.extend({},c.defaults.keys,d.keys):!1),c.group=b,c._start(c.opts.index)},cancel:function(){var a=c.coming;a&&!1!==c.trigger("onCancel")&&(c.hideLoading(),c.ajaxLoad&&c.ajaxLoad.abort(),c.ajaxLoad=null,c.imgPreload&&(c.imgPreload.onload=c.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),c.coming=null,c.current||
c._afterZoomOut(a))},close:function(a){c.cancel();!1!==c.trigger("beforeClose")&&(c.unbindEvents(),c.isActive&&(!c.isOpen||!0===a?(e(".fancybox-wrap").stop(!0).trigger("onReset").remove(),c._afterZoomOut()):(c.isOpen=c.isOpened=!1,c.isClosing=!0,e(".fancybox-item, .fancybox-nav").remove(),c.wrap.stop(!0,!0).removeClass("fancybox-opened"),c.transitions[c.current.closeMethod]())))},play:function(a){var b=function(){clearTimeout(c.player.timer)},d=function(){b();c.current&&c.player.isActive&&(c.player.timer=
setTimeout(c.next,c.current.playSpeed))},g=function(){b();e("body").unbind(".player");c.player.isActive=!1;c.trigger("onPlayEnd")};if(!0===a||!c.player.isActive&&!1!==a){if(c.current&&(c.current.loop||c.current.index<c.group.length-1))c.player.isActive=!0,e("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":g,"beforeLoad.player":b}),d(),c.trigger("onPlayStart")}else g()},next:function(a){var b=c.current;b&&(n(a)||(a=b.direction.next),c.jumpto(b.index+1,a,"next"))},
prev:function(a){var b=c.current;b&&(n(a)||(a=b.direction.prev),c.jumpto(b.index-1,a,"prev"))},jumpto:function(b,d,e){var g=c.current;g&&(b=q(b),c.direction=d||g.direction[b>=g.index?"next":"prev"],c.router=e||"jumpto",g.loop&&(0>b&&(b=g.group.length+b%g.group.length),b%=g.group.length),g.group[b]!==a&&(c.cancel(),c._start(b)))},reposition:function(a,b){var d=c.current,g=d?d.wrap:null,f;g&&(f=c._getPosition(b),a&&"scroll"===a.type?(delete f.position,g.stop(!0,!0).animate(f,200)):(g.css(f),d.pos=e.extend({},
d.dim,f)))},update:function(a){var b=a&&a.type,d=!b||"orientationchange"===b;d&&(clearTimeout(l),l=null);c.isOpen&&!l&&(l=setTimeout(function(){var e=c.current;e&&!c.isClosing&&(c.wrap.removeClass("fancybox-tmp"),(d||"load"===b||"resize"===b&&e.autoResize)&&c._setDimension(),"scroll"===b&&e.canShrink||c.reposition(a),c.trigger("onUpdate"),l=null)},d&&!h?0:300))},toggle:function(a){c.isOpen&&(c.current.fitToView="boolean"===e.type(a)?a:!c.current.fitToView,h&&(c.wrap.removeAttr("style").addClass("fancybox-tmp"),
c.trigger("onUpdate")),c.update())},hideLoading:function(){g.unbind(".loading");e("#fancybox-loading").remove()},showLoading:function(){var a,b;c.hideLoading();a=e('<div id="fancybox-loading"><div></div></div>').click(c.cancel).appendTo("body");g.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),c.cancel()});c.defaults.fixed||(b=c.getViewport(),a.css({position:"absolute",top:0.5*b.h+b.y,left:0.5*b.w+b.x}))},getViewport:function(){var a=c.current&&c.current.locked||
!1,e={x:d.scrollLeft(),y:d.scrollTop()};a?(e.w=a[0].clientWidth,e.h=a[0].clientHeight):(e.w=h&&b.innerWidth?b.innerWidth:d.width(),e.h=h&&b.innerHeight?b.innerHeight:d.height());return e},unbindEvents:function(){c.wrap&&p(c.wrap)&&c.wrap.unbind(".fb");g.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var b=c.current,f;b&&(d.bind("orientationchange.fb"+(h?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),c.update),(f=b.keys)&&g.bind("keydown.fb",function(d){var g=d.which||d.keyCode,h=
d.target||d.srcElement;if(27===g&&c.coming)return!1;!d.ctrlKey&&(!d.altKey&&!d.shiftKey&&!d.metaKey&&(!h||!h.type&&!e(h).is("[contenteditable]")))&&e.each(f,function(f,h){if(1<b.group.length&&h[g]!==a)return c[f](h[g]),d.preventDefault(),!1;if(-1<e.inArray(g,h))return c[f](),d.preventDefault(),!1})}),e.fn.mousewheel&&b.mouseWheel&&c.wrap.bind("mousewheel.fb",function(a,d,g,f){for(var h=e(a.target||null),m=!1;h.length&&!m&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)m=h[0]&&!(h[0].style.overflow&&
"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=e(h).parent();if(0!==d&&!m&&1<c.group.length&&!b.canShrink){if(0<f||0<g)c.prev(0<f?"down":"left");else if(0>f||0>g)c.next(0>f?"up":"right");a.preventDefault()}}))},trigger:function(a,b){var d,g=b||c.coming||c.current;if(g){e.isFunction(g[a])&&(d=g[a].apply(g,Array.prototype.slice.call(arguments,1)));if(!1===d)return!1;g.helpers&&e.each(g.helpers,function(b,
d){d&&(c.helpers[b]&&e.isFunction(c.helpers[b][a]))&&(d=e.extend(!0,{},c.helpers[b].defaults,d),c.helpers[b][a](d,g))});e.event.trigger(a+".fb")}},isImage:function(a){return n(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return n(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b={},d,g;a=q(a);d=c.group[a]||null;if(!d)return!1;b=e.extend(!0,{},c.opts,d);d=b.margin;g=b.padding;"number"===e.type(d)&&(b.margin=[d,d,d,d]);"number"===e.type(g)&&
(b.padding=[g,g,g,g]);b.modal&&e.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});b.autoSize&&(b.autoWidth=b.autoHeight=!0);"auto"===b.width&&(b.autoWidth=!0);"auto"===b.height&&(b.autoHeight=!0);b.group=c.group;b.index=a;c.coming=b;if(!1===c.trigger("beforeLoad"))c.coming=null;else{g=b.type;d=b.href;if(!g)return c.coming=null,c.current&&c.router&&"jumpto"!==c.router?(c.current.index=a,c[c.router](c.direction)):!1;c.isActive=
!0;if("image"===g||"swf"===g)b.autoHeight=b.autoWidth=!1,b.scrolling="visible";"image"===g&&(b.aspectRatio=!0);"iframe"===g&&h&&(b.scrolling="scroll");b.wrap=e(b.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+g+" fancybox-tmp "+b.wrapCSS).appendTo(b.parent||"body");e.extend(b,{skin:e(".fancybox-skin",b.wrap),outer:e(".fancybox-outer",b.wrap),inner:e(".fancybox-inner",b.wrap)});e.each(["Top","Right","Bottom","Left"],function(a,c){b.skin.css("padding"+c,t(b.padding[a]))});c.trigger("onReady");
if("inline"===g||"html"===g){if(!b.content||!b.content.length)return c._error("content")}else if(!d)return c._error("href");"image"===g?c._loadImage():"ajax"===g?c._loadAjax():"iframe"===g?c._loadIframe():c._afterLoad()}},_error:function(a){e.extend(c.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:c.coming.tpl.error});c._afterLoad()},_loadImage:function(){var a=c.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;c.coming.width=
this.width;c.coming.height=this.height;c._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;c._error("image")};a.src=c.coming.href;!0!==a.complete&&c.showLoading()},_loadAjax:function(){var a=c.coming;c.showLoading();c.ajaxLoad=e.ajax(e.extend({},a.ajax,{url:a.href,error:function(a,b){c.coming&&"abort"!==b?c._error("ajax",a):c.hideLoading()},success:function(b,d){"success"===d&&(a.content=b,c._afterLoad())}}))},_loadIframe:function(){var a=c.coming,b=e(a.tpl.iframe.replace(/\{rnd\}/g,
(new Date).getTime())).attr("scrolling",h?"auto":a.iframe.scrolling).attr("src",a.href);e(a.wrap).bind("onReset",function(){try{e(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(c.showLoading(),b.one("load",function(){e(this).data("ready",1);h||e(this).bind("load.fb",c.update);e(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();c._afterLoad()}));a.content=b.appendTo(a.inner);a.iframe.preload||c._afterLoad()},_preloadImages:function(){var a=
c.group,b=c.current,d=a.length,e=b.preload?Math.min(b.preload,d-1):0,g,f;for(f=1;f<=e;f+=1)g=a[(b.index+f)%d],"image"===g.type&&g.href&&((new Image).src=g.href)},_afterLoad:function(){var a=c.coming,b=c.current,d,g,f,h,m;c.hideLoading();if(a&&!1!==c.isActive)if(!1===c.trigger("afterLoad",a,b))a.wrap.stop(!0).trigger("onReset").remove(),c.coming=null;else{b&&(c.trigger("beforeChange",b),b.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());c.unbindEvents();
d=a.content;g=a.type;f=a.scrolling;e.extend(c,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:b});h=a.href;switch(g){case "inline":case "ajax":case "html":a.selector?d=e("<div>").html(d).find(a.selector):p(d)&&(d.data("fancybox-placeholder")||d.data("fancybox-placeholder",e('<div class="fancybox-placeholder"></div>').insertAfter(d).hide()),d=d.show().detach(),a.wrap.bind("onReset",function(){e(this).find(d).length&&d.hide().replaceAll(d.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":d=a.tpl.image.replace("{href}",h);break;case "swf":d='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+h+'"></param>',m="",e.each(a.swf,function(a,b){d+='<param name="'+a+'" value="'+b+'"></param>';m+=" "+a+'="'+b+'"'}),d+='<embed src="'+h+'" type="application/x-shockwave-flash" width="100%" height="100%"'+m+"></embed></object>"}(!p(d)||!d.parent().is(a.inner))&&a.inner.append(d);c.trigger("beforeShow");
a.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);c._setDimension();c.reposition();c.isOpen=!1;c.coming=null;c.bindEvents();if(c.isOpened){if(b.prevMethod)c.transitions[b.prevMethod]()}else e(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();c.transitions[c.isOpened?a.nextMethod:a.openMethod]();c._preloadImages()}},_setDimension:function(){var a=c.getViewport(),b=0,d=!1,g=!1,d=c.wrap,f=c.skin,h=c.inner,n=c.current,g=n.width,k=n.height,p=n.minWidth,l=n.minHeight,u=n.maxWidth,
y=n.maxHeight,E=n.scrolling,D=n.scrollOutside?n.scrollbarWidth:0,M=n.margin,O=q(M[1]+M[3]),T=q(M[0]+M[2]),W,R,U,Q,P,z,N,G,H;d.add(f).add(h).width("auto").height("auto").removeClass("fancybox-tmp");M=q(f.outerWidth(!0)-f.width());W=q(f.outerHeight(!0)-f.height());R=O+M;U=T+W;Q=m(g)?(a.w-R)*q(g)/100:g;P=m(k)?(a.h-U)*q(k)/100:k;if("iframe"===n.type){if(H=n.content,n.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(h.width(Q).height(9999),z=H.contents().find("body"),D&&z.css("overflow-x",
"hidden"),P=z.height())}catch(J){}}else if(n.autoWidth||n.autoHeight)h.addClass("fancybox-tmp"),n.autoWidth||h.width(Q),n.autoHeight||h.height(P),n.autoWidth&&(Q=h.width()),n.autoHeight&&(P=h.height()),h.removeClass("fancybox-tmp");g=q(Q);k=q(P);G=Q/P;p=q(m(p)?q(p,"w")-R:p);u=q(m(u)?q(u,"w")-R:u);l=q(m(l)?q(l,"h")-U:l);y=q(m(y)?q(y,"h")-U:y);z=u;N=y;n.fitToView&&(u=Math.min(a.w-R,u),y=Math.min(a.h-U,y));R=a.w-O;T=a.h-T;n.aspectRatio?(g>u&&(g=u,k=q(g/G)),k>y&&(k=y,g=q(k*G)),g<p&&(g=p,k=q(g/G)),k<l&&
(k=l,g=q(k*G))):(g=Math.max(p,Math.min(g,u)),n.autoHeight&&"iframe"!==n.type&&(h.width(g),k=h.height()),k=Math.max(l,Math.min(k,y)));if(n.fitToView)if(h.width(g).height(k),d.width(g+M),a=d.width(),O=d.height(),n.aspectRatio)for(;(a>R||O>T)&&(g>p&&k>l)&&!(19<b++);)k=Math.max(l,Math.min(y,k-10)),g=q(k*G),g<p&&(g=p,k=q(g/G)),g>u&&(g=u,k=q(g/G)),h.width(g).height(k),d.width(g+M),a=d.width(),O=d.height();else g=Math.max(p,Math.min(g,g-(a-R))),k=Math.max(l,Math.min(k,k-(O-T)));D&&("auto"===E&&k<P&&g+M+
D<R)&&(g+=D);h.width(g).height(k);d.width(g+M);a=d.width();O=d.height();d=(a>R||O>T)&&g>p&&k>l;g=n.aspectRatio?g<z&&k<N&&g<Q&&k<P:(g<z||k<N)&&(g<Q||k<P);e.extend(n,{dim:{width:t(a),height:t(O)},origWidth:Q,origHeight:P,canShrink:d,canExpand:g,wPadding:M,hPadding:W,wrapSpace:O-f.outerHeight(!0),skinSpace:f.height()-k});!H&&(n.autoHeight&&k>l&&k<y&&!g)&&h.height("auto")},_getPosition:function(a){var b=c.current,d=c.getViewport(),e=b.margin,g=c.wrap.width()+e[1]+e[3],f=c.wrap.height()+e[0]+e[2],e={position:"absolute",
top:e[0],left:e[3]};b.autoCenter&&b.fixed&&!a&&f<=d.h&&g<=d.w?e.position="fixed":b.locked||(e.top+=d.y,e.left+=d.x);e.top=t(Math.max(e.top,e.top+(d.h-f)*b.topRatio));e.left=t(Math.max(e.left,e.left+(d.w-g)*b.leftRatio));return e},_afterZoomIn:function(){var a=c.current;a&&(c.isOpen=c.isOpened=!0,c.wrap.css("overflow","visible").addClass("fancybox-opened"),c.update(),(a.closeClick||a.nextClick&&1<c.group.length)&&c.inner.css("cursor","pointer").bind("click.fb",function(b){!e(b.target).is("a")&&!e(b.target).parent().is("a")&&
(b.preventDefault(),c[a.closeClick?"close":"next"]())}),a.closeBtn&&e(a.tpl.closeBtn).appendTo(c.skin).bind("click.fb",function(a){a.preventDefault();c.close()}),a.arrows&&1<c.group.length&&((a.loop||0<a.index)&&e(a.tpl.prev).appendTo(c.outer).bind("click.fb",c.prev),(a.loop||a.index<c.group.length-1)&&e(a.tpl.next).appendTo(c.outer).bind("click.fb",c.next)),c.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?c.play(!1):c.opts.autoPlay&&!c.player.isActive&&(c.opts.autoPlay=!1,c.play()))},_afterZoomOut:function(a){a=
a||c.current;e(".fancybox-wrap").trigger("onReset").remove();e.extend(c,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});c.trigger("afterClose",a)}});c.transitions={getOrigPosition:function(){var a=c.current,b=a.element,d=a.orig,e={},g=50,f=50,h=a.hPadding,m=a.wPadding,n=c.getViewport();!d&&(a.isDom&&b.is(":visible"))&&(d=b.find("img:first"),d.length||(d=b));p(d)?(e=d.offset(),d.is("img")&&(g=d.outerWidth(),f=d.outerHeight())):
(e.top=n.y+(n.h-f)*a.topRatio,e.left=n.x+(n.w-g)*a.leftRatio);if("fixed"===c.wrap.css("position")||a.locked)e.top-=n.y,e.left-=n.x;return e={top:t(e.top-h*a.topRatio),left:t(e.left-m*a.leftRatio),width:t(g+m),height:t(f+h)}},step:function(a,b){var d,e,g=b.prop;e=c.current;var f=e.wrapSpace,h=e.skinSpace;if("width"===g||"height"===g)d=b.end===b.start?1:(a-b.start)/(b.end-b.start),c.isClosing&&(d=1-d),e="width"===g?e.wPadding:e.hPadding,e=a-e,c.skin[g](q("width"===g?e:e-f*d)),c.inner[g](q("width"===
g?e:e-f*d-h*d))},zoomIn:function(){var a=c.current,b=a.pos,d=a.openEffect,g="elastic"===d,f=e.extend({opacity:1},b);delete f.position;g?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=0.1)):"fade"===d&&(b.opacity=0.1);c.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:g?this.step:null,complete:c._afterZoomIn})},zoomOut:function(){var a=c.current,b=a.closeEffect,d="elastic"===b,e={opacity:0.1};d&&(e=this.getOrigPosition(),a.closeOpacity&&(e.opacity=0.1));c.wrap.animate(e,
{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:d?this.step:null,complete:c._afterZoomOut})},changeIn:function(){var a=c.current,b=a.nextEffect,d=a.pos,e={opacity:1},g=c.direction,f;d.opacity=0.1;"elastic"===b&&(f="down"===g||"up"===g?"top":"left","down"===g||"right"===g?(d[f]=t(q(d[f])-200),e[f]="+=200px"):(d[f]=t(q(d[f])+200),e[f]="-=200px"));"none"===b?c._afterZoomIn():c.wrap.css(d).animate(e,{duration:a.nextSpeed,easing:a.nextEasing,complete:c._afterZoomIn})},changeOut:function(){var a=
c.previous,b=a.prevEffect,d={opacity:0.1},g=c.direction;"elastic"===b&&(d["down"===g||"up"===g?"top":"left"]=("up"===g||"left"===g?"-":"+")+"=200px");a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){e(this).trigger("onReset").remove()}})}};c.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,create:function(a){a=e.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=e('<div class="fancybox-overlay"></div>').appendTo("body");
this.fixed=!1;a.fixed&&c.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=e.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(d.bind("resize.overlay",e.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){e(a.target).hasClass("fancybox-overlay")&&(c.isActive?c.close():b.close())});this.overlay.css(a.css).show()},
close:function(){e(".fancybox-overlay").remove();d.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(e("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");k?(b=Math.max(f.documentElement.offsetWidth,f.body.offsetWidth),g.width()>b&&(a=g.width())):g.width()>d.width()&&(a=g.width());this.overlay.width(a).height(g.height())},onReady:function(a,b){e(".fancybox-overlay").stop(!0,
!0);this.overlay||(this.margin=g.height()>d.height()||"scroll"===e("body").css("overflow-y")?e("body").css("margin-right"):!1,this.el=f.all&&!f.querySelector?e("html"):e("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&e("body").css("margin-right",q(this.margin)+b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||
this.update()},afterClose:function(a){this.overlay&&!c.isActive&&this.overlay.fadeOut(a.speedOut,e.proxy(this.close,this))}};c.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=c.current,d=b.title,g=a.type;e.isFunction(d)&&(d=d.call(b.element,b));if(n(d)&&""!==e.trim(d)){b=e('<div class="fancybox-title fancybox-title-'+g+'-wrap">'+d+"</div>");switch(g){case "inside":g=c.skin;break;case "outside":g=c.wrap;break;case "over":g=c.inner;break;default:g=c.skin,b.appendTo("body"),
k&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),c.current.margin[2]+=Math.abs(q(b.css("margin-bottom")))}b["top"===a.position?"prependTo":"appendTo"](g)}}};e.fn.fancybox=function(a){var b,d=e(this),f=this.selector||"",h=function(g){var h=e(this).blur(),m=b,n,k;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(n=a.groupAttr||"data-fancybox-group",k=h.attr(n),k||(n="rel",k=h.get(0)[n]),k&&(""!==k&&"nofollow"!==k)&&(h=f.length?e(f):d,h=h.filter("["+n+'="'+k+
'"]'),m=h.index(this)),a.index=m,!1!==c.open(h,a)&&g.preventDefault())};a=a||{};b=a.index||0;!f||!1===a.live?d.unbind("click.fb-start").bind("click.fb-start",h):g.undelegate(f,"click.fb-start").delegate(f+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h);this.filter("[data-fancybox-start=1]").trigger("click");return this};g.ready(function(){e.scrollbarWidth===a&&(e.scrollbarWidth=function(){var a=e('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),
b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});e.support.fixedPosition===a&&(e.support.fixedPosition=function(){var a=e('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());e.extend(c.defaults,{scrollbarWidth:e.scrollbarWidth(),fixed:e.support.fixedPosition,parent:e("body")})})})(window,document,jQuery);
!function(b,f,e){b.fn.jScrollPane=function(a){function d(a,c){function d(c){var f,h,n,q,r,t=!1,u=!1;if(z=c,N===e)q=a.scrollTop(),r=a.scrollLeft(),a.css({overflow:"hidden",padding:0}),G=a.innerWidth()+ua,H=a.innerHeight(),a.width(G),N=b('<div class="jspPane" />').css("padding",wa).append(a.children()),J=b('<div class="jspContainer" />').css({width:G+"px",height:H+"px"}).append(N).appendTo(a);else{if(a.css("width",""),t=z.stickToBottom&&D(),u=z.stickToRight&&M(),n=a.innerWidth()+ua!=G||a.outerHeight()!=
H,n&&(G=a.innerWidth()+ua,H=a.innerHeight(),J.css({width:G+"px",height:H+"px"})),!n&&Ja==K&&N.outerHeight()==ba)return a.width(G),void 0;Ja=K;N.css("width","");a.width(G);J.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}N.css("overflow","auto");K=c.contentWidth?c.contentWidth:N[0].scrollWidth;ba=N[0].scrollHeight;N.css("overflow","");ya=K/G;aa=ba/H;da=1<aa;(ea=1<ya)||da?(a.addClass("jspScrollable"),(c=z.maintainPosition&&(X||ga))&&(f=y(),h=E()),l(),p(),m(),c&&(L(u?K-G:f,!1),F(t?ba-H:h,
!1)),W(),O(),P(),z.enableKeyboardNavigation&&R(),z.clickOnTrack&&v(),U(),z.hijackInternalLinks&&Q()):(a.removeClass("jspScrollable"),N.css({top:0,left:0,width:J.width()-ua}),J.unbind(La),N.find(":input,a").unbind("focus.jsp"),a.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),w());z.autoReinitialise&&!ka?ka=setInterval(function(){d(z)},z.autoReinitialiseDelay):!z.autoReinitialise&&ka&&clearInterval(ka);q&&a.scrollTop(0)&&F(q,!1);r&&a.scrollLeft(0)&&L(r,!1);a.trigger("jsp-initialised",
[ea||da])}function l(){da&&(J.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />'))),Za=J.find(">.jspVerticalBar"),xa=Za.find(">.jspTrack"),Y=xa.find(">.jspDrag"),z.showArrows&&(s=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",t(0,-1)).bind("click.jsp",T),Pa=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",
t(0,1)).bind("click.jsp",T),z.arrowScrollOnHover&&(s.bind("mouseover.jsp",t(0,-1,s)),Pa.bind("mouseover.jsp",t(0,1,Pa))),q(xa,z.verticalArrowPositions,s,Pa)),Da=H,J.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){Da-=b(this).outerHeight()}),Y.hover(function(){Y.addClass("jspHover")},function(){Y.removeClass("jspHover")}).bind("mousedown.jsp",function(a){b("html").bind("dragstart.jsp selectstart.jsp",T);Y.addClass("jspActive");var c=a.pageY-Y.position().top;return b("html").bind("mousemove.jsp",
function(a){x(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",B),!1}),h())}function h(){xa.height(Da+"px");X=0;ib=z.verticalGutter+xa.outerWidth();N.width(G-ib-ua);try{0===Za.position().left&&N.css("margin-left",ib+"px")}catch(a){}}function p(){ea&&(J.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />'))),
$a=J.find(">.jspHorizontalBar"),za=$a.find(">.jspTrack"),S=za.find(">.jspDrag"),z.showArrows&&(Fa=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",t(-1,0)).bind("click.jsp",T),ta=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",t(1,0)).bind("click.jsp",T),z.arrowScrollOnHover&&(Fa.bind("mouseover.jsp",t(-1,0,Fa)),ta.bind("mouseover.jsp",t(1,0,ta))),q(za,z.horizontalArrowPositions,Fa,ta)),S.hover(function(){S.addClass("jspHover")},function(){S.removeClass("jspHover")}).bind("mousedown.jsp",
function(a){b("html").bind("dragstart.jsp selectstart.jsp",T);S.addClass("jspActive");var c=a.pageX-S.position().left;return b("html").bind("mousemove.jsp",function(a){C(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",B),!1}),ia=J.innerWidth(),n())}function n(){J.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ia-=b(this).outerWidth()});za.width(ia+"px");ga=0}function m(){if(ea&&da){var a=za.outerHeight(),c=xa.outerWidth();Da-=a;b($a).find(">.jspCap:visible,>.jspArrow").each(function(){ia+=
b(this).outerWidth()});ia-=c;H-=c;G-=a;za.parent().append(b('<div class="jspCorner" />').css("width",a+"px"));h();n()}ea&&N.width(J.outerWidth()-ua+"px");ba=N.outerHeight();aa=ba/H;ea&&(ca=Math.ceil(1/ya*ia),ca>z.horizontalDragMaxWidth?ca=z.horizontalDragMaxWidth:ca<z.horizontalDragMinWidth&&(ca=z.horizontalDragMinWidth),S.width(ca+"px"),V=ia-ca,I(ga));da&&(Ea=Math.ceil(1/aa*Da),Ea>z.verticalDragMaxHeight?Ea=z.verticalDragMaxHeight:Ea<z.verticalDragMinHeight&&(Ea=z.verticalDragMinHeight),Y.height(Ea+
"px"),fa=Da-Ea,A(X))}function q(a,b,c,d){var e,g="before",f="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==g?f=b:b==f&&(g=b,e=c,c=d,d=e);a[g](c)[f](d)}function t(a,b,c){return function(){return r(a,b,this,c),this.blur(),!1}}function r(a,c,d,e){d=b(d).addClass("jspActive");var g,f,h=!0,m=function(){0!==a&&Z.scrollByX(a*z.arrowButtonSpeed);0!==c&&Z.scrollByY(c*z.arrowButtonSpeed);f=setTimeout(m,h?z.initialDelay:z.arrowRepeatFreq);h=!1};m();g=e?"mouseout.jsp":"mouseup.jsp";e=
e||b("html");e.bind(g,function(){d.removeClass("jspActive");f&&clearTimeout(f);f=null;e.unbind(g)})}function v(){w();da&&xa.bind("mousedown.jsp",function(a){if(a.originalTarget===e||a.originalTarget==a.currentTarget){var c,d=b(this),g=d.offset(),f=a.pageY-g.top-X,h=!0,m=function(){var b=d.offset(),b=a.pageY-b.top-Ea/2,e=H*z.scrollPagePercent,g=fa*e/(ba-H);if(0>f)X-g>b?Z.scrollByY(-e):x(b);else{if(!(0<f))return n(),void 0;b>X+g?Z.scrollByY(e):x(b)}c=setTimeout(m,h?z.initialDelay:z.trackClickRepeatFreq);
h=!1},n=function(){c&&clearTimeout(c);c=null;b(document).unbind("mouseup.jsp",n)};return m(),b(document).bind("mouseup.jsp",n),!1}});ea&&za.bind("mousedown.jsp",function(a){if(a.originalTarget===e||a.originalTarget==a.currentTarget){var c,d=b(this),g=d.offset(),f=a.pageX-g.left-ga,h=!0,m=function(){var b=d.offset(),b=a.pageX-b.left-ca/2,e=G*z.scrollPagePercent,g=V*e/(K-G);if(0>f)ga-g>b?Z.scrollByX(-e):C(b);else{if(!(0<f))return n(),void 0;b>ga+g?Z.scrollByX(e):C(b)}c=setTimeout(m,h?z.initialDelay:
z.trackClickRepeatFreq);h=!1},n=function(){c&&clearTimeout(c);c=null;b(document).unbind("mouseup.jsp",n)};return m(),b(document).bind("mouseup.jsp",n),!1}})}function w(){za&&za.unbind("mousedown.jsp");xa&&xa.unbind("mousedown.jsp")}function B(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");Y&&Y.removeClass("jspActive");S&&S.removeClass("jspActive")}function x(a,b){da&&(0>a?a=0:a>fa&&(a=fa),b===e&&(b=z.animateScroll),b?Z.animate(Y,"top",a,A):(Y.css("top",
a),A(a)))}function A(b){b===e&&(b=Y.position().top);J.scrollTop(0);X=b;var c=0===X,d=X==fa;b=-(b/fa)*(ba-H);(Ha!=c||Ka!=d)&&(Ha=c,Ka=d,a.trigger("jsp-arrow-change",[Ha,Ka,la,Ba]));z.showArrows&&(s[c?"addClass":"removeClass"]("jspDisabled"),Pa[d?"addClass":"removeClass"]("jspDisabled"));N.css("top",b);a.trigger("jsp-scroll-y",[-b,c,d]).trigger("scroll")}function C(a,b){ea&&(0>a?a=0:a>V&&(a=V),b===e&&(b=z.animateScroll),b?Z.animate(S,"left",a,I):(S.css("left",a),I(a)))}function I(b){b===e&&(b=S.position().left);
J.scrollTop(0);ga=b;var c=0===ga,d=ga==V;b=-(b/V)*(K-G);(la!=c||Ba!=d)&&(la=c,Ba=d,a.trigger("jsp-arrow-change",[Ha,Ka,la,Ba]));z.showArrows&&(Fa[c?"addClass":"removeClass"]("jspDisabled"),ta[d?"addClass":"removeClass"]("jspDisabled"));N.css("left",b);a.trigger("jsp-scroll-x",[-b,c,d]).trigger("scroll")}function F(a,b){x(a/(ba-H)*fa,b)}function L(a,b){C(a/(K-G)*V,b)}function u(a,c,d){var e,g,f,h,m,n,k=m=0;try{e=b(a)}catch(p){return}g=e.outerHeight();a=e.outerWidth();J.scrollTop(0);for(J.scrollLeft(0);!e.is(".jspPane");)if(m+=
e.position().top,k+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;e=E();h=e+H;e>m||c?f=m-z.horizontalGutter:m+g>h&&(f=m-H+g+z.horizontalGutter);isNaN(f)||F(f,d);f=y();m=f+G;f>k||c?n=k-z.horizontalGutter:k+a>m&&(n=k-G+a+z.horizontalGutter);isNaN(n)||L(n,d)}function y(){return-N.position().left}function E(){return-N.position().top}function D(){var a=ba-H;return 20<a&&10>a-E()}function M(){var a=K-G;return 20<a&&10>a-y()}function O(){J.unbind(La).bind(La,function(a,b,
c,d){a=ga;b=X;return Z.scrollBy(c*z.mouseWheelSpeed,-d*z.mouseWheelSpeed,!1),a==ga&&b==X})}function T(){return!1}function W(){N.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){u(a.target,!1)})}function R(){function c(){var a=ga,b=X;switch(d){case 40:Z.scrollByY(z.keyboardSpeed,!1);break;case 38:Z.scrollByY(-z.keyboardSpeed,!1);break;case 34:case 32:Z.scrollByY(H*z.scrollPagePercent,!1);break;case 33:Z.scrollByY(-H*z.scrollPagePercent,!1);break;case 39:Z.scrollByX(z.keyboardSpeed,
!1);break;case 37:Z.scrollByX(-z.keyboardSpeed,!1)}return e=a!=ga||b!=X}var d,e,f=[];ea&&f.push($a[0]);da&&f.push(Za[0]);N.focus(function(){a.focus()});a.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(a){if(a.target===this||f.length&&b(a.target).closest(f).length){var g=ga,h=X;switch(a.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=a.keyCode;c();break;case 35:F(ba-H);d=null;break;case 36:F(0),d=null}return e=a.keyCode==d&&g!=ga||h!=X,!e}}).bind("keypress.jsp",
function(a){return a.keyCode==d&&c(),!e});z.hideFocus?(a.css("outline","none"),"hideFocus"in J[0]&&a.attr("hideFocus",!0)):(a.css("outline",""),"hideFocus"in J[0]&&a.attr("hideFocus",!1))}function U(){if(location.hash&&1<location.hash.length){var a,c,d=escape(location.hash.substr(1));try{a=b("#"+d+', a[name="'+d+'"]')}catch(e){return}a.length&&N.find(d)&&(0===J.scrollTop()?c=setInterval(function(){0<J.scrollTop()&&(u(a,!0),b(document).scrollTop(J.position().top),clearInterval(c))},50):(u(a,!0),b(document).scrollTop(J.position().top)))}}
function Q(){b(document.body).data("jspHijack")||(b(document.body).data("jspHijack",!0),b(document.body).delegate("a[href*=#]","click",function(a){var c,d,e,g,h,m;c=this.href.substr(0,this.href.indexOf("#"));var n=location.href;if(-1!==location.href.indexOf("#")&&(n=location.href.substr(0,location.href.indexOf("#"))),c===n){c=escape(this.href.substr(this.href.indexOf("#")+1));try{d=b("#"+c+', a[name="'+c+'"]')}catch(k){return}d.length&&(e=d.closest(".jspScrollable"),g=e.data("jsp"),g.scrollToElement(d,
!0),e[0].scrollIntoView&&(h=b(f).scrollTop(),m=d.offset().top,(h>m||m>h+b(f).height())&&e[0].scrollIntoView()),a.preventDefault())}}))}function P(){var a,b,c,d,e,g=!1;J.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(f){f=f.originalEvent.touches[0];a=y();b=E();c=f.pageX;d=f.pageY;e=!1;g=!0}).bind("touchmove.jsp",function(f){if(g){f=f.originalEvent.touches[0];var h=ga,m=X;return Z.scrollTo(a+c-f.pageX,b+d-f.pageY),e=e||5<Math.abs(c-f.pageX)||
5<Math.abs(d-f.pageY),h==ga&&m==X}}).bind("touchend.jsp",function(){g=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}var z,N,G,H,J,K,ba,ya,aa,da,ea,Y,fa,X,S,V,ga,Za,xa,ib,Da,Ea,s,Pa,$a,za,ia,ca,Fa,ta,ka,wa,ua,Ja,Z=this,Ha=!0,la=!0,Ka=!1,Ba=!1,ra=a.clone(!1,!1).empty(),La=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===a.css("box-sizing")?(wa=0,ua=0):(wa=a.css("paddingTop")+" "+a.css("paddingRight")+" "+a.css("paddingBottom")+" "+a.css("paddingLeft"),ua=
(parseInt(a.css("paddingLeft"),10)||0)+(parseInt(a.css("paddingRight"),10)||0));b.extend(Z,{reinitialise:function(a){a=b.extend({},z,a);d(a)},scrollToElement:function(a,b,c){u(a,b,c)},scrollTo:function(a,b,c){L(a,c);F(b,c)},scrollToX:function(a,b){L(a,b)},scrollToY:function(a,b){F(a,b)},scrollToPercentX:function(a,b){L(a*(K-G),b)},scrollToPercentY:function(a,b){F(a*(ba-H),b)},scrollBy:function(a,b,c){Z.scrollByX(a,c);Z.scrollByY(b,c)},scrollByX:function(a,b){var c=(y()+Math[0>a?"floor":"ceil"](a))/
(K-G);C(c*V,b)},scrollByY:function(a,b){var c=(E()+Math[0>a?"floor":"ceil"](a))/(ba-H);x(c*fa,b)},positionDragX:function(a,b){C(a,b)},positionDragY:function(a,b){x(a,b)},animate:function(a,b,c,d){var e={};e[b]=c;a.animate(e,{duration:z.animateDuration,easing:z.animateEase,queue:!1,step:d})},getContentPositionX:function(){return y()},getContentPositionY:function(){return E()},getContentWidth:function(){return K},getContentHeight:function(){return ba},getPercentScrolledX:function(){return y()/(K-G)},
getPercentScrolledY:function(){return E()/(ba-H)},getIsScrollableH:function(){return ea},getIsScrollableV:function(){return da},getContentPane:function(){return N},scrollToBottom:function(a){x(fa,a)},hijackInternalLinks:b.noop,destroy:function(){var b=E(),c=y();a.removeClass("jspScrollable").unbind(".jsp");a.replaceWith(ra.append(N.children()));ra.scrollTop(b);ra.scrollLeft(c);ka&&clearInterval(ka)}});d(c)}return a=b.extend({},b.fn.jScrollPane.defaults,a),b.each(["arrowButtonSpeed","trackClickSpeed",
"keyboardSpeed"],function(){a[this]=a[this]||a.speed}),this.each(function(){var e=b(this),c=e.data("jsp");c?c.reinitialise(a):(b("script",e).filter('[type="text/javascript"],:not([type])').remove(),c=new d(e,a),e.data("jsp",c))})};b.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:e,
animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}}(jQuery,this);
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function f(a){var c=a||window.event,e=[].slice.call(arguments,1),f=0,n=0,m=0,q=0,q=0;a=b.event.fix(c);a.type="mousewheel";c.wheelDelta&&(f=c.wheelDelta);c.detail&&(f=-1*c.detail);c.deltaY&&(f=m=-1*c.deltaY);c.deltaX&&(n=c.deltaX,f=-1*n);void 0!==c.wheelDeltaY&&(m=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(n=-1*c.wheelDeltaX);q=Math.abs(f);if(!d||q<d)d=q;q=Math.max(Math.abs(m),
Math.abs(n));if(!g||q<g)g=q;c=0<f?"floor":"ceil";f=Math[c](f/d);n=Math[c](n/g);m=Math[c](m/g);e.unshift(a,f,n,m);return(b.event.dispatch||b.event.handle).apply(this,e)}var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d,g;if(b.event.fixHooks)for(var c=e.length;c;)b.event.fixHooks[e[--c]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
a.length;b;)this.addEventListener(a[--b],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],f,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
(function(b){if("object"==typeof exports)b(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],b);else{if(!window.Spinner)throw Error("Spin.js not present");b(window.jQuery,window.Spinner)}})(function(b,f){b.fn.spin=function(e,a){return this.each(function(){var d=b(this),g=d.data();g.spinner&&(g.spinner.stop(),delete g.spinner);!1!==e&&(e=b.extend({color:a||d.css("color")},b.fn.spin.presets[e]||e),g.spinner=(new f(e)).spin(this))})};b.fn.spin.presets=
{tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});(function(b){function f(b){if(b){if("string"==typeof a[b])return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var g,c=0,f=e.length;f>c;c++)if(g=e[c]+b,"string"==typeof a[g])return g}}var e=["Webkit","Moz","ms","Ms","O"],a=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return f}):b.getStyleProperty=f})(window);
(function(b){function f(a){var b=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(b)&&b}function e(a){var b,e=a("boxSizing");return function(){if(e){var a=document.createElement("div");a.style.width="200px";a.style.padding="1px 2px 3px 4px";a.style.borderStyle="solid";a.style.borderWidth="1px 2px 3px 4px";a.style[e]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var d=g(a);b=200===f(d.width);c.removeChild(a)}}(),function(a){if("string"==typeof a&&(a=document.querySelector(a)),
a&&"object"==typeof a&&a.nodeType){var n=g(a);if("none"===n.display){for(var m={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0,k=c.length;k>n;n++)m[c[n]]=0;return m}m={};m.width=a.offsetWidth;m.height=a.offsetHeight;for(var k=m.isBorderBox=!(!e||!n[e]||"border-box"!==n[e]),t=0,r=c.length;r>t;t++){var v=c[t],w=n[v];var B=a,x=w;if(d||-1===x.indexOf("%"))w=x;else var w=B.style,A=w.left,C=B.runtimeStyle,I=C&&C.left,w=(I&&(C.left=B.currentStyle.left),w.left=x,x=w.pixelLeft,
w.left=A,I&&(C.left=I),x);B=parseFloat(w);m[v]=isNaN(B)?0:B}a=m.paddingLeft+m.paddingRight;t=m.paddingTop+m.paddingBottom;r=m.marginLeft+m.marginRight;v=m.marginTop+m.marginBottom;B=m.borderLeftWidth+m.borderRightWidth;x=m.borderTopWidth+m.borderBottomWidth;k=k&&b;w=f(n.width);!1!==w&&(m.width=w+(k?0:a+B));n=f(n.height);return!1!==n&&(m.height=n+(k?0:t+x)),m.innerWidth=m.width-(a+B),m.innerHeight=m.height-(t+x),m.outerWidth=m.width+r,m.outerHeight=m.height+v,m}}}var a=document.defaultView,d=a&&a.getComputedStyle,
g=d?function(b){return a.getComputedStyle(b,null)}:function(a){return a.currentStyle},c="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],e):b.getSize=e(b.getStyleProperty)})(window);
(function(b){var f=document.documentElement,e=function(){};f.addEventListener?e=function(a,b,c){a.addEventListener(b,c,!1)}:f.attachEvent&&(e=function(a,e,c){a[e+c]=c.handleEvent?function(){var a=b.event;a.target=a.target||a.srcElement;c.handleEvent.call(c,a)}:function(){var e=b.event;e.target=e.target||e.srcElement;c.call(a,e)};a.attachEvent("on"+e,a[e+c])});var a=function(){};f.removeEventListener?a=function(a,b,c){a.removeEventListener(b,c,!1)}:f.detachEvent&&(a=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(e){a[b+c]=void 0}});f={bind:e,unbind:a};"function"==typeof define&&define.amd?define(f):b.eventie=f})(this);
(function(b){function f(a){"function"==typeof a&&(f.isReady?a():g.push(a))}function e(a){a="readystatechange"===a.type&&"complete"!==d.readyState;if(!f.isReady&&!a){f.isReady=!0;a=0;for(var b=g.length;b>a;a++)(0,g[a])()}}function a(a){return a.bind(d,"DOMContentLoaded",e),a.bind(d,"readystatechange",e),a.bind(b,"load",e),f}var d=b.document,g=[];f.isReady=!1;"function"==typeof define&&define.amd?(f.isReady="function"==typeof requirejs,define(["eventie/eventie"],a)):b.docReady=a(b.eventie)})(this);
(function(){function b(){}function f(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function e(a){return function(){return this[a].apply(this,arguments)}}var a=b.prototype;a.getListeners=function(a){var b,c,e=this._getEvents();if("object"==typeof a)for(c in b={},e)e.hasOwnProperty(c)&&a.test(c)&&(b[c]=e[c]);else b=e[a]||(e[a]=[]);return b};a.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c};a.getListenersAsObject=function(a){var b,
c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c};a.addListener=function(a,b){var c,e=this.getListenersAsObject(a),l="object"==typeof b;for(c in e)e.hasOwnProperty(c)&&-1===f(e[c],b)&&e[c].push(l?b:{listener:b,once:!1});return this};a.on=e("addListener");a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};a.once=e("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);
return this};a.removeListener=function(a,b){var c,e,l=this.getListenersAsObject(a);for(e in l)l.hasOwnProperty(e)&&(c=f(l[e],b),-1!==c&&l[e].splice(c,1));return this};a.off=e("removeListener");a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};a.manipulateListeners=function(a,b,c){var e,f,h=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof
RegExp)for(e=c.length;e--;)h.call(this,b,c[e]);else for(e in b)b.hasOwnProperty(e)&&(f=b[e])&&("function"==typeof f?h.call(this,e,f):a.call(this,e,f));return this};a.removeEvent=function(a){var b,c=typeof a,e=this._getEvents();if("string"===c)delete e[a];else if("object"===c)for(b in e)e.hasOwnProperty(b)&&a.test(b)&&delete e[b];else delete this._events;return this};a.removeAllListeners=e("removeEvent");a.emitEvent=function(a,b){var c,e,f,h,p=this.getListenersAsObject(a);for(f in p)if(p.hasOwnProperty(f))for(e=
p[f].length;e--;)c=p[f][e],!0===c.once&&this.removeListener(a,c.listener),h=c.listener.apply(this,b||[]),h===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this};a.trigger=e("emitEvent");a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this);
(function(b){function f(){}function e(b){function e(a){a.prototype.option||(a.prototype.option=function(a){b.isPlainObject(a)&&(this.options=b.extend(!0,this.options,a))})}function c(c,e){b.fn[c]=function(g){if("string"==typeof g){for(var f=a.call(arguments,1),m=0,q=this.length;q>m;m++){var t=b.data(this[m],c);if(t)if(b.isFunction(t[g])&&"_"!==g.charAt(0)){if(t=t[g].apply(t,f),void 0!==t)return t}else k("no such method '"+g+"' for "+c+" instance");else k("cannot call methods on "+c+" prior to initialization; attempted to call '"+
g+"'")}return this}return this.each(function(){var a=b.data(this,c);a?(a.option(g),a._init()):(a=new e(this,g),b.data(this,c,a))})}}if(b){var k="undefined"==typeof console?f:function(a){console.error(a)};b.bridget=function(a,b){e(b);c(a,b)}}}var a=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],e):e(b.jQuery)})(window);
(function(b,f){function e(a,b){return a[c](b)}function a(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);for(var c=a.parentNode.querySelectorAll(b),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1}function d(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);return e(a,b)}var g,c=function(){if(f.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],b=0,c=a.length;c>b;b++){var d=a[b]+"MatchesSelector";if(f[d])return d}}();if(c){var k=document.createElement("div");
g=e(k,"div")?e:d}else g=a;"function"==typeof define&&define.amd?define(function(){return g}):window.matchesSelector=g})(this,Element.prototype);
(function(b){function f(a,b){for(var d in b)a[d]=b[d];return a}function e(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function a(a,b,d){function h(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var p=d("transition"),n=d("transform"),m=p&&n,q=!!d("perspective"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[p],r=["transform","transition","transitionDuration","transitionProperty"],
v=function(){for(var a={},b=0,c=r.length;c>b;b++){var e=r[b],g=d(e);g&&g!==e&&(a[e]=g)}return a}();f(h.prototype,a.prototype);h.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)};h.prototype.getSize=function(){this.size=b(this.element)};h.prototype.css=function(a){var b=this.element.style,c;for(c in a)b[v[c]||c]=a[c]};h.prototype.getPosition=function(){var a=
g(this.element),b=this.layout.options,c=b.isOriginLeft,b=b.isOriginTop,d=parseInt(a[c?"left":"right"],10),a=parseInt(a[b?"top":"bottom"],10),d=isNaN(d)?0:d,a=isNaN(a)?0:a,e=this.layout.size,d=d-(c?e.paddingLeft:e.paddingRight),a=a-(b?e.paddingTop:e.paddingBottom);this.position.x=d;this.position.y=a};h.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",
c.left="");b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top="");this.css(c);this.emitEvent("layout",[this])};var w=q?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};h.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),g=parseInt(b,10),e=e===this.position.x&&g===this.position.y;if(this.setPosition(a,b),e&&!this.isTransitioning)return this.layoutPosition(),
void 0;c=a-c;d=b-d;e={};g=this.layout.options;c=g.isOriginLeft?c:-c;d=g.isOriginTop?d:-d;e.transform=w(c,d);this.transition({to:e,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};h.prototype.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};h.prototype.moveTo=m?h.prototype._transitionTo:h.prototype.goTo;h.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};h.prototype._nonTransition=function(a){this.css(a.to);a.isCleaning&&
this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};h.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(a),void 0;var b=this._transition,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0};var B=n&&e(n)+",opacity";h.prototype.enableTransition=
function(){this.isTransitioning||(this.css({transitionProperty:B,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(t,this,!1))};h.prototype.transition=h.prototype[p?"_transition":"_nonTransition"];h.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};h.prototype.onotransitionend=function(a){this.ontransitionend(a)};var x={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};h.prototype.ontransitionend=function(a){if(a.target===
this.element){var b=this._transition,c=x[a.propertyName]||a.propertyName;delete b.ingProperties[c];var d;a:{for(d in b.ingProperties){d=!1;break a}d=!0}if(d&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd)b.onEnd[c].call(this),delete b.onEnd[c];this.emitEvent("transitionEnd",[this])}};h.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(t,this,!1);this.isTransitioning=!1};h.prototype._removeStyles=
function(a){var b={},c;for(c in a)b[c]="";this.css(b)};var A={transitionProperty:"",transitionDuration:""};return h.prototype.removeTransitionStyles=function(){this.css(A)},h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])},h.prototype.remove=function(){if(!p||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0});this.hide()},h.prototype.reveal=
function(){delete this.isHidden;this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},h.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.css({display:"none"})}}})},h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}
var d=document.defaultView,g=d&&d.getComputedStyle?function(a){return d.getComputedStyle(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],a):(b.Outlayer={},b.Outlayer.Item=a(b.EventEmitter,b.getSize,b.getStyleProperty))})(window);
(function(b){function f(a,b){for(var c in b)a[c]=b[c];return a}function e(a){var b=[];if("[object Array]"===p.call(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function a(a,b){var c=m(b,a);-1!==c&&b.splice(c,1)}function d(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function g(g,m,p,v,w,B){function x(a,b){if("string"==typeof a&&(a=c.querySelector(a)),!a||!n(a))return k&&k.error("Bad "+this.settings.namespace+
" element: "+a),void 0;this.element=a;this.options=f({},this.options);this.option(b);var d=++C;this.element.outlayerGUID=d;I[d]=this;this._create();this.options.isInitLayout&&this.layout()}function A(a,b){a.prototype[b]=f({},x.prototype[b])}var C=0,I={};return x.prototype.settings={namespace:"outlayer",item:B},x.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},
visibleStyle:{opacity:1,transform:"scale(1)"}},f(x.prototype,p.prototype),x.prototype.option=function(a){f(this.options,a)},x.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);f(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()},x.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},x.prototype._itemize=function(a){a=this._filterFindItemElements(a);for(var b=this.settings.item,c=[],
d=0,e=a.length;e>d;d++){var g=new b(a[d],this);c.push(g)}return c},x.prototype._filterFindItemElements=function(a){a=e(a);for(var b=this.options.itemSelector,c=[],d=0,g=a.length;g>d;d++){var f=a[d];if(n(f))if(b){w(f,b)&&c.push(f);for(var f=f.querySelectorAll(b),h=0,m=f.length;m>h;h++)c.push(f[h])}else c.push(f)}return c},x.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},x.prototype.layout=function(){this._resetLayout();this._manageStamps();
this.layoutItems(this.items,void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited);this._isLayoutInited=!0},x.prototype._init=x.prototype.layout,x.prototype._resetLayout=function(){this.getSize()},x.prototype.getSize=function(){this.size=v(this.element)},x.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):n(d)&&(c=d),this[a]=c?v(c)[b]:d):this[a]=0},x.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a);
this._layoutItems(a,b);this._postLayout()},x.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},x.prototype._layoutItems=function(a,b){if(!a||!a.length)return this.emitEvent("layoutComplete",[this,a]),void 0;this._itemsOn(a,"layout",function(){this.emitEvent("layoutComplete",[this,a])});for(var c=[],d=0,e=a.length;e>d;d++){var g=a[d],f=this._getItemLayoutPosition(g);f.item=g;f.isInstant=b;c.push(f)}this._processLayoutQueue(c)},
x.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},x.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},x.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},x.prototype._postLayout=function(){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))},x.prototype._getContainerSize=h,x.prototype._setContainerMeasure=function(a,b){if(void 0!==
a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}},x.prototype._itemsOn=function(a,b,c){function d(){return e++,e===g&&c.call(f),!0}for(var e=0,g=a.length,f=this,h=0,m=a.length;m>h;h++)a[h].on(b,d)},x.prototype.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)},x.prototype.unignore=function(a){(a=this.getItem(a))&&
delete a.isIgnored},x.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++)this.ignore(a[b])}},x.prototype.unstamp=function(b){if(b=this._find(b))for(var c=0,d=b.length;d>c;c++){var e=b[c];a(e,this.stamps);this.unignore(e)}},x.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),e(a)):void 0},x.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=
0,b=this.stamps.length;b>a;a++)this._manageStamp(this.stamps[a])}},x.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},x.prototype._manageStamp=h,x.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect;a=v(a);
return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}},x.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},x.prototype.bindResize=function(){this.isResizeBound||(g.bind(b,"resize",this),this.isResizeBound=!0)},x.prototype.unbindResize=function(){g.unbind(b,"resize",this);this.isResizeBound=!1},x.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;
this.resizeTimeout=setTimeout(function(){a.resize();delete a.resizeTimeout},100)},x.prototype.resize=function(){var a=v(this.element);this.size&&a&&a.innerWidth===this.size.innerWidth||this.layout()},x.prototype.addItems=function(a){a=this._itemize(a);return a.length&&(this.items=this.items.concat(a)),a},x.prototype.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))},x.prototype.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);
this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}},x.prototype.reveal=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].reveal()},x.prototype.hide=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].hide()},x.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},x.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>
c;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b}},x.prototype.remove=function(b){b=e(b);var c=this.getItems(b);if(c&&c.length){this._itemsOn(c,"remove",function(){this.emitEvent("removeComplete",[this,c])});b=0;for(var d=c.length;d>b;b++){var g=c[b];g.remove();a(g,this.items)}}},x.prototype.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";for(var a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.unbindResize();delete this.element.outlayerGUID;l&&l.removeData(this.element,
this.settings.namespace)},x.data=function(a){return(a=a&&a.outlayerGUID)&&I[a]},x.create=function(a,b){function e(){x.apply(this,arguments)}return f(e.prototype,x.prototype),A(e,"options"),A(e,"settings"),f(e.prototype.options,b),e.prototype.settings.namespace=a,e.data=x.data,e.Item=function(){B.apply(this,arguments)},e.Item.prototype=new B,e.prototype.settings.item=e.Item,m(function(){for(var b=d(a),g=c.querySelectorAll(".js-"+b),b="data-"+b+"-options",f=0,h=g.length;h>f;f++){var m,n=g[f],p=n.getAttribute(b);
try{m=p&&JSON.parse(p)}catch(q){k&&k.error("Error parsing "+b+" on "+n.nodeName.toLowerCase()+(n.id?"#"+n.id:"")+": "+q);continue}p=new e(n,m);l&&l.data(n,a,p)}}),l&&l.bridget&&l.bridget(a,e),e},x.Item=B,x}var c=b.document,k=b.console,l=b.jQuery,h=function(){},p=Object.prototype.toString,n="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},m=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:
function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("eventie/eventie doc-ready/doc-ready eventEmitter/EventEmitter get-size/get-size matches-selector/matches-selector ./item".split(" "),g):b.Outlayer=g(b.eventie,b.docReady,b.EventEmitter,b.getSize,b.matchesSelector,b.Outlayer.Item)})(window);
(function(b){function f(a,b){var g=a.create("masonry");return g.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},g.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&b(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;
this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)},g.prototype.getContainerWidth=function(){var a=b(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=a&&a.innerWidth},g.prototype._getItemLayoutPosition=function(a){a.getSize();var b=Math.ceil(a.size.outerWidth/this.columnWidth),b=Math.min(b,this.cols),d=this._getColGroup(b),g=Math.min.apply(Math,d),b=e(d,g),f={x:this.columnWidth*b,y:g};a=g+a.size.outerHeight;d=this.cols+
1-d.length;for(g=0;d>g;g++)this.colYs[b+g]=a;return f},g.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],d=this.cols+1-a,e=0;d>e;e++){var g=this.colYs.slice(e,e+a);b[e]=Math.max.apply(Math,g)}return b},g.prototype._manageStamp=function(a){var e=b(a);a=this._getElementOffset(a);var g=this.options.isOriginLeft?a.left:a.right,f=g+e.outerWidth,g=Math.floor(g/this.columnWidth),g=Math.max(0,g),f=Math.floor(f/this.columnWidth),f=Math.min(this.cols-1,f),e=(this.options.isOriginTop?
a.top:a.bottom)+e.outerHeight;for(a=g;f>=a;a++)this.colYs[a]=Math.max(e,this.colYs[a])},g.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},g.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},g.prototype.resize=function(){var a=this.containerWidth;this.getContainerWidth();a!==
this.containerWidth&&this.layout()},g}var e=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,c=a.length;c>e;e++)if(a[e]===b)return e;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],f):b.Masonry=f(b.Outlayer,b.getSize)})(window);
=======
b.preventDefault():(a.touch.originalPos=d.position(),b=b.originalEvent,a.touch.start.x=b.changedTouches[0].pageX,a.touch.start.y=b.changedTouches[0].pageY,a.viewport.bind("touchmove",U),a.viewport.bind("touchend",I))},U=function(b){var c=b.originalEvent,d=Math.abs(c.changedTouches[0].pageX-a.touch.start.x),e=Math.abs(c.changedTouches[0].pageY-a.touch.start.y);if(3*d>e&&a.settings.preventDefaultSwipeX?b.preventDefault():3*e>d&&a.settings.preventDefaultSwipeY&&b.preventDefault(),"fade"!=a.settings.mode&&
a.settings.oneToOneTouch)b=0,"horizontal"==a.settings.mode?(c=c.changedTouches[0].pageX-a.touch.start.x,b=a.touch.originalPos.left+c):(c=c.changedTouches[0].pageY-a.touch.start.y,b=a.touch.originalPos.top+c),B(b,"reset",0)},I=function(b){a.viewport.unbind("touchmove",U);var c=b.originalEvent;b=0;(a.touch.end.x=c.changedTouches[0].pageX,a.touch.end.y=c.changedTouches[0].pageY,"fade"==a.settings.mode)?(c=Math.abs(a.touch.start.x-a.touch.end.x),c>=a.settings.swipeThreshold&&(a.touch.start.x>a.touch.end.x?
d.goToNextSlide():d.goToPrevSlide(),d.stopAuto())):(c=0,"horizontal"==a.settings.mode?(c=a.touch.end.x-a.touch.start.x,b=a.touch.originalPos.left):(c=a.touch.end.y-a.touch.start.y,b=a.touch.originalPos.top),!a.settings.infiniteLoop&&(0==a.active.index&&0<c||a.active.last&&0>c)?B(b,"reset",200):Math.abs(c)>=a.settings.swipeThreshold?(0>c?d.goToNextSlide():d.goToPrevSlide(),d.stopAuto()):B(b,"reset",200));a.viewport.unbind("touchend",I)},Q=function(){var a=b(window).width(),g=b(window).height();(e!=
a||c!=g)&&(e=a,c=g,d.redrawSlider())};return d.goToSlide=function(c,e){if(!a.working&&a.active.index!=c)if(a.working=!0,a.oldIndex=a.active.index,a.active.index=0>c?r()-1:c>=r()?0:c,a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index),"next"==e?a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index):"prev"==e&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index),a.active.last=a.active.index>=r()-1,a.settings.pager&&x(a.active.index),
a.settings.controls&&N(),"fade"==a.settings.mode)a.settings.adaptiveHeight&&a.viewport.height()!=l()&&a.viewport.animate({height:l()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",51).fadeIn(a.settings.speed,function(){b(this).css("zIndex",50);E()});else{a.settings.adaptiveHeight&&a.viewport.height()!=l()&&a.viewport.animate({height:l()},a.settings.adaptiveHeightSpeed);var g=0,f={left:0,top:0};if(!a.settings.infiniteLoop&&
a.carousel&&a.active.last)if("horizontal"==a.settings.mode)var h=a.children.eq(a.children.length-1),f=h.position(),g=a.viewport.width()-h.outerWidth();else f=a.children.eq(a.children.length-a.settings.minSlides).position();else a.carousel&&a.active.last&&"prev"==e?(f=1==a.settings.moveSlides?a.settings.maxSlides-v():(r()-1)*v()-(a.children.length-a.settings.maxSlides),h=d.children(".bx-clone").eq(f),f=h.position()):"next"==e&&0==a.active.index?(f=d.find("> .bx-clone").eq(a.settings.maxSlides).position(),
a.active.last=!1):0<=c&&(f=c*v(),f=a.children.eq(f).position());"undefined"!=typeof f&&B("horizontal"==a.settings.mode?-(f.left-g):-f.top,"slide",a.settings.speed)}},d.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var b=parseInt(a.active.index)+1;d.goToSlide(b,"next")}},d.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!=a.active.index){var b=parseInt(a.active.index)-1;d.goToSlide(b,"prev")}},d.startAuto=function(b){a.interval||(a.interval=setInterval(function(){"next"==
a.settings.autoDirection?d.goToNextSlide():d.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&1!=b&&D("stop"))},d.stopAuto=function(b){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&1!=b&&D("start"))},d.getCurrentSlide=function(){return a.active.index},d.getSlideCount=function(){return a.children.length},d.redrawSlider=function(){a.children.add(d.find(".bx-clone")).outerWidth(p());a.viewport.css("height",l());a.settings.ticker||z();a.active.last&&(a.active.index=
r()-1);a.active.index>=r()&&(a.active.last=!0);a.settings.pager&&!a.settings.pagerCustom&&(w(),x(a.active.index))},d.destroySlider=function(){a.initialized&&(a.initialized=!1,b(".bx-clone",this).remove(),a.children.each(function(){void 0!=b(this).data("origStyle")?b(this).attr("style",b(this).data("origStyle")):b(this).removeAttr("style")}),void 0!=b(this).data("origStyle")?this.attr("style",b(this).data("origStyle")):b(this).removeAttr("style"),b(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),
a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.pagerEl.remove(),b(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&b(window).unbind("resize",Q))},d.reloadSlider=function(a){void 0!=a&&(g=a);d.destroySlider();k()},k(),this}}(jQuery);
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function f(a){return a}function g(a){return decodeURIComponent(a.replace(d," "))}function a(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e.json?JSON.parse(a):a}catch(b){}}var d=/\+/g,e=b.cookie=function(c,d,m){if(void 0!==d){m=b.extend({},e.defaults,m);if("number"===typeof m.expires){var h=m.expires,n=m.expires=new Date;n.setDate(n.getDate()+h)}d=e.json?
JSON.stringify(d):String(d);return document.cookie=[e.raw?c:encodeURIComponent(c),"=",e.raw?d:encodeURIComponent(d),m.expires?"; expires="+m.expires.toUTCString():"",m.path?"; path="+m.path:"",m.domain?"; domain="+m.domain:"",m.secure?"; secure":""].join("")}d=e.raw?f:g;m=document.cookie.split("; ");for(var h=c?void 0:{},n=0,l=m.length;n<l;n++){var q=m[n].split("="),p=d(q.shift()),q=d(q.join("="));if(c&&c===p){h=a(q);break}c||(h[p]=a(q))}return h};e.defaults={};b.removeCookie=function(a,d){return void 0!==
b.cookie(a)?(b.cookie(a,"",b.extend({},d,{expires:-1})),!0):!1}});
(function(b){function f(a){null!=e&&(a.dropClass&&e.removeClass(a.dropClass),e=null);null!=d&&a.canDropClass&&d.removeClass(a.canDropClass)}var g={makeClone:!1,sourceClass:null,sourceHide:!1,dragClass:null,canDropClass:null,dropClass:null,isActive:!0,container:null,canDrag:function(a,b){return a},canDrop:function(a){return a.hasClass("drop")||0<a.parents(".drop").size()},didDrop:function(a,b){a.appendTo(b)}},a=null,d=null,e=null,c,k,m,h=!1,n=!1,l={init:function(a){a=b.extend({},g,a);this.data("options",
a);this.bind("mousedown.dragdrop touchstart.dragdrop",l.onStart);return this},destroy:function(){this.unbind("mousedown.dragdrop touchstart.dragdrop");return this},on:function(){this.data("options").isActive=!0},off:function(){this.data("options").isActive=!1},onStart:function(e){var g=b(this),f=g.data("options");if(f.isActive){var r=f.canDrag(g,e);h=!0;n=!1;if(r){a=r;var v=a.position(),z=a.width(),B=a.height();"touchstart"==e.type?(c=e.originalEvent.touches[0].clientX-v.left,k=e.originalEvent.touches[0].clientY-
v.top):(c=e.pageX-v.left,k=e.pageY-v.top);f.makeClone?(d=a.clone(!1),d.appendTo(r.parent()),f.sourceClass?a.addClass(f.sourceClass):f.sourceHide&&a.css("visibility","hidden")):d=a;d.css({position:"absolute",left:v.left,top:v.top,width:z,height:B});f.dragClass&&d.addClass(f.dragClass);if(f=f.container)v=f.position(),m={minX:v.left,minY:v.top,maxX:v.left+f.outerWidth()-r.outerWidth(),maxY:v.top+f.outerHeight()-r.outerHeight()};b(window).bind("mousemove.dragdrop touchmove.dragdrop",{source:g},l.onMove).bind("mouseup.dragdrop touchend.dragdrop",
{source:g},l.onEnd);e.stopPropagation();return!1}}},onMove:function(a){if(d){var g=a.data.source.data("options"),l,r;n=!0;h=!1;console.log("move");"touchmove"==a.type?(l=a.originalEvent.touches[0].clientX,r=a.originalEvent.touches[0].clientY):(l=a.pageX,r=a.pageY);d.css("display","none");var v=document.elementFromPoint(l-document.documentElement.scrollLeft-document.body.scrollLeft,r-document.documentElement.scrollTop-document.body.scrollTop);d.css("display","");l-=c;r-=k;m&&(l=Math.min(Math.max(l,
m.minX),m.maxX),r=Math.min(Math.max(r,m.minY),m.maxY));d.css({left:l,top:r});if(v){if(null==e||e.get(0)!=v)l=b(v),g.canDrop(l)?(g.dropClass&&(null!=e&&e.removeClass(g.dropClass),l.addClass(g.dropClass)),g.canDropClass&&d.addClass(g.canDropClass),e=l):null!=e&&f(g)}else null!=e&&f(g);a.stopPropagation();return!1}},onEnd:function(c){if(d){c=c.data.source.data("options");if(d.closest(".popupwin_add-trip").length&&!0==h&&!1==n){var g=parseInt(d.data("step"))+1,g=d.closest(".popupwin_add-trip").find(".trip-step__block:nth-child("+
g+")");g.length&&d.closest(".popupwin__viewport").animate({scrollTop:g.position().top})}e&&c.didDrop(a,e);f(c);c.makeClone?(d.remove(),c.sourceClass?a.removeClass(c.sourceClass):c.sourceHide&&a.css("visibility","visible")):(d.css("position","static"),d.css("width",""),d.css("height",""),c.dragClass&&d.removeClass(c.dragClass));b(window).unbind("mousemove.dragdrop touchmove.dragdrop");b(window).unbind("mouseup.dragdrop touchend.dragdrop");a=d=m=null}}};b.fn.dragdrop=function(a){if(l[a])return l[a].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return l.init.apply(this,arguments);b.error("Method "+a+" does not exist on jQuery.dragdrop")}})(jQuery);
(function(b,f,g,a){var d=g(b),e=g(f),c=g.fancybox=function(){c.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/),m=null,h=f.createTouch!==a,n=function(a){return a&&a.hasOwnProperty&&a instanceof g},l=function(a){return a&&"string"===g.type(a)},q=function(a){return l(a)&&0<a.indexOf("%")},p=function(a,b){var d=parseInt(a,10)||0;b&&q(a)&&(d*=c.getViewport()[b]/100);return Math.ceil(d)},t=function(a,b){return p(a,b)+"px"};g.extend(c,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,
height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",
34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeChange:g.noop,beforeClose:g.noop,afterClose:g.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,d){if(b&&(g.isPlainObject(d)||(d={}),!1!==c.close(!0)))return g.isArray(b)||(b=n(b)?g(b).get():[b]),g.each(b,function(e,f){var h={},q,k,m,p,t;"object"===g.type(f)&&(f.nodeType&&(f=g(f)),n(f)?(h={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},g.metadata&&g.extend(!0,h,
f.metadata())):h=f);q=d.href||h.href||(l(f)?f:null);k=d.title!==a?d.title:h.title||"";p=(m=d.content||h.content)?"html":d.type||h.type;!p&&h.isDom&&(p=f.data("fancybox-type"),p||(p=(p=f.prop("class").match(/fancybox\.(\w+)/))?p[1]:null));l(q)&&(p||(c.isImage(q)?p="image":c.isSWF(q)?p="swf":"#"===q.charAt(0)?p="inline":l(f)&&(p="html",m=f)),"ajax"===p&&(t=q.split(/\s+/,2),q=t.shift(),t=t.shift()));m||("inline"===p?q?m=g(l(q)?q.replace(/.*(?=#[^\s]+$)/,""):q):h.isDom&&(m=f):"html"===p?m=q:!p&&(!q&&
h.isDom)&&(p="inline",m=f));g.extend(h,{href:q,type:p,content:m,title:k,selector:t});b[e]=h}),c.opts=g.extend(!0,{},c.defaults,d),d.keys!==a&&(c.opts.keys=d.keys?g.extend({},c.defaults.keys,d.keys):!1),c.group=b,c._start(c.opts.index)},cancel:function(){var a=c.coming;a&&!1!==c.trigger("onCancel")&&(c.hideLoading(),c.ajaxLoad&&c.ajaxLoad.abort(),c.ajaxLoad=null,c.imgPreload&&(c.imgPreload.onload=c.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),c.coming=null,c.current||
c._afterZoomOut(a))},close:function(a){c.cancel();!1!==c.trigger("beforeClose")&&(c.unbindEvents(),c.isActive&&(!c.isOpen||!0===a?(g(".fancybox-wrap").stop(!0).trigger("onReset").remove(),c._afterZoomOut()):(c.isOpen=c.isOpened=!1,c.isClosing=!0,g(".fancybox-item, .fancybox-nav").remove(),c.wrap.stop(!0,!0).removeClass("fancybox-opened"),c.transitions[c.current.closeMethod]())))},play:function(a){var b=function(){clearTimeout(c.player.timer)},d=function(){b();c.current&&c.player.isActive&&(c.player.timer=
setTimeout(c.next,c.current.playSpeed))},e=function(){b();g("body").unbind(".player");c.player.isActive=!1;c.trigger("onPlayEnd")};if(!0===a||!c.player.isActive&&!1!==a){if(c.current&&(c.current.loop||c.current.index<c.group.length-1))c.player.isActive=!0,g("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b}),d(),c.trigger("onPlayStart")}else e()},next:function(a){var b=c.current;b&&(l(a)||(a=b.direction.next),c.jumpto(b.index+1,a,"next"))},
prev:function(a){var b=c.current;b&&(l(a)||(a=b.direction.prev),c.jumpto(b.index-1,a,"prev"))},jumpto:function(b,d,e){var g=c.current;g&&(b=p(b),c.direction=d||g.direction[b>=g.index?"next":"prev"],c.router=e||"jumpto",g.loop&&(0>b&&(b=g.group.length+b%g.group.length),b%=g.group.length),g.group[b]!==a&&(c.cancel(),c._start(b)))},reposition:function(a,b){var d=c.current,e=d?d.wrap:null,f;e&&(f=c._getPosition(b),a&&"scroll"===a.type?(delete f.position,e.stop(!0,!0).animate(f,200)):(e.css(f),d.pos=g.extend({},
d.dim,f)))},update:function(a){var b=a&&a.type,d=!b||"orientationchange"===b;d&&(clearTimeout(m),m=null);c.isOpen&&!m&&(m=setTimeout(function(){var e=c.current;e&&!c.isClosing&&(c.wrap.removeClass("fancybox-tmp"),(d||"load"===b||"resize"===b&&e.autoResize)&&c._setDimension(),"scroll"===b&&e.canShrink||c.reposition(a),c.trigger("onUpdate"),m=null)},d&&!h?0:300))},toggle:function(a){c.isOpen&&(c.current.fitToView="boolean"===g.type(a)?a:!c.current.fitToView,h&&(c.wrap.removeAttr("style").addClass("fancybox-tmp"),
c.trigger("onUpdate")),c.update())},hideLoading:function(){e.unbind(".loading");g("#fancybox-loading").remove()},showLoading:function(){var a,b;c.hideLoading();a=g('<div id="fancybox-loading"><div></div></div>').click(c.cancel).appendTo("body");e.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),c.cancel()});c.defaults.fixed||(b=c.getViewport(),a.css({position:"absolute",top:0.5*b.h+b.y,left:0.5*b.w+b.x}))},getViewport:function(){var a=c.current&&c.current.locked||
!1,e={x:d.scrollLeft(),y:d.scrollTop()};a?(e.w=a[0].clientWidth,e.h=a[0].clientHeight):(e.w=h&&b.innerWidth?b.innerWidth:d.width(),e.h=h&&b.innerHeight?b.innerHeight:d.height());return e},unbindEvents:function(){c.wrap&&n(c.wrap)&&c.wrap.unbind(".fb");e.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var b=c.current,f;b&&(d.bind("orientationchange.fb"+(h?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),c.update),(f=b.keys)&&e.bind("keydown.fb",function(d){var e=d.which||d.keyCode,h=
d.target||d.srcElement;if(27===e&&c.coming)return!1;!d.ctrlKey&&(!d.altKey&&!d.shiftKey&&!d.metaKey&&(!h||!h.type&&!g(h).is("[contenteditable]")))&&g.each(f,function(f,h){if(1<b.group.length&&h[e]!==a)return c[f](h[e]),d.preventDefault(),!1;if(-1<g.inArray(e,h))return c[f](),d.preventDefault(),!1})}),g.fn.mousewheel&&b.mouseWheel&&c.wrap.bind("mousewheel.fb",function(a,d,e,f){for(var h=g(a.target||null),l=!1;h.length&&!l&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)l=h[0]&&!(h[0].style.overflow&&
"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=g(h).parent();if(0!==d&&!l&&1<c.group.length&&!b.canShrink){if(0<f||0<e)c.prev(0<f?"down":"left");else if(0>f||0>e)c.next(0>f?"up":"right");a.preventDefault()}}))},trigger:function(a,b){var d,e=b||c.coming||c.current;if(e){g.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===d)return!1;e.helpers&&g.each(e.helpers,function(b,
d){d&&(c.helpers[b]&&g.isFunction(c.helpers[b][a]))&&(d=g.extend(!0,{},c.helpers[b].defaults,d),c.helpers[b][a](d,e))});g.event.trigger(a+".fb")}},isImage:function(a){return l(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return l(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b={},d,e;a=p(a);d=c.group[a]||null;if(!d)return!1;b=g.extend(!0,{},c.opts,d);d=b.margin;e=b.padding;"number"===g.type(d)&&(b.margin=[d,d,d,d]);"number"===g.type(e)&&
(b.padding=[e,e,e,e]);b.modal&&g.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});b.autoSize&&(b.autoWidth=b.autoHeight=!0);"auto"===b.width&&(b.autoWidth=!0);"auto"===b.height&&(b.autoHeight=!0);b.group=c.group;b.index=a;c.coming=b;if(!1===c.trigger("beforeLoad"))c.coming=null;else{e=b.type;d=b.href;if(!e)return c.coming=null,c.current&&c.router&&"jumpto"!==c.router?(c.current.index=a,c[c.router](c.direction)):!1;c.isActive=
!0;if("image"===e||"swf"===e)b.autoHeight=b.autoWidth=!1,b.scrolling="visible";"image"===e&&(b.aspectRatio=!0);"iframe"===e&&h&&(b.scrolling="scroll");b.wrap=g(b.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+e+" fancybox-tmp "+b.wrapCSS).appendTo(b.parent||"body");g.extend(b,{skin:g(".fancybox-skin",b.wrap),outer:g(".fancybox-outer",b.wrap),inner:g(".fancybox-inner",b.wrap)});g.each(["Top","Right","Bottom","Left"],function(a,c){b.skin.css("padding"+c,t(b.padding[a]))});c.trigger("onReady");
if("inline"===e||"html"===e){if(!b.content||!b.content.length)return c._error("content")}else if(!d)return c._error("href");"image"===e?c._loadImage():"ajax"===e?c._loadAjax():"iframe"===e?c._loadIframe():c._afterLoad()}},_error:function(a){g.extend(c.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:c.coming.tpl.error});c._afterLoad()},_loadImage:function(){var a=c.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;c.coming.width=
this.width;c.coming.height=this.height;c._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;c._error("image")};a.src=c.coming.href;!0!==a.complete&&c.showLoading()},_loadAjax:function(){var a=c.coming;c.showLoading();c.ajaxLoad=g.ajax(g.extend({},a.ajax,{url:a.href,error:function(a,b){c.coming&&"abort"!==b?c._error("ajax",a):c.hideLoading()},success:function(b,d){"success"===d&&(a.content=b,c._afterLoad())}}))},_loadIframe:function(){var a=c.coming,b=g(a.tpl.iframe.replace(/\{rnd\}/g,
(new Date).getTime())).attr("scrolling",h?"auto":a.iframe.scrolling).attr("src",a.href);g(a.wrap).bind("onReset",function(){try{g(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(c.showLoading(),b.one("load",function(){g(this).data("ready",1);h||g(this).bind("load.fb",c.update);g(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();c._afterLoad()}));a.content=b.appendTo(a.inner);a.iframe.preload||c._afterLoad()},_preloadImages:function(){var a=
c.group,b=c.current,d=a.length,e=b.preload?Math.min(b.preload,d-1):0,g,f;for(f=1;f<=e;f+=1)g=a[(b.index+f)%d],"image"===g.type&&g.href&&((new Image).src=g.href)},_afterLoad:function(){var a=c.coming,b=c.current,d,e,f,h,l;c.hideLoading();if(a&&!1!==c.isActive)if(!1===c.trigger("afterLoad",a,b))a.wrap.stop(!0).trigger("onReset").remove(),c.coming=null;else{b&&(c.trigger("beforeChange",b),b.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());c.unbindEvents();
d=a.content;e=a.type;f=a.scrolling;g.extend(c,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:b});h=a.href;switch(e){case "inline":case "ajax":case "html":a.selector?d=g("<div>").html(d).find(a.selector):n(d)&&(d.data("fancybox-placeholder")||d.data("fancybox-placeholder",g('<div class="fancybox-placeholder"></div>').insertAfter(d).hide()),d=d.show().detach(),a.wrap.bind("onReset",function(){g(this).find(d).length&&d.hide().replaceAll(d.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":d=a.tpl.image.replace("{href}",h);break;case "swf":d='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+h+'"></param>',l="",g.each(a.swf,function(a,b){d+='<param name="'+a+'" value="'+b+'"></param>';l+=" "+a+'="'+b+'"'}),d+='<embed src="'+h+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}(!n(d)||!d.parent().is(a.inner))&&a.inner.append(d);c.trigger("beforeShow");
a.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);c._setDimension();c.reposition();c.isOpen=!1;c.coming=null;c.bindEvents();if(c.isOpened){if(b.prevMethod)c.transitions[b.prevMethod]()}else g(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();c.transitions[c.isOpened?a.nextMethod:a.openMethod]();c._preloadImages()}},_setDimension:function(){var a=c.getViewport(),b=0,d=!1,e=!1,d=c.wrap,f=c.skin,h=c.inner,l=c.current,e=l.width,n=l.height,k=l.minWidth,m=l.minHeight,u=l.maxWidth,
x=l.maxHeight,E=l.scrolling,D=l.scrollOutside?l.scrollbarWidth:0,N=l.margin,P=p(N[1]+N[3]),T=p(N[0]+N[2]),W,R,U,I,Q,y,O,G,H;d.add(f).add(h).width("auto").height("auto").removeClass("fancybox-tmp");N=p(f.outerWidth(!0)-f.width());W=p(f.outerHeight(!0)-f.height());R=P+N;U=T+W;I=q(e)?(a.w-R)*p(e)/100:e;Q=q(n)?(a.h-U)*p(n)/100:n;if("iframe"===l.type){if(H=l.content,l.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(h.width(I).height(9999),y=H.contents().find("body"),D&&y.css("overflow-x",
"hidden"),Q=y.height())}catch(K){}}else if(l.autoWidth||l.autoHeight)h.addClass("fancybox-tmp"),l.autoWidth||h.width(I),l.autoHeight||h.height(Q),l.autoWidth&&(I=h.width()),l.autoHeight&&(Q=h.height()),h.removeClass("fancybox-tmp");e=p(I);n=p(Q);G=I/Q;k=p(q(k)?p(k,"w")-R:k);u=p(q(u)?p(u,"w")-R:u);m=p(q(m)?p(m,"h")-U:m);x=p(q(x)?p(x,"h")-U:x);y=u;O=x;l.fitToView&&(u=Math.min(a.w-R,u),x=Math.min(a.h-U,x));R=a.w-P;T=a.h-T;l.aspectRatio?(e>u&&(e=u,n=p(e/G)),n>x&&(n=x,e=p(n*G)),e<k&&(e=k,n=p(e/G)),n<m&&
(n=m,e=p(n*G))):(e=Math.max(k,Math.min(e,u)),l.autoHeight&&"iframe"!==l.type&&(h.width(e),n=h.height()),n=Math.max(m,Math.min(n,x)));if(l.fitToView)if(h.width(e).height(n),d.width(e+N),a=d.width(),P=d.height(),l.aspectRatio)for(;(a>R||P>T)&&(e>k&&n>m)&&!(19<b++);)n=Math.max(m,Math.min(x,n-10)),e=p(n*G),e<k&&(e=k,n=p(e/G)),e>u&&(e=u,n=p(e/G)),h.width(e).height(n),d.width(e+N),a=d.width(),P=d.height();else e=Math.max(k,Math.min(e,e-(a-R))),n=Math.max(m,Math.min(n,n-(P-T)));D&&("auto"===E&&n<Q&&e+N+
D<R)&&(e+=D);h.width(e).height(n);d.width(e+N);a=d.width();P=d.height();d=(a>R||P>T)&&e>k&&n>m;e=l.aspectRatio?e<y&&n<O&&e<I&&n<Q:(e<y||n<O)&&(e<I||n<Q);g.extend(l,{dim:{width:t(a),height:t(P)},origWidth:I,origHeight:Q,canShrink:d,canExpand:e,wPadding:N,hPadding:W,wrapSpace:P-f.outerHeight(!0),skinSpace:f.height()-n});!H&&(l.autoHeight&&n>m&&n<x&&!e)&&h.height("auto")},_getPosition:function(a){var b=c.current,d=c.getViewport(),e=b.margin,g=c.wrap.width()+e[1]+e[3],f=c.wrap.height()+e[0]+e[2],e={position:"absolute",
top:e[0],left:e[3]};b.autoCenter&&b.fixed&&!a&&f<=d.h&&g<=d.w?e.position="fixed":b.locked||(e.top+=d.y,e.left+=d.x);e.top=t(Math.max(e.top,e.top+(d.h-f)*b.topRatio));e.left=t(Math.max(e.left,e.left+(d.w-g)*b.leftRatio));return e},_afterZoomIn:function(){var a=c.current;a&&(c.isOpen=c.isOpened=!0,c.wrap.css("overflow","visible").addClass("fancybox-opened"),c.update(),(a.closeClick||a.nextClick&&1<c.group.length)&&c.inner.css("cursor","pointer").bind("click.fb",function(b){!g(b.target).is("a")&&!g(b.target).parent().is("a")&&
(b.preventDefault(),c[a.closeClick?"close":"next"]())}),a.closeBtn&&g(a.tpl.closeBtn).appendTo(c.skin).bind("click.fb",function(a){a.preventDefault();c.close()}),a.arrows&&1<c.group.length&&((a.loop||0<a.index)&&g(a.tpl.prev).appendTo(c.outer).bind("click.fb",c.prev),(a.loop||a.index<c.group.length-1)&&g(a.tpl.next).appendTo(c.outer).bind("click.fb",c.next)),c.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?c.play(!1):c.opts.autoPlay&&!c.player.isActive&&(c.opts.autoPlay=!1,c.play()))},_afterZoomOut:function(a){a=
a||c.current;g(".fancybox-wrap").trigger("onReset").remove();g.extend(c,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});c.trigger("afterClose",a)}});c.transitions={getOrigPosition:function(){var a=c.current,b=a.element,d=a.orig,e={},g=50,f=50,h=a.hPadding,l=a.wPadding,q=c.getViewport();!d&&(a.isDom&&b.is(":visible"))&&(d=b.find("img:first"),d.length||(d=b));n(d)?(e=d.offset(),d.is("img")&&(g=d.outerWidth(),f=d.outerHeight())):
(e.top=q.y+(q.h-f)*a.topRatio,e.left=q.x+(q.w-g)*a.leftRatio);if("fixed"===c.wrap.css("position")||a.locked)e.top-=q.y,e.left-=q.x;return e={top:t(e.top-h*a.topRatio),left:t(e.left-l*a.leftRatio),width:t(g+l),height:t(f+h)}},step:function(a,b){var d,e,g=b.prop;e=c.current;var f=e.wrapSpace,h=e.skinSpace;if("width"===g||"height"===g)d=b.end===b.start?1:(a-b.start)/(b.end-b.start),c.isClosing&&(d=1-d),e="width"===g?e.wPadding:e.hPadding,e=a-e,c.skin[g](p("width"===g?e:e-f*d)),c.inner[g](p("width"===
g?e:e-f*d-h*d))},zoomIn:function(){var a=c.current,b=a.pos,d=a.openEffect,e="elastic"===d,f=g.extend({opacity:1},b);delete f.position;e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=0.1)):"fade"===d&&(b.opacity=0.1);c.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:c._afterZoomIn})},zoomOut:function(){var a=c.current,b=a.closeEffect,d="elastic"===b,e={opacity:0.1};d&&(e=this.getOrigPosition(),a.closeOpacity&&(e.opacity=0.1));c.wrap.animate(e,
{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:d?this.step:null,complete:c._afterZoomOut})},changeIn:function(){var a=c.current,b=a.nextEffect,d=a.pos,e={opacity:1},g=c.direction,f;d.opacity=0.1;"elastic"===b&&(f="down"===g||"up"===g?"top":"left","down"===g||"right"===g?(d[f]=t(p(d[f])-200),e[f]="+=200px"):(d[f]=t(p(d[f])+200),e[f]="-=200px"));"none"===b?c._afterZoomIn():c.wrap.css(d).animate(e,{duration:a.nextSpeed,easing:a.nextEasing,complete:c._afterZoomIn})},changeOut:function(){var a=
c.previous,b=a.prevEffect,d={opacity:0.1},e=c.direction;"elastic"===b&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px");a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){g(this).trigger("onReset").remove()}})}};c.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,create:function(a){a=g.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=g('<div class="fancybox-overlay"></div>').appendTo("body");
this.fixed=!1;a.fixed&&c.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=g.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(d.bind("resize.overlay",g.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){g(a.target).hasClass("fancybox-overlay")&&(c.isActive?c.close():b.close())});this.overlay.css(a.css).show()},
close:function(){g(".fancybox-overlay").remove();d.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(g("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");k?(b=Math.max(f.documentElement.offsetWidth,f.body.offsetWidth),e.width()>b&&(a=e.width())):e.width()>d.width()&&(a=e.width());this.overlay.width(a).height(e.height())},onReady:function(a,b){g(".fancybox-overlay").stop(!0,
!0);this.overlay||(this.margin=e.height()>d.height()||"scroll"===g("body").css("overflow-y")?g("body").css("margin-right"):!1,this.el=f.all&&!f.querySelector?g("html"):g("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&g("body").css("margin-right",p(this.margin)+b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||
this.update()},afterClose:function(a){this.overlay&&!c.isActive&&this.overlay.fadeOut(a.speedOut,g.proxy(this.close,this))}};c.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=c.current,d=b.title,e=a.type;g.isFunction(d)&&(d=d.call(b.element,b));if(l(d)&&""!==g.trim(d)){b=g('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>");switch(e){case "inside":e=c.skin;break;case "outside":e=c.wrap;break;case "over":e=c.inner;break;default:e=c.skin,b.appendTo("body"),
k&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),c.current.margin[2]+=Math.abs(p(b.css("margin-bottom")))}b["top"===a.position?"prependTo":"appendTo"](e)}}};g.fn.fancybox=function(a){var b,d=g(this),f=this.selector||"",h=function(e){var h=g(this).blur(),l=b,q,n;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey)&&!h.is(".fancybox-wrap")&&(q=a.groupAttr||"data-fancybox-group",n=h.attr(q),n||(q="rel",n=h.get(0)[q]),n&&(""!==n&&"nofollow"!==n)&&(h=f.length?g(f):d,h=h.filter("["+q+'="'+n+
'"]'),l=h.index(this)),a.index=l,!1!==c.open(h,a)&&e.preventDefault())};a=a||{};b=a.index||0;!f||!1===a.live?d.unbind("click.fb-start").bind("click.fb-start",h):e.undelegate(f,"click.fb-start").delegate(f+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h);this.filter("[data-fancybox-start=1]").trigger("click");return this};e.ready(function(){g.scrollbarWidth===a&&(g.scrollbarWidth=function(){var a=g('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),
b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});g.support.fixedPosition===a&&(g.support.fixedPosition=function(){var a=g('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());g.extend(c.defaults,{scrollbarWidth:g.scrollbarWidth(),fixed:g.support.fixedPosition,parent:g("body")})})})(window,document,jQuery);
!function(b,f,g){b.fn.jScrollPane=function(a){function d(a,c){function d(c){var f,h,l,p,t,r=!1,u=!1;if(y=c,O===g)p=a.scrollTop(),t=a.scrollLeft(),a.css({overflow:"hidden",padding:0}),G=a.innerWidth()+ua,H=a.innerHeight(),a.width(G),O=b('<div class="jspPane" />').css("padding",wa).append(a.children()),K=b('<div class="jspContainer" />').css({width:G+"px",height:H+"px"}).append(O).appendTo(a);else{if(a.css("width",""),r=y.stickToBottom&&D(),u=y.stickToRight&&N(),l=a.innerWidth()+ua!=G||a.outerHeight()!=
H,l&&(G=a.innerWidth()+ua,H=a.innerHeight(),K.css({width:G+"px",height:H+"px"})),!l&&Ja==L&&O.outerHeight()==ba)return a.width(G),void 0;Ja=L;O.css("width","");a.width(G);K.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}O.css("overflow","auto");L=c.contentWidth?c.contentWidth:O[0].scrollWidth;ba=O[0].scrollHeight;O.css("overflow","");ya=L/G;aa=ba/H;da=1<aa;(ea=1<ya)||da?(a.addClass("jspScrollable"),(c=y.maintainPosition&&(X||ga))&&(f=x(),h=E()),m(),n(),q(),c&&(M(u?L-G:f,!1),F(r?ba-H:h,
!1)),W(),P(),Q(),y.enableKeyboardNavigation&&R(),y.clickOnTrack&&v(),U(),y.hijackInternalLinks&&I()):(a.removeClass("jspScrollable"),O.css({top:0,left:0,width:K.width()-ua}),K.unbind(La),O.find(":input,a").unbind("focus.jsp"),a.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),z());y.autoReinitialise&&!ka?ka=setInterval(function(){d(y)},y.autoReinitialiseDelay):!y.autoReinitialise&&ka&&clearInterval(ka);p&&a.scrollTop(0)&&F(p,!1);t&&a.scrollLeft(0)&&M(t,!1);a.trigger("jsp-initialised",
[ea||da])}function m(){da&&(K.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />'))),Za=K.find(">.jspVerticalBar"),xa=Za.find(">.jspTrack"),Y=xa.find(">.jspDrag"),y.showArrows&&(s=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",t(0,-1)).bind("click.jsp",T),Pa=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",
t(0,1)).bind("click.jsp",T),y.arrowScrollOnHover&&(s.bind("mouseover.jsp",t(0,-1,s)),Pa.bind("mouseover.jsp",t(0,1,Pa))),p(xa,y.verticalArrowPositions,s,Pa)),Da=H,K.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){Da-=b(this).outerHeight()}),Y.hover(function(){Y.addClass("jspHover")},function(){Y.removeClass("jspHover")}).bind("mousedown.jsp",function(a){b("html").bind("dragstart.jsp selectstart.jsp",T);Y.addClass("jspActive");var c=a.pageY-Y.position().top;return b("html").bind("mousemove.jsp",
function(a){w(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",B),!1}),h())}function h(){xa.height(Da+"px");X=0;ib=y.verticalGutter+xa.outerWidth();O.width(G-ib-ua);try{0===Za.position().left&&O.css("margin-left",ib+"px")}catch(a){}}function n(){ea&&(K.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />'))),
$a=K.find(">.jspHorizontalBar"),za=$a.find(">.jspTrack"),S=za.find(">.jspDrag"),y.showArrows&&(Fa=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",t(-1,0)).bind("click.jsp",T),ta=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",t(1,0)).bind("click.jsp",T),y.arrowScrollOnHover&&(Fa.bind("mouseover.jsp",t(-1,0,Fa)),ta.bind("mouseover.jsp",t(1,0,ta))),p(za,y.horizontalArrowPositions,Fa,ta)),S.hover(function(){S.addClass("jspHover")},function(){S.removeClass("jspHover")}).bind("mousedown.jsp",
function(a){b("html").bind("dragstart.jsp selectstart.jsp",T);S.addClass("jspActive");var c=a.pageX-S.position().left;return b("html").bind("mousemove.jsp",function(a){C(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",B),!1}),ia=K.innerWidth(),l())}function l(){K.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ia-=b(this).outerWidth()});za.width(ia+"px");ga=0}function q(){if(ea&&da){var a=za.outerHeight(),c=xa.outerWidth();Da-=a;b($a).find(">.jspCap:visible,>.jspArrow").each(function(){ia+=
b(this).outerWidth()});ia-=c;H-=c;G-=a;za.parent().append(b('<div class="jspCorner" />').css("width",a+"px"));h();l()}ea&&O.width(K.outerWidth()-ua+"px");ba=O.outerHeight();aa=ba/H;ea&&(ca=Math.ceil(1/ya*ia),ca>y.horizontalDragMaxWidth?ca=y.horizontalDragMaxWidth:ca<y.horizontalDragMinWidth&&(ca=y.horizontalDragMinWidth),S.width(ca+"px"),V=ia-ca,J(ga));da&&(Ea=Math.ceil(1/aa*Da),Ea>y.verticalDragMaxHeight?Ea=y.verticalDragMaxHeight:Ea<y.verticalDragMinHeight&&(Ea=y.verticalDragMinHeight),Y.height(Ea+
"px"),fa=Da-Ea,A(X))}function p(a,b,c,d){var e,g="before",f="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==g?f=b:b==f&&(g=b,e=c,c=d,d=e);a[g](c)[f](d)}function t(a,b,c){return function(){return r(a,b,this,c),this.blur(),!1}}function r(a,c,d,e){d=b(d).addClass("jspActive");var g,f,h=!0,l=function(){0!==a&&Z.scrollByX(a*y.arrowButtonSpeed);0!==c&&Z.scrollByY(c*y.arrowButtonSpeed);f=setTimeout(l,h?y.initialDelay:y.arrowRepeatFreq);h=!1};l();g=e?"mouseout.jsp":"mouseup.jsp";e=
e||b("html");e.bind(g,function(){d.removeClass("jspActive");f&&clearTimeout(f);f=null;e.unbind(g)})}function v(){z();da&&xa.bind("mousedown.jsp",function(a){if(a.originalTarget===g||a.originalTarget==a.currentTarget){var c,d=b(this),e=d.offset(),f=a.pageY-e.top-X,h=!0,l=function(){var b=d.offset(),b=a.pageY-b.top-Ea/2,e=H*y.scrollPagePercent,g=fa*e/(ba-H);if(0>f)X-g>b?Z.scrollByY(-e):w(b);else{if(!(0<f))return n(),void 0;b>X+g?Z.scrollByY(e):w(b)}c=setTimeout(l,h?y.initialDelay:y.trackClickRepeatFreq);
h=!1},n=function(){c&&clearTimeout(c);c=null;b(document).unbind("mouseup.jsp",n)};return l(),b(document).bind("mouseup.jsp",n),!1}});ea&&za.bind("mousedown.jsp",function(a){if(a.originalTarget===g||a.originalTarget==a.currentTarget){var c,d=b(this),e=d.offset(),f=a.pageX-e.left-ga,h=!0,l=function(){var b=d.offset(),b=a.pageX-b.left-ca/2,e=G*y.scrollPagePercent,g=V*e/(L-G);if(0>f)ga-g>b?Z.scrollByX(-e):C(b);else{if(!(0<f))return n(),void 0;b>ga+g?Z.scrollByX(e):C(b)}c=setTimeout(l,h?y.initialDelay:
y.trackClickRepeatFreq);h=!1},n=function(){c&&clearTimeout(c);c=null;b(document).unbind("mouseup.jsp",n)};return l(),b(document).bind("mouseup.jsp",n),!1}})}function z(){za&&za.unbind("mousedown.jsp");xa&&xa.unbind("mousedown.jsp")}function B(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");Y&&Y.removeClass("jspActive");S&&S.removeClass("jspActive")}function w(a,b){da&&(0>a?a=0:a>fa&&(a=fa),b===g&&(b=y.animateScroll),b?Z.animate(Y,"top",a,A):(Y.css("top",
a),A(a)))}function A(b){b===g&&(b=Y.position().top);K.scrollTop(0);X=b;var c=0===X,d=X==fa;b=-(b/fa)*(ba-H);(Ha!=c||Ka!=d)&&(Ha=c,Ka=d,a.trigger("jsp-arrow-change",[Ha,Ka,la,Ba]));y.showArrows&&(s[c?"addClass":"removeClass"]("jspDisabled"),Pa[d?"addClass":"removeClass"]("jspDisabled"));O.css("top",b);a.trigger("jsp-scroll-y",[-b,c,d]).trigger("scroll")}function C(a,b){ea&&(0>a?a=0:a>V&&(a=V),b===g&&(b=y.animateScroll),b?Z.animate(S,"left",a,J):(S.css("left",a),J(a)))}function J(b){b===g&&(b=S.position().left);
K.scrollTop(0);ga=b;var c=0===ga,d=ga==V;b=-(b/V)*(L-G);(la!=c||Ba!=d)&&(la=c,Ba=d,a.trigger("jsp-arrow-change",[Ha,Ka,la,Ba]));y.showArrows&&(Fa[c?"addClass":"removeClass"]("jspDisabled"),ta[d?"addClass":"removeClass"]("jspDisabled"));O.css("left",b);a.trigger("jsp-scroll-x",[-b,c,d]).trigger("scroll")}function F(a,b){w(a/(ba-H)*fa,b)}function M(a,b){C(a/(L-G)*V,b)}function u(a,c,d){var e,g,f,h,l,n,q=l=0;try{e=b(a)}catch(k){return}g=e.outerHeight();a=e.outerWidth();K.scrollTop(0);for(K.scrollLeft(0);!e.is(".jspPane");)if(l+=
e.position().top,q+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;e=E();h=e+H;e>l||c?f=l-y.horizontalGutter:l+g>h&&(f=l-H+g+y.horizontalGutter);isNaN(f)||F(f,d);f=x();l=f+G;f>q||c?n=q-y.horizontalGutter:q+a>l&&(n=q-G+a+y.horizontalGutter);isNaN(n)||M(n,d)}function x(){return-O.position().left}function E(){return-O.position().top}function D(){var a=ba-H;return 20<a&&10>a-E()}function N(){var a=L-G;return 20<a&&10>a-x()}function P(){K.unbind(La).bind(La,function(a,b,
c,d){a=ga;b=X;return Z.scrollBy(c*y.mouseWheelSpeed,-d*y.mouseWheelSpeed,!1),a==ga&&b==X})}function T(){return!1}function W(){O.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){u(a.target,!1)})}function R(){function c(){var a=ga,b=X;switch(d){case 40:Z.scrollByY(y.keyboardSpeed,!1);break;case 38:Z.scrollByY(-y.keyboardSpeed,!1);break;case 34:case 32:Z.scrollByY(H*y.scrollPagePercent,!1);break;case 33:Z.scrollByY(-H*y.scrollPagePercent,!1);break;case 39:Z.scrollByX(y.keyboardSpeed,
!1);break;case 37:Z.scrollByX(-y.keyboardSpeed,!1)}return g=a!=ga||b!=X}var d,g,f=[];ea&&f.push($a[0]);da&&f.push(Za[0]);O.focus(function(){a.focus()});a.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(a){if(a.target===this||f.length&&b(a.target).closest(f).length){var e=ga,h=X;switch(a.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=a.keyCode;c();break;case 35:F(ba-H);d=null;break;case 36:F(0),d=null}return g=a.keyCode==d&&e!=ga||h!=X,!g}}).bind("keypress.jsp",
function(a){return a.keyCode==d&&c(),!g});y.hideFocus?(a.css("outline","none"),"hideFocus"in K[0]&&a.attr("hideFocus",!0)):(a.css("outline",""),"hideFocus"in K[0]&&a.attr("hideFocus",!1))}function U(){if(location.hash&&1<location.hash.length){var a,c,d=escape(location.hash.substr(1));try{a=b("#"+d+', a[name="'+d+'"]')}catch(e){return}a.length&&O.find(d)&&(0===K.scrollTop()?c=setInterval(function(){0<K.scrollTop()&&(u(a,!0),b(document).scrollTop(K.position().top),clearInterval(c))},50):(u(a,!0),b(document).scrollTop(K.position().top)))}}
function I(){b(document.body).data("jspHijack")||(b(document.body).data("jspHijack",!0),b(document.body).delegate("a[href*=#]","click",function(a){var c,d,e,g,h,l;c=this.href.substr(0,this.href.indexOf("#"));var n=location.href;if(-1!==location.href.indexOf("#")&&(n=location.href.substr(0,location.href.indexOf("#"))),c===n){c=escape(this.href.substr(this.href.indexOf("#")+1));try{d=b("#"+c+', a[name="'+c+'"]')}catch(q){return}d.length&&(e=d.closest(".jspScrollable"),g=e.data("jsp"),g.scrollToElement(d,
!0),e[0].scrollIntoView&&(h=b(f).scrollTop(),l=d.offset().top,(h>l||l>h+b(f).height())&&e[0].scrollIntoView()),a.preventDefault())}}))}function Q(){var a,b,c,d,e,g=!1;K.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(f){f=f.originalEvent.touches[0];a=x();b=E();c=f.pageX;d=f.pageY;e=!1;g=!0}).bind("touchmove.jsp",function(f){if(g){f=f.originalEvent.touches[0];var h=ga,l=X;return Z.scrollTo(a+c-f.pageX,b+d-f.pageY),e=e||5<Math.abs(c-f.pageX)||
5<Math.abs(d-f.pageY),h==ga&&l==X}}).bind("touchend.jsp",function(){g=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}var y,O,G,H,K,L,ba,ya,aa,da,ea,Y,fa,X,S,V,ga,Za,xa,ib,Da,Ea,s,Pa,$a,za,ia,ca,Fa,ta,ka,wa,ua,Ja,Z=this,Ha=!0,la=!0,Ka=!1,Ba=!1,ra=a.clone(!1,!1).empty(),La=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===a.css("box-sizing")?(wa=0,ua=0):(wa=a.css("paddingTop")+" "+a.css("paddingRight")+" "+a.css("paddingBottom")+" "+a.css("paddingLeft"),ua=
(parseInt(a.css("paddingLeft"),10)||0)+(parseInt(a.css("paddingRight"),10)||0));b.extend(Z,{reinitialise:function(a){a=b.extend({},y,a);d(a)},scrollToElement:function(a,b,c){u(a,b,c)},scrollTo:function(a,b,c){M(a,c);F(b,c)},scrollToX:function(a,b){M(a,b)},scrollToY:function(a,b){F(a,b)},scrollToPercentX:function(a,b){M(a*(L-G),b)},scrollToPercentY:function(a,b){F(a*(ba-H),b)},scrollBy:function(a,b,c){Z.scrollByX(a,c);Z.scrollByY(b,c)},scrollByX:function(a,b){var c=(x()+Math[0>a?"floor":"ceil"](a))/
(L-G);C(c*V,b)},scrollByY:function(a,b){var c=(E()+Math[0>a?"floor":"ceil"](a))/(ba-H);w(c*fa,b)},positionDragX:function(a,b){C(a,b)},positionDragY:function(a,b){w(a,b)},animate:function(a,b,c,d){var e={};e[b]=c;a.animate(e,{duration:y.animateDuration,easing:y.animateEase,queue:!1,step:d})},getContentPositionX:function(){return x()},getContentPositionY:function(){return E()},getContentWidth:function(){return L},getContentHeight:function(){return ba},getPercentScrolledX:function(){return x()/(L-G)},
getPercentScrolledY:function(){return E()/(ba-H)},getIsScrollableH:function(){return ea},getIsScrollableV:function(){return da},getContentPane:function(){return O},scrollToBottom:function(a){w(fa,a)},hijackInternalLinks:b.noop,destroy:function(){var b=E(),c=x();a.removeClass("jspScrollable").unbind(".jsp");a.replaceWith(ra.append(O.children()));ra.scrollTop(b);ra.scrollLeft(c);ka&&clearInterval(ka)}});d(c)}return a=b.extend({},b.fn.jScrollPane.defaults,a),b.each(["arrowButtonSpeed","trackClickSpeed",
"keyboardSpeed"],function(){a[this]=a[this]||a.speed}),this.each(function(){var e=b(this),c=e.data("jsp");c?c.reinitialise(a):(b("script",e).filter('[type="text/javascript"],:not([type])').remove(),c=new d(e,a),e.data("jsp",c))})};b.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:g,
animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}}(jQuery,this);
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function f(a){var c=a||window.event,g=[].slice.call(arguments,1),f=0,l=0,q=0,p=0,p=0;a=b.event.fix(c);a.type="mousewheel";c.wheelDelta&&(f=c.wheelDelta);c.detail&&(f=-1*c.detail);c.deltaY&&(f=q=-1*c.deltaY);c.deltaX&&(l=c.deltaX,f=-1*l);void 0!==c.wheelDeltaY&&(q=c.wheelDeltaY);void 0!==c.wheelDeltaX&&(l=-1*c.wheelDeltaX);p=Math.abs(f);if(!d||p<d)d=p;p=Math.max(Math.abs(q),
Math.abs(l));if(!e||p<e)e=p;c=0<f?"floor":"ceil";f=Math[c](f/d);l=Math[c](l/e);q=Math[c](q/e);g.unshift(a,f,l,q);return(b.event.dispatch||b.event.handle).apply(this,g)}var g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d,e;if(b.event.fixHooks)for(var c=g.length;c;)b.event.fixHooks[g[--c]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
a.length;b;)this.addEventListener(a[--b],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],f,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
(function(b){if("object"==typeof exports)b(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],b);else{if(!window.Spinner)throw Error("Spin.js not present");b(window.jQuery,window.Spinner)}})(function(b,f){b.fn.spin=function(g,a){return this.each(function(){var d=b(this),e=d.data();e.spinner&&(e.spinner.stop(),delete e.spinner);!1!==g&&(g=b.extend({color:a||d.css("color")},b.fn.spin.presets[g]||g),e.spinner=(new f(g)).spin(this))})};b.fn.spin.presets=
{tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});(function(b){function f(b){if(b){if("string"==typeof a[b])return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var e,c=0,f=g.length;f>c;c++)if(e=g[c]+b,"string"==typeof a[e])return e}}var g=["Webkit","Moz","ms","Ms","O"],a=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return f}):b.getStyleProperty=f})(window);
(function(b){function f(a){var b=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(b)&&b}function g(a){var b,g=a("boxSizing");return function(){if(g){var a=document.createElement("div");a.style.width="200px";a.style.padding="1px 2px 3px 4px";a.style.borderStyle="solid";a.style.borderWidth="1px 2px 3px 4px";a.style[g]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var d=e(a);b=200===f(d.width);c.removeChild(a)}}(),function(a){if("string"==typeof a&&(a=document.querySelector(a)),
a&&"object"==typeof a&&a.nodeType){var l=e(a);if("none"===l.display){for(var q={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},l=0,k=c.length;k>l;l++)q[c[l]]=0;return q}q={};q.width=a.offsetWidth;q.height=a.offsetHeight;for(var k=q.isBorderBox=!(!g||!l[g]||"border-box"!==l[g]),t=0,r=c.length;r>t;t++){var v=c[t],z=l[v];var B=a,w=z;if(d||-1===w.indexOf("%"))z=w;else var z=B.style,A=z.left,C=B.runtimeStyle,J=C&&C.left,z=(J&&(C.left=B.currentStyle.left),z.left=w,w=z.pixelLeft,
z.left=A,J&&(C.left=J),w);B=parseFloat(z);q[v]=isNaN(B)?0:B}a=q.paddingLeft+q.paddingRight;t=q.paddingTop+q.paddingBottom;r=q.marginLeft+q.marginRight;v=q.marginTop+q.marginBottom;B=q.borderLeftWidth+q.borderRightWidth;w=q.borderTopWidth+q.borderBottomWidth;k=k&&b;z=f(l.width);!1!==z&&(q.width=z+(k?0:a+B));l=f(l.height);return!1!==l&&(q.height=l+(k?0:t+w)),q.innerWidth=q.width-(a+B),q.innerHeight=q.height-(t+w),q.outerWidth=q.width+r,q.outerHeight=q.height+v,q}}}var a=document.defaultView,d=a&&a.getComputedStyle,
e=d?function(b){return a.getComputedStyle(b,null)}:function(a){return a.currentStyle},c="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],g):b.getSize=g(b.getStyleProperty)})(window);
(function(b){var f=document.documentElement,g=function(){};f.addEventListener?g=function(a,b,c){a.addEventListener(b,c,!1)}:f.attachEvent&&(g=function(a,e,c){a[e+c]=c.handleEvent?function(){var a=b.event;a.target=a.target||a.srcElement;c.handleEvent.call(c,a)}:function(){var e=b.event;e.target=e.target||e.srcElement;c.call(a,e)};a.attachEvent("on"+e,a[e+c])});var a=function(){};f.removeEventListener?a=function(a,b,c){a.removeEventListener(b,c,!1)}:f.detachEvent&&(a=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(g){a[b+c]=void 0}});f={bind:g,unbind:a};"function"==typeof define&&define.amd?define(f):b.eventie=f})(this);
(function(b){function f(a){"function"==typeof a&&(f.isReady?a():e.push(a))}function g(a){a="readystatechange"===a.type&&"complete"!==d.readyState;if(!f.isReady&&!a){f.isReady=!0;a=0;for(var b=e.length;b>a;a++)(0,e[a])()}}function a(a){return a.bind(d,"DOMContentLoaded",g),a.bind(d,"readystatechange",g),a.bind(b,"load",g),f}var d=b.document,e=[];f.isReady=!1;"function"==typeof define&&define.amd?(f.isReady="function"==typeof requirejs,define(["eventie/eventie"],a)):b.docReady=a(b.eventie)})(this);
(function(){function b(){}function f(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function g(a){return function(){return this[a].apply(this,arguments)}}var a=b.prototype;a.getListeners=function(a){var b,c,g=this._getEvents();if("object"==typeof a)for(c in b={},g)g.hasOwnProperty(c)&&a.test(c)&&(b[c]=g[c]);else b=g[a]||(g[a]=[]);return b};a.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c};a.getListenersAsObject=function(a){var b,
c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c};a.addListener=function(a,b){var c,g=this.getListenersAsObject(a),m="object"==typeof b;for(c in g)g.hasOwnProperty(c)&&-1===f(g[c],b)&&g[c].push(m?b:{listener:b,once:!1});return this};a.on=g("addListener");a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};a.once=g("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);
return this};a.removeListener=function(a,b){var c,g,m=this.getListenersAsObject(a);for(g in m)m.hasOwnProperty(g)&&(c=f(m[g],b),-1!==c&&m[g].splice(c,1));return this};a.off=g("removeListener");a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};a.manipulateListeners=function(a,b,c){var g,f,h=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof
RegExp)for(g=c.length;g--;)h.call(this,b,c[g]);else for(g in b)b.hasOwnProperty(g)&&(f=b[g])&&("function"==typeof f?h.call(this,g,f):a.call(this,g,f));return this};a.removeEvent=function(a){var b,c=typeof a,g=this._getEvents();if("string"===c)delete g[a];else if("object"===c)for(b in g)g.hasOwnProperty(b)&&a.test(b)&&delete g[b];else delete this._events;return this};a.removeAllListeners=g("removeEvent");a.emitEvent=function(a,b){var c,g,f,h,n=this.getListenersAsObject(a);for(f in n)if(n.hasOwnProperty(f))for(g=
n[f].length;g--;)c=n[f][g],!0===c.once&&this.removeListener(a,c.listener),h=c.listener.apply(this,b||[]),h===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this};a.trigger=g("emitEvent");a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module&&module.exports?module.exports=b:this.EventEmitter=b}).call(this);
(function(b){function f(){}function g(b){function e(a){a.prototype.option||(a.prototype.option=function(a){b.isPlainObject(a)&&(this.options=b.extend(!0,this.options,a))})}function c(c,e){b.fn[c]=function(f){if("string"==typeof f){for(var l=a.call(arguments,1),q=0,p=this.length;p>q;q++){var t=b.data(this[q],c);if(t)if(b.isFunction(t[f])&&"_"!==f.charAt(0)){if(t=t[f].apply(t,l),void 0!==t)return t}else g("no such method '"+f+"' for "+c+" instance");else g("cannot call methods on "+c+" prior to initialization; attempted to call '"+
f+"'")}return this}return this.each(function(){var a=b.data(this,c);a?(a.option(f),a._init()):(a=new e(this,f),b.data(this,c,a))})}}if(b){var g="undefined"==typeof console?f:function(a){console.error(a)};b.bridget=function(a,b){e(b);c(a,b)}}}var a=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],g):g(b.jQuery)})(window);
(function(b,f){function g(a,b){return a[c](b)}function a(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);for(var c=a.parentNode.querySelectorAll(b),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1}function d(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);return g(a,b)}var e,c=function(){if(f.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],b=0,c=a.length;c>b;b++){var d=a[b]+"MatchesSelector";if(f[d])return d}}();if(c){var k=document.createElement("div");
e=g(k,"div")?g:d}else e=a;"function"==typeof define&&define.amd?define(function(){return e}):window.matchesSelector=e})(this,Element.prototype);
(function(b){function f(a,b){for(var d in b)a[d]=b[d];return a}function g(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function a(a,b,d){function h(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var n=d("transition"),l=d("transform"),q=n&&l,p=!!d("perspective"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[n],r=["transform","transition","transitionDuration","transitionProperty"],
v=function(){for(var a={},b=0,c=r.length;c>b;b++){var e=r[b],g=d(e);g&&g!==e&&(a[e]=g)}return a}();f(h.prototype,a.prototype);h.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)};h.prototype.getSize=function(){this.size=b(this.element)};h.prototype.css=function(a){var b=this.element.style,c;for(c in a)b[v[c]||c]=a[c]};h.prototype.getPosition=function(){var a=
e(this.element),b=this.layout.options,c=b.isOriginLeft,b=b.isOriginTop,d=parseInt(a[c?"left":"right"],10),a=parseInt(a[b?"top":"bottom"],10),d=isNaN(d)?0:d,a=isNaN(a)?0:a,g=this.layout.size,d=d-(c?g.paddingLeft:g.paddingRight),a=a-(b?g.paddingTop:g.paddingBottom);this.position.x=d;this.position.y=a};h.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",
c.left="");b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top="");this.css(c);this.emitEvent("layout",[this])};var z=p?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};h.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),g=parseInt(b,10),e=e===this.position.x&&g===this.position.y;if(this.setPosition(a,b),e&&!this.isTransitioning)return this.layoutPosition(),
void 0;c=a-c;d=b-d;e={};g=this.layout.options;c=g.isOriginLeft?c:-c;d=g.isOriginTop?d:-d;e.transform=z(c,d);this.transition({to:e,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};h.prototype.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};h.prototype.moveTo=q?h.prototype._transitionTo:h.prototype.goTo;h.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};h.prototype._nonTransition=function(a){this.css(a.to);a.isCleaning&&
this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};h.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(a),void 0;var b=this._transition,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0};var B=l&&g(l)+",opacity";h.prototype.enableTransition=
function(){this.isTransitioning||(this.css({transitionProperty:B,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(t,this,!1))};h.prototype.transition=h.prototype[n?"_transition":"_nonTransition"];h.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};h.prototype.onotransitionend=function(a){this.ontransitionend(a)};var w={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};h.prototype.ontransitionend=function(a){if(a.target===
this.element){var b=this._transition,c=w[a.propertyName]||a.propertyName;delete b.ingProperties[c];var d;a:{for(d in b.ingProperties){d=!1;break a}d=!0}if(d&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd)b.onEnd[c].call(this),delete b.onEnd[c];this.emitEvent("transitionEnd",[this])}};h.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(t,this,!1);this.isTransitioning=!1};h.prototype._removeStyles=
function(a){var b={},c;for(c in a)b[c]="";this.css(b)};var A={transitionProperty:"",transitionDuration:""};return h.prototype.removeTransitionStyles=function(){this.css(A)},h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])},h.prototype.remove=function(){if(!n||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0});this.hide()},h.prototype.reveal=
function(){delete this.isHidden;this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},h.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.css({display:"none"})}}})},h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}
var d=document.defaultView,e=d&&d.getComputedStyle?function(a){return d.getComputedStyle(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],a):(b.Outlayer={},b.Outlayer.Item=a(b.EventEmitter,b.getSize,b.getStyleProperty))})(window);
(function(b){function f(a,b){for(var c in b)a[c]=b[c];return a}function g(a){var b=[];if("[object Array]"===n.call(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function a(a,b){var c=q(b,a);-1!==c&&b.splice(c,1)}function d(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function e(e,q,n,v,z,B){function w(a,b){if("string"==typeof a&&(a=c.querySelector(a)),!a||!l(a))return k&&k.error("Bad "+this.settings.namespace+
" element: "+a),void 0;this.element=a;this.options=f({},this.options);this.option(b);var d=++C;this.element.outlayerGUID=d;J[d]=this;this._create();this.options.isInitLayout&&this.layout()}function A(a,b){a.prototype[b]=f({},w.prototype[b])}var C=0,J={};return w.prototype.settings={namespace:"outlayer",item:B},w.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},
visibleStyle:{opacity:1,transform:"scale(1)"}},f(w.prototype,n.prototype),w.prototype.option=function(a){f(this.options,a)},w.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);f(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()},w.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},w.prototype._itemize=function(a){a=this._filterFindItemElements(a);for(var b=this.settings.item,c=[],
d=0,e=a.length;e>d;d++){var g=new b(a[d],this);c.push(g)}return c},w.prototype._filterFindItemElements=function(a){a=g(a);for(var b=this.options.itemSelector,c=[],d=0,e=a.length;e>d;d++){var f=a[d];if(l(f))if(b){z(f,b)&&c.push(f);for(var f=f.querySelectorAll(b),h=0,q=f.length;q>h;h++)c.push(f[h])}else c.push(f)}return c},w.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},w.prototype.layout=function(){this._resetLayout();this._manageStamps();
this.layoutItems(this.items,void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited);this._isLayoutInited=!0},w.prototype._init=w.prototype.layout,w.prototype._resetLayout=function(){this.getSize()},w.prototype.getSize=function(){this.size=v(this.element)},w.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):l(d)&&(c=d),this[a]=c?v(c)[b]:d):this[a]=0},w.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a);
this._layoutItems(a,b);this._postLayout()},w.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},w.prototype._layoutItems=function(a,b){if(!a||!a.length)return this.emitEvent("layoutComplete",[this,a]),void 0;this._itemsOn(a,"layout",function(){this.emitEvent("layoutComplete",[this,a])});for(var c=[],d=0,e=a.length;e>d;d++){var g=a[d],f=this._getItemLayoutPosition(g);f.item=g;f.isInstant=b;c.push(f)}this._processLayoutQueue(c)},
w.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},w.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},w.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},w.prototype._postLayout=function(){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))},w.prototype._getContainerSize=h,w.prototype._setContainerMeasure=function(a,b){if(void 0!==
a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}},w.prototype._itemsOn=function(a,b,c){function d(){return e++,e===g&&c.call(f),!0}for(var e=0,g=a.length,f=this,h=0,l=a.length;l>h;h++)a[h].on(b,d)},w.prototype.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)},w.prototype.unignore=function(a){(a=this.getItem(a))&&
delete a.isIgnored},w.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++)this.ignore(a[b])}},w.prototype.unstamp=function(b){if(b=this._find(b))for(var c=0,d=b.length;d>c;c++){var e=b[c];a(e,this.stamps);this.unignore(e)}},w.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),g(a)):void 0},w.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=
0,b=this.stamps.length;b>a;a++)this._manageStamp(this.stamps[a])}},w.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},w.prototype._manageStamp=h,w.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect;a=v(a);
return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}},w.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},w.prototype.bindResize=function(){this.isResizeBound||(e.bind(b,"resize",this),this.isResizeBound=!0)},w.prototype.unbindResize=function(){e.unbind(b,"resize",this);this.isResizeBound=!1},w.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;
this.resizeTimeout=setTimeout(function(){a.resize();delete a.resizeTimeout},100)},w.prototype.resize=function(){var a=v(this.element);this.size&&a&&a.innerWidth===this.size.innerWidth||this.layout()},w.prototype.addItems=function(a){a=this._itemize(a);return a.length&&(this.items=this.items.concat(a)),a},w.prototype.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))},w.prototype.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);
this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}},w.prototype.reveal=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].reveal()},w.prototype.hide=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].hide()},w.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},w.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>
c;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b}},w.prototype.remove=function(b){b=g(b);var c=this.getItems(b);if(c&&c.length){this._itemsOn(c,"remove",function(){this.emitEvent("removeComplete",[this,c])});b=0;for(var d=c.length;d>b;b++){var e=c[b];e.remove();a(e,this.items)}}},w.prototype.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";for(var a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.unbindResize();delete this.element.outlayerGUID;m&&m.removeData(this.element,
this.settings.namespace)},w.data=function(a){return(a=a&&a.outlayerGUID)&&J[a]},w.create=function(a,b){function e(){w.apply(this,arguments)}return f(e.prototype,w.prototype),A(e,"options"),A(e,"settings"),f(e.prototype.options,b),e.prototype.settings.namespace=a,e.data=w.data,e.Item=function(){B.apply(this,arguments)},e.Item.prototype=new B,e.prototype.settings.item=e.Item,q(function(){for(var b=d(a),g=c.querySelectorAll(".js-"+b),b="data-"+b+"-options",f=0,h=g.length;h>f;f++){var l,q=g[f],n=q.getAttribute(b);
try{l=n&&JSON.parse(n)}catch(p){k&&k.error("Error parsing "+b+" on "+q.nodeName.toLowerCase()+(q.id?"#"+q.id:"")+": "+p);continue}n=new e(q,l);m&&m.data(q,a,n)}}),m&&m.bridget&&m.bridget(a,e),e},w.Item=B,w}var c=b.document,k=b.console,m=b.jQuery,h=function(){},n=Object.prototype.toString,l="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},q=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:
function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("eventie/eventie doc-ready/doc-ready eventEmitter/EventEmitter get-size/get-size matches-selector/matches-selector ./item".split(" "),e):b.Outlayer=e(b.eventie,b.docReady,b.EventEmitter,b.getSize,b.matchesSelector,b.Outlayer.Item)})(window);
(function(b){function f(a,b){var e=a.create("masonry");return e.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},e.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&b(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;
this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)},e.prototype.getContainerWidth=function(){var a=b(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=a&&a.innerWidth},e.prototype._getItemLayoutPosition=function(a){a.getSize();var b=Math.ceil(a.size.outerWidth/this.columnWidth),b=Math.min(b,this.cols),d=this._getColGroup(b),e=Math.min.apply(Math,d),b=g(d,e),f={x:this.columnWidth*b,y:e};a=e+a.size.outerHeight;d=this.cols+
1-d.length;for(e=0;d>e;e++)this.colYs[b+e]=a;return f},e.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],d=this.cols+1-a,e=0;d>e;e++){var g=this.colYs.slice(e,e+a);b[e]=Math.max.apply(Math,g)}return b},e.prototype._manageStamp=function(a){var e=b(a);a=this._getElementOffset(a);var g=this.options.isOriginLeft?a.left:a.right,f=g+e.outerWidth,g=Math.floor(g/this.columnWidth),g=Math.max(0,g),f=Math.floor(f/this.columnWidth),f=Math.min(this.cols-1,f),e=(this.options.isOriginTop?
a.top:a.bottom)+e.outerHeight;for(a=g;f>=a;a++)this.colYs[a]=Math.max(e,this.colYs[a])},e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},e.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},e.prototype.resize=function(){var a=this.containerWidth;this.getContainerWidth();a!==
this.containerWidth&&this.layout()},e}var g=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var e=0,c=a.length;c>e;e++)if(a[e]===b)return e;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],f):b.Masonry=f(b.Outlayer,b.getSize)})(window);
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
+function(b){var f=function(a,d){this.options=d;this.$element=b(a);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,b.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};f.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};f.prototype.toggle=function(a){return this[!this.isShown?"show":"hide"](a)};f.prototype.show=function(a){var d=this,e=b.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(e);!this.isShown&&!e.isDefaultPrevented()&&
(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',b.proxy(this.hide,this)),this.backdrop(function(){var c=b.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(document.body);d.$element.show().scrollTop(0);c&&d.$element[0].offsetWidth;d.$element.addClass("in").attr("aria-hidden",!1);d.enforceFocus();var e=b.Event("shown.bs.modal",{relatedTarget:a});c?d.$element.find(".modal-dialog").one(b.support.transition.end,
function(){d.$element.focus().trigger(e)}).emulateTransitionEnd(300):d.$element.focus().trigger(e)}))};f.prototype.hide=function(a){a&&a.preventDefault();a=b.Event("hide.bs.modal");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),b(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),b.support.transition&&this.$element.hasClass("fade")?this.$element.one(b.support.transition.end,b.proxy(this.hideModal,
this)).emulateTransitionEnd(300):this.hideModal())};f.prototype.enforceFocus=function(){b(document).off("focusin.bs.modal").on("focusin.bs.modal",b.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.focus()},this))};f.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",b.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};f.prototype.hideModal=
function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};f.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};f.prototype.backdrop=function(a){var d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=b.support.transition&&d;this.$backdrop=b('<div class="modal-backdrop '+d+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",b.proxy(function(a){a.target===
<<<<<<< HEAD
a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));e&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");a&&(e?this.$backdrop.one(b.support.transition.end,a).emulateTransitionEnd(150):a())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(b.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()};var e=b.fn.modal;b.fn.modal=
function(a,d){return this.each(function(){var e=b(this),c=e.data("bs.modal"),k=b.extend({},f.DEFAULTS,e.data(),"object"==typeof a&&a);c||e.data("bs.modal",c=new f(this,k));if("string"==typeof a)c[a](d);else k.show&&c.show(d)})};b.fn.modal.Constructor=f;b.fn.modal.noConflict=function(){b.fn.modal=e;return this};b(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var d=b(this),e=d.attr("href"),c=b(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),e=c.data("bs.modal")?
"toggle":b.extend({remote:!/#/.test(e)&&e},c.data(),d.data());d.is("a")&&a.preventDefault();c.modal(e,this).one("hide",function(){d.is(":visible")&&d.focus()})});b(document).on("show.bs.modal",".modal",function(){b(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){b(document.body).removeClass("modal-open")})}(jQuery);
(function(b){function f(){this===e.elem&&(e.pos=[-260,-260],e.elem=!1,a=3)}var e={pos:[-260,-260]},a=3,d=document,g=d.documentElement,c=d.body,k,l;b.event.special.mwheelIntent={setup:function(){var a=b(this).bind("mousewheel",b.event.special.mwheelIntent.handler);this!==d&&(this!==g&&this!==c)&&a.bind("mouseleave",f);return!0},teardown:function(){b(this).unbind("mousewheel",b.event.special.mwheelIntent.handler).unbind("mouseleave",f);return!0},handler:function(c,d){var g=[c.clientX,c.clientY];if(this===
e.elem||Math.abs(e.pos[0]-g[0])>a||Math.abs(e.pos[1]-g[1])>a)return e.elem=this,e.pos=g,a=250,clearTimeout(l),l=setTimeout(function(){a=10},200),clearTimeout(k),k=setTimeout(function(){a=3},1500),c=b.extend({},c,{type:"mwheelIntent"}),(b.event.dispatch||b.event.handle).apply(this,arguments)}};b.fn.extend({mwheelIntent:function(a){return a?this.bind("mwheelIntent",a):this.trigger("mwheelIntent")},unmwheelIntent:function(a){return this.unbind("mwheelIntent",a)}});b(function(){c=d.body;b(d).bind("mwheelIntent.mwheelIntentDefault",
b.noop)})})(jQuery);!function(b){"undefined"==typeof b.fn.each2&&b.extend(b.fn,{each2:function(f){for(var e=b([0]),a=-1,d=this.length;++a<d&&(e.context=e[0]=this[a])&&!1!==f.call(e[0],a,e););return this}})}(jQuery);
(function(b,f){function e(a){var b,c,d,e;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;d>c;c++)e=a.charAt(c),b+=U[e]||e;return b}function a(a,b){for(var c=0,d=b.length;d>c;c+=1)if(g(a,b[c]))return c;return-1}function d(){var a=b(R);a.appendTo("body");var c={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),c}function g(a,b){return a===b?!0:a===f||b===f?!1:null===a||null===b?!1:a.constructor===String?a+""==b+"":b.constructor===String?b+""==a+"":!1}function c(a,
c){var d,e,g;if(null===a||1>a.length)return[];d=a.split(c);e=0;for(g=d.length;g>e;e+=1)d[e]=b.trim(d[e]);return d}function k(a){a.on("keydown",function(){b.data(a,"keyup-change-value")===f&&b.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var c=b.data(a,"keyup-change-value");c!==f&&a.val()!==c&&(b.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))})}function l(a){a.on("mousemove",function(a){var c=W;(c===f||c.x!==a.pageX||c.y!==a.pageY)&&b(a.target).trigger("mousemove-filtered",
a)})}function h(a,b,c){c=c||f;var d;return function(){var e=arguments;window.clearTimeout(d);d=window.setTimeout(function(){b.apply(c,e)},a)}}function p(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}}function n(b,c){var d=h(b,function(a){c.trigger("scroll-debounced",a)});c.on("scroll",function(b){0<=a(b.target,c.get())&&d(b)})}function m(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();a.is(":visible")&&c===document.activeElement&&
(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function q(a){a.preventDefault();a.stopPropagation()}function t(a,c,d){var e,g,f=[];(e=a.attr("class"))&&(e=""+e,b(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&f.push(this)}));(e=c.attr("class"))&&(e=""+e,b(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(g=d(this),g&&f.push(g))}));a.attr("class",f.join(" "))}function r(a,b,c,d){var g=e(a.toUpperCase()).indexOf(e(b.toUpperCase()));
b=b.length;return 0>g?(c.push(d(a)),void 0):(c.push(d(a.substring(0,g))),c.push("<span class='select2-match'>"),c.push(d(a.substring(g,g+b))),c.push("</span>"),c.push(d(a.substring(g+b,a.length))),void 0)}function v(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function w(a){var c,d=null,e=a.quietMillis||100,g=a.url,h=this;return function(m){window.clearTimeout(c);c=window.setTimeout(function(){var c=
a.data,e=g,n=a.transport||b.fn.select2.ajaxDefaults.transport,p=b.extend({},b.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||f,dataType:a.dataType||"json"}),c=c?c.call(h,m.term,m.page,m.context):null,e="function"==typeof e?e.call(h,m.term,m.page,m.context):e;d&&d.abort();a.params&&(b.isFunction(a.params)?b.extend(p,a.params.call(h)):b.extend(p,a.params));b.extend(p,{url:e,dataType:a.dataType,data:c,success:function(b){b=a.results(b,m.page);m.callback(b)}});
d=n.call(h,p)},e)}}function B(a){var c,d,e=a,g=function(a){return""+a.text};b.isArray(e)&&(d=e,e={results:d});!1===b.isFunction(e)&&(d=e,e=function(){return d});a=e();return a.text&&(g=a.text,b.isFunction(g)||(c=a.text,g=function(a){return a[c]})),function(a){var c,d=a.term,f={results:[]};return""===d?(a.callback(e()),void 0):(c=function(e,f){var h,m;if(e=e[0],e.children){h={};for(m in e)e.hasOwnProperty(m)&&(h[m]=e[m]);h.children=[];b(e.children).each2(function(a,b){c(b,h.children)});(h.children.length||
a.matcher(d,g(h),e))&&f.push(h)}else a.matcher(d,g(e),e)&&f.push(e)},b(e().results).each2(function(a,b){c(b,f.results)}),a.callback(f),void 0)}}function x(a){var c=b.isFunction(a);return function(d){var e=d.term,g={results:[]};b(c?a():a).each(function(){var a=this.text!==f,b=a?this.text:this;(""===e||d.matcher(e,b))&&g.results.push(a?this:{id:this,text:this})});d.callback(g)}}function A(a,c){if(b.isFunction(a))return!0;if(!a)return!1;throw Error(c+" must be a function or a falsy value");}function C(a){return b.isFunction(a)?
a():a}function I(a){var c=0;return b.each(a,function(a,b){b.children?c+=I(b.children):c++}),c}function F(a,b,c,d){var e,h,m,n,p,k=a;h=!1;if(!d.createSearchChoice||!d.tokenSeparators||1>d.tokenSeparators.length)return f;for(;;){h=-1;m=0;for(n=d.tokenSeparators.length;n>m&&(p=d.tokenSeparators[m],h=a.indexOf(p),!(0<=h));m++);if(0>h)break;if(e=a.substring(0,h),a=a.substring(h+p.length),0<e.length&&(e=d.createSearchChoice.call(this,e,b),e!==f&&null!==e&&d.id(e)!==f&&null!==d.id(e))){h=!1;m=0;for(n=b.length;n>
m;m++)if(g(d.id(e),d.id(b[m]))){h=!0;break}h||c(e)}}return k!==a?a:void 0}function L(a,c){var d=function(){};return d.prototype=new a,d.prototype.constructor=d,d.prototype.parent=a.prototype,d.prototype=b.extend(d.prototype,c),d}if(window.Select2===f){var u,y,E,D,M,O,T,W={x:0,y:0};u={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a.which?a.which:a){case u.LEFT:case u.RIGHT:case u.UP:case u.DOWN:return!0}return!1},
=======
a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));e&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");a&&(e?this.$backdrop.one(b.support.transition.end,a).emulateTransitionEnd(150):a())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(b.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()};var g=b.fn.modal;b.fn.modal=
function(a,d){return this.each(function(){var e=b(this),c=e.data("bs.modal"),g=b.extend({},f.DEFAULTS,e.data(),"object"==typeof a&&a);c||e.data("bs.modal",c=new f(this,g));if("string"==typeof a)c[a](d);else g.show&&c.show(d)})};b.fn.modal.Constructor=f;b.fn.modal.noConflict=function(){b.fn.modal=g;return this};b(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var d=b(this),e=d.attr("href"),c=b(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),e=c.data("bs.modal")?
"toggle":b.extend({remote:!/#/.test(e)&&e},c.data(),d.data());d.is("a")&&a.preventDefault();c.modal(e,this).one("hide",function(){d.is(":visible")&&d.focus()})});b(document).on("show.bs.modal",".modal",function(){b(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){b(document.body).removeClass("modal-open")})}(jQuery);
(function(b){function f(){this===g.elem&&(g.pos=[-260,-260],g.elem=!1,a=3)}var g={pos:[-260,-260]},a=3,d=document,e=d.documentElement,c=d.body,k,m;b.event.special.mwheelIntent={setup:function(){var a=b(this).bind("mousewheel",b.event.special.mwheelIntent.handler);this!==d&&(this!==e&&this!==c)&&a.bind("mouseleave",f);return!0},teardown:function(){b(this).unbind("mousewheel",b.event.special.mwheelIntent.handler).unbind("mouseleave",f);return!0},handler:function(c,d){var e=[c.clientX,c.clientY];if(this===
g.elem||Math.abs(g.pos[0]-e[0])>a||Math.abs(g.pos[1]-e[1])>a)return g.elem=this,g.pos=e,a=250,clearTimeout(m),m=setTimeout(function(){a=10},200),clearTimeout(k),k=setTimeout(function(){a=3},1500),c=b.extend({},c,{type:"mwheelIntent"}),(b.event.dispatch||b.event.handle).apply(this,arguments)}};b.fn.extend({mwheelIntent:function(a){return a?this.bind("mwheelIntent",a):this.trigger("mwheelIntent")},unmwheelIntent:function(a){return this.unbind("mwheelIntent",a)}});b(function(){c=d.body;b(d).bind("mwheelIntent.mwheelIntentDefault",
b.noop)})})(jQuery);!function(b){"undefined"==typeof b.fn.each2&&b.extend(b.fn,{each2:function(f){for(var g=b([0]),a=-1,d=this.length;++a<d&&(g.context=g[0]=this[a])&&!1!==f.call(g[0],a,g););return this}})}(jQuery);
(function(b,f){function g(a){var b,c,d,e;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;d>c;c++)e=a.charAt(c),b+=U[e]||e;return b}function a(a,b){for(var c=0,d=b.length;d>c;c+=1)if(e(a,b[c]))return c;return-1}function d(){var a=b(R);a.appendTo("body");var c={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),c}function e(a,b){return a===b?!0:a===f||b===f?!1:null===a||null===b?!1:a.constructor===String?a+""==b+"":b.constructor===String?b+""==a+"":!1}function c(a,
c){var d,e,g;if(null===a||1>a.length)return[];d=a.split(c);e=0;for(g=d.length;g>e;e+=1)d[e]=b.trim(d[e]);return d}function k(a){a.on("keydown",function(){b.data(a,"keyup-change-value")===f&&b.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var c=b.data(a,"keyup-change-value");c!==f&&a.val()!==c&&(b.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))})}function m(a){a.on("mousemove",function(a){var c=W;(c===f||c.x!==a.pageX||c.y!==a.pageY)&&b(a.target).trigger("mousemove-filtered",
a)})}function h(a,b,c){c=c||f;var d;return function(){var e=arguments;window.clearTimeout(d);d=window.setTimeout(function(){b.apply(c,e)},a)}}function n(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}}function l(b,c){var d=h(b,function(a){c.trigger("scroll-debounced",a)});c.on("scroll",function(b){0<=a(b.target,c.get())&&d(b)})}function q(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();a.is(":visible")&&c===document.activeElement&&
(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function p(a){a.preventDefault();a.stopPropagation()}function t(a,c,d){var e,g,f=[];(e=a.attr("class"))&&(e=""+e,b(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&f.push(this)}));(e=c.attr("class"))&&(e=""+e,b(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(g=d(this),g&&f.push(g))}));a.attr("class",f.join(" "))}function r(a,b,c,d){var e=g(a.toUpperCase()).indexOf(g(b.toUpperCase()));
b=b.length;return 0>e?(c.push(d(a)),void 0):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+b))),c.push("</span>"),c.push(d(a.substring(e+b,a.length))),void 0)}function v(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function z(a){var c,d=null,e=a.quietMillis||100,g=a.url,l=this;return function(h){window.clearTimeout(c);c=window.setTimeout(function(){var c=
a.data,e=g,q=a.transport||b.fn.select2.ajaxDefaults.transport,n=b.extend({},b.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||f,dataType:a.dataType||"json"}),c=c?c.call(l,h.term,h.page,h.context):null,e="function"==typeof e?e.call(l,h.term,h.page,h.context):e;d&&d.abort();a.params&&(b.isFunction(a.params)?b.extend(n,a.params.call(l)):b.extend(n,a.params));b.extend(n,{url:e,dataType:a.dataType,data:c,success:function(b){b=a.results(b,h.page);h.callback(b)}});
d=q.call(l,n)},e)}}function B(a){var c,d,e=a,g=function(a){return""+a.text};b.isArray(e)&&(d=e,e={results:d});!1===b.isFunction(e)&&(d=e,e=function(){return d});a=e();return a.text&&(g=a.text,b.isFunction(g)||(c=a.text,g=function(a){return a[c]})),function(a){var c,d=a.term,f={results:[]};return""===d?(a.callback(e()),void 0):(c=function(e,f){var l,h;if(e=e[0],e.children){l={};for(h in e)e.hasOwnProperty(h)&&(l[h]=e[h]);l.children=[];b(e.children).each2(function(a,b){c(b,l.children)});(l.children.length||
a.matcher(d,g(l),e))&&f.push(l)}else a.matcher(d,g(e),e)&&f.push(e)},b(e().results).each2(function(a,b){c(b,f.results)}),a.callback(f),void 0)}}function w(a){var c=b.isFunction(a);return function(d){var e=d.term,g={results:[]};b(c?a():a).each(function(){var a=this.text!==f,b=a?this.text:this;(""===e||d.matcher(e,b))&&g.results.push(a?this:{id:this,text:this})});d.callback(g)}}function A(a,c){if(b.isFunction(a))return!0;if(!a)return!1;throw Error(c+" must be a function or a falsy value");}function C(a){return b.isFunction(a)?
a():a}function J(a){var c=0;return b.each(a,function(a,b){b.children?c+=J(b.children):c++}),c}function F(a,b,c,d){var g,l,h,q,n,k=a;l=!1;if(!d.createSearchChoice||!d.tokenSeparators||1>d.tokenSeparators.length)return f;for(;;){l=-1;h=0;for(q=d.tokenSeparators.length;q>h&&(n=d.tokenSeparators[h],l=a.indexOf(n),!(0<=l));h++);if(0>l)break;if(g=a.substring(0,l),a=a.substring(l+n.length),0<g.length&&(g=d.createSearchChoice.call(this,g,b),g!==f&&null!==g&&d.id(g)!==f&&null!==d.id(g))){l=!1;h=0;for(q=b.length;q>
h;h++)if(e(d.id(g),d.id(b[h]))){l=!0;break}l||c(g)}}return k!==a?a:void 0}function M(a,c){var d=function(){};return d.prototype=new a,d.prototype.constructor=d,d.prototype.parent=a.prototype,d.prototype=b.extend(d.prototype,c),d}if(window.Select2===f){var u,x,E,D,N,P,T,W={x:0,y:0};u={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a.which?a.which:a){case u.LEFT:case u.RIGHT:case u.UP:case u.DOWN:return!0}return!1},
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
isControl:function(a){switch(a.which){case u.SHIFT:case u.CTRL:case u.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,112<=a&&123>=a}};var R="<div class='select2-measure-scrollbar'></div>",U={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A",
"\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C",
"\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E",
"\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H",
"\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L",
"\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N",
"\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O",
"\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",
"\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U",
"\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W",
"\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a",
"\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",
"\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e",
"\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g",
"\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i",
"\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m",
"\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o",
"\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q",
"\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t",
"\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u",
"\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y",
<<<<<<< HEAD
"\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};y=b(document);M=function(){var a=1;return function(){return a++}}();y.on("mousemove",function(a){W.x=a.pageX;W.y=a.pageY});y=L(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var c,e;this.opts=a=this.prepareOpts(a);
this.id=a.id;a.element.data("select2")!==f&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+M());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=p(function(){return a.element.closest("body")});t(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",
a.element.attr("style"));this.container.css(C(a.containerCss));this.container.addClass(C(a.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",q);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");t(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(C(a.dropdownCssClass));this.dropdown.data("select2",
this);this.dropdown.on("click",q);this.results=c=this.container.find(".select2-results");this.search=e=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",q);l(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));n(80,this.results);this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));b(this.container).on("change",
".select2-input",function(a){a.stopPropagation()});b(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});b.fn.mousewheel&&c.mousewheel(function(a,b,d,e){b=c.scrollTop();0<e&&0>=b-e?(c.scrollTop(0),q(a)):0>e&&c.get(0).scrollHeight-c.scrollTop()+e<=c.height()&&(c.scrollTop(c.get(0).scrollHeight-c.height()),q(a))});k(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});
this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<b(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});b.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var g=a.element.prop("disabled");g===f&&(g=!1);this.enable(!g);g=a.element.prop("readonly");
g===f&&(g=!1);this.readonly(g);T=T||d();this.autofocus=a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=f},destroy:function(){var a=this.opts.element,b=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);b!==f&&(b.container.remove(),b.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?
a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:g(a.attr("locked"),"locked")||g(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(a){var d,e,h,m,n=this;if(d=a.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=a.element),
e&&b.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),a=b.extend({},{populateResults:function(c,d,e){var g,h=this.opts.id;g=function(c,d,m){var p,k,l,q,r,t,v,w;c=a.sortResults(c,d,e);p=0;for(k=c.length;k>p;p+=1)l=c[p],r=!0===l.disabled,q=!r&&h(l)!==f,t=l.children&&0<l.children.length,v=b("<li></li>"),v.addClass("select2-results-dept-"+m),v.addClass("select2-result"),
v.addClass(q?"select2-result-selectable":"select2-result-unselectable"),r&&v.addClass("select2-disabled"),t&&v.addClass("select2-result-with-children"),v.addClass(n.opts.formatResultCssClass(l)),q=b(document.createElement("div")),q.addClass("select2-result-label"),r=a.formatResult(l,q,e,n.opts.escapeMarkup),r!==f&&q.html(r),v.append(q),t&&(w=b("<ul></ul>"),w.addClass("select2-result-sub"),g(l.children,w,m+1),v.append(w)),v.data("select2-data",l),d.append(v)};g(d,c,0)}},b.fn.select2.defaults,a),"function"!=
typeof a.id&&(h=a.id,a.id=function(a){return a[h]}),b.isArray(a.element.data("select2Tags"))){if("tags"in a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id");a.tags=a.element.data("select2Tags")}if(e?(a.query=this.bind(function(a){var b,c,e,g={results:[],more:!1},h=a.term;e=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(n.optionToData(b)):b.is("optgroup")&&(d=n.optionToData(b),b.children().each2(function(a,b){e(b,d.children)}),
0<d.children.length&&c.push(d))};b=d.children();this.getPlaceholder()!==f&&0<b.length&&(c=this.getPlaceholderOption(),c&&(b=b.not(c)));b.each2(function(a,b){e(b,g.results)});a.callback(g)}),a.id=function(a){return a.id},a.formatResultCssClass=function(a){return a.css}):"query"in a||("ajax"in a?(m=a.element.data("ajax-url"),m&&0<m.length&&(a.ajax.url=m),a.query=w.call(a.element,a.ajax)):"data"in a?a.query=B(a.data):"tags"in a&&(a.query=x(a.tags),a.createSearchChoice===f&&(a.createSearchChoice=function(a){return{id:b.trim(a),
text:b.trim(a)}}),a.initSelection===f&&(a.initSelection=function(d,e){var f=[];b(c(d.val(),a.separator)).each(function(){var c={id:this,text:this},d=a.tags;b.isFunction(d)&&(d=d());b(d).each(function(){return g(this.id,c.id)?(c=this,!1):void 0});f.push(c)});e(f)}))),"function"!=typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");return a},monitorSource:function(){var a,b,c=this.opts.element;c.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));a=this.bind(function(){var a=c.prop("disabled");a===f&&(a=!1);this.enable(!a);a=c.prop("readonly");a===f&&(a=!1);this.readonly(a);t(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(C(this.opts.containerCssClass));t(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(C(this.opts.dropdownCssClass))});c.on("propertychange.select2",a);this.mutationCallback===f&&(this.mutationCallback=function(b){b.forEach(a)});
b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;b!==f&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new b(this.mutationCallback),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=b.Event("select2-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(a),!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=b.extend({},a,{type:"change",
val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",!a),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===
f&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){return a===f&&(a=!1),this._readonly===a?!1:(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a,c,d,e,g=this.dropdown,f=this.container.offset(),h=this.container.outerHeight(!1),m=this.container.outerWidth(!1),
n=g.outerHeight(!1),p=b(window),k=p.width(),l=p.height(),q=p.scrollLeft()+k,r=p.scrollTop()+l,t=f.top+h,v=f.left,r=r>=t+n,n=f.top-n>=this.body().scrollTop(),w=g.outerWidth(!1),B=q>=v+w;g.hasClass("select2-drop-above")?(c=!0,!n&&r&&(d=!0,c=!1)):(c=!1,!r&&n&&(d=!0,c=!0));d&&(g.hide(),f=this.container.offset(),h=this.container.outerHeight(!1),m=this.container.outerWidth(!1),g.outerHeight(!1),q=p.scrollLeft()+k,p.scrollTop(),t=f.top+h,v=f.left,w=g.outerWidth(!1),B=q>=v+w,g.show());this.opts.dropdownAutoWidth?
(e=b(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),w=g.outerWidth(!1)+(e.scrollHeight===e.clientHeight?0:T.width),w>m?m=w:w=m,B=q>=v+w):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(a=this.body().offset(),t-=a.top,v-=a.left);B||(v=f.left+m-w);a={left:v,width:m};c?(a.bottom=l-f.top,a.top="auto",this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above")):(a.top=t,a.bottom="auto",this.container.removeClass("select2-drop-above"),
=======
"\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};x=b(document);N=function(){var a=1;return function(){return a++}}();x.on("mousemove",function(a){W.x=a.pageX;W.y=a.pageY});x=M(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var c,e;this.opts=a=this.prepareOpts(a);
this.id=a.id;a.element.data("select2")!==f&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+N());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=n(function(){return a.element.closest("body")});t(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",
a.element.attr("style"));this.container.css(C(a.containerCss));this.container.addClass(C(a.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");t(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(C(a.dropdownCssClass));this.dropdown.data("select2",
this);this.dropdown.on("click",p);this.results=c=this.container.find(".select2-results");this.search=e=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",p);m(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));l(80,this.results);this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));b(this.container).on("change",
".select2-input",function(a){a.stopPropagation()});b(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});b.fn.mousewheel&&c.mousewheel(function(a,b,d,e){b=c.scrollTop();0<e&&0>=b-e?(c.scrollTop(0),p(a)):0>e&&c.get(0).scrollHeight-c.scrollTop()+e<=c.height()&&(c.scrollTop(c.get(0).scrollHeight-c.height()),p(a))});k(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});
this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<b(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});b.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var g=a.element.prop("disabled");g===f&&(g=!1);this.enable(!g);g=a.element.prop("readonly");
g===f&&(g=!1);this.readonly(g);T=T||d();this.autofocus=a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=f},destroy:function(){var a=this.opts.element,b=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);b!==f&&(b.container.remove(),b.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?
a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:e(a.attr("locked"),"locked")||e(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(a){var d,g,l,h,q=this;if(d=a.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=g=a.element),
g&&b.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),a=b.extend({},{populateResults:function(c,d,e){var g,l=this.opts.id;g=function(c,d,h){var n,k,p,m,t,r,v,y;c=a.sortResults(c,d,e);n=0;for(k=c.length;k>n;n+=1)p=c[n],t=!0===p.disabled,m=!t&&l(p)!==f,r=p.children&&0<p.children.length,v=b("<li></li>"),v.addClass("select2-results-dept-"+h),v.addClass("select2-result"),
v.addClass(m?"select2-result-selectable":"select2-result-unselectable"),t&&v.addClass("select2-disabled"),r&&v.addClass("select2-result-with-children"),v.addClass(q.opts.formatResultCssClass(p)),m=b(document.createElement("div")),m.addClass("select2-result-label"),t=a.formatResult(p,m,e,q.opts.escapeMarkup),t!==f&&m.html(t),v.append(m),r&&(y=b("<ul></ul>"),y.addClass("select2-result-sub"),g(p.children,y,h+1),v.append(y)),v.data("select2-data",p),d.append(v)};g(d,c,0)}},b.fn.select2.defaults,a),"function"!=
typeof a.id&&(l=a.id,a.id=function(a){return a[l]}),b.isArray(a.element.data("select2Tags"))){if("tags"in a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id");a.tags=a.element.data("select2Tags")}if(g?(a.query=this.bind(function(a){var b,c,e,g={results:[],more:!1},l=a.term;e=function(b,c){var d;b.is("option")?a.matcher(l,b.text(),b)&&c.push(q.optionToData(b)):b.is("optgroup")&&(d=q.optionToData(b),b.children().each2(function(a,b){e(b,d.children)}),
0<d.children.length&&c.push(d))};b=d.children();this.getPlaceholder()!==f&&0<b.length&&(c=this.getPlaceholderOption(),c&&(b=b.not(c)));b.each2(function(a,b){e(b,g.results)});a.callback(g)}),a.id=function(a){return a.id},a.formatResultCssClass=function(a){return a.css}):"query"in a||("ajax"in a?(h=a.element.data("ajax-url"),h&&0<h.length&&(a.ajax.url=h),a.query=z.call(a.element,a.ajax)):"data"in a?a.query=B(a.data):"tags"in a&&(a.query=w(a.tags),a.createSearchChoice===f&&(a.createSearchChoice=function(a){return{id:b.trim(a),
text:b.trim(a)}}),a.initSelection===f&&(a.initSelection=function(d,g){var f=[];b(c(d.val(),a.separator)).each(function(){var c={id:this,text:this},d=a.tags;b.isFunction(d)&&(d=d());b(d).each(function(){return e(this.id,c.id)?(c=this,!1):void 0});f.push(c)});g(f)}))),"function"!=typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");return a},monitorSource:function(){var a,b,c=this.opts.element;c.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));a=this.bind(function(){var a=c.prop("disabled");a===f&&(a=!1);this.enable(!a);a=c.prop("readonly");a===f&&(a=!1);this.readonly(a);t(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(C(this.opts.containerCssClass));t(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(C(this.opts.dropdownCssClass))});c.on("propertychange.select2",a);this.mutationCallback===f&&(this.mutationCallback=function(b){b.forEach(a)});
b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;b!==f&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new b(this.mutationCallback),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=b.Event("select2-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(a),!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=b.extend({},a,{type:"change",
val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",!a),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===
f&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){return a===f&&(a=!1),this._readonly===a?!1:(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a,c,d,e,g=this.dropdown,f=this.container.offset(),l=this.container.outerHeight(!1),h=this.container.outerWidth(!1),
q=g.outerHeight(!1),n=b(window),k=n.width(),p=n.height(),m=n.scrollLeft()+k,t=n.scrollTop()+p,r=f.top+l,v=f.left,t=t>=r+q,q=f.top-q>=this.body().scrollTop(),z=g.outerWidth(!1),B=m>=v+z;g.hasClass("select2-drop-above")?(c=!0,!q&&t&&(d=!0,c=!1)):(c=!1,!t&&q&&(d=!0,c=!0));d&&(g.hide(),f=this.container.offset(),l=this.container.outerHeight(!1),h=this.container.outerWidth(!1),g.outerHeight(!1),m=n.scrollLeft()+k,n.scrollTop(),r=f.top+l,v=f.left,z=g.outerWidth(!1),B=m>=v+z,g.show());this.opts.dropdownAutoWidth?
(e=b(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),z=g.outerWidth(!1)+(e.scrollHeight===e.clientHeight?0:T.width),z>h?h=z:z=h,B=m>=v+z):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(a=this.body().offset(),r-=a.top,v-=a.left);B||(v=f.left+h-z);a={left:v,width:h};c?(a.bottom=p-f.top,a.top="auto",this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above")):(a.top=r,a.bottom="auto",this.container.removeClass("select2-drop-above"),
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
g.removeClass("select2-drop-above"));a=b.extend(a,C(this.opts.dropdownCss));g.css(a)},shouldOpen:function(){var a;return this.opened()?!1:!1===this._enabled||!0===this._readonly?!1:(a=b.Event("select2-opening"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var a;a=this.containerId;
var c="scroll."+a,d="resize."+a,e="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());a=b("#select2-drop-mask");0==a.length&&(a=b(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body()),a.on("mousedown touchstart click",function(a){var c,
d=b("#select2-drop");0<d.length&&(c=d.data("select2"),c.opts.selectOnBlur&&c.selectHighlighted({noFocus:!0}),c.close({focus:!0}),a.preventDefault(),a.stopPropagation())}));this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a);b("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");a.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){b(this).on(d+
" "+c+" "+e,function(){g.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,c="scroll."+a,d="resize."+a,e="orientationchange."+a;this.container.parents().add(window).each(function(){b(this).off(c).off(d).off(e)});this.clearDropdownAlignmentPreference();b("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");
this.opts.element.trigger(b.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var a,c,d,e,g,f=this.results;if(c=this.highlight(),!(0>c)){if(0==c)return f.scrollTop(0),void 0;a=this.findHighlightableChoices().find(".select2-result-label");d=b(a[c]);e=d.offset().top+d.outerHeight(!0);c===a.length-1&&(g=f.find("li.select2-more-results"),
0<g.length&&(e=g.offset().top+g.outerHeight(!0)));a=f.offset().top+f.outerHeight(!0);e>a&&f.scrollTop(f.scrollTop()+(e-a));e=d.offset().top-f.offset().top;0>e&&"none"!=d.css("display")&&f.scrollTop(f.scrollTop()+e)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(a){for(var c=this.findHighlightableChoices(),d=this.highlight();-1<d&&d<c.length;){var d=d+a,e=b(c[d]);if(e.hasClass("select2-result-selectable")&&
!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(c){var d,e,g=this.findHighlightableChoices();return 0===arguments.length?a(g.filter(".select2-highlighted")[0],g.get()):(c>=g.length&&(c=g.length-1),0>c&&(c=0),this.removeHighlight(),d=b(g[c]),d.addClass("select2-highlighted"),this.ensureHighlightVisible(),e=d.data("select2-data"),e&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},
countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){a=b(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var c=this.findHighlightableChoices();this.highlight(c.index(a))}else 0==a.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,g=this.search.val(),f=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-
b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:g,page:d,context:f,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:g,page:d,context:f}),e.postprocessResults(a,!1,!1),!0===a.more?(c.detach().appendTo(b).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,
<<<<<<< HEAD
this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(a){function c(){m.removeClass("select2-active");k.positionDropdown()}function d(a){n.html(a);c()}var e,h,m=this.search,n=this.results,p=this.opts,k=this,l=m.val(),q=b.data(this.container,"select2-last-term");if((!0===a||!q||!g(l,q))&&(b.data(this.container,"select2-last-term",l),!0===a||!1!==this.showSearchInput&&this.opened())){h=++this.queryCount;l=this.getMaximumSelectionSize();if(1<=
l&&(e=this.data(),b.isArray(e)&&e.length>=l&&A(p.formatSelectionTooBig,"formatSelectionTooBig")))return d("<li class='select2-selection-limit'>"+p.formatSelectionTooBig(l)+"</li>"),void 0;if(m.val().length<p.minimumInputLength)return A(p.formatInputTooShort,"formatInputTooShort")?d("<li class='select2-no-results'>"+p.formatInputTooShort(m.val(),p.minimumInputLength)+"</li>"):d(""),a&&this.showSearch&&this.showSearch(!0),void 0;if(p.maximumInputLength&&m.val().length>p.maximumInputLength)return A(p.formatInputTooLong,
"formatInputTooLong")?d("<li class='select2-no-results'>"+p.formatInputTooLong(m.val(),p.maximumInputLength)+"</li>"):d(""),void 0;p.formatSearching&&0===this.findHighlightableChoices().length&&d("<li class='select2-searching'>"+p.formatSearching()+"</li>");m.addClass("select2-active");this.removeHighlight();e=this.tokenize();e!=f&&null!=e&&m.val(e);this.resultsPage=1;p.query({element:p.element,term:m.val(),page:this.resultsPage,context:null,matcher:p.matcher,callback:this.bind(function(e){var l;
if(h==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=e.context===f?null:e.context,this.opts.createSearchChoice&&""!==m.val()&&(l=this.opts.createSearchChoice.call(k,m.val(),e.results),l!==f&&null!==l&&k.id(l)!==f&&null!==k.id(l)&&0===b(e.results).filter(function(){return g(k.id(this),k.id(l))}).length&&e.results.unshift(l)),0===e.results.length&&A(p.formatNoMatches,"formatNoMatches"))return d("<li class='select2-no-results'>"+p.formatNoMatches(m.val())+
"</li>"),void 0;n.empty();k.opts.populateResults.call(this,n,e.results,{term:m.val(),page:this.resultsPage,context:null});!0===e.more&&A(p.formatLoadMore,"formatLoadMore")&&(n.append("<li class='select2-more-results'>"+k.opts.escapeMarkup(p.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){k.loadMoreIfNeeded()},10));this.postprocessResults(e,a);c();this.opts.element.trigger({type:"select2-loaded",items:e})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&
this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){m(this.search)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,
a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==f?a.text():f)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==f)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);
if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,c,d,e,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(a=this.opts.element.attr("style"),a!==f){c=a.split(";");e=0;for(g=c.length;g>e;e+=1)if(h=c[e].replace(/\s/g,""),d=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
null!==d&&1<=d.length)return d[1]}return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return b.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==a&&this.container.css("width",a)}});E=L(y,{createContainer:function(){return b(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow'><b></b></span></a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,c,d;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();a=this.search.get(0);a.createTextRange?(c=a.createTextRange(),c.collapse(!1),c.select()):a.setSelectionRange&&(d=this.search.val().length,a.setSelectionRange(d,
d));""===this.search.val()&&this.nextSearchTerm!=f&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(b.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){b("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,c=this.container,d=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=c.find(".select2-choice");this.focusser=c.find(".select2-focusser");this.focusser.attr("id",
"s2id_autogen"+M());b("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===u.PAGE_UP||a.which===u.PAGE_DOWN)return q(a),void 0;switch(a.which){case u.UP:case u.DOWN:return this.moveHighlight(a.which===u.UP?-1:1),q(a),void 0;case u.ENTER:return this.selectHighlighted(),q(a),void 0;case u.TAB:return this.selectHighlighted({noFocus:!0}),
void 0;case u.ESC:return this.cancel(a),q(a),void 0}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==u.TAB&&!u.isControl(a)&&!u.isFunctionKey(a)&&a.which!==u.ESC)return!1===this.opts.openOnEnter&&a.which===u.ENTER?(q(a),void 0):a.which==u.DOWN||a.which==u.UP||a.which==u.ENTER&&this.opts.openOnEnter?a.altKey||
a.ctrlKey||a.shiftKey||a.metaKey?void 0:(this.open(),q(a),void 0):a.which==u.DELETE||a.which==u.BACKSPACE?(this.opts.allowClear&&this.clear(),q(a),void 0):void 0}));k(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&!(a.stopPropagation(),this.opened())&&this.open()}));a.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));
a.on("mousedown",this.bind(function(a){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();q(a)}));d.on("mousedown",this.bind(function(){this.search.focus()}));a.on("focus",this.bind(function(a){q(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",
this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(b.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var c=this.selection.data("select2-data");
if(c){var d=b.Event("select2-clearing");if(!(this.opts.element.trigger(d),d.isDefaultPrevented()))d=this.getPlaceholderOption(),this.opts.element.val(d?d.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();
else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==f&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==f&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===f||null===this.opts.element.val():!1},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===a.element.get(0).tagName.toLowerCase()?
a.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected});b(c.optionToData(d))}:"data"in a&&(a.initSelection=a.initSelection||function(c,d){var e=c.val(),f=null;a.query({matcher:function(b,c,d){b=g(e,a.id(d));return b&&(f=d),b},callback:b.isFunction(d)?function(){d(f)}:b.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===f?f:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();
this.isPlaceholderOptionSelected()&&a!==f&&!(this.select&&this.getPlaceholderOption()===f)&&(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return g(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0)),!0===
b)b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(I(a.results)>=b)},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),b(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));
this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();b&&b.noFocus||this.focusser.focus();g(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var b,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a);c.empty();null!==a&&(b=this.opts.formatSelection(a,c,this.opts.escapeMarkup));b!==f&&c.append(b);a=this.opts.formatSelectionCssClass(a,
c);a!==f&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==f&&this.container.addClass("select2-allowclear")},val:function(){var a,b=!1,c=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],1<arguments.length&&(b=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return c=d.optionToData(b),!1}),this.updateSelection(c),this.setPlaceholder(),
b&&this.triggerChange({added:c,removed:e});else{if(!a&&0!==a)return this.clear(b),void 0;if(this.opts.initSelection===f)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):"");d.updateSelection(a);d.setPlaceholder();b&&d.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;return 0===arguments.length?
(b=this.selection.data("select2-data"),b==f&&(b=null),b):(1<arguments.length&&(c=arguments[1]),a?(b=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),c&&this.triggerChange({added:a,removed:b})):this.clear(c),void 0)}});D=L(y,{createContainer:function(){return b(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,b){var c=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){c.push(d.optionToData(b))});b(c)}:"data"in a&&(a.initSelection=a.initSelection||function(d,e){var f=c(d.val(),a.separator),h=[];a.query({matcher:function(c,d,e){c=b.grep(f,function(b){return g(b,a.id(e))}).length;return c&&h.push(e),c},callback:b.isFunction(e)?
function(){for(var b=[],c=0;c<f.length;c++)for(var d=f[c],m=0;m<h.length;m++){var n=h[m];if(g(d,a.id(n))){b.push(n);h.splice(m,1);break}}e(b)}:b.noop})}),a},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){b("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var c=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){c.search[0].focus();c.selectChoice(b(this))});this.search.attr("id","s2id_autogen"+M());b("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(c){var d,e;if(this.isInterfaceEnabled()){++this.keydowns;var g=a.find(".select2-search-choice-focus"),f=g.prev(".select2-search-choice:not(.select2-locked)"),h=g.next(".select2-search-choice:not(.select2-locked)");d=this.search;d=b(d)[0];var m=0;e=0;"selectionStart"in
d?(m=d.selectionStart,e=d.selectionEnd-m):"selection"in document&&(d.focus(),m=document.selection.createRange(),e=document.selection.createRange().text.length,m.moveStart("character",-d.value.length),m=m.text.length-e);d=m;if(g.length&&(c.which==u.LEFT||c.which==u.RIGHT||c.which==u.BACKSPACE||c.which==u.DELETE||c.which==u.ENTER))return e=g,c.which==u.LEFT&&f.length?e=f:c.which==u.RIGHT?e=h.length?h:null:c.which===u.BACKSPACE?(this.unselect(g.first()),this.search.width(10),e=f.length?f:h):c.which==
u.DELETE?(this.unselect(g.first()),this.search.width(10),e=h.length?h:null):c.which==u.ENTER&&(e=null),this.selectChoice(e),q(c),e&&e.length||this.open(),void 0;if((c.which===u.BACKSPACE&&1==this.keydowns||c.which==u.LEFT)&&0==d&&!e)return this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),q(c),void 0;if(this.selectChoice(null),this.opened())switch(c.which){case u.UP:case u.DOWN:return this.moveHighlight(c.which===u.UP?-1:1),q(c),void 0;case u.ENTER:return this.selectHighlighted(),
q(c),void 0;case u.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case u.ESC:return this.cancel(c),q(c),void 0}if(c.which!==u.TAB&&(!u.isControl(c)&&!u.isFunctionKey(c)&&c.which!==u.BACKSPACE&&c.which!==u.ESC)&&!(c.which===u.ENTER&&(!1===this.opts.openOnEnter||c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)))this.open(),(c.which===u.PAGE_UP||c.which===u.PAGE_DOWN)&&q(c),c.which===u.ENTER&&q(c)}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));
=======
this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(a){function c(){h.removeClass("select2-active");k.positionDropdown()}function d(a){q.html(a);c()}var g,l,h=this.search,q=this.results,n=this.opts,k=this,p=h.val(),m=b.data(this.container,"select2-last-term");if((!0===a||!m||!e(p,m))&&(b.data(this.container,"select2-last-term",p),!0===a||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;p=this.getMaximumSelectionSize();if(1<=
p&&(g=this.data(),b.isArray(g)&&g.length>=p&&A(n.formatSelectionTooBig,"formatSelectionTooBig")))return d("<li class='select2-selection-limit'>"+n.formatSelectionTooBig(p)+"</li>"),void 0;if(h.val().length<n.minimumInputLength)return A(n.formatInputTooShort,"formatInputTooShort")?d("<li class='select2-no-results'>"+n.formatInputTooShort(h.val(),n.minimumInputLength)+"</li>"):d(""),a&&this.showSearch&&this.showSearch(!0),void 0;if(n.maximumInputLength&&h.val().length>n.maximumInputLength)return A(n.formatInputTooLong,
"formatInputTooLong")?d("<li class='select2-no-results'>"+n.formatInputTooLong(h.val(),n.maximumInputLength)+"</li>"):d(""),void 0;n.formatSearching&&0===this.findHighlightableChoices().length&&d("<li class='select2-searching'>"+n.formatSearching()+"</li>");h.addClass("select2-active");this.removeHighlight();g=this.tokenize();g!=f&&null!=g&&h.val(g);this.resultsPage=1;n.query({element:n.element,term:h.val(),page:this.resultsPage,context:null,matcher:n.matcher,callback:this.bind(function(g){var p;
if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=g.context===f?null:g.context,this.opts.createSearchChoice&&""!==h.val()&&(p=this.opts.createSearchChoice.call(k,h.val(),g.results),p!==f&&null!==p&&k.id(p)!==f&&null!==k.id(p)&&0===b(g.results).filter(function(){return e(k.id(this),k.id(p))}).length&&g.results.unshift(p)),0===g.results.length&&A(n.formatNoMatches,"formatNoMatches"))return d("<li class='select2-no-results'>"+n.formatNoMatches(h.val())+
"</li>"),void 0;q.empty();k.opts.populateResults.call(this,q,g.results,{term:h.val(),page:this.resultsPage,context:null});!0===g.more&&A(n.formatLoadMore,"formatLoadMore")&&(q.append("<li class='select2-more-results'>"+k.opts.escapeMarkup(n.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){k.loadMoreIfNeeded()},10));this.postprocessResults(g,a);c();this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&
this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){q(this.search)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,
a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==f?a.text():f)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==f)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);
if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,c,d,e,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(a=this.opts.element.attr("style"),a!==f){c=a.split(";");e=0;for(g=c.length;g>e;e+=1)if(h=c[e].replace(/\s/g,""),d=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
null!==d&&1<=d.length)return d[1]}return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return b.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==a&&this.container.css("width",a)}});E=M(x,{createContainer:function(){return b(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow'><b></b></span></a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,c,d;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();a=this.search.get(0);a.createTextRange?(c=a.createTextRange(),c.collapse(!1),c.select()):a.setSelectionRange&&(d=this.search.val().length,a.setSelectionRange(d,
d));""===this.search.val()&&this.nextSearchTerm!=f&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(b.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){b("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,c=this.container,d=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=c.find(".select2-choice");this.focusser=c.find(".select2-focusser");this.focusser.attr("id",
"s2id_autogen"+N());b("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===u.PAGE_UP||a.which===u.PAGE_DOWN)return p(a),void 0;switch(a.which){case u.UP:case u.DOWN:return this.moveHighlight(a.which===u.UP?-1:1),p(a),void 0;case u.ENTER:return this.selectHighlighted(),p(a),void 0;case u.TAB:return this.selectHighlighted({noFocus:!0}),
void 0;case u.ESC:return this.cancel(a),p(a),void 0}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==u.TAB&&!u.isControl(a)&&!u.isFunctionKey(a)&&a.which!==u.ESC)return!1===this.opts.openOnEnter&&a.which===u.ENTER?(p(a),void 0):a.which==u.DOWN||a.which==u.UP||a.which==u.ENTER&&this.opts.openOnEnter?a.altKey||
a.ctrlKey||a.shiftKey||a.metaKey?void 0:(this.open(),p(a),void 0):a.which==u.DELETE||a.which==u.BACKSPACE?(this.opts.allowClear&&this.clear(),p(a),void 0):void 0}));k(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&!(a.stopPropagation(),this.opened())&&this.open()}));a.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));
a.on("mousedown",this.bind(function(a){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();p(a)}));d.on("mousedown",this.bind(function(){this.search.focus()}));a.on("focus",this.bind(function(a){p(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",
this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(b.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var c=this.selection.data("select2-data");
if(c){var d=b.Event("select2-clearing");if(!(this.opts.element.trigger(d),d.isDefaultPrevented()))d=this.getPlaceholderOption(),this.opts.element.val(d?d.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();
else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==f&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==f&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===f||null===this.opts.element.val():!1},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===a.element.get(0).tagName.toLowerCase()?
a.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected});b(c.optionToData(d))}:"data"in a&&(a.initSelection=a.initSelection||function(c,d){var g=c.val(),f=null;a.query({matcher:function(b,c,d){b=e(g,a.id(d));return b&&(f=d),b},callback:b.isFunction(d)?function(){d(f)}:b.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===f?f:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();
this.isPlaceholderOptionSelected()&&a!==f&&!(this.select&&this.getPlaceholderOption()===f)&&(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var d=0,g=this;if(this.findHighlightableChoices().each2(function(a,b){return e(g.id(b.data("select2-data")),g.opts.element.val())?(d=a,!1):void 0}),!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0)),!0===
b)b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(J(a.results)>=b)},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),b(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));
this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();b&&b.noFocus||this.focusser.focus();e(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var b,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a);c.empty();null!==a&&(b=this.opts.formatSelection(a,c,this.opts.escapeMarkup));b!==f&&c.append(b);a=this.opts.formatSelectionCssClass(a,
c);a!==f&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==f&&this.container.addClass("select2-allowclear")},val:function(){var a,b=!1,c=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],1<arguments.length&&(b=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return c=d.optionToData(b),!1}),this.updateSelection(c),this.setPlaceholder(),
b&&this.triggerChange({added:c,removed:e});else{if(!a&&0!==a)return this.clear(b),void 0;if(this.opts.initSelection===f)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):"");d.updateSelection(a);d.setPlaceholder();b&&d.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;return 0===arguments.length?
(b=this.selection.data("select2-data"),b==f&&(b=null),b):(1<arguments.length&&(c=arguments[1]),a?(b=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),c&&this.triggerChange({added:a,removed:b})):this.clear(c),void 0)}});D=M(x,{createContainer:function(){return b(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,b){var c=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){c.push(d.optionToData(b))});b(c)}:"data"in a&&(a.initSelection=a.initSelection||function(d,g){var f=c(d.val(),a.separator),h=[];a.query({matcher:function(c,d,g){c=b.grep(f,function(b){return e(b,a.id(g))}).length;return c&&h.push(g),c},callback:b.isFunction(g)?
function(){for(var b=[],c=0;c<f.length;c++)for(var d=f[c],l=0;l<h.length;l++){var q=h[l];if(e(d,a.id(q))){b.push(q);h.splice(l,1);break}}g(b)}:b.noop})}),a},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){b("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var c=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){c.search[0].focus();c.selectChoice(b(this))});this.search.attr("id","s2id_autogen"+N());b("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(c){var d,e;if(this.isInterfaceEnabled()){++this.keydowns;var g=a.find(".select2-search-choice-focus"),f=g.prev(".select2-search-choice:not(.select2-locked)"),h=g.next(".select2-search-choice:not(.select2-locked)");d=this.search;d=b(d)[0];var l=0;e=0;"selectionStart"in
d?(l=d.selectionStart,e=d.selectionEnd-l):"selection"in document&&(d.focus(),l=document.selection.createRange(),e=document.selection.createRange().text.length,l.moveStart("character",-d.value.length),l=l.text.length-e);d=l;if(g.length&&(c.which==u.LEFT||c.which==u.RIGHT||c.which==u.BACKSPACE||c.which==u.DELETE||c.which==u.ENTER))return e=g,c.which==u.LEFT&&f.length?e=f:c.which==u.RIGHT?e=h.length?h:null:c.which===u.BACKSPACE?(this.unselect(g.first()),this.search.width(10),e=f.length?f:h):c.which==
u.DELETE?(this.unselect(g.first()),this.search.width(10),e=h.length?h:null):c.which==u.ENTER&&(e=null),this.selectChoice(e),p(c),e&&e.length||this.open(),void 0;if((c.which===u.BACKSPACE&&1==this.keydowns||c.which==u.LEFT)&&0==d&&!e)return this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),p(c),void 0;if(this.selectChoice(null),this.opened())switch(c.which){case u.UP:case u.DOWN:return this.moveHighlight(c.which===u.UP?-1:1),p(c),void 0;case u.ENTER:return this.selectHighlighted(),
p(c),void 0;case u.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case u.ESC:return this.cancel(c),p(c),void 0}if(c.which!==u.TAB&&(!u.isControl(c)&&!u.isFunctionKey(c)&&c.which!==u.BACKSPACE&&c.which!==u.ESC)&&!(c.which===u.ENTER&&(!1===this.opts.openOnEnter||c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)))this.open(),(c.which===u.PAGE_UP||c.which===u.PAGE_DOWN)&&p(c),c.which===u.ENTER&&p(c)}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();this.opts.element.trigger(b.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){this.isInterfaceEnabled()&&(0<b(a.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||
this.opts.element.trigger(b.Event("select2-focus")),this.open(),this.focusSearch(),a.preventDefault()))}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");
this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==f&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=
this.getPlaceholder(),b=this.getMaxSearchWidth();a!==f&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<b?b:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();
this.updateResults(!0);this.search.focus();this.opts.element.trigger(b.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(c){var d=[],e=[],g=this;b(c).each(function(){0>a(g.id(this),d)&&(d.push(g.id(this)),e.push(this))});c=e;this.selection.find(".select2-search-choice").remove();b(c).each(function(){g.addSelectedChoice(this)});
g.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&a!=f&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):
0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var c,d=!a.locked,e=b("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),
<<<<<<< HEAD
g=b("<li class='select2-search-choice select2-locked'><div></div></li>"),e=d?e:g,g=this.id(a),h=this.getVal();c=this.opts.formatSelection(a,e.find("div"),this.opts.escapeMarkup);c!=f&&e.find("div").replaceWith("<div>"+c+"</div>");c=this.opts.formatSelectionCssClass(a,e.find("div"));c!=f&&e.addClass(c);d&&e.find(".select2-search-choice-close").on("mousedown",q).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(b(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(b(a.target));
this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),q(a))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));e.data("select2-data",a);e.insertBefore(this.searchContainer);h.push(g);this.setVal(h)},unselect:function(c){var d,e=this.getVal();if(c=c.closest(".select2-search-choice"),0===c.length)throw"Invalid argument: "+
c+". Must be .select2-search-choice";if(c=c.data("select2-data")){for(;0<=(d=a(this.id(c),e));)e.splice(d,1),this.setVal(e),this.select&&this.postprocessResults();e=b.Event("select2-removing");e.val=this.id(c);e.choice=c;this.opts.element.trigger(e);e.isDefaultPrevented()||(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},postprocessResults:function(b,c,d){var e=this.getVal();c=this.results.find(".select2-result");var g=this.results.find(".select2-result-with-children"),
f=this;c.each2(function(b,c){var d=f.id(c.data("select2-data"));0<=a(d,e)&&(c.addClass("select2-selected"),c.find(".select2-result-selectable").addClass("select2-selected"))});g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")});-1==this.highlight()&&!1!==d&&f.highlight(0);!this.opts.createSearchChoice&&0<!c.filter(".select2-result:not(.select2-selected)").length&&(!b||b&&!b.more&&0===this.results.find(".select2-no-results").length)&&
A(f.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+f.opts.formatNoMatches(f.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-(this.search.outerWidth(!1)-this.search.width())},resizeSearch:function(){var a,c,d,e,g=this.search.outerWidth(!1)-this.search.width();a=this.search;O||(d=a[0].currentStyle||window.getComputedStyle(a[0],null),O=b(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",
display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),O.attr("class","select2-sizer"),b("body").append(O));a=(O.text(a.val()),O.width())+10;c=this.search.offset().left;d=this.selection.width();e=this.selection.offset().left;c=d-(c-e)-g;a>c&&(c=d-g);40>c&&(c=d-g);0>=c&&(c=a);this.search.width(Math.floor(c))},getVal:function(){var a;return this.select?(a=this.select.val(),
null===a?[]:a):(a=this.opts.element.val(),c(a,this.opts.separator))},setVal:function(c){var d;this.select?this.select.val(c):(d=[],b(c).each(function(){0>a(this,d)&&d.push(this)}),this.opts.element.val(0===d.length?"":d.join(this.opts.separator)))},buildChangeDetails:function(a,b){b=b.slice(0);a=a.slice(0);for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++)g(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(a,c){var d,e=this;if(0===
arguments.length)return this.getVal();if(d=this.data(),d.length||(d=[]),!a&&0!==a)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),c&&this.triggerChange({added:this.data(),removed:d}),void 0;if(this.setVal(a),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),c&&this.triggerChange(this.buildChangeDetails(d,this.data()));else{if(this.opts.initSelection===f)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,
function(a){var g=b.map(a,e.id);e.setVal(g);e.updateSelection(a);e.clearSearch();c&&e.triggerChange(e.buildChangeDetails(d,e.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],c=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();
this.selection.find(".select2-search-choice").each(function(){a.push(c.opts.id(b(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,c){var d,e,g=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return b(this).data("select2-data")}).get():(e=this.data(),a||(a=[]),d=b.map(a,function(a){return g.opts.id(a)}),this.setVal(d),this.updateSelection(a),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data())),
void 0)}});b.fn.select2=function(){var c,d,e,g,h,m=Array.prototype.slice.call(arguments,0),n="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),p=["opened","isFocused","container","dropdown"],k=["val","data"],l={search:"externalSearch"};return this.each(function(){if(0===m.length||"object"==typeof m[0])c=0===m.length?{}:b.extend({},m[0]),c.element=b(this),"select"===c.element.get(0).tagName.toLowerCase()?
h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),d=h?new D:new E,d.init(c);else{if("string"!=typeof m[0])throw"Invalid arguments to select2 plugin: "+m;if(0>a(m[0],n))throw"Unknown method: "+m[0];if(!(g=f,d=b(this).data("select2"),d===f))if(e=m[0],"container"===e?g=d.container:"dropdown"===e?g=d.dropdown:(l[e]&&(e=l[e]),g=d[e].apply(d,m.slice(1))),0<=a(m[0],p)||a(m[0],k)&&1==m.length)return!1}}),g===f?this:g};b.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,
openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];return r(a.text,c.term,b,d),b.join("")},formatSelection:function(a,b,c){return a?c(a.text):f},sortResults:function(a){return a},formatResultCssClass:function(){return f},formatSelectionCssClass:function(){return f},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,
b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=e(""+b).toUpperCase().indexOf(e(""+a).toUpperCase())},separator:",",tokenSeparators:[],
tokenizer:F,escapeMarkup:v,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return f}};b.fn.select2.ajaxDefaults={transport:b.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:w,local:B,tags:x},util:{debounce:h,markMatch:r,escapeMarkup:v,stripDiacritics:e},"class":{"abstract":y,single:E,multi:D}}}})(jQuery);
var TINY=TINY||{},T$=T$||function(b){return document.getElementById(b)},T$$$=T$$$||function(){return document.all?1:0};
TINY.editor=function(){function b(a,b){this.n=a;window[a]=this;this.t=T$(b.id);this.obj=b;this.xhtml=b.xhtml;var g=document.createElement("div"),c=document.createElement("div"),k=document.createElement("div"),l=b.controls.length,h=0;this.i=document.createElement("iframe");this.i.width=b.width||"500";this.i.height=b.height||"250";this.ie=T$$$();k.className=b.rowclass||"tinyeditor-header";g.className=b.cssclass||"tinyeditor";g.style.width=this.i.width+"px";g.appendChild(k);for(h;h<l;h++){var p=b.controls[h];
if("n"==p)k=document.createElement("div"),k.className=b.rowclass||"tinyeditor-header",g.appendChild(k);else if("|"==p){var n=document.createElement("div");n.className=b.dividerclass||"tinyeditor-divider";k.appendChild(n)}else if("font"==p){var p=document.createElement("select"),m=b.fonts||["Verdana","Arial","Georgia"],q=m.length,n=0;p.className="tinyeditor-font";p.onchange=new Function(this.n+'.ddaction(this, "fontname")');p.options[0]=new Option("Font","");for(n;n<q;n++){var t=m[n];p.options[n+1]=
new Option(t,t)}k.appendChild(p)}else if("size"==p){p=document.createElement("select");q=b.sizes||[1,2,3,4,5,6,7];m=q.length;n=0;p.className="tinyeditor-size";p.onchange=new Function(this.n+'.ddaction(this, "fontsize")');for(n;n<m;n++)t=q[n],p.options[n]=new Option(t,t);k.appendChild(p)}else if("style"==p){p=document.createElement("select");q=b.styles||[["Style",""],["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6",
"<h6>"]];m=q.length;n=0;p.className="tinyeditor-style";p.onchange=new Function(this.n+'.ddaction(this, "formatblock")');for(n;n<m;n++)t=q[n],p.options[n]=new Option(t[0],t[1]);k.appendChild(p)}else f[p]&&(m=document.createElement("div"),n=f[p],t=n[2],q=n[0]*e,m.className=b.controlclass,m.unselectable="on",m.style.backgroundPosition="0px "+q+"px",m.title=n[1],n="a"==t?'.action("'+n[3]+'", 0, '+(n[4]||0)+")":'.insert("'+n[4]+'", "'+n[5]+'", "'+n[3]+'")',m.onmousedown=new Function(this.n+("print"==p?
".print()":n)),m.onmouseover=new Function(this.n+".hover(this, "+q+", 1)"),m.onmouseout=new Function(this.n+".hover(this, "+q+", 0)"),k.appendChild(m),this.ie&&(m.unselectable="on"))}this.t.parentNode.insertBefore(g,this.t);this.t.style.width=this.i.width+"px";c.appendChild(this.t);c.appendChild(this.i);g.appendChild(c);this.t.style.display="none";b.footer&&(c=document.createElement("div"),c.className=b.footerclass||"tinyeditor-footer",b.toggle&&(k=b.toggle,l=document.createElement("div"),l.className=
k.cssclass||"toggle",l.innerHTML=b.toggletext||"source",l.onclick=new Function(this.n+".toggle(0, this);return false"),c.appendChild(l)),b.resize&&(k=b.resize,l=document.createElement("div"),l.className=k.cssclass||"resize",l.onmousedown=new Function("event",this.n+".resize(event);return false"),l.onselectstart=function(){return!1},c.appendChild(l)),g.appendChild(c));this.e=this.i.contentWindow.document;this.e.open();g="<html><head>";c=b.bodyid?' id="'+b.bodyid+'"':"";b.cssfile&&(g+='<link rel="stylesheet" href="'+
b.cssfile+'" />');b.css&&(g+='<style type="text/css">'+b.css+"</style>");g+="</head><body"+c+' contenteditable="true">'+(b.content||this.t.value);this.e.write(g+"</body></html>");this.e.close();this.e.designMode="On";this.d=1;if(this.xhtml)try{this.e.execCommand("styleWithCSS",0,0)}catch(r){try{this.e.execCommand("useCSS",0,1)}catch(v){}}}var f=[],e=-30;f.bold=[4,"Bold","a","bold"];f.italic=[5,"Italic","a","italic"];f.underline=[6,"Underline","a","underline"];f.strikethrough=[7,"Strikethrough","a",
=======
g=b("<li class='select2-search-choice select2-locked'><div></div></li>"),e=d?e:g,g=this.id(a),h=this.getVal();c=this.opts.formatSelection(a,e.find("div"),this.opts.escapeMarkup);c!=f&&e.find("div").replaceWith("<div>"+c+"</div>");c=this.opts.formatSelectionCssClass(a,e.find("div"));c!=f&&e.addClass(c);d&&e.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(b(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(b(a.target));
this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),p(a))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));e.data("select2-data",a);e.insertBefore(this.searchContainer);h.push(g);this.setVal(h)},unselect:function(c){var d,e=this.getVal();if(c=c.closest(".select2-search-choice"),0===c.length)throw"Invalid argument: "+
c+". Must be .select2-search-choice";if(c=c.data("select2-data")){for(;0<=(d=a(this.id(c),e));)e.splice(d,1),this.setVal(e),this.select&&this.postprocessResults();e=b.Event("select2-removing");e.val=this.id(c);e.choice=c;this.opts.element.trigger(e);e.isDefaultPrevented()||(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},postprocessResults:function(b,c,d){var e=this.getVal();c=this.results.find(".select2-result");var g=this.results.find(".select2-result-with-children"),
f=this;c.each2(function(b,c){var d=f.id(c.data("select2-data"));0<=a(d,e)&&(c.addClass("select2-selected"),c.find(".select2-result-selectable").addClass("select2-selected"))});g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")});-1==this.highlight()&&!1!==d&&f.highlight(0);!this.opts.createSearchChoice&&0<!c.filter(".select2-result:not(.select2-selected)").length&&(!b||b&&!b.more&&0===this.results.find(".select2-no-results").length)&&
A(f.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+f.opts.formatNoMatches(f.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-(this.search.outerWidth(!1)-this.search.width())},resizeSearch:function(){var a,c,d,e,g=this.search.outerWidth(!1)-this.search.width();a=this.search;P||(d=a[0].currentStyle||window.getComputedStyle(a[0],null),P=b(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",
display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),b("body").append(P));a=(P.text(a.val()),P.width())+10;c=this.search.offset().left;d=this.selection.width();e=this.selection.offset().left;c=d-(c-e)-g;a>c&&(c=d-g);40>c&&(c=d-g);0>=c&&(c=a);this.search.width(Math.floor(c))},getVal:function(){var a;return this.select?(a=this.select.val(),
null===a?[]:a):(a=this.opts.element.val(),c(a,this.opts.separator))},setVal:function(c){var d;this.select?this.select.val(c):(d=[],b(c).each(function(){0>a(this,d)&&d.push(this)}),this.opts.element.val(0===d.length?"":d.join(this.opts.separator)))},buildChangeDetails:function(a,b){b=b.slice(0);a=a.slice(0);for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++)e(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(a,c){var d,e=this;if(0===
arguments.length)return this.getVal();if(d=this.data(),d.length||(d=[]),!a&&0!==a)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),c&&this.triggerChange({added:this.data(),removed:d}),void 0;if(this.setVal(a),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),c&&this.triggerChange(this.buildChangeDetails(d,this.data()));else{if(this.opts.initSelection===f)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,
function(a){var g=b.map(a,e.id);e.setVal(g);e.updateSelection(a);e.clearSearch();c&&e.triggerChange(e.buildChangeDetails(d,e.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],c=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();
this.selection.find(".select2-search-choice").each(function(){a.push(c.opts.id(b(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,c){var d,e,g=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return b(this).data("select2-data")}).get():(e=this.data(),a||(a=[]),d=b.map(a,function(a){return g.opts.id(a)}),this.setVal(d),this.updateSelection(a),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data())),
void 0)}});b.fn.select2=function(){var c,d,e,g,h,l=Array.prototype.slice.call(arguments,0),q="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),n=["opened","isFocused","container","dropdown"],p=["val","data"],k={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])c=0===l.length?{}:b.extend({},l[0]),c.element=b(this),"select"===c.element.get(0).tagName.toLowerCase()?
h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),d=h?new D:new E,d.init(c);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(0>a(l[0],q))throw"Unknown method: "+l[0];if(!(g=f,d=b(this).data("select2"),d===f))if(e=l[0],"container"===e?g=d.container:"dropdown"===e?g=d.dropdown:(k[e]&&(e=k[e]),g=d[e].apply(d,l.slice(1))),0<=a(l[0],n)||a(l[0],p)&&1==l.length)return!1}}),g===f?this:g};b.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,
openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];return r(a.text,c.term,b,d),b.join("")},formatSelection:function(a,b,c){return a?c(a.text):f},sortResults:function(a){return a},formatResultCssClass:function(){return f},formatSelectionCssClass:function(){return f},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,
b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=g(""+b).toUpperCase().indexOf(g(""+a).toUpperCase())},separator:",",tokenSeparators:[],
tokenizer:F,escapeMarkup:v,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return f}};b.fn.select2.ajaxDefaults={transport:b.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:z,local:B,tags:w},util:{debounce:h,markMatch:r,escapeMarkup:v,stripDiacritics:g},"class":{"abstract":x,single:E,multi:D}}}})(jQuery);
var TINY=TINY||{},T$=T$||function(b){return document.getElementById(b)},T$$$=T$$$||function(){return document.all?1:0};
TINY.editor=function(){function b(a,b){this.n=a;window[a]=this;this.t=T$(b.id);this.obj=b;this.xhtml=b.xhtml;var e=document.createElement("div"),c=document.createElement("div"),k=document.createElement("div"),m=b.controls.length,h=0;this.i=document.createElement("iframe");this.i.width=b.width||"500";this.i.height=b.height||"250";this.ie=T$$$();k.className=b.rowclass||"tinyeditor-header";e.className=b.cssclass||"tinyeditor";e.style.width=this.i.width+"px";e.appendChild(k);for(h;h<m;h++){var n=b.controls[h];
if("n"==n)k=document.createElement("div"),k.className=b.rowclass||"tinyeditor-header",e.appendChild(k);else if("|"==n){var l=document.createElement("div");l.className=b.dividerclass||"tinyeditor-divider";k.appendChild(l)}else if("font"==n){var n=document.createElement("select"),q=b.fonts||["Verdana","Arial","Georgia"],p=q.length,l=0;n.className="tinyeditor-font";n.onchange=new Function(this.n+'.ddaction(this, "fontname")');n.options[0]=new Option("Font","");for(l;l<p;l++){var t=q[l];n.options[l+1]=
new Option(t,t)}k.appendChild(n)}else if("size"==n){n=document.createElement("select");p=b.sizes||[1,2,3,4,5,6,7];q=p.length;l=0;n.className="tinyeditor-size";n.onchange=new Function(this.n+'.ddaction(this, "fontsize")');for(l;l<q;l++)t=p[l],n.options[l]=new Option(t,t);k.appendChild(n)}else if("style"==n){n=document.createElement("select");p=b.styles||[["Style",""],["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6",
"<h6>"]];q=p.length;l=0;n.className="tinyeditor-style";n.onchange=new Function(this.n+'.ddaction(this, "formatblock")');for(l;l<q;l++)t=p[l],n.options[l]=new Option(t[0],t[1]);k.appendChild(n)}else f[n]&&(q=document.createElement("div"),l=f[n],t=l[2],p=l[0]*g,q.className=b.controlclass,q.unselectable="on",q.style.backgroundPosition="0px "+p+"px",q.title=l[1],l="a"==t?'.action("'+l[3]+'", 0, '+(l[4]||0)+")":'.insert("'+l[4]+'", "'+l[5]+'", "'+l[3]+'")',q.onmousedown=new Function(this.n+("print"==n?
".print()":l)),q.onmouseover=new Function(this.n+".hover(this, "+p+", 1)"),q.onmouseout=new Function(this.n+".hover(this, "+p+", 0)"),k.appendChild(q),this.ie&&(q.unselectable="on"))}this.t.parentNode.insertBefore(e,this.t);this.t.style.width=this.i.width+"px";c.appendChild(this.t);c.appendChild(this.i);e.appendChild(c);this.t.style.display="none";b.footer&&(c=document.createElement("div"),c.className=b.footerclass||"tinyeditor-footer",b.toggle&&(k=b.toggle,m=document.createElement("div"),m.className=
k.cssclass||"toggle",m.innerHTML=b.toggletext||"source",m.onclick=new Function(this.n+".toggle(0, this);return false"),c.appendChild(m)),b.resize&&(k=b.resize,m=document.createElement("div"),m.className=k.cssclass||"resize",m.onmousedown=new Function("event",this.n+".resize(event);return false"),m.onselectstart=function(){return!1},c.appendChild(m)),e.appendChild(c));this.e=this.i.contentWindow.document;this.e.open();e="<html><head>";c=b.bodyid?' id="'+b.bodyid+'"':"";b.cssfile&&(e+='<link rel="stylesheet" href="'+
b.cssfile+'" />');b.css&&(e+='<style type="text/css">'+b.css+"</style>");e+="</head><body"+c+' contenteditable="true">'+(b.content||this.t.value);this.e.write(e+"</body></html>");this.e.close();this.e.designMode="On";this.d=1;if(this.xhtml)try{this.e.execCommand("styleWithCSS",0,0)}catch(r){try{this.e.execCommand("useCSS",0,1)}catch(v){}}}var f=[],g=-30;f.bold=[4,"Bold","a","bold"];f.italic=[5,"Italic","a","italic"];f.underline=[6,"Underline","a","underline"];f.strikethrough=[7,"Strikethrough","a",
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
"strikethrough"];f.subscript=[8,"Subscript","a","subscript"];f.superscript=[9,"Superscript","a","superscript"];f.orderedlist=[10,"Insert Ordered List","a","insertorderedlist"];f.unorderedlist=[11,"Insert Unordered List","a","insertunorderedlist"];f.outdent=[12,"Outdent","a","outdent"];f.indent=[13,"Indent","a","indent"];f.leftalign=[14,"Left Align","a","justifyleft"];f.centeralign=[15,"Center Align","a","justifycenter"];f.rightalign=[16,"Right Align","a","justifyright"];f.blockjustify=[17,"Block Justify",
"a","justifyfull"];f.undo=[18,"Undo","a","undo"];f.redo=[19,"Redo","a","redo"];f.image=[20,"Insert Image","i","insertimage","Enter Image URL:","http://"];f.hr=[21,"Insert Horizontal Rule","a","inserthorizontalrule"];f.link=[22,"Insert Hyperlink","i","createlink","Enter URL:","http://"];f.unlink=[23,"Remove Hyperlink","a","unlink"];f.unformat=[24,"Remove Formatting","a","removeformat"];f.print=[25,"Print","a","print"];b.prototype.print=function(){this.i.contentWindow.print()};b.prototype.hover=function(a,
b,e){this.getSelection();a.style.backgroundPosition=(e?"34px ":"0px ")+b+"px"};b.prototype.getSelection=function(){this.ie&&this.e.getSelection&&(this.sel=this.e.getSelection(),this.sel.getRangeAt&&this.sel.rangeCount&&(this.range=this.sel.getRangeAt(0)))};b.prototype.restoreSelection=function(){this.range&&this.ie&&this.e.getSelection&&(this.sel=this.e.getSelection(),this.sel.removeAllRanges(),this.sel.addRange(this.range))};b.prototype.ddaction=function(a,b){this.action(b,a.options[a.selectedIndex].value)};
b.prototype.action=function(a,b,e){e&&!this.ie?alert("Your browser does not support this function."):(this.restoreSelection(),this.e.execCommand(a,0,b||null))};b.prototype.insert=function(a,b,e){a=prompt(a,b);null!=a&&""!=a&&this.e.execCommand(e,0,a)};b.prototype.setfont=function(){this.restoreSelection();execCommand("formatblock",0,hType)};b.prototype.resize=function(a){this.mv&&this.freeze();this.i.bcs=TINY.cursor.top(a);this.mv=new Function("event",this.n+".move(event)");this.sr=new Function(this.n+
".freeze()");this.ie?(document.attachEvent("onmousemove",this.mv),document.attachEvent("onmouseup",this.sr)):(document.addEventListener("mousemove",this.mv,1),document.addEventListener("mouseup",this.sr,1))};b.prototype.move=function(a){a=TINY.cursor.top(a);this.i.height=parseInt(this.i.height)+a-this.i.bcs;this.i.bcs=a};b.prototype.freeze=function(){this.ie?(document.detachEvent("onmousemove",this.mv),document.detachEvent("onmouseup",this.sr)):(document.removeEventListener("mousemove",this.mv,1),
document.removeEventListener("mouseup",this.sr,1))};b.prototype.toggle=function(a,b){if(this.d)e=this.e.body.innerHTML,this.xhtml&&(e=e.replace(/<span class="apple-style-span">(.*)<\/span>/gi,"$1"),e=e.replace(/ class="apple-style-span"/gi,""),e=e.replace(/<span style="">/gi,""),e=e.replace(/<br>/gi,"<br />"),e=e.replace(/<br ?\/?>$/gi,""),e=e.replace(/^<br ?\/?>/gi,""),e=e.replace(/(<img [^>]+[^\/])>/gi,"$1 />"),e=e.replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>"),e=e.replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,
"<em>$1</em>"),e=e.replace(/<u\b[^>]*>(.*?)<\/u[^>]*>/gi,'<span style="text-decoration:underline">$1</span>'),e=e.replace(/<(b|strong|em|i|u) style="font-weight:normal;?">(.*)<\/(b|strong|em|i|u)>/gi,"$2"),e=e.replace(/<(b|strong|em|i|u) style="(.*)">(.*)<\/(b|strong|em|i|u)>/gi,'<span style="$2"><$4>$3</$4></span>'),e=e.replace(/<span style="font-weight:normal;?">(.*)<\/span>/gi,"$1"),e=e.replace(/<span style="font-weight:bold;?">(.*)<\/span>/gi,"<strong>$1</strong>"),e=e.replace(/<span style="font-style:italic;?">(.*)<\/span>/gi,
"<em>$1</em>"),e=e.replace(/<span style="font-weight:bold;?">(.*)<\/span>|<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>")),b&&(b.innerHTML=this.obj.toggletext||"wysiwyg"),this.t.value=e,a||(this.t.style.height=this.i.height+"px",this.i.style.display="none",this.t.style.display="block",this.d=0);else{var e=this.t.value;b&&(b.innerHTML=this.obj.toggletext||"source");this.xhtml&&!this.ie&&(e=e.replace(/<strong>(.*)<\/strong>/gi,'<span style="font-weight:bold;">$1</span>'),e=e.replace(/<em>(.*)<\/em>/gi,
'<span style="font-weight:italic;">$1</span>'));this.e.body.innerHTML=e;this.t.style.display="none";this.i.style.display="block";this.d=1}};b.prototype.post=function(){this.d&&this.toggle(1)};return{edit:b}}();TINY.cursor=function(){return{top:function(b){return T$$$()?window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop:b.clientY+window.scrollY}}}();
<<<<<<< HEAD
+function(b){var f=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};f.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};f.prototype.init=function(a,e,g){this.enabled=!0;this.type=a;this.$element=b(e);this.options=this.getOptions(g);a=this.options.trigger.split(" ");
for(e=a.length;e--;)if(g=a[e],"click"==g)this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this));else if("manual"!=g){var c="hover"==g?"mouseleave":"blur";this.$element.on(("hover"==g?"mouseenter":"focus")+"."+this.type,this.options.selector,b.proxy(this.enter,this));this.$element.on(c+"."+this.type,this.options.selector,b.proxy(this.leave,this))}this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};f.prototype.getDefaults=
function(){return f.DEFAULTS};f.prototype.getOptions=function(a){return a=b.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a};f.prototype.getDelegateOptions=function(){var a={},e=this.getDefaults();return this._options&&b.each(this._options,function(b,c){e[b]!=c&&(a[b]=c)}),a};f.prototype.enter=function(a){var e=a instanceof this.constructor?a:b(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)};f.prototype.leave=function(a){var e=a instanceof this.constructor?a:b(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)};
f.prototype.show=function(){var a=b.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(a),!a.isDefaultPrevented())){var e=this.tip();this.setContent();this.options.animation&&e.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,g=/\s?auto?\s?/i,c=g.test(a);c&&(a=a.replace(g,"")||"top");e.detach().css({top:0,left:0,display:"block"}).addClass(a);this.options.container?e.appendTo(this.options.container):
e.insertAfter(this.$element);var g=this.getPosition(),f=e[0].offsetWidth,l=e[0].offsetHeight;if(c){var h=this.$element.parent(),c=a,p=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:h.outerWidth(),m="body"==this.options.container?window.innerHeight:h.outerHeight(),h="body"==this.options.container?0:h.offset().left,a="bottom"==a&&g.top+g.height+l-p>m?"top":"top"==a&&0>g.top-p-l?"bottom":"right"==a&&g.right+f>n?"left":"left"==a&&g.left-
f<h?"right":a;e.removeClass(c).addClass(a)}e=this.getCalculatedOffset(a,g,f,l);this.applyPlacement(e,a);this.$element.trigger("shown.bs."+this.type)}};f.prototype.applyPlacement=function(a,b){var e,c=this.tip(),f=c[0].offsetWidth,l=c[0].offsetHeight,h=parseInt(c.css("margin-top"),10),p=parseInt(c.css("margin-left"),10);isNaN(h)&&(h=0);isNaN(p)&&(p=0);a.top+=h;a.left+=p;c.offset(a).addClass("in");h=c[0].offsetWidth;p=c[0].offsetHeight;"top"==b&&p!=l&&(e=!0,a.top=a.top+l-p);/bottom|top/.test(b)?(l=
0,0>a.left&&(l=-2*a.left,a.left=0,c.offset(a),h=c[0].offsetWidth),this.replaceArrow(l-f+h,h,"left")):this.replaceArrow(p-l,p,"top");e&&c.offset(a)};f.prototype.replaceArrow=function(a,b,e){this.arrow().css(e,a?50*(1-a/b)+"%":"")};f.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};f.prototype.hide=function(){function a(){"in"!=e.hoverState&&g.detach()}var e=this,g=this.tip(),
c=b.Event("hide.bs."+this.type);this.$element.trigger(c);if(!c.isDefaultPrevented())return g.removeClass("in"),b.support.transition&&this.$tip.hasClass("fade")?g.one(b.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this};f.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};f.prototype.hasContent=function(){return this.getTitle()};
f.prototype.getPosition=function(){var a=this.$element[0];return b.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())};f.prototype.getCalculatedOffset=function(a,b,e,c){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-e/2}:"top"==a?{top:b.top-c,left:b.left+b.width/2-e/2}:"left"==a?{top:b.top+b.height/2-c/2,left:b.left-e}:{top:b.top+b.height/2-c/2,left:b.left+b.width}};f.prototype.getTitle=function(){var a,
b=this.$element,e=this.options;return a=b.attr("data-original-title")||("function"==typeof e.title?e.title.call(b[0]):e.title),a};f.prototype.tip=function(){return this.$tip=this.$tip||b(this.options.template)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};f.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};f.prototype.enable=function(){this.enabled=!0};f.prototype.disable=function(){this.enabled=
!1};f.prototype.toggleEnabled=function(){this.enabled=!this.enabled};f.prototype.toggle=function(a){a=a?b(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;a.tip().hasClass("in")?a.leave(a):a.enter(a)};f.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var e=b.fn.tooltip;b.fn.tooltip=function(a){return this.each(function(){var e=b(this),g=e.data("bs.tooltip"),c="object"==typeof a&&a;g||e.data("bs.tooltip",g=new f(this,
c));"string"==typeof a&&g[a]()})};b.fn.tooltip.Constructor=f;b.fn.tooltip.noConflict=function(){return b.fn.tooltip=e,this}}(window.jQuery);(function(){window.DEBUG=!1}).call(this);this.Templates=this.Templates||{};this.Templates.AddEventLayout=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="event-step event-step_name" id="event-name-region"></div>\n<div class="event-step event-step_what" id="event-what-region"></div>\n'});
this.Templates.EventStepName=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=e.helperMissing,c=this.escapeExpression;b='<div class="popupwin__title clearfix">\n  <div class="steps">\n    <ul class="steps__list steps__list_event">\n      <li class="steps__item active">1</li>\n      <li class="steps__item">2</li>\n    </ul>\n  </div>\n</div>\n<div class="popupwin__container clearfix">\n  <div class="form">\n    <form action="/">\n      <div class="form__field form__field_name">\n        <label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:</label>\n        <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0414\u043e\u043c\u0438\u043a \u041f\u0435\u0442\u0440\u0430" value=';
(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'>\n        <span class="star">*</span>\n        <div class="already-added hide">\n          <div class="already-added__title">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c!</div>\n          <ul class="already-added__list">\n            <li class="already-added__item">\n              <a href="#?" class="already-added__link">\n                <img src="media/uploads/added-1.png" alt="" class="img">\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\n                <span class="city">\u0433.\u0412\u043e\u043b\u043e\u0433\u0434\u0430</span>\n              </a>\n            </li>\n            <li class="already-added__item active">\n              <a href="#?" class="already-added__link">\n                <img src="media/uploads/added-2.png" alt="" class="img">\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\n                <span class="city">\u0433.\u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434</span>\n              </a>\n            </li>\n            <li class="already-added__item">\n              <a href="#?" class="already-added__link">\n                <img src="media/uploads/added-1.png" alt="" class="img">\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\n                <span class="city">\u0433.\u041a\u0438\u0435\u0432</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class="form__field form__field_date clearfix">\n        <label>\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f:</label>\n        <div class="item">\n          <input value="';
if((a=e["if"].call(f,f&&f.dt_start,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;f={hash:{format:"DD.MM.YYYY"},data:b};return c((d=e.dateFormat||a&&a.dateFormat,d?d.call(a,a&&a.dt_start,f):g.call(a,"dateFormat",a&&a.dt_start,f)))},d),data:d}))||0===a)b+=a;b+='" id="dt_start" type="text" class="js-datapicker" placeholder="\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433">\n        </div> &mdash;\n        <div class="item">\n          <input value="';if((a=e["if"].call(f,f&&f.dt_end,
{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,f;f={hash:{format:"DD.MM.YYYY"},data:b};return c((d=e.dateFormat||a&&a.dateFormat,d?d.call(a,a&&a.dt_end,f):g.call(a,"dateFormat",a&&a.dt_end,f)))},d),data:d}))||0===a)b+=a;b+='" id="dt_end" type="text" class="js-datapicker" placeholder="\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433">\n        </div>\n      </div>\n      <div class="form__field form__field_description">\n        <label>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\n        <textarea placeholder="\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0442\u0430\u043a,\u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0445\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0432 \u043d\u0435\u043c \u043f\u043e\u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c">';
(a=e.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=c(a)+'</textarea>\n      </div>\n    </form>\n  </div>\n  <div class="photo-upload">\n    <form action="/photos/add" class="dropzone clearfix" id="place-dropzone">\n      <div class="fallback">\n        <input name="file" type="file" multiple />\n      </div>\n    </form>\n  </div>\n</div>\n<div class="popupwin__footer clearfix">\n  <a href="#?" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\n</div>\n'});
this.Templates.EventStepWhat=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=this.escapeExpression;b='<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    <div class="steps">\n      <ul class="steps__list steps__list_event">\n        <li class="steps__item active">1</li>\n        <li class="steps__item active">2</li>\n      </ul>\n    </div>\n  </div>\n  <div class="popupwin__container clearfix">\n    <div class="field field_tags">\n      <div class="field__title">\n        \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u043c\u0435\u0441\u0442\u0430:\n      </div>\n      <div class="select-type"></div>\n      <ul class="tags">\n        ';
if((f=e.each.call(f,f&&f.additionalLabels,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;d='\n        <li class="tags__item">\n          <a href="#" class="tags__link" title="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'"\n            data-parent="';(f=e.parent)?f=f.call(a,{hash:{},data:b}):(f=a&&a.parent,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-id="';(f=e.id)?f=f.call(a,{hash:{},
data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-style="';(f=e.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'">';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=g(f)+"</a>\n        </li>\n        "},d),data:d}))||0===f)b+=f;return b+'\n      </ul>\n    </div>\n    <div class="field">\n      <div class="field__title">\u0413\u0434\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c:</div>\n      <div class="map map_popupwin mb10">\n        <a href="#" class="map__close sprite-close js-map-close"></a>\n        <div class="map__container" id="map5"></div>\n        <a href="#" class="btn-open js-map-open"></a>\n      </div>\n      <div class="field__input-place">\n        <input class="select-type" type="text" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430 \u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434, \u0443\u043b\u0438\u0446\u0443, \u0434\u043e\u043c">\n      </div>\n    </div>\n  </div>\n  <div class="popupwin__footer clearfix">\n    <a href="#" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\n    <a href="#" class="btn btn_color_blue right js-next">\u0413\u043e\u0442\u043e\u0432\u043e</a>\n  </div>\n</div>\n\n<div id="points-region"></div>\n'});
this.Templates.PointList=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d='\n      <li class="item">\n        <a href="#" class="link">\n          ';if((f=e["if"].call(a,a&&a.imgs,{hash:{},inverse:p.program(5,k,b),fn:p.program(3,c,b),data:b}))||0===f)d+=f;d+='\n          <span data-id="';(f=e.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f=typeof f===l?f.call(a,{hash:{},data:b}):f);return d+=h(f)+'" class="icon icon_delete sprite-delete-added-photo js-delete"></span>\n        </a>\n      </li>\n      '}
function c(a,b){var c,e;return c=""+('\n          <img src="'+h((e=(e=(e=a&&a.imgs,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail104x104),typeof e===l?e.apply(a):e))+'" alt="" class="img">\n          ')}function k(a,b){return'\n          <img src="/static/images/place-unknown.png" alt="" class="img">\n          '}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};b="";var l="function",h=this.escapeExpression,p=this;if((f=e["if"].call(f,f&&f.points,{hash:{},inverse:p.noop,fn:p.program(1,
function(a,b){var c,d;c='\n<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    <div class="steps__title">\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430</div>\n  </div>\n  <div class="already-added-photos">\n    <ul class="list clearfix">\n      ';if((d=e.each.call(a,a&&a.points,{hash:{},inverse:p.noop,fn:p.program(2,g,b),data:b}))||0===d)c+=d;return c+"\n    </ul>\n  </div>\n</div>\n"},d),data:d}))||0===f)b+=f;
return b+"\n"});this.Templates.AddPointLayout=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="place-step place-step_name" id="point-name-region"></div>\n<div class="place-step place-step_what" id="point-what-region"></div>\n<div class="place-step place-step_commerce" id="point-commers-region"></div>\n'});
this.Templates.ImgsList=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d='\n      <li class="item mb10">\n        <a href="#" class="link">\n          <img src="';(f=e.thumbnail104x104)?f=f.call(a,{hash:{},data:b}):(f=a&&a.thumbnail104x104,f=typeof f===c?f.call(a,{hash:{},data:b}):f);d+=k(f)+'" alt="" class="img">\n          <span data-id="';(f=e.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="icon icon_delete sprite-delete-added-photo js-delete"></span>\n        </a>\n      </li>\n      '}
this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};b="";var c="function",k=this.escapeExpression,l=this;if((f=e["if"].call(f,f&&f.imgs,{hash:{},inverse:l.noop,fn:l.program(1,function(a,b){var c,d;c='\n<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    <div class="steps__title">\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438</div>\n  </div>\n  <div class="already-added-photos">\n    <ul class="list clearfix">\n      ';
if((d=e.each.call(a,a&&a.imgs,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}))||0===d)c+=d;return c+"\n    </ul>\n  </div>\n</div>\n"},d),data:d}))||0===f)b+=f;return b+"\n"});this.Templates.PointStepCommers=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="popupwin__title clearfix">\n  <div class="steps">\n    <ul class="steps__list steps__list_place">\n      <li class="steps__item active">1</li>\n      <li class="steps__item active">2</li>\n      <li class="steps__item active">3</li>\n    </ul>\n  </div>\n</div>\n<div class="popupwin__container clearfix">\n  <section class="toggle-list">\n    <div class="toggle-list__item">\n      <div class="toggle-list__title">\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435</div>\n      <div class="toggle-list__body">\n      <div class="form">\n        <div class="field clearfix">\n          <div class="item item_add-cont">\n            <label>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</label>\n            <input type="text">\n          </div>\n          <div class="item item_add-cont">\n            <label>\u0413\u0440\u0443\u043f\u043f\u0430 vkontakte:</label>\n            <input type="text" placeholder="vk.com/groupname">\n          </div>\n        </div>\n        <div class="field clearfix">\n          <div class="item item_add-cont">\n            <label>\u0412\u0435\u0431-\u0441\u0430\u0439\u0442:</label>\n            <input type="text">\n          </div>\n          <div class="item item_add-cont">\n            <label>Twitter:</label>\n            <input type="text" placeholder="@twittername">\n          </div>\n        </div>\n      </div>\n\n      </div>\n    </div>\n    <div class="toggle-list__item">\n      <div class="toggle-list__title">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b</div>\n      <div class="toggle-list__body">\n        <section class="working-period clearfix">\n          <div class="working-period__choice">\n            <ul class="working-days">\n              <li class="working-days__item" data-number="1">\u041f\u041d</li>\n              <li class="working-days__item" data-number="2">\u0412\u0422</li>\n              <li class="working-days__item" data-number="3">\u0421\u0420</li>\n              <li class="working-days__item" data-number="4">\u0427\u0422</li>\n              <li class="working-days__item" data-number="5">\u041f\u0422</li>\n              <li class="working-days__item" data-number="6">\u0421\u0411</li>\n              <li class="working-days__item" data-number="7">\u0412\u0421</li>\n            </ul>\n            <div class="working-time clearfix">\n              <input type="text" value="10:00" class="start-time">&nbsp;&nbsp;&mdash;&nbsp;&nbsp;<input type="text" value="18:00" class="end-time">\n              <a href="#?" class="btn btn_color_green js-add-days">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\n            </div>\n            <div class="note">\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043d\u0435\u0439</div>\n          </div>\n          <ul class="working-period__result">\n            <li class="item hide">\n              <span class="days"></span>\n              <span class="time"></span>\n              <a href="#?" class="delete js-delete"></a>\n            </li>\n          </ul>\n        </section>\n      </div>\n    </div>\n    <div class="toggle-list__item">\n      <div class="toggle-list__title">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438</div>\n      <div class="toggle-list__body">\n        <div class="form-detail">\n          <div class="field field_price clearfix">\n            <label>\u0426\u0435\u043d\u0430:</label>\n            <div class="input-wrap right">\n              \u043e\u0442<input type="text">&nbsp;&nbsp;&nbsp;&nbsp;\u0434\u043e <input type="text">&nbsp;<span class="sprite-ruble-dark"></span>\n            </div>\n          </div>\n          <div class="field clearfix">\n            <label>\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f:</label>\n            <div class="input-wrap right">\n              <div class="select-quasi">\n                <div class="select-quasi__btn js-select-quasi">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</div>\n                <ul class="select-quasi__list">\n                  <li class="select-quasi__item">\n                    <label>\n                      <input type="checkbox"><span></span> \u0417\u0430\u0432\u0442\u0440\u0430\u043a\n                    </label>\n                  </li>\n                  <li class="select-quasi__item">\n                    <label>\n                      <input type="checkbox"><span></span> \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447\n                    </label>\n                  </li>\n                  <li class="select-quasi__item">\n                    <label>\n                      <input type="checkbox"><span></span> \u041b\u0438\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438 \u0435\u0434\u044b\n                    </label>\n                  </li>\n                  <li class="select-quasi__item">\n                    <label>\n                      <input type="checkbox"><span></span> \u0423\u0436\u0438\u043d\n                    </label>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class="field field_sub clearfix">\n            <label>\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b:</label>\n            <div class="input-wrap input-wrap_radio right">\n              <label><input type="radio" name="group1" data-value="open"><span></span>\u0414\u0430</label>\n              <label><input type="radio" name="group1" checked="checked" data-value="close"><span></span>\u041d\u0435\u0442</label>\n            </div>\n            <div class="input-wrap input-wrap_checkbox clear clearfix">\n              <label><input type="checkbox"><span></span> Visa</label>\n              <label><input type="checkbox"><span></span> MasterCard</label>\n              <label><input type="checkbox"><span></span> American Express</label>\n              <label><input type="checkbox"><span></span> Discover</label>\n            </div>\n          </div>\n          <div class="field clearfix">\n            <label>\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</label>\n            <div class="input-wrap input-wrap_radio right">\n              <label><input type="radio" name="group2"><span></span>\u0414\u0430</label>\n              <label><input type="radio" name="group2" checked="checked"><span></span>\u041d\u0435\u0442</label>\n            </div>\n          </div>\n          <div class="field field_sub clearfix">\n            <label>WiFi:</label>\n            <div class="input-wrap input-wrap_radio right">\n              <label><input type="radio" name="group3" data-value="open"><span></span>\u0414\u0430</label>\n              <label><input type="radio" name="group3" checked="checked" data-value="close"><span></span>\u041d\u0435\u0442</label>\n            </div>\n            <div class="input-wrap input-wrap_checkbox clear clearfix">\n              <label><input type="checkbox"><span></span> \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439</label>\n              <label><input type="checkbox"><span></span> \u041f\u043b\u0430\u0442\u043d\u044b\u0439</label>\n            </div>\n          </div>\n          <div class="field clearfix">\n            <label>\u0423\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u0435\u0440\u0430\u043d\u0434\u0430:</label>\n            <div class="input-wrap input-wrap_radio right">\n              <label><input type="radio" name="group4"><span></span>\u0414\u0430</label>\n              <label><input type="radio" name="group4" checked="checked"><span></span>\u041d\u0435\u0442</label>\n            </div>\n          </div>\n          <div class="field field_price clearfix">\n            <label>\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:</label>\n            <div class="input-wrap input-wrap_radio right">\n              <label><input type="radio" name="group5"><span></span>\u0414\u0430</label>\n              <label><input type="radio" name="group5" checked="checked"><span></span>\u041d\u0435\u0442</label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\x3c!-- class="toggle-list" --\x3e\n</div>\n<div class="popupwin__footer clearfix">\n  <a href="#?" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\n  <a href="#?" class="btn btn_color_blue right js-finish">\u0413\u043e\u0442\u043e\u0432\u043e</a>\n</div>\n'});
this.Templates.PointStepName=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=this.escapeExpression;b='<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    <div class="steps">\n      <ul class="steps__list steps__list_place">\n        <li class="steps__item active">1</li>\n        <li class="steps__item">2</li>\n        <li class="steps__item">3</li>\n      </ul>\n    </div>\n  </div>\n  <div class="popupwin__container clearfix">\n    <div class="form">\n      <form action="/">\n        <div class="form__field form__field_name">\n          <label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\n          <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0414\u043e\u043c\u0438\u043a \u041f\u0435\u0442\u0440\u0430" value="';
(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'">\n          <span class="star">*</span>\n          <div class="already-added hide">\n            <div class="already-added__title">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c!</div>\n            <ul class="already-added__list">\n              <li class="already-added__item">\n                <a href="#?" class="already-added__link">\n                  <img src="media/uploads/added-1.png" alt="" class="img">\n                  <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\n                  <span class="city">\u0433.\u0412\u043e\u043b\u043e\u0433\u0434\u0430</span>\n                </a>\n              </li>\n              <li class="already-added__item active">\n                <a href="#?" class="already-added__link">\n                  <img src="media/uploads/added-2.png" alt="" class="img">\n                  <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\n                  <span class="city">\u0433.\u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434</span>\n                </a>\n              </li>\n              <li class="already-added__item">\n                <a href="#?" class="already-added__link">\n                  <img src="media/uploads/added-1.png" alt="" class="img">\n                  <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\n                  <span class="city">\u0433.\u041a\u0438\u0435\u0432</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class="form__field form__field_description">\n          <label>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\n          <textarea placeholder="\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u044d\u0442\u043e\u0442 \u043c\u0435\u0441\u0442\u043e \u0442\u0430\u043a,\u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0445\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0442\u0443\u0434\u0430 \u043f\u043e\u0435\u0445\u0430\u0442\u044c">';
(a=e.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=g(a)+'</textarea>\n        </div>\n      </form>\n    </div>\n    <div class="photo-upload">\n      <form action="/photos/add" class="dropzone clearfix" id="place-dropzone">\n        <div class="fallback">\n          <input name="file" type="file" multiple />\n        </div>\n      </form>\n    </div>\n  </div>\n  <div class="popupwin__footer clearfix">\n    <a href="#?" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\n  </div>\n</div>\n\n<div id="imgs-region"></div>\n'});
this.Templates.PointStepWhat=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=this.escapeExpression;b='<div class="popupwin__title clearfix">\n  <div class="steps">\n    <ul class="steps__list steps__list_place">\n      <li class="steps__item active">1</li>\n      <li class="steps__item active">2</li>\n      <li class="steps__item">3</li>\n    </ul>\n  </div>\n</div>\n<div class="popupwin__container clearfix">\n  <div class="field">\n    <div class="field__title">\u0423\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u0437\u0430 \u043c\u0435\u0441\u0442\u043e:</div>\n    <ul class="categories categories_tag">\n      ';
if((a=e.each.call(f,f&&f.rootLabels,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;d='\n      <li class="categories__item">\n      <a href="#" class="categories__link sprite-filter-photo ';(f=e.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'"\n        data-id="';(f=e.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-style="';(f=e.style)?f=f.call(a,{hash:{},
data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-text="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'"\n        data-placement="bottom" title="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=g(f)+'"></a>\n      </li>\n      '},d),data:d}))||0===a)b+=a;b+='\n    </ul>\n  </div>\n  <div class="field field_tags hide">\n    <div class="field__title">\n      \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u043c\u0435\u0441\u0442\u0430:\n    </div>\n    <div class="select-type"></div>\n    <ul class="tags">\n      ';
if((a=e.each.call(f,f&&f.additionalLabels,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,f;d='\n      <li class="tags__item">\n        <a href="#" class="tags__link" title="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'"\n          data-parent="';(f=e.parent)?f=f.call(a,{hash:{},data:b}):(f=a&&a.parent,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-id="';(f=e.id)?f=f.call(a,{hash:{},data:b}):
(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-style="';(f=e.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'">';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=g(f)+"</a>\n      </li>\n      "},d),data:d}))||0===a)b+=a;b+='\n    </ul>\n  </div>\n  <div class="field">\n    <div class="field__title">\u0413\u0434\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f:</div>\n    <div class="map map_popupwin mb10">\n      <a href="#" class="map__close sprite-close js-map-close"></a>\n      <div class="map__container" id="map-point-add"></div>\n      <a href="#" class="btn-open js-map-open"></a>\n    </div>\n    <div class="field__input-map">\n      <input name="address" type="text" placeholder="\u0413\u043e\u0440\u043e\u0434, \u0443\u043b\u0438\u0446\u0430, \u0434\u043e\u043c" value="';
(a=e.address)?a=a.call(f,{hash:{},data:d}):(a=f&&f.address,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=g(a)+'">\n    </div>\n  </div>\n</div>\n<div class="popupwin__footer clearfix">\n  <a href="#" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\n  <a href="#" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\n</div>\n'});
this.Templates.EventComments=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};b="";var g,c=this.escapeExpression,k=e.helperMissing,l=e.blockHelperMissing;g={hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f,g;d=""+('\n  <li class="comments__item">\n    <a href="#" class="photo">\n      <img src="'+c((f=(f=a&&a.author,null==f||!1===f?f:f.icon),"function"===typeof f?f.apply(a):f))+'" alt="user1" class="photo__img">\n    </a>\n    <div class="text">\n      <div class="text__info">\n        <a href="#" class="name">'+
c((f=(f=a&&a.author,null==f||!1===f?f:f.first_name),"function"===typeof f?f.apply(a):f))+" "+c((f=(f=a&&a.author,null==f||!1===f?f:f.last_name),"function"===typeof f?f.apply(a):f))+'</a>\n        <span class="time">&bull; ');g={hash:{},data:b};d+=c((f=e.dateFormat||a&&a.dateFormat,f?f.call(a,a&&a.created,g):k.call(a,"dateFormat",a&&a.created,g)))+'</span>\n      </div>\n      <div class="text__comment">';(f=e.review)?f=f.call(a,{hash:{},data:b}):(f=a&&a.review,f="function"===typeof f?f.call(a,{hash:{},
data:b}):f);return d+=c(f)+"</div>\n    </div>\n  </li>\n"},d),data:d};(a=e.reviews)?a=a.call(f,g):(a=f&&f.reviews,a="function"===typeof a?a.call(f,g):a);e.reviews||(a=l.call(f,a,g));if(a||0===a)b+=a;b+="\n";if((f=e["if"].call(f,(a=f&&f.user,null==a||!1===a?a:a.authorized),{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var e,d;return e=""+('\n<li class="comments__item">\n  <form class="comment-form" action="/">\n    <a href="#" class="photo">\n      <img src="'+c((d=(d=a&&a.user,null==
d||!1===d?d:d.icon),"function"===typeof d?d.apply(a):d))+'" alt="'+c((d=(d=a&&a.user,null==d||!1===d?d:d.first_name),"function"===typeof d?d.apply(a):d))+" "+c((d=(d=a&&a.user,null==d||!1===d?d:d.last_name),"function"===typeof d?d.apply(a):d))+'" class="photo__img">\n    </a>\n    <div class="text">\n      <textarea name="review_text" placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea>\n      <input type="submit" class="btn btn_color_blue" value="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c">\n    </div>\n  </form>\n</li>\n')},
d),data:d}))||0===f)b+=f;return b+"\n"});
this.Templates.EventHeader=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g,c=e.helperMissing,k=this.escapeExpression;b=""+('<a href="#" class="user">\n  <img src="'+k((g=(g=f&&f.author,null==g||!1===g?g:g.icon),"function"===typeof g?g.apply(f):g))+'" alt="'+k((g=(g=f&&f.author,null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+k((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===typeof g?g.apply(f):g))+
'" class="img">\n  <span class="name">'+k((g=(g=f&&f.author,null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+k((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===typeof g?g.apply(f):g))+'</span><br>\n  \u0434\u043e\u0431\u0430\u0432\u0438\u043b <span class="type c-event">\u0421\u043e\u0431\u044b\u0442\u0438\u0435</span>\n</a>\n<ul class="actions">\n  <li class="item">\n  <div class="date c-event">\n    ');if((g=e["if"].call(f,f&&f.dt_start,{hash:{},inverse:this.noop,
fn:this.program(1,function(a,b){var d,f;d={hash:{format:"D.MM"},data:b};return d=""+(k((f=e.dateFormat||a&&a.dateFormat,f?f.call(a,a&&a.dt_start,d):c.call(a,"dateFormat",a&&a.dt_start,d)))+"&mdash;")},d),data:d}))||0===g)b+=g;if((g=e["if"].call(f,f&&f.dt_end,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,f;f={hash:{format:"D.MM"},data:b};return k((d=e.dateFormat||a&&a.dateFormat,d?d.call(a,a&&a.dt_end,f):c.call(a,"dateFormat",a&&a.dt_end,f)))},d),data:d}))||0===g)b+=g;b+='\n  </div>\n  </li>\n  <li class="item">\n    <a href="#" class="btn-like ';
if((g=e["if"].call(f,f&&f.isliked,{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){return"active"},d),data:d}))||0===g)b+=g;b+='" data-toggle="tooltip" data-original-title="\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f" data-placement="bottom">\n      <span class="icon sprite-like-user"></span>\n      <span class="text">';if((g=e["if"].call(f,f&&f.likes_count,{hash:{},inverse:this.program(9,function(a,b){return"0"},
d),fn:this.program(7,function(a,b){var c;(c=e.likes_count)?c=c.call(a,{hash:{},data:b}):(c=a&&a.likes_count,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return k(c)},d),data:d}))||0===g)b+=g;return b+'</span>\n    </a>\n  </li>\n  <li class="item">\n    <a href="#" class="btn-place">\n      <span class="icon sprite-place-user"></span>\u0412 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\n    </a>\n  </li>\n  <li class="item">\n    <a href="#" class="btn-upload">\n      <span class="icon sprite-upload"></span>\n    </a>\n    <div class="soc-wrap">\n      <ul class="soc-list">\n        <li class="soc-list__item">\n          <a href="#" class="btn-soc btn-soc_tw">Twitter</a>\n        </li>\n        <li class="soc-list__item">\n          <a href="#" class="btn-soc btn-soc_vk">\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\n        </li>\n        <li class="soc-list__item">\n          <a href="#" class="btn-soc btn-soc_fb">Facebook</a>\n        </li>\n      </ul>\n    </div>\n  </li>\n</ul>\n'});
this.Templates.EventLayout=Handlebars.template(function(b,f,e,a,d){function g(a,b){var c,d;c='\n        <li class="item">\n          <a data-id="';(d=e.id)?d=d.call(a,{hash:{},data:b}):(d=a&&a.id,d=typeof d===l?d.call(a,{hash:{},data:b}):d);c+=h(d)+'" href="#" class="link c-place js-popupwin-place">';(d=e.name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.name,d=typeof d===l?d.call(a,{hash:{},data:b}):d);c+=h(d)+'</a>\n          <div class="description__address">';(d=e.address)?d=d.call(a,{hash:{},data:b}):
(d=a&&a.address,d=typeof d===l?d.call(a,{hash:{},data:b}):d);return c+=h(d)+"</div>\n        </li>\n        "}function c(a,b){var c,d;c='\n      <li class="peoples__item">\n        <a href="#" class="peoples__link">\n          <img src="';(d=e.icon)?d=d.call(a,{hash:{},data:b}):(d=a&&a.icon,d=typeof d===l?d.call(a,{hash:{},data:b}):d);c+=h(d)+'" alt="';(d=e.first_name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.first_name,d=typeof d===l?d.call(a,{hash:{},data:b}):d);c+=h(d)+" ";(d=e.last_name)?d=d.call(a,
{hash:{},data:b}):(d=a&&a.last_name,d=typeof d===l?d.call(a,{hash:{},data:b}):d);return c+=h(d)+'" class="peoples__img">\n        </a>\n      </li>\n    '}function k(a,b){var c,e;return c=""+('\n      <li class="peoples__item">\n        <a href="#" class="peoples__link">\n          <img src="'+h((e=(e=a&&a.author,null==e||!1===e?e:e.icon),typeof e===l?e.apply(a):e))+'" alt="user" class="peoples__img">\n        </a>\n      </li>\n    ')}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=
d||{};var l="function",h=this.escapeExpression,p=this,n=e.blockHelperMissing;b='<div class="popupwin__content clearfix">\n  <div id="event-header-region" class="place-info clearfix"></div>\n  \n  <div id="event-photo-region"></div> \n\n  <div class="description">\n    <h3 class="description__title">';(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===l?a.call(f,{hash:{},data:d}):a);b+=h(a)+'</h3>\n    <p class="description__text">';(a=e.description)?a=a.call(f,{hash:{},data:d}):(a=
f&&f.description,a=typeof a===l?a.call(f,{hash:{},data:d}):a);b+=h(a)+"</p>\n    ";if((a=e["if"].call(f,f&&f.points,{hash:{},inverse:p.noop,fn:p.program(1,function(a,b){var c,d;c='\n    <div class="description__places">\n      <div class="title"><span class="c-event">\u0421\u043e\u0431\u044b\u0442\u0438\u0435</span> \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0432 \u043c\u0435\u0441\u0442\u0430\u0445:</div>\n      <ul class="list">\n        ';if((d=e.each.call(a,a&&a.points,{hash:{},inverse:p.noop,
fn:p.program(2,g,b),data:b}))||0===d)c+=d;return c+"\n      </ul>\n    </div>\n    "},d),data:d}))||0===a)b+=a;b+='\n  </div>\n\n  <div id="event-map-region"></div>\n\n  <div class="comments-wrap" id="event-comments-region"></div>\n</div>\x3c!-- class="popup-content" --\x3e\n\n';if((a=e["if"].call(f,f&&f.likeusers,{hash:{},inverse:p.noop,fn:p.program(4,function(a,b){var d,f,g;d='\n<div class="popupwin__content clearfix">\n  <div class="title title_blue title_bg_light">\u0418\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c:</div>\n  <ul class="peoples">\n    ';
g={hash:{},inverse:p.noop,fn:p.program(5,c,b),data:b};(f=e.likeusers)?f=f.call(a,g):(f=a&&a.likeusers,f=typeof f===l?f.call(a,g):f);e.likeusers||(f=n.call(a,f,g));if(f||0===f)d+=f;return d+'\n  </ul>\n</div>\x3c!-- class="popup-content" --\x3e\n'},d),data:d}))||0===a)b+=a;b+="\n\n";if((a=e["if"].call(f,f&&f.sets,{hash:{},inverse:p.noop,fn:p.program(7,function(a,b){var c,d,f;c='\n<div class="popupwin__content clearfix">\n  <div class="title title_green title_bg_light">\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a \u0441\u0435\u0431\u0435 \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435:</div>\n  <ul class="peoples">\n    ';
f={hash:{},inverse:p.noop,fn:p.program(8,k,b),data:b};(d=e.sets)?d=d.call(a,f):(d=a&&a.sets,d=typeof d===l?d.call(a,f):d);e.sets||(d=n.call(a,d,f));if(d||0===d)c+=d;return c+'\n    <li class="peoples__item">\n      <a href="#" class="peoples__link peoples__link_all js-more-people">\n        \u0415\u0449\u0451\n      </a>\n    </li>\n  </ul>\n</div>\x3c!-- class="popup-content" --\x3e\n'},d),data:d}))||0===a)b+=a;return b+"\n"});
this.Templates.EventMap=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<a href="#" class="map__close sprite-close js-map-close"></a>\n<div class="map__container" id="map-event"></div>\n<a href="#" class="btn-open js-map-open"></a>\n'});
this.Templates.EventPhoto=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d='\n    <li class="item"><img src="';(f=e.thumbnail560)?f=f.call(a,{hash:{},data:b}):(f=a&&a.thumbnail560,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img" /></li>\n    '}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var c="function",k=this.escapeExpression,l=this,h=e.blockHelperMissing;b='<div class="slider">\n  <ul class="bxslider bxslider-place">\n    ';if((a=
e["if"].call(f,f&&f.imgs,{hash:{},inverse:l.program(4,function(a,b){return'\n    <li class="item empty"><img src="/static/images/place-unknown.png" class="img" /></li>\n    '},d),fn:l.program(1,function(a,b){var d,f,k;d="\n    ";k={hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b};(f=e.imgs)?f=f.call(a,k):(f=a&&a.imgs,f=typeof f===c?f.call(a,k):f);e.imgs||(f=h.call(a,f,k));if(f||0===f)d+=f;return d+"\n    "},d),data:d}))||0===a)b+=a;b+='\n  </ul>\n  <div class="bx-pager" id="bx-pager">\n    <div class="bx-pager__viewport">\n      <div class="bx-pager__scrollbox">\n        ';
d={hash:{},inverse:l.noop,fn:l.program(6,function(a,b){var d,f;d=""+('\n        <a data-slide-index="'+k((f=(f=b,null==f||!1===f?f:f.index),typeof f===c?f.apply(a):f))+'" href="" class="bx-pager__item">\n          <img src="');(f=e.thumbnail104x104)?f=f.call(a,{hash:{},data:b}):(f=a&&a.thumbnail104x104,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img"/>\n          </a>\n        '},d),data:d};(a=e.imgs)?a=a.call(f,d):(a=f&&f.imgs,a=typeof a===c?a.call(f,d):a);e.imgs||(a=h.call(f,
a,d));if(a||0===a)b+=a;return b+'\n      </div>\n    </div>\n  </div>\n  <a href="#" class="btn-photo-add js-popup-add-photos">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\n</div>\n'});
this.Templates.BoardEvent=Handlebars.template(function(b,f,e,a,d){function g(a,b){return"active"}function c(a,b){return"0"}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var k=e.helperMissing,l=this.escapeExpression,h=this;b='<div class="box__title box__title_type_event">\n  \u0421\u043e\u0431\u044b\u0442\u0438\u0435 ';if((a=e["if"].call(f,f&&f.dt_start,{hash:{},inverse:h.noop,fn:h.program(1,function(a,b){var c,d;c={hash:{format:"D.MM"},data:b};return c=""+(l((d=e.dateFormat||
a&&a.dateFormat,d?d.call(a,a&&a.dt_start,c):k.call(a,"dateFormat",a&&a.dt_start,c)))+"&ndash;")},d),data:d}))||0===a)b+=a;if((a=e["if"].call(f,f&&f.dt_end,{hash:{},inverse:h.noop,fn:h.program(3,function(a,b){var c,d;d={hash:{format:"D.MM"},data:b};return l((c=e.dateFormat||a&&a.dateFormat,c?c.call(a,a&&a.dt_end,d):k.call(a,"dateFormat",a&&a.dt_end,d)))},d),data:d}))||0===a)b+=a;b+='\n</div>\n<div class="box__img">\n  <a href="#?" class="js-popupwin-event">\n    ';if((a=e["if"].call(f,f&&f.imgs,{hash:{},
inverse:h.program(7,function(a,b){var c,d;c='\n      <img src="/static/images/place-unknown.png" height="174" alt="';(d=e.name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.name,d="function"===typeof d?d.call(a,{hash:{},data:b}):d);return c+=l(d)+'" class="img">\n    '},d),fn:h.program(5,function(a,b){var c,d,f;c=""+('\n      <img src="'+l((d=(d=(d=a&&a.imgs,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.thumbnail207),"function"===typeof d?d.apply(a):d))+'" alt="');(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=
a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return c+=l(f)+'" height="'+l((d=(d=(d=a&&a.imgs,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.thumbnail207_height),"function"===typeof d?d.apply(a):d))+'" class="img">\n    '},d),data:d}))||0===a)b+=a;b+="\n    ";if((a=e["if"].call(f,f&&f.editable,{hash:{},inverse:h.program(11,function(a,b){var c,d;c='\n    <div class="icons">\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"></a>\n      <a href="#?" class="icon sprite-like ';
if((d=e["if"].call(a,a&&a.isliked,{hash:{},inverse:h.noop,fn:h.program(12,g,b),data:b}))||0===d)c+=d;return c+'" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n    '},d),fn:h.program(9,function(a,b){return'\n    <div class="btns">\n      <a href="#?" class="btn btn_color_green btn_edit">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>\n      <a href="#?" class="btn btn_color_red btn_remove">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>\n    </div>\n    '},
d),data:d}))||0===a)b+=a;b+='\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=l(a)+'</div>\n  <span class="info info_like">';if((a=e["if"].call(f,f&&f.likes_count,{hash:{},inverse:h.program(16,c,d),fn:h.program(14,function(a,b){var c;(c=e.likes_count)?c=c.call(a,{hash:{},data:b}):(c=a&&a.likes_count,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return l(c)},
d),data:d}))||0===a)b+=a;b+='</span>\n  <span class="info info_comment">';if((a=e["if"].call(f,f&&f.reviews,{hash:{},inverse:h.program(16,c,d),fn:h.program(18,function(a,b){var c;return l((c=(c=a&&a.reviews,null==c||!1===c?c:c.length),"function"===typeof c?c.apply(a):c))},d),data:d}))||0===a)b+=a;return b+='</span>\n</div>\n<div class="box__person">\n  <img src="'+l((a=(a=f&&f.author,null==a||!1===a?a:a.icon),"function"===typeof a?a.apply(f):a))+'" alt="'+l((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),
"function"===typeof a?a.apply(f):a))+" "+l((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),"function"===typeof a?a.apply(f):a))+'" class="img">\n  <div class="text">\n    \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b<br>\n    <span class="name">'+l((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),"function"===typeof a?a.apply(f):a))+" "+l((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),"function"===typeof a?a.apply(f):a))+"</span>\n  </div>\n</div>\n"});
this.Templates.BoardPoint=Handlebars.template(function(b,f,e,a,d){function g(a,b){return"active"}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var c=this.escapeExpression,k=this;b='<div class="box__title box__title_type_place">\u041c\u0435\u0441\u0442\u043e</div>\n<div class="box__img">\n  <a href="#?" class="js-popupwin-place">\n    ';if((a=e["if"].call(f,f&&f.imgs,{hash:{},inverse:k.program(3,function(a,b){var d,f;d='\n      <img src="/static/images/place-unknown.png" height="174" alt="';
(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=c(f)+'" class="img">\n    '},d),fn:k.program(1,function(a,b){var d,f;d=""+('\n      <img src="'+c((f=(f=(f=a&&a.imgs,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207),"function"===typeof f?f.apply(a):f))+'" height="'+c((f=(f=(f=a&&a.imgs,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207_height),"function"===typeof f?f.apply(a):f))+'" alt="');(f=e.name)?f=f.call(a,{hash:{},
data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=c(f)+'" class="img">\n    '},d),data:d}))||0===a)b+=a;b+="\n    ";if((a=e["if"].call(f,f&&f.editable,{hash:{},inverse:k.program(7,function(a,b){var c,d;c='\n    <div class="icons">\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\n      <a href="#?" class="icon sprite-like ';if((d=e["if"].call(a,a&&a.isliked,{hash:{},
inverse:k.noop,fn:k.program(8,g,b),data:b}))||0===d)c+=d;return c+'" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n    '},d),fn:k.program(5,function(a,b){return'\n    <div class="btns">\n      <a href="#?" class="btn btn_color_green btn_edit">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>\n      <a href="#?" class="btn btn_color_red btn_remove">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>\n    </div>\n    '},
d),data:d}))||0===a)b+=a;b+='\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\n  <span class="info info_like">';(a=e.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</span>\n  <span class="info info_comment">';if((a=e["if"].call(f,f&&f.reviews,{hash:{},inverse:k.program(12,function(a,
b){return"0"},d),fn:k.program(10,function(a,b){var d;return c((d=(d=a&&a.reviews,null==d||!1===d?d:d.length),"function"===typeof d?d.apply(a):d))},d),data:d}))||0===a)b+=a;return b+"</span>\n</div>\n"});
this.Templates.BoardRoute=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d=""+('\n        <img src="'+k((f=(f=(f=(f=(f=a&&a.points,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.imgs),null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207),typeof f===c?f.apply(a):f))+'" height="'+k((f=(f=(f=(f=(f=a&&a.points,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.imgs),null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207_height),typeof f===c?f.apply(a):f))+'" alt="');(f=e.name)?f=f.call(a,
{hash:{},data:b}):(f=a&&a.name,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img">\n      '}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var c="function",k=this.escapeExpression,l=this;b='<div class="box__title box__title_type_route">\u041c\u0430\u0440\u0448\u0440\u0443\u0442</div>\n<div class="box__img">\n  <a href="#?" class="js-popupwin-route">\n    ';if((a=e["if"].call(f,f&&f.points,{hash:{},inverse:l.program(4,function(a,b){var d,f;d='\n      <img src="/static/images/place-unknown.png" height="174" alt="';
(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img">\n    '},d),fn:l.program(1,function(a,b){var c,d,f;c="\n      ";if((f=e["if"].call(a,(d=(d=a&&a.points,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.imgs),{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}))||0===f)c+=f;return c+"\n    "},d),data:d}))||0===a)b+=a;b+='\n    <div class="icons">\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';
(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===c?a.call(f,{hash:{},data:d}):a);b+=k(a)+'</div>\n  <span class="info info_like">';(a=e.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a=typeof a===c?a.call(f,{hash:{},data:d}):a);return b+=k(a)+'</span>\n  <span class="info info_comment">0</span>\n</div>\n<div class="box__person">\n  <img src="'+k((a=(a=f&&f.author,null==a||!1===a?a:a.icon),typeof a===c?a.apply(f):a))+'" alt="'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),
typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+'" class="img">\n  <div class="text">\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\n    <span class="name">'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+"</span>\n  </div>\n</div>\n"});
this.Templates.BoardSet=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d=""+('\n        <img src="'+k((f=(f=(f=(f=(f=a&&a.points,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.imgs),null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207),typeof f===c?f.apply(a):f))+'" height="'+k((f=(f=(f=(f=(f=a&&a.points,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.imgs),null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207_height),typeof f===c?f.apply(a):f))+'" alt="');(f=e.name)?f=f.call(a,{hash:{},
data:b}):(f=a&&a.name,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img">\n      '}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var c="function",k=this.escapeExpression,l=this;b='<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\n<div class="box__img">\n  <a href="#?">\n    ';if((a=e["if"].call(f,f&&f.points,{hash:{},inverse:l.program(4,function(a,b){var d,f;d='\n      <img src="/static/images/place-unknown.png" height="174" alt="';
(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img">\n    '},d),fn:l.program(1,function(a,b){var c,d,f;c="\n      ";if((f=e["if"].call(a,(d=(d=a&&a.points,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.imgs),{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}))||0===f)c+=f;return c+"\n    "},d),data:d}))||0===a)b+=a;b+="\n    ";if((a=e["if"].call(f,f&&f.editable,{hash:{},inverse:l.program(8,function(a,b){return'\n    <div class="icons">\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n    '},
d),fn:l.program(6,function(a,b){return'\n    <div class="btns">\n      <a href="#?" class="btn btn_color_green btn_edit">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>\n      <a href="#?" class="btn btn_color_red btn_remove">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>\n    </div>\n    '},d),data:d}))||0===a)b+=a;b+='\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===c?a.call(f,
{hash:{},data:d}):a);b+=k(a)+'</div>\n  <span class="info info_like">';if((a=e["if"].call(f,f&&f.likes_count,{hash:{},inverse:l.program(12,function(a,b){return"0"},d),fn:l.program(10,function(a,b){var d;(d=e.likes_count)?d=d.call(a,{hash:{},data:b}):(d=a&&a.likes_count,d=typeof d===c?d.call(a,{hash:{},data:b}):d);return k(d)},d),data:d}))||0===a)b+=a;return b+='</span>\n  <span class="info info_comment">0</span>\n</div>\n<div class="box__person">\n  <img src="'+k((a=(a=f&&f.author,null==a||!1===a?
a:a.icon),typeof a===c?a.apply(f):a))+'" alt="'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+'" class="img">\n  <div class="text">\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\n    <span class="name">'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,
null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+"</span>\n  </div>\n</div>\n"});this.Templates.AddPhotoPopup=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438\n  </div>\n  <div class="popupwin__container">\n    <div class="photo-upload">\n      <form class="dropzone clearfix" id="photos-dropzone">\n        <div class="fallback">\n          <input name="file" type="file" multiple />\n        </div>\n      </form>\n    </div>\n  </div>\n  <div class="popupwin__footer clearfix">\n    <button disabled href="#" class="btn btn_color_blue right js-finish">\u0413\u043e\u0442\u043e\u0432\u043e</button>\n  </div>\n</div>\x3c!-- class="popup-content" --\x3e\n'});
this.Templates.PointComments=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};b="";var g,c=this.escapeExpression,k=e.helperMissing,l=e.blockHelperMissing;g={hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f,g;d=""+('\n  <li class="comments__item">\n    <a href="#" class="photo">\n      <img src="'+c((f=(f=a&&a.author,null==f||!1===f?f:f.icon),"function"===typeof f?f.apply(a):f))+'" alt="user1" class="photo__img">\n    </a>\n    <div class="text">\n      <div class="text__info">\n        <a href="#" class="name">'+
c((f=(f=a&&a.author,null==f||!1===f?f:f.first_name),"function"===typeof f?f.apply(a):f))+" "+c((f=(f=a&&a.author,null==f||!1===f?f:f.last_name),"function"===typeof f?f.apply(a):f))+'</a>\n        <span class="time">&bull; ');g={hash:{},data:b};d+=c((f=e.dateFormat||a&&a.dateFormat,f?f.call(a,a&&a.created,g):k.call(a,"dateFormat",a&&a.created,g)))+'</span>\n      </div>\n      <div class="text__comment">';g={hash:{},data:b};return d+=c((f=e.safe||a&&a.safe,f?f.call(a,a&&a.review,g):k.call(a,"safe",
a&&a.review,g)))+"</div>\n    </div>\n  </li>\n"},d),data:d};(a=e.reviews)?a=a.call(f,g):(a=f&&f.reviews,a="function"===typeof a?a.call(f,g):a);e.reviews||(a=l.call(f,a,g));if(a||0===a)b+=a;b+="\n";if((f=e["if"].call(f,(a=f&&f.user,null==a||!1===a?a:a.authorized),{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;return d=""+('\n<li class="comments__item">\n  <form class="comment-form" action="/">\n    <a href="#" class="photo">\n      <img src="'+c((e=(e=a&&a.user,null==e||!1===e?
e:e.icon),"function"===typeof e?e.apply(a):e))+'" alt="user1" class="photo__img">\n    </a>\n    <div class="text">\n      <textarea name="review_text" placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea>\n      <input type="submit" class="btn btn_color_blue" value="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c">\n    </div>\n  </form>\n</li>\n')},d),data:d}))||0===f)b+=
f;return b+"\n"});
this.Templates.PointHeader=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g;a=this.escapeExpression;b=""+('<a href="#" class="user">\n  <img src="'+a((g=(g=f&&f.author,null==g||!1===g?g:g.icon),"function"===typeof g?g.apply(f):g))+'" alt="" class="img">\n  <span class="name">'+a((g=(g=f&&f.author,null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+a((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===typeof g?
g.apply(f):g))+'</span><br>\n  \u0434\u043e\u0431\u0430\u0432\u0438\u043b <span class="type c-place">\u043c\u0435\u0441\u0442\u043e</span>\n</a>\n<ul class="actions">\n  <li class="item">\n    <a href="#?" class="btn-like ');if((g=e["if"].call(f,f&&f.isliked,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return"active"},d),data:d}))||0===g)b+=g;b+='" data-toggle="tooltip" data-original-title="\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f" data-placement="bottom">\n      <span class="icon sprite-like-user"></span>\n      <span class="text">';
(g=e.likes_count)?g=g.call(f,{hash:{},data:d}):(g=f&&f.likes_count,g="function"===typeof g?g.call(f,{hash:{},data:d}):g);return b+=a(g)+'</span>\n    </a>\n  </li>\n  <li class="item">\n    <a href="#" class="btn-place">\n      <span class="icon sprite-place-user"></span>\u0412 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\n    </a>\n  </li>\n  <li class="item">\n    <a href="#" class="btn-upload">\n      <span class="icon sprite-upload"></span>\n    </a>\n    <div class="soc-wrap">\n      <ul class="soc-list">\n        <li class="soc-list__item">\n          <a href="#" class="btn-soc btn-soc_tw">Twitter</a>\n        </li>\n        <li class="soc-list__item">\n          <a href="#" class="btn-soc btn-soc_vk">\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\n        </li>\n        <li class="soc-list__item">\n          <a href="#" class="btn-soc btn-soc_fb">Facebook</a>\n        </li>\n      </ul>\n    </div>\n  </li>\n</ul>\n'});
this.Templates.PointLayout=Handlebars.template(function(b,f,e,a,d){function g(a,b){var c,d;c='\n      <li class="peoples__item">\n        <a href="#" class="peoples__link">\n          <img src="';(d=e.icon)?d=d.call(a,{hash:{},data:b}):(d=a&&a.icon,d=typeof d===k?d.call(a,{hash:{},data:b}):d);c+=l(d)+'" alt="';(d=e.first_name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.first_name,d=typeof d===k?d.call(a,{hash:{},data:b}):d);c+=l(d)+" ";(d=e.last_name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.last_name,d=typeof d===
k?d.call(a,{hash:{},data:b}):d);return c+=l(d)+'" class="peoples__img">\n        </a>\n      </li>\n    '}function c(a,b){var c,d;return c=""+('\n      <li class="peoples__item">\n        <a href="#" class="peoples__link">\n          <img src="'+l((d=(d=a&&a.author,null==d||!1===d?d:d.icon),typeof d===k?d.apply(a):d))+'" alt="user" class="peoples__img">\n        </a>\n      </li>\n    ')}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var k="function",l=this.escapeExpression,h=
this,p=e.blockHelperMissing;b='<div class="popupwin__content clearfix">\n  <div id="point-header-region" class="place-info clearfix"></div>\n  \n  <div id="point-photo-region"></div> \n\n  <div class="description">\n    <h3 class="description__title">';(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===k?a.call(f,{hash:{},data:d}):a);b+=l(a)+'</h3>\n    <p class="description__text">';(a=e.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,a=typeof a===k?a.call(f,{hash:{},
data:d}):a);b+=l(a)+'</p>\n    \x3c!--\n    <div class="description__additional commercial-info">\n      <div class="commercial-info__head">\n        <ul class="list">\n          <li class="item item_phone">8 (817) 272-45-50</li>\n          <li class="item item_site"><a href="#" class="link">mysite.ru</a></li>\n          <li class="item item_tw"><a href="#" class="link">@kirillo_belozer</a></li>\n          <li class="item item_vk"><a href="#" class="link">vk.com/groupname</a></li>\n        </ul>\n        <a href="#" class="link-open js-open"></a>\n      </div>\n      <div class="commercial-info__body clearfix">\n        <ul class="list list_first">\n          <li class="item">\n            <div class="entry-title">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b:</div>\n            <div class="text">\n              \u041f\u043d-\u041f\u0442    12:20 - 22:00<br>\n              \u0421\u0431-\u0412\u0441    12:00 - 18:00\n            </div>\n          </li>\n          <li class="item">\n            <div class="entry-title">\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b:</div>\n            <div class="text">\n              \u0414\u0430 (\u0432\u043a\u043b. Visa, Master Card)\n            </div>\n          </li>\n          <li class="item">\n            <div class="entry-title">\u0423\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u0435\u0440\u0430\u043d\u0434\u0430:  </div>\n            <div class="text">\n              \u0414\u0430\n            </div>\n          </li>\n        </ul>\n        <ul class="list list_second">\n          <li class="item">\n            <div class="entry-title">\u0426\u0435\u043d\u0430:</div>\n            <div class="text">\n              500 <span class="sprite-ruble-commercial"></span>\n            </div>\n          </li>\n          <li class="item">\n            <div class="entry-title">\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f:</div>\n            <div class="text">\n              \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447,<br>\n              \u041b\u0438\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438\n            </div>\n          </li>\n          <li class="item">\n            <div class="entry-title">\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:  </div>\n            <div class="text">\n              \u0414\u0430\n            </div>\n          </li>\n        </ul>\n        <ul class="list list_third">\n          <li class="item">\n            <div class="entry-title">\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</div>\n            <div class="text">\n              \u0434\u0430\n            </div>\n          </li>\n          <li class="item">\n            <div class="entry-title">WiFi:</div>\n            <div class="text">\n              \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439\n            </div>\n          </li>\n          <li class="item">\n            <a href="#" class="link-changes">\u0425\u043e\u0447\u0443 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    --\x3e\n    <div class="description__address">';
(a=e.address)?a=a.call(f,{hash:{},data:d}):(a=f&&f.address,a=typeof a===k?a.call(f,{hash:{},data:d}):a);b+=l(a)+'</div>\n  </div>\n\n  <div id="point-map-region"></div>\n\n  <div class="comments-wrap" id="point-comments-region"></div>\n</div>\x3c!-- class="popup-content" --\x3e\n\n';if((a=e["if"].call(f,f&&f.likeusers,{hash:{},inverse:h.noop,fn:h.program(1,function(a,b){var c,d,f;c='\n<div class="popupwin__content clearfix">\n  <div class="title title_blue title_bg_light">\u0418\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c:</div>\n  <ul class="peoples">\n    ';
f={hash:{},inverse:h.noop,fn:h.program(2,g,b),data:b};(d=e.likeusers)?d=d.call(a,f):(d=a&&a.likeusers,d=typeof d===k?d.call(a,f):d);e.likeusers||(d=p.call(a,d,f));if(d||0===d)c+=d;return c+'\n  </ul>\n</div>\x3c!-- class="popup-content" --\x3e\n'},d),data:d}))||0===a)b+=a;b+="\n\n";if((a=e["if"].call(f,f&&f.sets,{hash:{},inverse:h.noop,fn:h.program(4,function(a,b){var d,f,g;d='\n<div class="popupwin__content clearfix">\n  <div class="title title_green title_bg_light">\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a \u0441\u0435\u0431\u0435 \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435:</div>\n  <ul class="peoples">\n    ';
g={hash:{},inverse:h.noop,fn:h.program(5,c,b),data:b};(f=e.sets)?f=f.call(a,g):(f=a&&a.sets,f=typeof f===k?f.call(a,g):f);e.sets||(f=p.call(a,f,g));if(f||0===f)d+=f;return d+'\n    <li class="peoples__item">\n      <a href="#" class="peoples__link peoples__link_all js-more-people">\n        \u0415\u0449\u0451\n      </a>\n    </li>\n  </ul>\n</div>\x3c!-- class="popup-content" --\x3e\n'},d),data:d}))||0===a)b+=a;return b+"\n"});
this.Templates.PointMap=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<a href="#" class="map__close sprite-close js-map-close"></a>\n<div class="map__container" id="map-point"></div>\n<a href="#" class="btn-open js-map-open"></a>\n'});
this.Templates.PointPhoto=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d='\n    <li class="item"><img src="';(f=e.thumbnail560)?f=f.call(a,{hash:{},data:b}):(f=a&&a.thumbnail560,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img" /></li>\n    '}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var c="function",k=this.escapeExpression,l=this,h=e.blockHelperMissing;b='<div class="slider">\n  <ul class="bxslider bxslider-place">\n    ';if((a=
e["if"].call(f,f&&f.imgs,{hash:{},inverse:l.program(4,function(a,b){return'\n    <li class="item empty"><img src="/static/images/place-unknown.png" class="img" /></li>\n    '},d),fn:l.program(1,function(a,b){var d,f,k;d="\n    ";k={hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b};(f=e.imgs)?f=f.call(a,k):(f=a&&a.imgs,f=typeof f===c?f.call(a,k):f);e.imgs||(f=h.call(a,f,k));if(f||0===f)d+=f;return d+"\n    "},d),data:d}))||0===a)b+=a;b+='\n  </ul>\n  <div class="bx-pager" id="bx-pager">\n    <div class="bx-pager__viewport">\n      <div class="bx-pager__scrollbox">\n        ';
d={hash:{},inverse:l.noop,fn:l.program(6,function(a,b){var d,f;d=""+('\n        <a data-slide-index="'+k((f=(f=b,null==f||!1===f?f:f.index),typeof f===c?f.apply(a):f))+'" href="" class="bx-pager__item">\n          <img src="');(f=e.thumbnail104x104)?f=f.call(a,{hash:{},data:b}):(f=a&&a.thumbnail104x104,f=typeof f===c?f.call(a,{hash:{},data:b}):f);return d+=k(f)+'" class="img"/>\n          </a>\n        '},d),data:d};(a=e.imgs)?a=a.call(f,d):(a=f&&f.imgs,a=typeof a===c?a.call(f,d):a);e.imgs||(a=h.call(f,
a,d));if(a||0===a)b+=a;return b+'\n      </div>\n    </div>\n  </div>\n  <a href="#" class="btn-photo-add js-popup-add-photos">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\n</div>\n'});this.Templates.FooterView=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="logo"><img src="/static/images/logo-footer.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c" class="img"></div>\n<div class="constrain">\n  <nav class="nav">\n    <ul class="nav_list">\n      <li class="nav__item"><a href="#?" class="nav__link">\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435</a></li>\n      <li class="nav__item"><a href="#?" class="nav__link">\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</a></li>\n      <li class="nav__item"><a href="#?" class="nav__link">\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435</a></li>\n    </ul>\n  </nav>\n  <a href="#?" class="link-up js-up">\u0412\u0432\u0435\u0440\u0445</a>\n</div>\n'});
this.Templates.Ctrls=Handlebars.template(function(b,f,e,a,d){function g(a,b){var c;return h((c=(c=a&&a.user,null==c||!1===c?c:c.icon),typeof c===l?c.apply(a):c))}function c(a,b){var c;return h((c=(c=a&&a.user,null==c||!1===c?c:c.avatar),typeof c===l?c.apply(a):c))}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var k,l="function",h=this.escapeExpression,p=this;b='<div class="header__search">\n  <input type="text" placeholder="\u041c\u0435\u0441\u0442\u0430, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f...">\n</div>\x3c!-- class="header__search" --\x3e\n\n<a href="/" class="logo">\n  <img src="/static/images/logo.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c">\n</a>\n\n<div class="header__btns">\n  ';
if((f=e["if"].call(f,(k=f&&f.user,null==k||!1===k?k:k.authorized),{hash:{},inverse:p.program(6,function(a,b){return'\n  <a href="#?" class="btn btn_color_blue js-popupwin-authorization">\u0412\u043e\u0439\u0442\u0438</a>\n  '},d),fn:p.program(1,function(a,b){var d,f,k;d='\n  <a href="#?" class="btn btn_action_add btn_color_green js-popup-add">\n    <span class="sprite-add"></span>\n  </a>\n    <div class="header__user">\n      <a href="#dashboard/" class="link-user">\n        <img src="';if((k=e["if"].call(a,
(f=a&&a.user,null==f||!1===f?f:f.icon),{hash:{},inverse:p.program(4,c,b),fn:p.program(2,g,b),data:b}))||0===k)d+=k;return d+='" alt="'+h((f=(f=a&&a.user,null==f||!1===f?f:f.first_name),typeof f===l?f.apply(a):f))+" "+h((f=(f=a&&a.user,null==f||!1===f?f:f.last_name),typeof f===l?f.apply(a):f))+'" class="photo">\n        '+h((f=(f=a&&a.user,null==f||!1===f?f:f.first_name),typeof f===l?f.apply(a):f))+"<br>"+h((f=(f=a&&a.user,null==f||!1===f?f:f.last_name),typeof f===l?f.apply(a):f))+' \n      </a>\n      <a href="#?" class="btn btn_color_blue js-profile-menu"></a>\n      <ul class="profile-menu">\n        <li class="item">\n          <a href="#dashboard/" class="link">\n            <span class="icon sprite-bag"></span>\n            \u042f \u0441\u043e\u0437\u0434\u0430\u043b\n          </a>\n          <a href="#dashboard/likes/" class="link">\n            <span class="icon sprite-heart"></span>\n            \u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f\n          </a>\n          <a href="#dashboard/settings/" class="link">\n            <span class="icon sprite-settings"></span>\n            \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\n          </a>\n          <a href="/logout/" class="link">\n            <span class="icon sprite-power"></span>\n            \u0412\u044b\u0445\u043e\u0434\n          </a>\n        </li>\n      </ul>\n    </div>\n  '},
d),data:d}))||0===f)b+=f;return b+'\n</div>\x3c!-- class="header__btns" --\x3e\n'});this.Templates.Destination=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="slogan">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0443\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0430\u043c\u0438</div>\n<div class="query">\n  <form id="destination-form" action="/">\n    <input id="destination-input" type="text" placeholder="\u041a\u0443\u0434\u0430 \u0432\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c?">\n    <button type="submit" class="btn btn_color_blue">\u041f\u043e\u0435\u0445\u0430\u043b\u0438</button>\n  </form>\n</div>\n'});
this.Templates.Filter=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=this.escapeExpression;b='<ul class="categories">\n  ';if((f=e.each.call(f,f&&f.items,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;d='\n  <li class="categories__item">\n    <a href="#" class="categories__link sprite-filter-photo ';(f=e.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+
'" data-id="';(f=e.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=g(f)+'" data-toggle="tooltip" data-placement="bottom" title="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=g(f)+'"></a>\n  </li>\n  '},d),data:d}))||0===f)b+=f;return b+'\n  <li class="categories__item"><a href="#?" class="categories__link categories__link_type_all sprite-filter-all"></a></li>\n  \x3c!--\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-photo" data-toggle="tooltip" title="\u0424\u043e\u0442\u043e"></a></li>\n  --\x3e\n</ul>\n<div class="filter-type">\n  <a href="#?" class="btn btn_color_grey js-open">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f</a>\n  <ul class="filter-type__list">\n    <li class="filter-type__item">\n      <a data-models="sets" href="#?" class="filter-type__link c-blue">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f</a>\n    </li>\n    <li class="filter-type__item">\n      <a data-models="points" href="#?" class="filter-type__link c-green">\u041c\u0435\u0441\u0442\u0430</a>\n    </li>\n    <li class="filter-type__item">\n      <a data-models="routes" href="#?" class="filter-type__link c-brown">\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b</a>\n    </li>\n    <li class="filter-type__item">\n      <a data-models="events" href="#?" class="filter-type__link c-yellow">\u0421\u043e\u0431\u044b\u0442\u0438\u044f</a>\n    </li>\n    \x3c!--\n    <li class="filter-type__item filter-type__item_checkbox">\n      <label class="checkbox-label">\n        <input type="checkbox">\n        <span class="checkbox-bg"></span>\n      </label>\n    </li>\n    --\x3e\n  </ul>\n</div>\n\n<div class="filter-sort">\n  <a href="#?" class="sprite-filter-down" data-toggle="tooltip" data-placement="bottom" title="\u041d\u043e\u0432\u043e\u0435"></a>\n  <a href="#?" class="sprite-filter-up" data-toggle="tooltip" data-placement="bottom" title="\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"></a>\n</div>\n\x3c!--\n--\x3e\n<div class="filter-dropdown">\n  <div class="dropdown">\n    <a href="" class="link sprite-filter2-time" title="\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c" data-toggle="dropdown"></a>\n    <div class="dropdown-block dropdown-block_time">\n      \u043e\u0442&nbsp;\n      <input type="text">&nbsp;&nbsp;\n      \u0434\u043e&nbsp;\n      <input type="text">&nbsp;&nbsp;\n      \u0434\u043d\u0435\u0439\n      <button class="btn btn_color_green-dark">\u041e\u043a</button>\n    </div>\n  </div>\n  <div class="dropdown">\n    <a href="" class="link sprite-filter2-money" title="\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0446\u0435\u043d" data-toggle="dropdown"></a>\n    <div class="dropdown-block dropdown-block_money">\n      \u043e\u0442&nbsp;\n      <input type="text">&nbsp;&nbsp;\n      \u0434\u043e&nbsp;\n      <input type="text">&nbsp;\n      <span class="sprite-ruble-dark"></span>\n      <button class="btn btn_color_green-dark">\u041e\u043a</button>\n    </div>\n  </div>\n</div>\n'});
this.Templates.HeaderView=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="header__ctrls"></div>\n<div class="header__destination"></div>\n<div class="header__dashboard hide"></div>\n<div class="header__filter"></div>\n\n<div class="header__title hide">\n  <div class="constrain">\n    <div class="title">\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f</div>\n  </div>\n</div>\n'});
this.Templates.PopupAdd=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\n  </div>\n  <ul class="stuff-add">\n    <li class="stuff-add__item">\n      <a href="#?" class="stuff-add__link js-popup-add-place">\n        <span class="icon icon_place"></span>\n        <span class="btn btn_color_green">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e</span>\n        <span class="text">\u0413\u043e\u0440\u043e\u0434, \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430, \u043a\u0430\u0444\u0435, \u0443\u043b\u0438\u0446\u0430...</span>\n      </a>\n    </li>\n    <li class="stuff-add__item">\n      <a href="#?" class="stuff-add__link js-popup-add-event">\n        <span class="icon icon_event"></span>\n        <span class="btn btn_color_yel">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435</span>\n        <span class="text">\u0424\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u0438, \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0438, \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438...</span>\n      </a>\n    </li>\n    <li class="stuff-add__item">\n      <a href="#?" class="stuff-add__link js-popup-add-route">\n        <span class="icon icon_route"></span>\n        <span class="btn btn_color_brown">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442</span>\n        <span class="text">\u041e\u0442\u043a\u0443\u0434\u0430, \u043a\u0443\u0434\u0430 \u0438 \u043a\u0430\u043a...</span>\n      </a>\n    </li>\n    <li class="stuff-add__item">\n      <a href="#?" class="stuff-add__link js-popup-add-trip">\n        <span class="icon icon_trip"></span>\n        <span class="btn btn_color_blue">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</span>\n        <span class="text">\u0424\u043e\u0442\u043e, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043c\u0435\u0441\u0442\u0430</span>\n      </a>\n    </li>\n  </ul>\n</div>\x3c!-- class="popup-content" --\x3e\n'});
this.Templates.PopupInfo=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};a=this.escapeExpression;b='<div class="popupwin__content clearfix">\n  <div class="text">';(e=e.message)?e=e.call(f,{hash:{},data:d}):(e=f&&f.message,e="function"===typeof e?e.call(f,{hash:{},data:d}):e);return b+=a(e)+"</div>\n</div>\n"});this.Templates.PopupLogin=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="popupwin__content clearfix">\n  <div class="popupwin__title clearfix">\n    \u0412\u043e\u0439\u0442\u0438\n  </div>\n  <div class="wrap-content">\n    <div class="title-entry">\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438</div>\n    <ul class="soc-reg">\n      <li class="soc-reg__item"><a href="/login/vkontakte-oauth2/" class="link link_vk"></a></li>\n      <li class="soc-reg__item"><a href="#?" class="link link_fb disabled"></a></li>\n      <li class="soc-reg__item"><a href="#?" class="link link_tw disabled"></a></li>\n      <li class="soc-reg__item"><a href="#?" class="link link_odn disabled"></a></li>\n      <li class="soc-reg__item"><a href="#?" class="link link_ya disabled"></a></li>\n      <li class="soc-reg__item"><a href="#?" class="link link_mail disabled"></a></li>\n    </ul>\n    \x3c!--\n    <div class="title-entry"><span class="c-place">\u0418\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 e-mail</span></div>\n    <form action="/">\n      <div class="form">\n        <div class="form__field clearfix">\n          <div class="form__item form__item_email left">\n            <input type="text" placeholder="\u0412\u0430\u0448 email">\n          </div>\n          <div class="form__item form__pass right">\n            <input type="text" placeholder="\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c">\n          </div>\n        </div>\n        <div class="links right">\n          <a href="#?" class="link">\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f?</a><br>\n          <a href="#?" class="link">\u0437\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c</a>\n        </div>\n        <input type="submit" value="\u0412\u043e\u0439\u0442\u0438" class="btn btn_color_blue">\n      </div>\n    </form>\n    --\x3e\n  </div>\n</div>\x3c!-- class="popup-content" --\x3e\n'});
this.Templates.IconTemplate=Handlebars.template(function(b,f,e,a,d){function g(a,b){var d,f;d='\n  <a href="#" data-toggle="tooltip" title="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f=typeof f===l?f.call(a,{hash:{},data:b}):f);d+=h(f)+'" data-placement="top" data-type-ico="';(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f=typeof f===l?f.call(a,{hash:{},data:b}):f);d+=h(f)+'">\n    <span class="m-ico ';if((f=e["if"].call(a,a&&a.style,{hash:{},inverse:p.program(5,k,b),fn:p.program(3,
c,b),data:b}))||0===f)d+=f;d+='" data-id="';(f=e.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f=typeof f===l?f.call(a,{hash:{},data:b}):f);return d+=h(f)+'"></span>\n  </a>\n  '}function c(a,b){var c;(c=e.style)?c=c.call(a,{hash:{},data:b}):(c=a&&a.style,c=typeof c===l?c.call(a,{hash:{},data:b}):c);return h(c)}function k(a,b){return"m-dostoprimechatelnost"}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};b="";var l="function",h=this.escapeExpression,p=this,n=e.helperMissing;if((f=
e.each.call(f,f&&f.items,{hash:{},inverse:p.noop,fn:p.program(1,function(a,b){var c,d,f;c="\n  ";f={hash:{},inverse:p.noop,fn:p.program(2,g,b),data:b};if((f=(d=e.ifEquals||a&&a.ifEquals,d?d.call(a,a&&a.level,0,f):n.call(a,"ifEquals",a&&a.level,0,f)))||0===f)c+=f;return c+"\n"},d),data:d}))||0===f)b+=f;return b+"\n"});this.Templates.MapView=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'\x3c!--<div id="mainmap" style="width: 100%;"></div>\n\n<div id="m-ico-group" class="m-ico-group"></div>\n\n<div class="toggle-bottom">\n  <a href="#" class="a-toggle">\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443</a>\n</div>--\x3e\n\n\n    <div class="constrain">\n      <a href="#?" class="map__close sprite-close js-map-close"></a>\n    </div>\n    <div class="map__route route-list route-list_draggable route-list_deleteable popupwin_add-route">\n          <ul class="list route_right">\n            <li class="item hide route_item">\n              <span class="drag"></span>\n              <span class="number">0</span>\n              <img src="" alt="" class="img" width="44px" height="44px">\n              <div class="text">\n                <span class="text__place"></span>\n                <span class="text__type c-place"></span>\n              </div>\n            </li>\n            \n          </ul>\n          <a class="delete-item js-delete"></a>\n        </div>\n    <div class="map__container" id="map"></div>\n    <div class="map__ctrls-wrap">\n      <div class="map__ctrls hide">\n        <form action="/">\n          <input type="submit" value="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442" class="btn btn_color_blue">\n          <ul class="map-counter">\n            <li class="map-counter__item hide">\n              <a href="#?" class="map-counter__link map-counter__link_type_event " data-type="event" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435&nbsp;\u0441\u043e\u0431\u044b\u0442\u0438\u044f">0</a>\n            </li>\n            <li class="map-counter__item hide">\n              <a href="#?" class="map-counter__link map-counter__link_type_place" data-type="place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435&nbsp;\u043c\u0435\u0441\u0442\u0430">0</a>\n            </li>\n          </ul>\n          <div class="hint hint_pos_ne" style="bottom: -115px; left: -115px; width: 220px;">\n            \u041c\u0435\u0441\u0442\u0430 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0432 \u0432\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\n            <a href="#?" class="hint__close"></a>\n          </div>\x3c!-- class="hint" --\x3e\n        </form>\n      </div>\n    </div>\n    <div class="constrain">\n      <div class="map__where">\n        <a href="#?" class="btn btn_color_green btn-change-city js-change-city"><span class="text">\u0412\u044b \u0435\u0434\u0435\u0442\u0435 \u0438\u0437 <span class="city">\u0412\u043e\u043b\u043e\u0433\u0434\u044b</span>  ?</span></a>\n        <div class="select-wrap">\n          <select>\n            <option value="1">\u0412\u043e\u043b\u043e\u0433\u0434\u0430</option>\n            <option value="2">\u041c\u043e\u0441\u043a\u0432\u0430</option>\n            <option value="3">\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433</option>\n            <option value="4">\u0412\u043e\u0440\u043e\u043d\u0435\u0436</option>\n            <option value="5">\u041f\u0435\u0440\u043c\u044c</option>\n          </select>\n          <a href="#?" class="btn btn_color_green js-chosen-city">\u041e\u041a</a>\n        </div>\n      </div>\n    </div>\n\n'});
this.Templates.CommercialPopup=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="popupwin__scrollbox">\n  <div class="popupwin__content clearfix">\n    <div class="popupwin__title clearfix">\n      \u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u0445\u043e\u0434\n    </div>\n    <div class="form">\n      <div class="field">\n        <label>\u0424\u0418\u041e:</label>\n        <input name="fullname" type="text">\n      </div>\n      <div class="field field_email">\n        <label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:</label>\n        <input name="company" type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041e\u0410\u041e \u0411\u0435\u043b\u043a\u043e\u0442\u0443\u0440">\n      </div>\n      <div class="field field_email">\n        <label>E-mail:</label>\n        <input name="email" type="text">\n      </div>\n      <div class="field field_phone">\n        <label>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</label>\n        <input name="phone" type="text" placeholder="* (***) ***-**-**">\n      </div>\n      <div class="note">\u0412\u0441\u0435 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f</div>\n    </div>\n    <div class="popupwin__footer clearfix">\n      <a href="#?" class="btn btn_color_blue right js-finish">\u0413\u043e\u0442\u043e\u0432\u043e</a>\n    </div>\n  </div>\x3c!-- class="popup-content" --\x3e\n</div>\n'});
this.Templates.Dashboard=Handlebars.template(function(b,f,e,a,d){function g(a,b){return"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"}function c(a,b){return"active"}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var k,l=this.escapeExpression,h=e.helperMissing;b='<div class="user-info">\n  <img src="';(a=e.icon)?a=a.call(f,{hash:{},data:d}):(a=f&&f.icon,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=l(a)+'" alt="user" class="img">\n  <div class="text">\n    <span class="name">';
(a=e.first_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.first_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=l(a)+" ";(a=e.last_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.last_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=l(a)+'</span>\n    <span class="location">';if((a=e["if"].call(f,f&&f.city,{hash:{},inverse:this.program(3,g,d),fn:this.program(1,function(a,b){var c;(c=e.city)?c=c.call(a,{hash:{},data:b}):(c=a&&a.city,c="function"===typeof c?c.call(a,{hash:{},data:b}):
c);return l(c)},d),data:d}))||0===a)b+=a;b+='</span>\n    <span class="mail">';if((a=e["if"].call(f,f&&f.email,{hash:{},inverse:this.program(3,g,d),fn:this.program(5,function(a,b){var c;(c=e.email)?c=c.call(a,{hash:{},data:b}):(c=a&&a.email,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return l(c)},d),data:d}))||0===a)b+=a;b+='</span>\n  </div>\n</div>\n<div class="user-ctrls">\n  <ul class="list">\n    <li class="item">\n    <a href="#dashboard/" class="link link_make ';if((a=e.unless.call(f,
f&&f.section,{hash:{},inverse:this.noop,fn:this.program(7,c,d),data:d}))||0===a)b+=a;b+='">\u042f \u0441\u043e\u0437\u0434\u0430\u043b<span class="number">';(a=e.total_added)?a=a.call(f,{hash:{},data:d}):(a=f&&f.total_added,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=l(a)+'</span></a>\n    </li>\n    <li class="item">\n    <a href="#dashboard/likes/" class="link link_like ';k={hash:{},inverse:this.noop,fn:this.program(7,c,d),data:d};if((k=(a=e.ifEquals||f&&f.ifEquals,a?a.call(f,f&&f.section,
"likes",k):h.call(f,"ifEquals",f&&f.section,"likes",k)))||0===k)b+=k;b+='">\u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f<span class="number">';(k=e.count_liked_objects)?k=k.call(f,{hash:{},data:d}):(k=f&&f.count_liked_objects,k="function"===typeof k?k.call(f,{hash:{},data:d}):k);b+=l(k)+'</span></a>\n    </li>\n    <li class="item"><a href="#dashboard/settings/" class="link link_settings ';k={hash:{},inverse:this.noop,fn:this.program(7,c,d),data:d};if((k=(a=e.ifEquals||f&&f.ifEquals,
a?a.call(f,f&&f.section,"settings",k):h.call(f,"ifEquals",f&&f.section,"settings",k)))||0===k)b+=k;return b+'">\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</a></li>\n    <li class="item"><a href="/logout/" class="link link_exit">\u0412\u044b\u0445\u043e\u0434</a></li>\n  </ul>\n</div>\n'});
this.Templates.DashboardSettings=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=this.escapeExpression;b='<div class="dashboard-change clearfix">\n  <div class="picture">\n    <img src="';(a=e.icon)?a=a.call(f,{hash:{},data:d}):(a=f&&f.icon,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'" alt="" class="img">\n    <img src="';(a=e.icon_small)?a=a.call(f,{hash:{},data:d}):(a=f&&f.icon_small,a="function"===typeof a?a.call(f,
{hash:{},data:d}):a);b+=g(a)+'" alt="" class="img">\n  </div>\n  <div class="btns btns_picture">\n    <a href="#?" class="btn btn_color_green" onclick="document.getElementById(\'uploadAvatar\').click();return false;">\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0442\u0430\u0440</a>\n    <input id="uploadAvatar" name="avatar" type="file" style="visibility:hidden;width:0px;height:0px;display:none;">\n    <a href="#?" class="btn btn_color_blue">\u0410\u0432\u0430\u0442\u0430\u0440 \u0438\u0437 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\n  </div>\n  <div class="btns btns_ctrls">\n    <a href="#?" class="btn btn-enter-commerce btn_color_blue js-popup-login-commercial">\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u0445\u043e\u0434</a><br>\n    <a href="#?" class="btn btn_color_yel">\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u0438</a>\n    <a href="#?" class="btn btn_color_white">\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442</a>\n  </div>\n</div>\x3c!-- class="dashboard-change" --\x3e\n\n<div class="form form_dashboard">\n  <div class="form__field">\n    <label>\u0412\u0430\u0448 email:</label>\n    <input name="email" type="text" value="';
(a=e.email)?a=a.call(f,{hash:{},data:d}):(a=f&&f.email,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'">\n  </div>\n  <div class="form__field">\n    <label>\u0412\u0430\u0448\u0435 \u0438\u043c\u044f:</label>\n    <input name="fullname" type="text" value="';(a=e.first_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.first_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+" ";(a=e.last_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.last_name,a="function"===typeof a?a.call(f,
{hash:{},data:d}):a);b+=g(a)+'">\n  </div>\n  <div class="form__field">\n    <label>\u0412\u0430\u0448 \u043d\u0438\u043a:</label>\n    <input name="username" type="text" value="';(a=e.username)?a=a.call(f,{hash:{},data:d}):(a=f&&f.username,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'">\n  </div>\n  <div class="form__field">\n    <label>\u041e \u0441\u0435\u0431\u0435:</label>\n    <textarea name="about" placeholder="\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043e \u0441\u0435\u0431\u0435">';
(a=e.about)?a=a.call(f,{hash:{},data:d}):(a=f&&f.about,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'</textarea>\n  </div>\n</div>\n\n<div class="form form_dashboard">\n  <div class="form__field">\n    <label>\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d:</label>\n    <input name="phone" type="text" value="';(a=e.phone)?a=a.call(f,{hash:{},data:d}):(a=f&&f.phone,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'">\n  </div>\n  <div class="form__field">\n    <label>\u0412\u0430\u0448 \u0441\u0430\u0439\u0442:</label>\n    <input name="website" type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: https://vk.com/ivan" value="';
(a=e.website)?a=a.call(f,{hash:{},data:d}):(a=f&&f.website,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'">\n  </div>\n  <div class="form__field">\n    <label>\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:</label>\n    <input name="city" type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0412\u043e\u043b\u043e\u0433\u0434\u0430" value="';(a=e.city)?a=a.call(f,{hash:{},data:d}):(a=f&&f.city,a="function"===typeof a?a.call(f,
{hash:{},data:d}):a);return b+=g(a)+'">\n  </div>\n  <div class="form__field form__field__control">\n    <a href="#?" class="btn btn_color_blue save-settings">\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c</a><br>\n  </div>\n</div>\n\x3c!--\n<div class="form form_dashboard">\n  <div class="form__field">\n    <label>\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:</label>\n    <input type="text">\n  </div>\n  <div class="form__field">\n    <label>\u0412\u0430\u0448 \u0418\u041d\u041d:</label>\n    <input type="text">\n  </div>\n  <div class="form__field">\n    <label>\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:</label>\n    <input type="text">\n  </div>\n</div>\n--\x3e\n'});
this.Templates.ProfileBoardPoint=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g=this.escapeExpression;b='<div class="box__title box__title_type_place">\u041c\u0435\u0441\u0442\u043e</div>\n<div class="box__img">\n  <a href="#?" class="js-popupwin-place">\n    ';if((a=e["if"].call(f,f&&f.imgs,{hash:{},inverse:this.program(3,function(a,b){var d,f;d='\n      <img src="/static/images/place-unknown.png" alt="';(f=e.name)?f=f.call(a,{hash:{},
data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=g(f)+'" class="img">\n    '},d),fn:this.program(1,function(a,b){var d,f;d=""+('\n      <img src="'+g((f=(f=(f=a&&a.imgs,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207),"function"===typeof f?f.apply(a):f))+'" alt="');(f=e.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=g(f)+'" class="img">\n    '},d),data:d}))||0===a)b+=a;b+='\n    <div class="icons">\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\n      <a href="#?" class="icon sprite-like ';
if((a=e["if"].call(f,f&&f.isliked,{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){return"active"},d),data:d}))||0===a)b+=a;b+='" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'</div>\n  <span class="info info_like">';(a=e.likes_count)?a=a.call(f,{hash:{},
data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=g(a)+'</span>\n  <span class="info info_comment">';if((a=e["if"].call(f,f&&f.reviews,{hash:{},inverse:this.program(9,function(a,b){return"0"},d),fn:this.program(7,function(a,b){var d;return g((d=(d=a&&a.reviews,null==d||!1===d?d:d.length),"function"===typeof d?d.apply(a):d))},d),data:d}))||0===a)b+=a;return b+"</span>\n</div>\n"});
this.Templates.ProfileBoardRoute=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g,c=this.escapeExpression;b=""+('<div class="box__title box__title_type_route">\u041c\u0430\u0440\u0448\u0440\u0443\u0442</div>\n<div class="box__img">\n  <a href="#?" class="js-popupwin-route">\n    <img src="'+c((g=(g=(g=(g=(g=f&&f.points,null==g||!1===g?g:g[0]),null==g||!1===g?g:g.imgs),null==g||!1===g?g:g[0]),null==g||!1===g?g:g.thumbnail207),"function"===
typeof g?g.apply(f):g))+'" alt="');(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'" class="img">\n    <div class="icons">\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';
(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\n  <span class="info info_like">';(a=e.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=c(a)+'</span>\n  <span class="info info_comment">0</span>\n</div>\n<div class="box__person">\n  <img src="'+c((g=(g=f&&f.author,null==g||!1===g?g:g.icon),"function"===typeof g?g.apply(f):g))+'" alt="'+c((g=(g=f&&f.author,
null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+c((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===typeof g?g.apply(f):g))+'" class="img">\n  <div class="text">\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\n    <span class="name">'+c((g=(g=f&&f.author,null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+c((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===
typeof g?g.apply(f):g))+"</span>\n  </div>\n</div>\n"});
this.Templates.ProfileBoardSet=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,b.helpers);d=d||{};var g,c=this.escapeExpression;b=""+('<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\n<div class="box__img">\n  <a href="#?">\n    <img src="'+c((g=(g=(g=(g=(g=f&&f.points,null==g||!1===g?g:g[0]),null==g||!1===g?g:g.imgs),null==g||!1===g?g:g[0]),null==g||!1===g?g:g.thumbnail207),"function"===
typeof g?g.apply(f):g))+'" alt="');(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'" class="img">\n    <div class="icons">\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\n    </div>\n  </a>\n</div>\n<div class="box__description">\n  <div class="name">';
(a=e.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\n  <span class="info info_like">';(a=e.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=c(a)+'</span>\n  <span class="info info_comment">0</span>\n</div>\n<div class="box__person">\n  <img src="'+c((g=(g=f&&f.author,null==g||!1===g?g:g.icon),"function"===typeof g?g.apply(f):g))+'" alt="'+c((g=(g=f&&f.author,
null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+c((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===typeof g?g.apply(f):g))+'" class="img">\n  <div class="text">\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\n    <span class="name">'+c((g=(g=f&&f.author,null==g||!1===g?g:g.first_name),"function"===typeof g?g.apply(f):g))+" "+c((g=(g=f&&f.author,null==g||!1===g?g:g.last_name),"function"===
typeof g?g.apply(f):g))+"</span>\n  </div>\n</div>\n"});this.Templates.LoadingView=Handlebars.template(function(b,f,e,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(e,b.helpers);return'<div class="loader">\n</div>\n'});
(function(){Handlebars.registerHelper("ifEquals",function(b,f,e){return(null!=b?b.toString():void 0)===(null!=f?f.toString():void 0)?e.fn(this):e.inverse(this)});Handlebars.registerHelper("ifContains",function(b,f,e){return void 0===f?!1:_.contains(f,b)?e.fn(this):e.inverse(this)});Handlebars.registerHelper("ifBelong",function(b,f,e){var a,d,g,c;if(void 0===f)return!1;g=0;for(c=f.length;g<c;g++)d=f[g],d.id===b.id&&(a=!0);return a?e.fn(this):e.inverse(this)});Handlebars.registerHelper("dateFormat",
function(b,f){var e;return window.moment?(e=f.hash.format||"D MMMM YYYY \u0432 HH:mm",moment(b).format(e)):b});Handlebars.registerHelper("eachKey",function(b,f){var e,a,d,g;a="";b=b.toString().substring(1,b.length-1).split(",");d=0;for(g=b.length;d<g;d++)e=b[d],a+=f.fn(e.trim());return a});Handlebars.registerHelper("splitAddr",function(b,f,e){b=b.split(f);return b[2]});Handlebars.registerHelper("addShy",function(b,f){var e,a;if(_.contains(b," "))return b;e=b.slice(0,10);a=b.slice(10);return new Handlebars.SafeString(""+
e+"&shy;"+a)});Handlebars.registerHelper("safe",function(b,f){return new Handlebars.SafeString(b)})}).call(this);
(function(){(function(b,f,e){f(document).click(function(a){if(!f(a.target).closest(".header__user").length&&(f(".header__user .profile-menu").hide(),f(".js-profile-menu").removeClass("open"),!f(a.target).closest(".filter-type").length&&(f(".filter-type__list").hide(),f(".header__filter .js-open").removeClass("open"),!f(a.target).closest(".filter-dropdown").length)))return f(".dropdown").removeClass("open")});f.ajaxSetup({headers:{"X-CSRFToken":f.cookie("csrftoken")}});e.autoDiscover=!1;b.emulateJSON=
!0;b.emulateHTTP=!0;return _.extend(b.Marionette.Application.prototype,{settings:{},navigate:function(a,d){null==d&&(d={});return b.history.navigate(a,d)},getCurrentRoute:function(){var a;a=b.history.fragment;return _.isEmpty(a)?null:a},startHistory:function(){if(b.history)return b.history.start()},register:function(a,b){null==this._registry&&(this._registry={});return this._registry[b]=a},unregister:function(a,b){return delete this._registry[b]},resetRegistry:function(){var a,b,e,c;e=this.getRegistrySize();
c=this._registry;for(b in c)a=c[b],a.region.close();a="There were "+e+" controllers in the registry, there are now "+this.getRegistrySize();return 0<this.getRegistrySize()?console.warn(a,this._registry):console.log(a)},getRegistrySize:function(){return _.size(this._registry)},updateSettings:function(a){var b,e,c;e={};b=!1;for(c in a)a.hasOwnProperty(c)&&this.settings[c]!==a[c]&&(_.isNumber(a[c])||!_.isEmpty(a[c])?this.settings[c]=a[c]:delete this.settings[c],e[c]=a[c],b=!0);if(b)return this.vent.trigger("change:settings",
e)},getCookie:function(a){var b,e,c,f,l,h;b=null;if(document.cookie&&""!==document.cookie){e=document.cookie.split(";");f=function(c){c=c.trim();if(c.substring(0,a.length+1)===a+"=")return b=decodeURIComponent(c.substring(a.length+1))};l=0;for(h=e.length;l<h;l++)c=e[l],f(c)}return b},apiRequest:function(a){var b,e=this;b=this.API_BASE_URL+a.url;console.log([""+a.type+" request to "+b+" with data:",a.data]);return f.ajax({url:b,type:a.type,dataType:a.dataType||"json",processData:a.processData,contentType:a.contentType,
data:a.data,beforeSend:function(a){return a.setRequestHeader("X-CSRFToken",e.getCookie("csrftoken"))},success:function(b){var d;console.log(["response from API: ",b]);if(a.successCallback)return d=[b],_.each(a.params,function(a){return d.push(a)}),a.successCallback.apply(a.context,d)}})}})})(Backbone,$,Dropzone)}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};(function(b,a){return a.Region.Modal=function(a){function g(){_.extend(this,b.Events);_.bindAll(this)}f(g,a);g.prototype.open=function(a){this.prevModal=$(".modal.in").not(this.$el);this.prevModal.length&&this.prevModal.css("z-index",1E3);this.$el.find(".modal-dialog").empty().append(a.el);return this.$el.on("hidden.bs.modal",
this.closeModal)};g.prototype.onShow=function(a){this.setupBindings(a);a=this.getDefaultOptions(_.result(a,"modal"));return this.$el.modal(a)};g.prototype.onClose=function(a){return this.$el.modal("hide")};g.prototype.getDefaultOptions=function(a){null==a&&(a={});return _.defaults(a,{modalClass:a.className})};g.prototype.setupBindings=function(a){return this.listenTo(a,"modal:close",this.closeModal)};g.prototype.closeModal=function(a){this.$el.off();this.stopListening();this.close();if(this.prevModal.length)return a.preventDefault(),
a.stopPropagation(),this.prevModal.css("z-index",1050),$("body").addClass("modal-open")};return g}(a.Region)})(Backbone,Marionette)}).call(this);(function(){(function(b){return _.extend(b.Renderer,{render:function(b,e){var a;if(!1!==b)return a=Templates[b],a(e)}})})(Marionette)}).call(this);
(function(){(function(b){var f;_.extend(b.Marionette.Application.prototype,{API_BASE_URL:""},void 0!==window.DEBUG?f=window.DEBUG:f=!0,{DEBUG:f});b="undefined"===typeof window.console?{}:window.console;if(!1===window.DEBUG||"undefined"===typeof b.log)return b.log=b.debug=b.trace=b.dir=b.dirxml=b.group=b.groupEnd=b.time=b.timeEnd=b.assert=b.profile=function(){}})(Backbone)}).call(this);
(function(){(function(b){var f;f=b.sync;return b.sync=function(b,a,d){null==d&&(d={});d=f(b,a,d);!a._fetch&&"read"===b&&(a._fetch=d);return d}})(Backbone)}).call(this);
(function(){this.Yapp=function(b,f){var e;e=new f.Application;e.addRegions({headerRegion:"#header-region",boardRegion:"#board-region",footerRegion:"#footer-region",mapRegion:"#map-region",photoPopupRegion:f.Region.Modal.extend({el:".popupwin_add-photos"}),addPopupRegion:f.Region.Modal.extend({el:".popupwin_add"}),loginPopupRegion:f.Region.Modal.extend({el:".popupwin_authorization"}),infoPopupRegion:f.Region.Modal.extend({el:".popupwin_info"}),commercialPopupRegion:f.Region.Modal.extend({el:".popupwin_login-commercial"}),
pointPopup:f.Region.Modal.extend({el:".popupwin_place"}),eventPopup:f.Region.Modal.extend({el:".popupwin_event"}),routePopup:f.Region.Modal.extend({el:".popupwin_route"}),tripPopup:f.Region.Modal.extend({el:".popupwin_trip"}),addPointPopup:f.Region.Modal.extend({el:".popupwin_add-place"}),addEventPopup:f.Region.Modal.extend({el:".popupwin_add-event"}),addRoutePopup:f.Region.Modal.extend({el:".popupwin_add-route"}),addTripPopup:f.Region.Modal.extend({el:".popupwin_add-trip"})});e.reqres.setHandler("default:region",
function(){return e.boardRegion});e.rootRoute="/";e.commands.setHandler("register:instance",function(a,b){return e.register(a,b)});e.commands.setHandler("unregister:instance",function(a,b){return e.unregister(a,b)});e.on("initialize:after",function(a){this.startHistory();if(!this.getCurrentRoute())return this.navigate(this.rootRoute,{trigger:!0})});return e}(Backbone,Marionette)}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Controllers",function(b,a,d,g,c,k){return b.Base=function(b){function c(b){null==b&&(b={});this.region=b.region||a.request("default:region");this._instance_id=k.uniqueId("controller");a.execute("register:instance",this,this._instance_id);c.__super__.constructor.apply(this,arguments)}
f(c,b);c.prototype.close=function(){a.execute("unregister:instance",this,this._instance_id);return c.__super__.close.apply(this,arguments)};c.prototype.show=function(a,b){null==b&&(b={});k.defaults(b,{loading:!1,region:this.region});this._setMainView(a);return this._manageView(a,b)};c.prototype._setMainView=function(a){if(!this._mainView)return this._mainView=a,this.listenTo(a,"close",this.close)};c.prototype._manageView=function(b,c){return c.loading?a.execute("show:loading",b,c):c.region.show(b)};
return c}(g.Controller)})}).call(this);(function(){this.Yapp.module("Views",function(b,f,e,a,d,g){return g.extend(a.View.prototype,{templateHelpers:function(){return{user:f.request("get:my:profile").toJSON()}}})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Views",function(b,a,d,g,c,k){var l;return b.CollectionView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.itemViewEventPrefix="childview";return b}(g.CollectionView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Views",function(b,a,d,g,c,k){var l;return b.CompositeView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.itemViewEventPrefix="childview";return b}(g.CompositeView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Views",function(b,a,d,g,c,k){var l;return b.ItemView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(g.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Views",function(b,a,d,g,c,k){var l;return b.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(g.Layout)})}).call(this);
(function(){this.Yapp.module("Entities",function(b,f,e,a,d,g){return f.commands.setHandler("when:fetched",function(a,b){var e;e=g.chain([a]).flatten().pluck("_fetch").value();return d.when.apply(d,e).done(function(){return b()})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l;return b.Collection=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}f(c,a);c.prototype.model=function(a,c){return"point"===a.type_of_item?new b.Point(a,c):"set"===a.type_of_item?new b.Set(a,c):"route"===a.type_of_item?
new b.Route(a,c):"event"===a.type_of_item?new b.Event(a,c):new b.Point};c.prototype.initialize=function(){return console.log("initializing Entities.Collection")};return c}(d.Collection)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l;return b.Model=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.url=function(){var a;this.id=this.id||this.get("id");a=d.Model.prototype.url.call(this);return a+("/"===a.charAt(a.length-1)?"":"/")};
c.prototype.initialize=function(){var b=this;console.log("initializing Entities.Model");if(void 0!==a.ymaps)return a.ymaps.ready(function(){return b.placemark=new a.ymaps.Placemark(null,{id:"map-point"},{iconImageClipRect:[[80,0],[112,36]],iconImageHref:"static/images/sprite-baloon.png",iconImageSize:[32,36]})})};c.prototype.idAttribute="unid";c.prototype.parse=function(a){k.isArray(a)&&(a=a[0]);a;!a.unid&&a.id&&(a.unid=a.id);return a};c.prototype.setCoordinates=function(b){var c=this;b=b.map(String);
return this.placemark?this.placemark.geometry.setCoordinates(b):a.ymaps.ready(function(){return c.placemark=new a.ymaps.Placemark(b,{id:"map-point"},{iconImageClipRect:[[80,0],[112,36]],iconImageHref:"static/images/sprite-baloon.png",iconImageSize:[32,36]})})};return c}(d.Model)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.Event=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=a.API_BASE_URL+"/api/v1/events/";c.prototype.defaults={dt_start:"",dt_end:"",ypi:0,imgs:[],tags:[],name:"",description:"",points:[]};
c.prototype.validate=function(a,b){var c;c=[];""===a.name&&c.push("name");""===a.dt_start&&c.push("dt_start");""===a.dt_end&&c.push("dt_end");if(c.length)return c};return c}(b.Model);l={getDetail:function(a,b){null==b&&(b={});a.id=a.get("id")||a.get("unid");k.defaults(b);a.fetch({reset:!0,data:b});return a},like:function(b,c){var d;null==c&&(c={});d=b.get("id")||event.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/events/"+d+"/like/"),type:"POST",successCallback:function(a){return b.trigger("event:like:response",
a)},data:{id:d}})},comment:function(b,c){var d;null==c&&(c={});k.defaults(c);d=b.get("id")||b.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/events/"+d+"/review/"),type:"POST",successCallback:function(a){return b.trigger("event:comment:response",a)},data:c})}};a.reqres.setHandler("get:detail:event",function(a){return l.getDetail(a)});a.reqres.setHandler("like:event",function(a){l.like(a).done(function(b){if(b=b[0])return a.set({likes_count:b.likes_count,isliked:b.isliked,likeusers:b.likeusers})});
return a});return a.reqres.setHandler("comment:event",function(a,b){null==b&&(b={});l.comment(a,b);return a})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.Point=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=a.API_BASE_URL+"/api/v1/points/";c.prototype.defaults={priority:0,longitude:0,latitude:0,ypi:0,imgs:[],tags:[],name:"",address:""};
c.prototype.validate=function(a,b){var c;c=[];""===a.name&&c.push("name");""===a.address&&c.push("address");if(c.length)return c};return c}(b.Model);l={getDetail:function(a,b){null==b&&(b={});a.id=a.get("id")||a.get("unid");k.defaults(b);a.fetch({reset:!0,data:b});return a},like:function(b,c){var d;null==c&&(c={});d=b.get("id")||b.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/points/"+d+"/like/"),type:"POST",successCallback:function(a){return b.trigger("point:like:response",a)},data:{id:d}})},
comment:function(b,c){var d;null==c&&(c={});k.defaults(c);d=b.get("id")||b.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/points/"+d+"/review/"),type:"POST",successCallback:function(a){return b.trigger("point:comment:response",a)},data:c})}};a.reqres.setHandler("get:detail:point",function(a){return l.getDetail(a)});a.reqres.setHandler("like:point",function(a){l.like(a).done(function(b){if(b=b[0])return a.set({likes_count:b.likes_count,isliked:b.isliked,likeusers:b.likeusers})});return a});
return a.reqres.setHandler("comment:point",function(a,b){null==b&&(b={});l.comment(a,b);return a})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.Route=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/route/"};return c}(b.Model);l={getDetail:function(a,c){var d;null==c&&(c={});k.defaults(c);
d=new b.Route({unid:a});d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:detail:route",function(a){return l.getDetail(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.Set=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/sets/"};return c}(b.Model);l={getDetailSets:function(a,c){var d;null==c&&(c={});k.defaults(c);
d=new b.Set({unid:a});d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:detail:sets",function(a){return l.getDetailSets(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.TagCollection=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(d.Collection);l={getTags:function(c){var d;null==c&&(c={});k.defaults(c);d=new b.TagCollection;d.url=a.API_BASE_URL+"/api/v1/tags/";
d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:all:tags",function(a){null==a&&(a={level:0});!1===a.level&&delete a.level;return l.getTags(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.User=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.idAttribute="id";c.prototype.url=a.API_BASE_URL+"/users/account/";c.prototype.defaults={first_name:"",last_name:"",authorized:!1,email:!1,
avatar:"/static/images/user-unknown.png",count_liked_objects:0,count_commented_objects:0};return c}(b.Model);l={me:function(c){null==c&&(c={});k.defaults(c);return this.user=this.user||new b.User(a.USER)}};return a.reqres.setHandler("get:my:profile",function(){return l.me()})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Entities",function(b,a,d,g,c,k){var l,h;b.YapensCollection=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(b.Collection);l={getEntities:function(c){var d;null==c&&(c={});d=new b.YapensCollection;d.url=a.API_BASE_URL+"/api/v1/yapens/";
d.fetch({reset:!0,data:c});return d},search:function(b,c){null==b&&(b={});k.defaults(b,{s:""});return a.apiRequest({url:a.API_BASE_URL+"/api/v1/search/",data:b,successCallback:c})}};a.reqres.setHandler("get:all:yapens",function(a){null==a&&(a={});return l.getEntities(a)});return a.reqres.setHandler("search:all:yapens",function(a,b){null==a&&(a={});return l.search(a,b)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Components.Loading",function(b,a,d,g,c,k){var l;b.LoadingController=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(a){var b,c;console.log("initialize LoadingController");c=a.view;a=a.config;a=k.isBoolean(a)?{}:a;
k.defaults(a,{loadingType:"spinner",entities:this.getEntities(c),debug:!1});switch(a.loadingType){case "opacity":this.region.currentView.$el.css("opacity",0.5);break;case "spinner":b=this.getLoadingView();this.show(b);break;default:throw Error("Invalid loadingType");}return this.showRealView(c,b,a)};d.prototype.showRealView=function(b,c,d){var e=this;return a.execute("when:fetched",d.entities,function(){switch(d.loadingType){case "opacity":e.region.currentView.$el.removeAttr("style");break;case "spinner":if(e.region.currentView!==
c)return b.close()}if(!d.debug)return e.show(b)})};d.prototype.getEntities=function(a){return k.chain(a).pick("model","collection").toArray().compact().value()};d.prototype.getLoadingView=function(){return new b.LoadingView};return d}(a.Controllers.Base);return a.commands.setHandler("show:loading",function(a,c){console.log("show:loading");return new b.LoadingController({view:a,region:c.region,config:c.loading})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("Components.Loading",function(b,a,d,g,c,k){var l;return b.LoadingView=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="LoadingView";b.prototype.className="loading-container";b.prototype.onClose=function(){return this.close()};
return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("AddPopupApp",function(b,a,d,g,c,k){var l,h;b.Router=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.appRoutes={"add/point/":"point","add/event/":"event"};return b}(g.AppRouter);l={point:function(){return new b.Point.Controller},event:function(){return new b.Event.Controller}};
a.vent.on("show:edit:popup",function(c){a.addPopupRegion.close();c instanceof a.Entities.Point&&new b.Point.Controller({model:c});c instanceof a.Entities.Event&&new b.Event.Controller({model:c});if(c instanceof a.Entities.Route)return new b.Route.Controller({model:c})});a.vent.on("show:add:place:popup",function(){a.addPopupRegion.close();return l.point()});a.vent.on("show:add:event:popup",function(){a.addPopupRegion.close();return l.event()});a.vent.on("show:add:route:popup",function(){a.addPopupRegion.close();
return l.route()});return a.addInitializer(function(){return new b.Router({controller:l})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("AddPopupApp.Event",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize AddPopupApp.Event.Controller");this.tags=a.request("get:all:tags",
{level:!1});this.model=this.options.model||new a.Entities.Event;this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showStepName();return c.showStepWhat()});return this.model.isNew()?a.addEventPopup.show(this.layout,{loading:!0}):this.model.fetch({success:function(){return a.addEventPopup.show(c.layout,{loading:!0})}})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showStepName=function(){this.nameView=new b.StepName({model:this.model});
this.show(this.nameView,{region:this.layout.stepNameRegion,loading:!0});return this.listenTo(this.nameView,"show:step:what",function(){this.layout.stepNameRegion.$el.hide();return this.layout.stepWhatRegion.$el.show()})};d.prototype.showStepWhat=function(){var c=this;return a.execute("when:fetched",this.tags,function(){c.whatView=new b.StepWhat({model:c.model,collection:c.tags});c.listenTo(c.whatView,"show",function(){var a;a=new b.Points({model:c.model});return c.whatView.pointsRegion.show(a)});
c.show(c.whatView,{region:c.layout.stepWhatRegion});return c.listenTo(c.whatView,"show:step:name",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepNameRegion.$el.show()})})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("AddPopupApp.Event",function(b,a,d,g,c,k){var l,h,p,n;b.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="AddEventLayout";b.prototype.className="popupwin__scrollbox";b.prototype.regions={stepNameRegion:"#event-name-region",
stepWhatRegion:"#event-what-region"};b.prototype.onShow=function(){return this.stepNameRegion.$el.show()};return b}(a.Views.Layout);b.StepName=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="EventStepName";b.prototype.className="popupwin__content clearfix";b.prototype.events={"blur .form__field_name input":"setName","blur .form__field_description textarea":"setDescription","click .js-next":"nextStep","submit form":"nextStep"};b.prototype.onShow=
function(){var a=this;this.$("#dt_start").datepicker({showOn:"button",buttonImage:"/static/images/calendar.png",buttonImageOnly:!0,dateFormat:"dd.mm.yy",numberOfMonths:3,onClose:function(b){return a.$("#dt_end").datepicker("option","minDate",b)}});this.$("#dt_end").datepicker({showOn:"button",buttonImage:"/static/images/calendar.png",buttonImageOnly:!0,dateFormat:"dd.mm.yy",numberOfMonths:3,onClose:function(b){return a.$("#dt_start").datepicker("option","maxDate",b)}});return this.$("#place-dropzone").dropzone({dictDefaultMessage:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",
addRemoveLinks:!0,paramName:"img",headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(b,c){var d,e;d=c[0];e=a.model.get("imgs");e.push(d.id);return a.model.set("imgs",e)}})};b.prototype.setName=function(a){(a=c(a.currentTarget).val())&&this.$(".form__field_name").removeClass("error");return this.model.set({name:a})};b.prototype.setDescription=function(a){a=c(a.currentTarget).val();return this.model.set({description:a})};b.prototype.nextStep=function(a){var b;a.preventDefault();b=this.$("#dt_start").val();
a=this.$("#dt_end").val();this.model.set({dt_start:b});this.model.set({dt_end:a});this.model.get("dt_start")?this.$("#dt_start").removeClass("error"):this.$("#dt_start").addClass("error");this.model.get("dt_end")?this.$("#dt_end").removeClass("error"):this.$("#dt_end").addClass("error");this.model.get("name")?this.$(".form__field_name").removeClass("error"):this.$(".form__field_name").addClass("error");if(this.model.get("name")&&this.model.get("dt_start")&&this.model.get("dt_end"))return this.trigger("show:step:what")};
return b}(a.Views.ItemView);b.StepWhat=function(b){function d(){return p=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="EventStepWhat";d.prototype.regions={pointsRegion:"#points-region"};d.prototype.events={"click .tags__link":"selectAdditionalLabel","select2-removed .field_tags .select-type":"removeLabel","select2-selecting .field__input-place .select-type":"addPoint","select2-removed .field__input-place .select-type":"removePoint","click .js-back":"backStep","click .js-next":"nextStep"};
d.prototype.initialize=function(){this.listenTo(this.model,"select2-removed",this.removePoint);this.rootLabels=this.collection.toJSON().filter(function(a){return 0===a.level});this.additionalLabels=this.collection.toJSON().filter(function(a){return 1===a.level});this.otherLabels=this.collection.toJSON().filter(function(a){return 2===a.level});return this.labels={}};d.prototype.templateHelpers=function(){return{rootLabels:this.rootLabels,additionalLabels:this.additionalLabels}};d.prototype.format_tags=
function(a){return"<span data-id='"+a.id+"'>"+a.text+"</span>"};d.prototype.format_place=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};d.prototype.selectAdditionalLabel=function(a){var b;a.preventDefault();b=c(a.currentTarget);a=this.$(".field_tags .select-type").select2("data");a.push({id:b.data("id"),text:b.text()});return this.$(".field_tags .select-type").select2("data",a)};d.prototype.removeLabel=function(a){var b;console.log(a);b=this.$(".field_tags .select-type").select2("data");
k.remove(b,function(b){return b.id===a.val});return b=this.$(".field_tags .select-type").select2("data",b)};d.prototype.addPoint=function(b){var c,d,e=this;b=b.val;d=this.model.get("points");c=new a.Entities.Point({unid:b});c.fetch();a.execute("when:fetched",c,function(){d.push(c.toJSON());e.model.set({points:d});e.model.trigger("change:points");return e.$(".field__input-place").removeClass("error")});return window.model=this.model};d.prototype.removePoint=function(a){k.remove(this.model.get("points"),
function(b){return b.id===a.val});this.$(".field__input-place .select-type").select2("data",this.model.get("points"));return this.model.trigger("change:points")};d.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:name")};d.prototype.nextStep=function(b){var c=this;b.preventDefault();b=this.$(".field_tags .select-type").select2("val");this.model.set({tags:b});return this.model.get("points").length?(this.$(".field__input-place").removeClass("error"),this.model.save(null,
{success:function(){a.addEventPopup.close();return a.vent.trigger("show:detail:popup",c.model)}})):this.$(".field__input-place").addClass("error")};d.prototype.onShow=function(){var b,c=this;this.$(".field__input-place .select-type").select2({containerCssClass:"select2-container_tags",dropdownCssClass:"select2-drop_tags",width:"480px",multiple:!0,quietMillis:750,allowClear:!0,ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;c=k.map(a,
function(a,b){if("points"===b)return k.map(a,function(a){return a.type=b}),a});return{results:k.compact(k.flatten(c))}}},formatResult:this.format_place,formatSelection:this.format_place,minimumInputLength:1,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0438\u043c\u0432\u043e\u043b"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},escapeMarkup:function(a){return a}});
this.$(".field_tags .select-type").select2({containerCssClass:"select2-container_tags",dropdownCssClass:"select2-drop_tags",width:"480px",multiple:!0,tags:function(){return c.otherLabels.map(function(a){return{id:a.id,text:a.name}})},maximumInputLength:50,formatResult:this.format_tags,formatSelection:this.format_tags,tokenSeparators:[","],escapeMarkup:function(a){return a}});b=k.filter(this.model.get("tags"),function(a){return 0!==a.level});b=k.map(b,function(a){return{id:a.id,text:a.name}});this.$(".field_tags .select-type").select2("data",
b);b=k.map(this.model.get("points"),function(a){return{id:a.id,name:a.name,type:"point"}});return this.$(".field__input-place .select-type").select2("data",b)};d.prototype.closePopup=function(b,c,d){console.log("event saved",b,c,d);return a.addEventPopup.close()};return d}(a.Views.Layout);return b.Points=function(a){function b(){return n=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointList";b.prototype.modelEvents={"change:points":"render"};b.prototype.events={"click .js-delete":"deletePoint"};
b.prototype.deletePoint=function(a){var b;a.preventDefault();b=c(a.currentTarget).data();a.val=b.id;return this.model.trigger("select2-removed",a)};return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("AddPopupApp.Point",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize AddPopupApp.Point.Controller");this.tags=a.request("get:all:tags",
{level:!1});this.model=this.options.model||new a.Entities.Point;this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showStepName();c.showStepWhat();return c.showStepCommers()});return this.model.isNew()?a.addPointPopup.show(this.layout,{loading:!0}):this.model.fetch({success:function(){return a.addPointPopup.show(c.layout,{loading:!0})}})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showStepName=function(){var a=this;this.nameView=
new b.StepName({model:this.model});this.listenTo(this.nameView,"show",function(){var c;c=new b.Imgs({model:a.model});return a.nameView.imgsRegion.show(c)});this.listenTo(this.nameView,"show:step:what",function(){this.layout.stepNameRegion.$el.hide();return this.layout.stepWhatRegion.$el.show()});return this.show(this.nameView,{region:this.layout.stepNameRegion,loading:!0})};d.prototype.showStepWhat=function(){var c=this;return a.execute("when:fetched",this.tags,function(){c.whatView=new b.StepWhat({model:c.model,
collection:c.tags});c.show(c.whatView,{region:c.layout.stepWhatRegion});c.listenTo(c.whatView,"show:step:commers",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepCommersRegion.$el.show()});return c.listenTo(c.whatView,"show:step:name",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepNameRegion.$el.show()})})};d.prototype.showStepCommers=function(){this.commersView=new b.StepCommers({model:this.model});this.show(this.commersView,{region:this.layout.stepCommersRegion});
return this.listenTo(this.commersView,"show:step:what",function(){this.layout.stepCommersRegion.$el.hide();return this.layout.stepWhatRegion.$el.show()})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("AddPopupApp.Point",function(b,a,d,g,c,k){var l,h,p,n,m;b.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="AddPointLayout";b.prototype.className="popupwin__scrollbox";b.prototype.regions={stepNameRegion:"#point-name-region",
stepWhatRegion:"#point-what-region",stepCommersRegion:"#point-commers-region"};b.prototype.onShow=function(){return this.stepNameRegion.$el.show()};return b}(a.Views.Layout);b.StepName=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointStepName";b.prototype.regions={imgsRegion:"#imgs-region"};b.prototype.events={"blur .form__field_name input":"setName","blur .form__field_description textarea":"setDescription","click .dz-details":"setMainImage",
"click .js-next":"nextStep","submit form":"nextStep"};b.prototype.onClose=function(){this.stopListening();return this.model.unset()};b.prototype.onShow=function(){var a,b=this;a=(a=this.model.get("id"))?"/photos/point/"+a+"/add":"/photos/add";return this.$("#place-dropzone").dropzone({dictDefaultMessage:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",addRemoveLinks:!0,paramName:"img",url:a,headers:{"X-CSRFToken":c.cookie("csrftoken")},
success:function(a,c){var d,e;d=c[0];e=b.model.get("imgs");e.push(d);b.model.set("imgs",e);return b.model.trigger("change:imgs")}})};b.prototype.setName=function(a){(a=c(a.currentTarget).val())&&this.$(".form__field_name").removeClass("error");return this.model.set({name:a})};b.prototype.setDescription=function(a){a=c(a.currentTarget).val();return this.model.set({description:a})};b.prototype.setMainImage=function(a){a.preventDefault();a=c(a.currentTarget);this.$(".dz-details").not(a).removeClass("main-image");
return a.toggleClass("main-image")};b.prototype.nextStep=function(a){a.preventDefault();this.model.isValid();return 0>k.indexOf(this.model.validationError,"name")?(this.$(".form__field_name").removeClass("error"),this.trigger("show:step:what"),this.$(".categories__link").eq(0).trigger("click")):this.$(".form__field_name").addClass("error")};return b}(a.Views.Layout);b.StepWhat=function(b){function d(){return p=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="PointStepWhat";
d.prototype.className="popupwin__content clearfix";d.prototype.events={"click .categories__link":"selectRootLabel","click .tags__link":"selectAdditionalLabel","change .field__input-map input":"setAddress","select2-removed":"removeLabel","click .js-back":"backStep","click .js-next":"nextStep"};d.prototype.initialize=function(){this.rootLabels=this.collection.toJSON().filter(function(a){return 0===a.level});this.additionalLabels=this.collection.toJSON().filter(function(a){return 1===a.level});this.otherLabels=
this.collection.toJSON().filter(function(a){return 2===a.level});return this.labels={}};d.prototype.templateHelpers=function(){return{rootLabels:this.rootLabels,additionalLabels:this.additionalLabels}};d.prototype.format=function(a){return"<span data-id='"+a.id+"'>"+a.text+"</span>"};d.prototype.selectRootLabel=function(a){var b,d;a.preventDefault();d=c(a.currentTarget);b=d.data();this.$(".tags__item").hide();(a=this.$(".categories__link.active").data())&&(this.labels[a.id]=this.$(".select-type").select2("data"));
this.$el.find(".categories__link").not(d).removeClass("active");d.toggleClass("active");d.hasClass("active")?this.$el.find(".field_tags").attr("class","field field_tags field_tags-"+b.style):this.$el.find(".field_tags").attr("class","hide field field_tags field_tags-"+b.style);this.$(".tags__link").filter(function(a,d){return c(d).data("parent")===b.id}).parent().show();if(b)return this.$(".select-type").select2("data",this.labels[b.id])};d.prototype.selectAdditionalLabel=function(a){var b;a.preventDefault();
b=c(a.currentTarget);a=this.$(".select-type").select2("data");a.push({id:b.data("id"),text:b.text()});return this.$(".select-type").select2("data",a)};d.prototype.removeLabel=function(a){var b;b=this.$(".select-type").select2("data");k.remove(b,function(b){return b.id===a.val});return b=this.$(".select-type").select2("data",b)};d.prototype.setAddress=function(b){var d,e=this;d=c(b.currentTarget).val();if(void 0!==a.ymaps)return a.ymaps.ready(function(){return a.ymaps.geocode(d).then(function(a){a=
a.geoObjects.get(0).geometry.getCoordinates();e.model.setCoordinates(a);e.model.set({address:d,longitude:a[1],latitude:a[0]},{silent:!0});e.model.setCoordinates([e.model.get("latitude"),e.model.get("longitude")]);return e.map.setCenter([e.model.get("latitude"),e.model.get("longitude")],12)})})};d.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:name")};d.prototype.nextStep=function(a){var b;a.preventDefault();this.model.isValid();return 0>k.indexOf(this.model.validationError,
"address")?(this.$(".field__input-map").removeClass("error"),this.trigger("show:step:commers"),b=this.$(".select-type").select2("val"),a=c(".categories__link.active").data()||{id:1},b.push(a.id),this.model.set({tags:b})):this.$(".field__input-map").addClass("error")};d.prototype.initMap=function(){var b=this;console.log("initMap");if(void 0!==a.ymaps)return a.ymaps.ready(function(){b.map||(b.map=new a.ymaps.Map("map-point-add",{center:[a.ymaps.geolocation.latitude,a.ymaps.geolocation.longitude],zoom:12},
{autoFitToViewport:"always"}),b.map.controls.add("zoomControl"));a.execute("when:fetched",b.model,function(){if(b.model.get("latitude"))return b.model.setCoordinates([b.model.get("latitude"),b.model.get("longitude")]),b.map.setCenter([b.model.get("latitude"),b.model.get("longitude")],12),b.map.geoObjects.add(b.model.placemark)});b.map.events.remove("click");return b.map.events.add("click",function(c){c=c.get("coordPosition");b.map.geoObjects.remove(b.model.placemark);b.model.setCoordinates(c);b.map.geoObjects.add(b.model.placemark);
a.ymaps.geocode(c).then(function(a){a=a.geoObjects.get(0).properties.get("metaDataProperty.GeocoderMetaData.text");b.$("[name=address]").val(a);return b.model.set({address:a},{silent:!0})});return b.model.set({longitude:c[1],latitude:c[0]},{silent:!0})})})};d.prototype.onShow=function(){var a,b,d=this;console.log("onShow");this.$(".categories__link").tooltip();this.$(".select-type").select2({containerCssClass:"select2-container_tags",dropdownCssClass:"select2-drop_tags",width:"480px",multiple:!0,
tags:function(){return d.otherLabels.map(function(a){return{id:a.id,text:a.name}})},maximumInputLength:50,formatResult:this.format,formatSelection:this.format,tokenSeparators:[","],escapeMarkup:function(a){return a}});a=k.find(this.model.get("tags"),{level:0});b=k.filter(this.model.get("tags"),function(a){return 0!==a.level});b=k.map(b,function(a){return{id:a.id,text:a.name}});a?(this.$(".categories__link[data-id="+a.id+"]").trigger("click"),this.labels[a.id]=b):this.$(".categories__link").eq(0).trigger("click");
this.$(".select-type").select2("data",b);this.$(".map_popupwin").resizable({minHeight:80,handles:"s",resize:function(a,b){var e;e=c(d);return 440<b.size.height?e.addClass("open"):e.removeClass("open")}});return this.initMap()};d.prototype.onClose=function(){this.stopListening();this.collection.reset();return this.model.unset()};return d}(a.Views.ItemView);b.StepCommers=function(b){function d(){return n=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="PointStepCommers";d.prototype.className=
"popupwin__content clearfix";d.prototype.events={"click .toggle-list__title":"toggleList","click .js-back":"backStep","click .js-finish":"finishStep"};d.prototype.toggleList=function(a){a.preventDefault;a=c(a.currentTarget);if(a.hasClass("active"))return a.removeClass("active"),a.siblings(".toggle-list__body").slideUp();this.$(".toggle-list__title").removeClass("active");this.$(".toggle-list__body").slideUp();a.addClass("active");return a.siblings(".toggle-list__body").slideDown()};d.prototype.finishStep=
function(b){var c=this;b.preventDefault();return this.model.save(null,{success:function(){a.addPointPopup.close();return a.vent.trigger("show:detail:popup",c.model)}})};d.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:what")};d.prototype.onClose=function(){this.stopListening();return this.model.unset()};return d}(a.Views.ItemView);return b.Imgs=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="ImgsList";b.prototype.modelEvents=
{"change:imgs":"render"};b.prototype.events={"click .js-delete":"deleteImg"};b.prototype.deleteImg=function(a){a.preventDefault();a=c(a.currentTarget).data();return console.log(a)};b.prototype.onClose=function(){this.stopListening();return this.model.unset()};return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp",function(b,a,d,g,c,k){var l,h;b.Router=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.appRoutes={"":"index","point/:id":"popup"};return b}(g.AppRouter);l={index:function(){a.vent.trigger("show:map:region");a.vent.trigger("show:destination:region");
a.vent.trigger("hide:dashboard:region");return new b.List.Controller({content:"ypi",user:null})},popup:function(b){b=new a.Entities.Point({id:b});return a.vent.trigger("show:detail:popup",b)}};a.vent.on("show:detail:popup",function(c){c instanceof a.Entities.Point&&new b.Point.Controller({model:c});c instanceof a.Entities.Event&&new b.Event.Controller({model:c});if(c instanceof a.Entities.Route)return new b.Route.Controller({model:c})});a.vent.on("filter:all:yapens",function(a){null==a&&(a={});k.defaults(a);
return new b.List.Controller(a)});return a.addInitializer(function(){return new b.Router({controller:l})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp.Event",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize BoardApp.Event.Controller");this.model=a.request("get:detail:event",
this.options.model);this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showPhotos();c.showHeader();c.showComments();return c.showMap()});return a.eventPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showHeader=function(){this.headerView=new b.Header({model:this.model});return this.show(this.headerView,{region:this.layout.headerRegion})};d.prototype.showPhotos=function(){this.photoView=new b.Photo({model:this.model});
return this.show(this.photoView,{region:this.layout.photoRegion,loading:!0})};d.prototype.showComments=function(){this.commentsView=new b.Comments({model:this.model});return this.show(this.commentsView,{region:this.layout.commentsRegion,loading:!0})};d.prototype.showMap=function(){this.mapView=new b.Map({model:this.model});return this.show(this.mapView,{region:this.layout.mapRegion})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp.Event",function(b,a,d,g,c,k){var l,h,p,n,m,q,t;b.Layout=function(b){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="EventLayout";d.prototype.regions={headerRegion:"#event-header-region",photoRegion:"#event-photo-region",mapRegion:"#event-map-region",
commentsRegion:"#event-comments-region",tagsRegion:"#event-tags-region"};d.prototype.className="popupwin__scrollbox";d.prototype.events={"click .js-popupwin-place":"showPointPopup"};d.prototype.showPointPopup=function(b){b.preventDefault();b=c(b.currentTarget).data();b=new a.Entities.Point({unid:b.id,type_of_item:"point"});return a.vent.trigger("show:detail:popup",b)};return d}(a.Views.Layout);b.Header=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template=
"EventHeader";d.prototype.modelEvents={"change:isliked":"render","change:likes_count":"render"};d.prototype.events={"click .btn-like":"eventLike","click .btn-place":function(){return this.trigger("add:path:popup",this.model)},"click .btn-upload":"upload"};d.prototype.initialize=function(){return this.listenTo(this.model,"event:like:response",this.eventLikeResponse)};d.prototype.eventLike=function(b){b.preventDefault();return a.request("like:event",this.model)};d.prototype.eventLikeResponse=function(a){var b=
this;if(1===a.status)return this.$(".btn-like").tooltip("show"),setTimeout(function(){return b.$(".btn-like").tooltip("destroy")},1E3)};d.prototype.upload=function(a){a.preventDefault();return c(a.currentTarget).toggleClass("active")};return d}(a.Views.ItemView);b.Photo=function(d){function g(){return p=g.__super__.constructor.apply(this,arguments)}f(g,d);g.prototype.template="EventPhoto";g.prototype.events={"click .btn-photo-add":"showPhotoPopup"};g.prototype.modelEvents={"change:imgs":"addedImage"};
g.prototype.initialize=function(){return this.bxPagerInit=function(){return this.$(".bx-pager").each(function(){var a,b,d;a=c(this);d=a.find(".bx-pager__item:first-child").outerWidth(!0);b=a.find(".bx-pager__item").length;a.find(".bx-pager__scrollbox").width(d*b);return c(this).find(".bx-pager__viewport").scrollLeft(0)})}};g.prototype.showPhotoPopup=function(c){c.preventDefault();c=new b.AddPhoto({model:this.model});return a.photoPopupRegion.show(c)};g.prototype.addedImage=function(){this.render();
return this.onShow()};g.prototype.onShow=function(){var a=this;if(this.model.get("imgs").length)return this.bxPagerInit(),this.$(".bxslider-place").bxSlider({pagerCustom:"#bx-pager",onSliderLoad:function(){return a.$("#bx-pager .bx-pager__viewport").scrollLeft(-100)},onSlideNext:function(b,c,d){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left+a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:first-child").index()===
d)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(0)},onSlidePrev:function(b,d,e){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left-a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:last-child").index()===e)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(c("#bx-pager .bx-pager__viewport").width())}})};return g}(a.Views.ItemView);b.Map=function(b){function d(){return n=d.__super__.constructor.apply(this,
arguments)}f(d,b);d.prototype.template="EventMap";d.prototype.className="map map_popupwin";d.prototype.onShow=function(){var b=this;if(void 0!==a.ymaps)return a.ymaps.ready(function(){var c,d;c=new a.ymaps.Map("map-event",{center:[a.ymaps.geolocation.latitude,a.ymaps.geolocation.longitude],zoom:12},{autoFitToViewport:"always"});d=b.model.get("points");return k.each(d,function(b){var d;d=new a.ymaps.Placemark([b.latitude,b.longitude],{},{iconImageClipRect:[[80,0],[112,36]],iconImageHref:"static/images/sprite-baloon.png",
iconImageSize:[32,36]});c.geoObjects.add(d);return c.setCenter([b.latitude,b.longitude],12)})}),this.$el.resizable({minHeight:80,handles:"s",resize:function(a,d){var e;e=c(b);return 440<d.size.height?e.addClass("open"):e.removeClass("open")}})};return d}(a.Views.ItemView);b.Comments=function(b){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="EventComments";c.prototype.className="comments";c.prototype.tagName="ul";c.prototype.events={"submit .comment-form":"addComment"};
c.prototype.modelEvents={"change:reviews":"render"};c.prototype.initialize=function(){return this.listenTo(this.model,"event:comment:response",this.eventCommentResponse)};c.prototype.eventCommentResponse=function(a){var b=this;return 0===a.status?(this.model.fetch({success:function(){return b.$(".comment-form").parent().removeClass("loading")}}),this.$("[name=review_text]").val(""),this.$("[name=review_text]").removeClass("error")):this.$("[name=review_text]").addClass("error")};c.prototype.addComment=
function(b){b.preventDefault();return(b=this.$("[name=review_text]").val())?(a.request("comment:event",this.model,{review:b}),this.$(".comment-form").parent().addClass("loading")):this.$("[name=review_text]").addClass("error")};return c}(a.Views.ItemView);b.Tags=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="EventTags";b.prototype.modelEvents={"change:tags":"render"};return b}(a.Views.ItemView);return b.AddPhoto=function(b){function d(){return t=
d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="AddPhotoPopup";d.prototype.className="popupwin__scrollbox";d.prototype.ui={finishBtn:".js-finish"};d.prototype.events={"click .js-finish":"addImage"};d.prototype.addImage=function(b){b.preventDefault();this.model.trigger("change:imgs");return a.photoPopupRegion.close()};d.prototype.onShow=function(){var a,b=this;a=this.model.get("id");return this.$("#photos-dropzone").dropzone({dictDefaultMessage:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",
addRemoveLinks:!0,url:"/photos/event/"+a+"/add",paramName:"img",headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(a,c){var d,e;d=c[0];e=b.model.get("imgs");e.push(d);b.model.set("imgs",e);return b.ui.finishBtn.prop("disabled",!1)}})};return d}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp.List",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){console.log("initialize BoardApp.List.Controller");a.updateSettings(this.options);this.yapens=a.request("get:all:yapens",
a.settings);return this.showYapens()};d.prototype.onClose=function(){this.stopListening();return this.yapens.reset()};d.prototype.showYapens=function(){var c;c=new b.Yapens({collection:this.yapens});c.on("childview:show:detail:popup",function(b,c){return a.vent.trigger("show:detail:popup",c)});return this.show(c,{region:a.boardRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp.List",function(b,a,d,g,c,k){var l,h;b.Yapen=function(b){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.initialize=function(a){this.model.set("editable",a.editable);this.listenTo(this.model,"point:like:response",this.likeResponse);return this.listenTo(this.model,
"event:like:response",this.likeResponse)};d.prototype.getTemplate=function(){return"point"===this.model.get("type_of_item")?"BoardPoint":"set"===this.model.get("type_of_item")?"BoardSet":"route"===this.model.get("type_of_item")?"BoardRoute":"event"===this.model.get("type_of_item")?"BoardEvent":"BoardPoint"};d.prototype.className=function(){return this.model.get("editable")?"box box_dashboard":"box"};d.prototype.events={"click .js-popupwin-place":function(){return this.trigger("show:detail:popup",
this.model)},"click .js-popupwin-event":function(){return this.trigger("show:detail:popup",this.model)},"click .js-popupwin-route":function(){return this.trigger("show:detail:popup",this.model)},"click .sprite-like":"like","click .sprite-place":"mark","click .btn_edit":"showEditPopup","click .btn_remove":"showRemovePopup"};d.prototype.modelEvents={"change:likes_count":"render","change:reviews":"render","change:imgs":"render"};d.prototype.onRender=function(){console.log("onRender model");return this.tips=
this.$(".box__img .icon").tooltip({placement:"bottom"})};d.prototype.showEditPopup=function(b){b.preventDefault();console.log(b);return a.vent.trigger("show:edit:popup",this.model)};d.prototype.showRemovePopup=function(a){return a.preventDefault()};d.prototype.like=function(b){b.preventDefault();switch(this.model.get("type_of_item")){case "point":return a.request("like:point",this.model);case "event":return a.request("like:event",this.model)}};d.prototype.likeResponse=function(b){if(1===b.status)return a.vent.trigger("show:login:popup")};
d.prototype.mark=function(){var b,d,e,f,g,k,h,l;d=c(".route-list");b={id:1,img:"/static/images/place-unknown.png",type:"\u043c\u0435\u0441\u0442\u043e"};h=this;k=[[0,0],[32,36]];c([[1,[[80,0],[112,36]]],[2,[[0,40],[32,76]]],[3,[[40,0],[72,36]]],[4,[[40,80],[72,116]]],[6,[[0,120],[32,156]]],[7,[[80,80],[112,116]]],[85,[[40,40],[72,76]]],[86,[[80,40],[112,76]]],[87,[[0,0],[32,36]]],[1136,[[0,80],[32,116]]]]).each(function(){if(this[0]===h.model.attributes.tags[0].id)return k=this[1]});f=new a.ymaps.Placemark([this.model.attributes.latitude,
this.model.attributes.longitude],{},{iconImageClipRect:k,iconImageHref:"static/images/sprite-baloon.png",iconImageSize:[32,36]});f.model=this;a.placemark=f;b.name=f.model.model.attributes.name;a.route_points?(e=l=0,c(a.route_points).each(function(){this===h&&(a.route_points.splice(e,1),a.remPlaceFromList(b,d,c(".map_main"),h),a.mmap.geoObjects.each(function(b){if(b.model&&b.model===h)return a.mmap.geoObjects.remove(b)}),l=1);return e+=1}),0===l&&(a.mmap.geoObjects.add(f),a.route_points.push(h),a.addPlaceToList(b,
d,c(".map_main"),h))):(a.route_points=[],a.route_points.push(h),a.mmap.geoObjects.add(f),a.addPlaceToList(b,d,c(".map_main"),h));g=[];c(a.route_points).each(function(){return g.push({type:"wayPoint",point:[this.model.attributes.latitude,this.model.attributes.longitude]})});a.t_route&&a.mmap.geoObjects.remove(a.t_route);if(1<g.length)return a.draw_route(g)};return d}(a.Views.ItemView);return b.Yapens=function(g){function l(){return h=l.__super__.constructor.apply(this,arguments)}f(l,g);l.prototype.itemView=
b.Yapen;l.prototype.className="content";l.prototype.id="grid";l.prototype.itemViewOptions=function(){return{editable:!!a.settings.user}};l.prototype.initialize=function(){k.bindAll(this,"onShow");return this.infiniScroll=new d.InfiniScroll(this.collection,{scrollOffset:350,includePage:!0,extraParams:a.settings,onFetch:function(){return c(".loader").removeClass("hide")},success:function(){return c(".loader").addClass("hide")}})};l.prototype.onAfterItemAdded=function(a){if(this.wall)return this.wall.appended(a.$el)};
l.prototype.onShow=function(){var b=this;return a.execute("when:fetched",this.collection,function(){console.log("collection fetched",b.collection);return b.$el.imagesLoaded(function(){return b.wall=new Masonry(b.el,{itemSelector:".box"})})})};l.prototype.onClose=function(){this.infiniScroll.destroy();this.wall&&this.wall.destroy();return this.remove()};return l}(a.Views.CollectionView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp.Point",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize BoardApp.Point.Controller");this.model=a.request("get:detail:point",
this.options.model);this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showPhotos();c.showHeader();c.showComments();return c.showMap()});return a.pointPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showHeader=function(){this.headerView=new b.Header({model:this.model});return this.show(this.headerView,{region:this.layout.headerRegion})};d.prototype.showPhotos=function(){this.photoView=new b.Photo({model:this.model});
return this.show(this.photoView,{region:this.layout.photoRegion,loading:!0})};d.prototype.showComments=function(){this.commentsView=new b.Comments({model:this.model});return this.show(this.commentsView,{region:this.layout.commentsRegion,loading:!0})};d.prototype.showMap=function(){this.mapView=new b.Map({model:this.model});return this.show(this.mapView,{region:this.layout.mapRegion})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("BoardApp.Point",function(b,a,d,g,c,k){var l,h,p,n,m,q,t;b.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointLayout";b.prototype.regions={headerRegion:"#point-header-region",photoRegion:"#point-photo-region",mapRegion:"#point-map-region",
commentsRegion:"#point-comments-region",tagsRegion:"#point-tags-region"};b.prototype.className="popupwin__scrollbox";b.prototype.events={"click .js-open":"toggleCommercial"};b.prototype.toggleCommercial=function(a){a.preventDefault();this.$(".js-open").toggleClass("active");return this.$(".commercial-info__body ").slideToggle()};return b}(a.Views.Layout);b.Header=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="PointHeader";d.prototype.modelEvents=
{"change:isliked":"render","change:likes_count":"render"};d.prototype.events={"click .btn-like":"pointLike","click .btn-place":function(){return this.trigger("add:path:popup",this.model)},"click .btn-upload":"upload"};d.prototype.initialize=function(){return this.listenTo(this.model,"point:like:response",this.pointLikeResponse)};d.prototype.pointLike=function(b){b.preventDefault();return a.request("like:point",this.model)};d.prototype.pointLikeResponse=function(b){var c=this;if(1===b.status)return a.vent.trigger("show:login:popup"),
this.$(".btn-like").tooltip("show"),setTimeout(function(){return c.$(".btn-like").tooltip("destroy")},1E3)};d.prototype.upload=function(a){a.preventDefault();return c(a.currentTarget).toggleClass("active")};return d}(a.Views.ItemView);b.Photo=function(d){function g(){return p=g.__super__.constructor.apply(this,arguments)}f(g,d);g.prototype.template="PointPhoto";g.prototype.events={"click .btn-photo-add":"showPhotoPopup"};g.prototype.modelEvents={"change:imgs":"addedImage"};g.prototype.initialize=
function(){return this.bxPagerInit=function(){return this.$(".bx-pager").each(function(){var a,b,d;a=c(this);d=a.find(".bx-pager__item:first-child").outerWidth(!0);b=a.find(".bx-pager__item").length;a.find(".bx-pager__scrollbox").width(d*b);return c(this).find(".bx-pager__viewport").scrollLeft(0)})}};g.prototype.showPhotoPopup=function(c){c.preventDefault();c=new b.AddPhoto({model:this.model});return a.photoPopupRegion.show(c)};g.prototype.addedImage=function(){this.render();return this.onShow()};
g.prototype.onShow=function(){var a=this;if(this.model.get("imgs").length)return this.bxPagerInit(),this.$(".bxslider-place").bxSlider({pagerCustom:"#bx-pager",onSliderLoad:function(){return a.$("#bx-pager .bx-pager__viewport").scrollLeft(-100)},onSlideNext:function(b,c,d){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left+a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:first-child").index()===d)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(0)},
onSlidePrev:function(b,d,e){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left-a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:last-child").index()===e)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(c("#bx-pager .bx-pager__viewport").width())}})};return g}(a.Views.ItemView);b.Map=function(b){function d(){return n=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="PointMap";
d.prototype.className="map map_popupwin";d.prototype.onShow=function(){var b=this;if(void 0!==a.ymaps)return a.ymaps.ready(function(){var c,d;c=new a.ymaps.Map("map-point",{center:[a.ymaps.geolocation.latitude,a.ymaps.geolocation.longitude],zoom:12},{autoFitToViewport:"always"});d=new a.ymaps.Placemark([b.model.get("latitude"),b.model.get("longitude")],{},{iconImageClipRect:[[80,0],[112,36]],iconImageHref:"static/images/sprite-baloon.png",iconImageSize:[32,36]});c.geoObjects.add(d);return c.setCenter([b.model.get("latitude"),
b.model.get("longitude")],12)}),this.$el.resizable({minHeight:80,handles:"s",resize:function(a,d){var e;e=c(b);return 440<d.size.height?e.addClass("open"):e.removeClass("open")}})};return d}(a.Views.ItemView);b.Comments=function(b){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="PointComments";c.prototype.className="comments";c.prototype.tagName="ul";c.prototype.events={"submit .comment-form":"addComment"};c.prototype.modelEvents={"change:reviews":"render"};
c.prototype.initialize=function(){return this.listenTo(this.model,"point:comment:response",this.pointCommentResponse)};c.prototype.pointCommentResponse=function(a){var b=this;return 0===a.status?(this.model.fetch({success:function(){return b.$(".comment-form").parent().removeClass("loading")}}),this.$("[name=review_text]").val(""),this.$("[name=review_text]").removeClass("error")):this.$("[name=review_text]").addClass("error")};c.prototype.addComment=function(b){b.preventDefault();return(b=this.$("[name=review_text]").val())?
(a.request("comment:point",this.model,{review:b}),this.$(".comment-form").parent().addClass("loading")):this.$("[name=review_text]").addClass("error")};return c}(a.Views.ItemView);b.Tags=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointTags";b.prototype.modelEvents={"change:tags":"render"};return b}(a.Views.ItemView);return b.AddPhoto=function(b){function d(){return t=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template=
"AddPhotoPopup";d.prototype.className="popupwin__scrollbox";d.prototype.ui={finishBtn:".js-finish"};d.prototype.events={"click .js-finish":"addImage"};d.prototype.addImage=function(b){b.preventDefault();this.model.trigger("change:imgs");return a.photoPopupRegion.close()};d.prototype.onShow=function(){var a,b=this;a=this.model.get("id");return this.$("#photos-dropzone").dropzone({dictDefaultMessage:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",
addRemoveLinks:!0,url:"/photos/point/"+a+"/add",paramName:"img",headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(a,c){var d,e;d=c[0];e=b.model.get("imgs");e.push(d);b.model.set("imgs",e);return b.ui.finishBtn.prop("disabled",!1)}})};return d}(a.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("FooterApp",function(b,f,e,a,d,g){var c;c={show:function(){return new b.Show.Controller({region:f.footerRegion})}};return b.on("start",function(){console.log("FooterApp onStart event");return c.show()})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("FooterApp.Show",function(b,a,d,g,c,k){var l;return b.Controller=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}f(c,a);c.prototype.initialize=function(){console.log("initialize FooterApp.Show.Controller");this.layout=this.getLayoutView();return this.show(this.layout)};
c.prototype.getLayoutView=function(){return new b.Layout};return c}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("FooterApp.Show",function(b,a,d,g,c,k){var l;return b.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="FooterView";b.prototype.className="f-body";return b}(a.Views.Layout)})}).call(this);
(function(){this.Yapp.module("HeaderApp",function(b,f,e,a,d,g){var c;c={show:function(){return new b.Show.Controller({region:f.headerRegion})}};f.vent.on("show:add:popup",function(){var a;a=new b.Show.PopupAdd;return f.addPopupRegion.show(a)});f.vent.on("show:login:popup",function(){var a;a=new b.Show.PopupLogin;return f.loginPopupRegion.show(a)});f.vent.on("show:info:popup",function(a){a=new b.Show.PopupInfo({message:a});return f.infoPopupRegion.show(a)});f.vent.on("show:destination:region",function(){f.headerRegion.$el.removeClass("header_small");
return f.headerRegion.currentView.destinationRegion.$el.removeClass("hide")});f.vent.on("hide:destination:region",function(){f.headerRegion.$el.addClass("header_small");return f.headerRegion.currentView.destinationRegion.$el.addClass("hide")});return b.on("start",function(){console.log("HeaderApp onStart event");return c.show()})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("HeaderApp.Show",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var b=this;console.log("initialize HeaderApp.Show.Controller");this.layout=this.getLayoutView();this.tags=
a.request("get:all:tags");this.listenTo(this.layout,"show",function(){b.ctrlsView();b.destinationView();return b.filterView()});return this.show(this.layout)};d.prototype.ctrlsView=function(){var a;a=new b.Ctrls;return this.show(a,{region:this.layout.ctrlsRegion})};d.prototype.destinationView=function(){var a;a=new b.Destination;return this.show(a,{region:this.layout.destinationRegion})};d.prototype.filterView=function(){var c=this;return a.execute("when:fetched",this.tags,function(){var a;a=new b.Filter({collection:c.tags});
return c.show(a,{region:c.layout.filterRegion})})};d.prototype.getLayoutView=function(){return new b.Layout};d.prototype.onClose=function(){return this.stopListening()};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("HeaderApp.Show",function(b,a,d,g,c,k){var l,h,p,n,m,q,t;console.log("initialize HeaderApp.Show.Layout");b.Layout=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="HeaderView";b.prototype.className="h-body";b.prototype.regions=
{ctrlsRegion:".header__ctrls",destinationRegion:".header__destination",filterRegion:".header__filter",dashboardRegion:".header__dashboard"};return b}(a.Views.Layout);b.Ctrls=function(d){function g(){return h=g.__super__.constructor.apply(this,arguments)}f(g,d);g.prototype.template="Ctrls";g.prototype.className="constrain";g.prototype.events={"click .js-popup-add":"showAddPopup","click .js-popupwin-authorization":"showLoginPopup","click .js-profile-menu":"showProfileMenu","select2-selecting":"selectItem"};
g.prototype.initialize=function(){return a.request("get:my:profile")};g.prototype.showAddPopup=function(c){c.preventDefault();return a.addPopupRegion.show(new b.PopupAdd)};g.prototype.showLoginPopup=function(c){c.preventDefault();return a.loginPopupRegion.show(new b.PopupLogin)};g.prototype.showProfileMenu=function(a){a.preventDefault();c(a.currentTarget).toggleClass("open");return this.$(".profile-menu").slideToggle()};g.prototype.selectItem=function(a){return console.log(a)};g.prototype.format=
function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};g.prototype.onShow=function(){return this.$("input").select2({allowClear:!0,ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;console.log(a);c=k.map(a,function(a,b){k.map(a,function(a){return a.type=b});return a});return{results:k.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:3,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},
formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},escapeMarkup:function(a){return a}})};return g}(a.Views.ItemView);b.Destination=function(b){function c(){return p=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="Destination";c.prototype.className="constrain";c.prototype.events={"submit #destination-form":"submitSearch","select2-selecting #destination-input":"submitSearch","select2-clearing #destination-input":"submitSearch"};
c.prototype.submitSearch=function(b){"submit"===b.type&&(b.preventDefault(),console.log(b));b=b.object;a.updateSettings({s:b?b.name:""});return a.vent.trigger("filter:all:yapens")};c.prototype.format=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};c.prototype.onShow=function(){return this.$("#destination-input").select2({containerCssClass:"select2-container_destination",dropdownCssClass:"select2-drop_destination",quietMillis:750,allowClear:!0,ajax:{dataType:"json",
url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;c=k.map(a,function(a,b){k.map(a,function(a){return a.type=b});return a});return{results:k.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:1,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0438\u043c\u0432\u043e\u043b"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},
escapeMarkup:function(a){return a},createSearchChoice:function(a){return{id:0,type:"custom",name:a}}})};return c}(a.Views.ItemView);b.Filter=function(b){function d(){return n=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="Filter";d.prototype.className="constrain clearfix";d.prototype.events={"click .categories__link":"filterCategory","click .categories__link_type_all":"filterAllCategory","click .filter-type > a":"openFilterType","click .filter-type__link":"filterType",
"click .filter-dropdown a":"filterDropdown"};d.prototype.ui={filterTypeList:".filter-type__list",filterAllCategory:".categories__link"};d.prototype.onShow=function(){return c("[data-toggle=tooltip]").tooltip()};d.prototype.filterCategory=function(b){b.preventDefault();b=c(b.target);if(!b.hasClass("categories__link_type_all"))return b.toggleClass("active"),b=k.map(this.$(".categories__link.sprite-filter-photo.active"),function(a){return c(a).data("id")}),a.updateSettings({tags:b.join(",")}),a.vent.trigger("filter:all:yapens")};
d.prototype.filterAllCategory=function(b){b.preventDefault();c(b.target).hasClass("active")?(c(b.target).removeClass("active"),this.ui.filterAllCategory.removeClass("active")):(c(b.target).addClass("active"),this.ui.filterAllCategory.addClass("active"));b=k.map(this.$(".categories__link.sprite-filter-photo.active"),function(a){return c(a).data("id")});a.updateSettings({tags:b.join(",")});return a.vent.trigger("filter:all:yapens")};d.prototype.openFilterType=function(a){a.preventDefault();return this.ui.filterTypeList.toggle()};
d.prototype.filterType=function(b){b.preventDefault();c(b.target).toggleClass("active");b=k.map(this.$(".filter-type__link.active"),function(a){return c(a).data("models")});a.updateSettings({models:b.join(",")});return a.vent.trigger("filter:all:yapens")};d.prototype.filterDropdown=function(a){a.preventDefault();this.$(".dropdown").removeClass("open");return c(a.currentTarget).parent().toggleClass("open")};return d}(a.Views.ItemView);b.PopupAdd=function(b){function c(){return m=c.__super__.constructor.apply(this,
arguments)}f(c,b);c.prototype.template="PopupAdd";c.prototype.className="popupwin__scrollbox";c.prototype.events={"click .js-popup-add-place":function(){return a.vent.trigger("show:add:place:popup")},"click .js-popup-add-event":function(){return a.vent.trigger("show:add:event:popup")}};return c}(a.Views.ItemView);b.PopupLogin=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PopupLogin";b.prototype.className="popupwin__scrollbox";return b}(a.Views.ItemView);
return b.PopupInfo=function(a){function b(){return t=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PopupInfo";b.prototype.className="popupwin__scrollbox";b.prototype.initialize=function(a){return this.message=a.message};b.prototype.templateHelpers=function(){return{message:this.message}};return b}(a.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("MapApp",function(b,f,e,a,d,g){var c;c={show:function(){return new b.Show.Controller({region:f.mapRegion})},mapToggle:function(a){f.mapRegion.$el.toggleClass("map-opened");d("#wrap").toggleClass("map-opened");a&&(f.map.$el.addClass("map-opened"),d("#wrap").addClass("map-opened"));a="\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443"===f.mapRegion.$el.find(".a-toggle").html()?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443":
"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443";return f.mapRegion.$el.find(".a-toggle").html(a)}};f.vent.on("show:map:region",function(){if(f.mapRegion.$el)return f.mapRegion.$el.removeClass("hide")});f.vent.on("hide:map:region",function(){if(f.mapRegion.$el)return f.mapRegion.$el.addClass("hide")});b.on("start",function(){console.log("MapApp onStart event");return c.show()});return f.commands.setHandler("toggle:map",function(a){return c.mapToggle(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("MapApp.Show",function(b,a,d,g,c,k){var l;return b.Controller=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}f(c,a);c.prototype.initialize=function(){var a=this;console.log("initialize MapApp.Show.Controller");this.layout=this.getLayoutView();this.listenTo(this.layout,
"show",function(){return a.mapView()});return this.show(this.layout)};c.prototype.getLayoutView=function(){return new b.Layout};c.prototype.mapView=function(){return new b.Map};return c}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("MapApp.Show",function(b,a,d,g,c,k){var l,h,p;b.Layout=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="MapView";c.prototype.className="map map_main";c.prototype.regions={tagsRegion:"#m-ico-group"};c.prototype.events={"click .a-toggle":"toggleMap"};
c.prototype.toggleMap=function(b){b.preventDefault();return a.execute("toggle:map")};return c}(a.Views.Layout);b.Map=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template=!1;d.prototype.initialize=function(){var b,d,e=this;console.log("initialize MapApp.Show.Map");if(void 0!==a.ymaps)return a.ymaps.ready(function(){c(".ymaps-copyrights-pane").css("bottom","13px");a.mmap_points=[];return a.mmap=new a.ymaps.Map("map",{center:[a.ymaps.geolocation.latitude,
a.ymaps.geolocation.longitude],zoom:12},{autoFitToViewport:"always"})}),b=c(".route-list"),c(".map").resizable({minHeight:80,handles:"s",resize:function(a,b){var d;d=c(e);return 440<b.size.height?d.addClass("open"):d.removeClass("open")}}),a.popupwinInit=function(a){var b;b=1E3;c(".popupwin.active").each(function(){parseInt(c(this).css("z-index"))>b&&(b=parseInt(c(this).css("z-index")))});c(".overlay").fadeIn().css("z-index",b+50);a.fadeIn().addClass("active").css("z-index",b+100);c("body").css("overflow-y",
"hidden")},a.popupwinDestroy=function(a){var b,d;b=a.closest(".popupwin");d=0;b.fadeOut().removeClass("active").css("z-index","0");b.find(".jspPane").each(function(){b.find(".jspPane").closest(".list").jScrollPane({}).data("jsp").destroy()});c(".popupwin.active").each(function(){parseInt(c(this).css("z-index"))>d&&(d=parseInt(c(this).css("z-index")))});c(".overlay").css("z-index",d);1>c(".page").find(".popupwin.active").length&&(c(".overlay").fadeOut(),c("body").css("overflow-y","auto"))},a.draw_route=
function(b){return a.mroute=a.ymaps.route(b,{mapStateAutoApply:!0}).then(function(b){b.getPaths().options.set({balloonContenBodyLayout:a.ymaps.templateLayoutFactory.createClass("$[properties.humanJamsTime]"),strokeColor:"ca7953",opacity:0.9,noPlacemark:!0});b.getWayPoints().options.set("visible",!1);a.mmap.geoObjects.add(b);return a.t_route=b})},a.change_route_numeration=function(b){var d;console.log("App.change_route_numeration");a.route_points=[];c(".route_item").each(function(){var b;console.log(this);
if(c(this).attr("model"))return b=c(this).attr("model"),a.route_points.push(a.models_dict[b.toString()])});console.log(a.route_points);d=[];c(a.route_points).each(function(){console.log(this);return d.push({type:"wayPoint",point:[this.model.attributes.latitude,this.model.attributes.longitude]})});a.t_route&&a.mmap.geoObjects.remove(a.t_route);if(1<d.length)return a.draw_route(d)},a.dragAndDropSetup=function(b){var d,e,f;e=f=d=void 0;b.find(".route-list_draggable .list .item").dragdrop({makeClone:!0,
sourceHide:!0,dragClass:"dragged",canDrag:function(a,b){d=a;e=f=d.index();return a},canDrop:function(a){a.is("li")&&(e=a.index(),f<e?d.insertAfter(a):d.insertBefore(a));return!0},didDrop:function(b,d){d.find(".item").each(function(){c(this).find(".number").html(c(this).index())});console.log("\u041f\u0435\u0440\u0435\u0434\u0432\u0438\u043d\u0443\u043b");a.change_route_numeration("")}})},a.addPlaceToList=function(b,c,d,e){var f,g;f=c.find(".item.hide").clone();g=parseInt(c.find(".item:last-child .number").text());
"none"===c.css("display")&&c.css("display","block");console.log(e.model);g++;a.models_dict||(a.models_dict={});a.models_dict[e.model.id]=e;console.log("DICTIONARY",a.models_dict);f.attr("data-id",e.id);f.removeClass("hide");f.find(".number").html(g);f.find(".img").attr("src",b.img);f.find(".text__place").html(b.name);f.find(".text__type").html(b.type);f.attr("model",e.model.id);c.find(".jspPane").length&&(b=c.find(".list").jScrollPane({}),b=b.data("jsp"),b.destroy());f.appendTo(c.find(".list"));c.find(".item").dragdrop("destroy");
a.dragAndDropSetup(d);c.find(".list").jScrollPane({autoReinitialise:!0})},a.remPlaceFromList=function(a,b){console.log("\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430");return a.find("li").each(function(){var d;console.log(this,c(this).attr("model"),b.model.id);if(c(this).attr("model")===b.model.id.toString())return console.log("\u043d\u0430\u0434\u0435\u043d"),console.log(this),a.find(".jspPane").length&&(d=a.find(".list").jScrollPane({}),d=d.data("jsp"),
d.destroy()),this.remove(),a.find(".item").each(function(){return c(this).find(".number").html(c(this).index())}),2>a.find(".item").length&&a.css("display","none"),a.find(".list").jScrollPane({autoReinitialise:!0})})},c(".map_main .route-list").jScrollPane({autoReinitialise:!0}),d=0,c(".route-list.route-list_deleteable").on("mouseenter",".item",function(){var a,e;a=c(this);b=a.closest(".route-list");e=a.position().top+10;d=a.index();b.find(".title").length&&(e+=b.find(".title").outerHeight());b.find(".jspPane").length&&
(a=parseInt(b.find(".jspPane").css("top").split("px")[0]),e+=a);return b.find(".delete-item").css("top",e+"px")}),c(".trip-list.trip-list_deleteable").on("mouseenter",".item",function(){var a,e;a=c(this);b=a.closest(".trip-list");e=a.position().top+4;d=a.index();b.find(".jspPane").length&&(a=parseInt(b.find(".jspPane").css("top").split("px")[0]),e+=a);return b.find(".delete-item").css("top",e+"px")}),c(".route-list.route-list_deleteable .js-delete").click(function(){var e,f,g;e=c(this);console.log(this);
b=e.closest(".route-list");g=a.models_dict[c(b.find(".item").eq(d)).attr("model").toString()];a.remPlaceFromList(b,g);f=0;c(a.route_points).each(function(){this===g&&(a.route_points.splice(f,1),a.remPlaceFromList(b,g),a.mmap.geoObjects.each(function(b){if(b.model&&b.model===g)return a.mmap.geoObjects.remove(b)}));return f+=1});return a.change_route_numeration("")}),c(".trip-list.trip-list_deleteable .js-delete").click(function(){var a;b=c(this).closest(".trip-list");a=b.find(".item").eq(d);a.data("id");
a.remove();return b.find(".item").each(function(){return c(this).find(".number").html(c(this).index())})})};return d}(a.Views.ItemView);return b.Tags=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="IconTemplate";return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("ProfileApp.List",function(b,a,d,g,c,k){var l;return b.Controller=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){console.log("initialize ProfileApp.List.Controller");this.user=a.request("get:my:profile");if(this.user.get("authorized"))switch(this.user.fetch(),
this.showDashboard(),this.options.section){case "likes":return this.showMyLikes();case "settings":return this.showSettings();default:return this.showMyYapens()}else a.vent.trigger("show:login:popup")};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showDashboard=function(){var c;c=new b.ProfileDashboard({model:this.user,section:this.options.section});this.show(c,{region:a.headerRegion.currentView.dashboardRegion,loading:!0});a.vent.trigger("hide:map:region");a.vent.trigger("hide:destination:region");
return a.vent.trigger("show:dashboard:region")};d.prototype.showMyYapens=function(){return a.vent.trigger("filter:all:yapens",{user:this.user.get("id"),s:null})};d.prototype.showMyLikes=function(){return a.vent.trigger("filter:all:yapens",{user:this.user.get("id"),s:null})};d.prototype.showSettings=function(){var c;c=new b.ProfileSettings({model:this.user});return this.show(c,{region:a.boardRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("ProfileApp.List",function(b,a,d,g,c,k){var l,h,p;b.ProfileDashboard=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="Dashboard";c.prototype.className="constrain clearfix";c.prototype.modelEvents={change:"calculateTotalAdded render"};
c.prototype.initialize=function(b){var c=this;this.section=b.section;return a.execute("when:fetched",this.model,function(){var a;a=c.model.get("added_events")+c.model.get("added_points");return c.model.set("total_added",a)})};c.prototype.templateHelpers=function(){return{section:this.section}};c.prototype.calculateTotalAdded=function(){var a;a=this.model.get("added_events")+this.model.get("added_points");return this.model.set("total_added",a)};c.prototype.onRender=function(){return this.tips=this.$(".box__img .icon").tooltip({placement:"bottom"})};
return c}(a.Views.ItemView);b.ProfileSettings=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="DashboardSettings";d.prototype.className="dashboard-settings";d.prototype.ui={email:"[name=email]",fullname:"[name=fullname]",username:"[name=username]",about:"[name=about]",phone:"[name=phone]",website:"[name=website]",city:"[name=city]"};d.prototype.events={"click .save-settings":"saveSettings","click .js-popup-login-commercial":"showCommercialPopup"};
d.prototype.modelEvents={change:"render"};d.prototype.onShow=function(){c(".header__title").removeClass("hide");return c(".header__filter").addClass("hide")};d.prototype.onClose=function(){c(".header__title").addClass("hide");return c(".header__filter").removeClass("hide")};d.prototype.showCommercialPopup=function(b){b.preventDefault();return a.vent.trigger("show:commercial:popup")};d.prototype.saveSettings=function(b){b.preventDefault();this.model.set({email:this.ui.email.val(),fullname:this.ui.fullname.val(),
username:this.ui.username.val(),about:this.ui.about.val(),phone:this.ui.phone.val(),website:this.ui.website.val(),city:this.ui.city.val()});return this.model.save(this.model.changed,{patch:!0,success:function(){return a.vent.trigger("show:info:popup","\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}})};return d}(a.Views.ItemView);return b.CommercialView=function(b){function c(){return p=c.__super__.constructor.apply(this,
arguments)}f(c,b);c.prototype.template="CommercialPopup";c.prototype.className="popupwin__scrollbox";c.prototype.ui={fullname:"[name=fullname]",email:"[name=email]",company:"[name=company]",phone:"[name=phone]"};c.prototype.events={"click .js-finish":"saveInfo"};c.prototype.saveInfo=function(b){var c,d,e,f;b.preventDefault();this.ui.fullname.val()?(e=this.ui.fullname.val(),this.ui.fullname.parent().removeClass("error")):this.ui.fullname.parent().addClass("error");this.ui.email.val()?(d=this.ui.email.val(),
this.ui.email.parent().removeClass("error")):this.ui.email.parent().addClass("error");this.ui.company.val()?(c=this.ui.company.val(),this.ui.company.parent().removeClass("error")):this.ui.company.parent().addClass("error");this.ui.phone.val()?(f=this.ui.phone.val(),this.ui.phone.parent().removeClass("error")):this.ui.phone.parent().addClass("error");if(e&&d&&c&&f)return console.log(e,d,c,f),a.commercialPopupRegion.close(),a.vent.trigger("show:info:popup","\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0432\u0430\u043c \u043f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u044f\u0442 \u0434\u043b\u044f \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438")};
return c}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(e,a){function d(){this.constructor=e}for(var f in a)b.call(a,f)&&(e[f]=a[f]);d.prototype=a.prototype;e.prototype=new d;e.__super__=a.prototype;return e};this.Yapp.module("ProfileApp",function(b,a,d,g,c,k){var l,h;b.Router=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.appRoutes={"dashboard/":"index","dashboard/likes/":"likes","dashboard/settings/":"settings"};return b}(g.AppRouter);l={index:function(){console.log("ProfileApp index url");
return new b.List.Controller},likes:function(){console.log("ProfileApp likes url");return new b.List.Controller({section:"likes"})},settings:function(){console.log("ProfileApp settings url");return new b.List.Controller({section:"settings"})}};a.vent.on("show:commercial:popup",function(){var c;c=new b.List.CommercialView;return a.commercialPopupRegion.show(c)});a.vent.on("show:dashboard:region",function(){if(a.headerRegion.currentView.dashboardRegion.$el)return a.headerRegion.$el.addClass("header_small"),
a.headerRegion.currentView.dashboardRegion.$el.removeClass("hide")});a.vent.on("hide:dashboard:region",function(){if(a.headerRegion.currentView.dashboardRegion.$el)return a.headerRegion.$el.removeClass("header_small"),a.headerRegion.currentView.dashboardRegion.$el.addClass("hide")});return a.addInitializer(function(){return new b.Router({controller:l})})})}).call(this);
=======
+function(b){var f=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};f.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};f.prototype.init=function(a,d,e){this.enabled=!0;this.type=a;this.$element=b(d);this.options=this.getOptions(e);a=this.options.trigger.split(" ");
for(d=a.length;d--;)if(e=a[d],"click"==e)this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this));else if("manual"!=e){var c="hover"==e?"mouseleave":"blur";this.$element.on(("hover"==e?"mouseenter":"focus")+"."+this.type,this.options.selector,b.proxy(this.enter,this));this.$element.on(c+"."+this.type,this.options.selector,b.proxy(this.leave,this))}this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};f.prototype.getDefaults=
function(){return f.DEFAULTS};f.prototype.getOptions=function(a){return a=b.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a};f.prototype.getDelegateOptions=function(){var a={},d=this.getDefaults();return this._options&&b.each(this._options,function(b,c){d[b]!=c&&(a[b]=c)}),a};f.prototype.enter=function(a){var d=a instanceof this.constructor?a:b(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show)return d.show();d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)};f.prototype.leave=function(a){var d=a instanceof this.constructor?a:b(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide)return d.hide();d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)};
f.prototype.show=function(){var a=b.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(a),!a.isDefaultPrevented())){var d=this.tip();this.setContent();this.options.animation&&d.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,c=e.test(a);c&&(a=a.replace(e,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(a);this.options.container?d.appendTo(this.options.container):
d.insertAfter(this.$element);var e=this.getPosition(),g=d[0].offsetWidth,f=d[0].offsetHeight;if(c){var h=this.$element.parent(),c=a,n=document.documentElement.scrollTop||document.body.scrollTop,l="body"==this.options.container?window.innerWidth:h.outerWidth(),q="body"==this.options.container?window.innerHeight:h.outerHeight(),h="body"==this.options.container?0:h.offset().left,a="bottom"==a&&e.top+e.height+f-n>q?"top":"top"==a&&0>e.top-n-f?"bottom":"right"==a&&e.right+g>l?"left":"left"==a&&e.left-
g<h?"right":a;d.removeClass(c).addClass(a)}d=this.getCalculatedOffset(a,e,g,f);this.applyPlacement(d,a);this.$element.trigger("shown.bs."+this.type)}};f.prototype.applyPlacement=function(a,b){var e,c=this.tip(),g=c[0].offsetWidth,f=c[0].offsetHeight,h=parseInt(c.css("margin-top"),10),n=parseInt(c.css("margin-left"),10);isNaN(h)&&(h=0);isNaN(n)&&(n=0);a.top+=h;a.left+=n;c.offset(a).addClass("in");h=c[0].offsetWidth;n=c[0].offsetHeight;"top"==b&&n!=f&&(e=!0,a.top=a.top+f-n);/bottom|top/.test(b)?(f=
0,0>a.left&&(f=-2*a.left,a.left=0,c.offset(a),h=c[0].offsetWidth),this.replaceArrow(f-g+h,h,"left")):this.replaceArrow(n-f,n,"top");e&&c.offset(a)};f.prototype.replaceArrow=function(a,b,e){this.arrow().css(e,a?50*(1-a/b)+"%":"")};f.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};f.prototype.hide=function(){function a(){"in"!=d.hoverState&&e.detach()}var d=this,e=this.tip(),
c=b.Event("hide.bs."+this.type);this.$element.trigger(c);if(!c.isDefaultPrevented())return e.removeClass("in"),b.support.transition&&this.$tip.hasClass("fade")?e.one(b.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this};f.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};f.prototype.hasContent=function(){return this.getTitle()};
f.prototype.getPosition=function(){var a=this.$element[0];return b.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())};f.prototype.getCalculatedOffset=function(a,b,e,c){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-e/2}:"top"==a?{top:b.top-c,left:b.left+b.width/2-e/2}:"left"==a?{top:b.top+b.height/2-c/2,left:b.left-e}:{top:b.top+b.height/2-c/2,left:b.left+b.width}};f.prototype.getTitle=function(){var a,
b=this.$element,e=this.options;return a=b.attr("data-original-title")||("function"==typeof e.title?e.title.call(b[0]):e.title),a};f.prototype.tip=function(){return this.$tip=this.$tip||b(this.options.template)};f.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};f.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};f.prototype.enable=function(){this.enabled=!0};f.prototype.disable=function(){this.enabled=
!1};f.prototype.toggleEnabled=function(){this.enabled=!this.enabled};f.prototype.toggle=function(a){a=a?b(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;a.tip().hasClass("in")?a.leave(a):a.enter(a)};f.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var g=b.fn.tooltip;b.fn.tooltip=function(a){return this.each(function(){var d=b(this),e=d.data("bs.tooltip"),c="object"==typeof a&&a;e||d.data("bs.tooltip",e=new f(this,
c));"string"==typeof a&&e[a]()})};b.fn.tooltip.Constructor=f;b.fn.tooltip.noConflict=function(){return b.fn.tooltip=g,this}}(window.jQuery);(function(){window.DEBUG=!1}).call(this);this.Templates=this.Templates||{};this.Templates.AddEventLayout=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="event-step event-step_name" id="event-name-region"></div>\r\n<div class="event-step event-step_what" id="event-what-region"></div>\r\n'});
this.Templates.EventStepName=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_event">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item">2</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <div class="form">\r\n    <form action="/">\r\n      <div class="form__field form__field_name">\r\n        <label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:</label>\r\n        <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0414\u043e\u043c\u0438\u043a \u041f\u0435\u0442\u0440\u0430" value=';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'>\r\n        <span class="star">*</span>\r\n        <div class="already-added hide">\r\n          <div class="already-added__title">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c!</div>\r\n          <ul class="already-added__list">\r\n            <li class="already-added__item">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-1.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u0412\u043e\u043b\u043e\u0433\u0434\u0430</span>\r\n              </a>\r\n            </li>\r\n            <li class="already-added__item active">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-2.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434</span>\r\n              </a>\r\n            </li>\r\n            <li class="already-added__item">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-1.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u041a\u0438\u0435\u0432</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class="form__field form__field_date clearfix">\r\n        <label>\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f:</label>\r\n        <div class="item">\r\n          <input id="dt_start" type="text" class="js-datapicker" placeholder="\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433">\r\n        </div> &mdash;\r\n        <div class="item">\r\n          <input id="dt_end" type="text" class="js-datapicker" placeholder="\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433">\r\n        </div>\r\n      </div>\r\n      <div class="form__field form__field_description">\r\n        <label>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\r\n        <textarea placeholder="\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0442\u0430\u043a,\u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0445\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0432 \u043d\u0435\u043c \u043f\u043e\u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c">';
(a=g.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=e(a)+'</textarea>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class="photo-upload">\r\n    <form action="/photos/add" class="dropzone clearfix" id="place-dropzone">\r\n      <div class="fallback">\r\n        <input name="file" type="file" multiple />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#?" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\r\n</div>\r\n'});
this.Templates.EventStepWhat=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<div class="popupwin__content clearfix">\r\n  <div class="popupwin__title clearfix">\r\n    <div class="steps">\r\n      <ul class="steps__list steps__list_event">\r\n        <li class="steps__item active">1</li>\r\n        <li class="steps__item active">2</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n  <div class="popupwin__container clearfix">\r\n    <div class="field field_tags">\r\n      <div class="field__title">\r\n        \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u043c\u0435\u0441\u0442\u0430:\r\n      </div>\r\n      <div class="select-type"></div>\r\n      <ul class="tags">\r\n        ';
if((f=g.each.call(f,f&&f.additionalLabels,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;d='\r\n        <li class="tags__item">\r\n          <a href="#" class="tags__link" title="';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'"\r\n            data-parent="';(f=g.parent)?f=f.call(a,{hash:{},data:b}):(f=a&&a.parent,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-id="';(f=g.id)?f=f.call(a,
{hash:{},data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-style="';(f=g.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'">';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=e(f)+"</a>\r\n        </li>\r\n        "},d),data:d}))||0===f)b+=f;return b+'\r\n      </ul>\r\n    </div>\r\n    <div class="field">\r\n      <div class="field__title">\u0413\u0434\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c:</div>\r\n      <div class="map map_popupwin mb10">\r\n        <a href="#" class="map__close sprite-close js-map-close"></a>\r\n        <div class="map__container" id="map5"></div>\r\n        <a href="#" class="btn-open js-map-open"></a>\r\n      </div>\r\n      <div class="field__input-place">\r\n        <input class="select-type" type="text" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430 \u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434, \u0443\u043b\u0438\u0446\u0443, \u0434\u043e\u043c">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="popupwin__footer clearfix">\r\n    <a href="#" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\r\n    <a href="#" class="btn btn_color_blue right js-next">\u0413\u043e\u0442\u043e\u0432\u043e</a>\r\n  </div>\r\n</div>\r\n\r\n<div id="points-region"></div>\r\n'});
this.Templates.PointList=Handlebars.template(function(b,f,g,a,d){function e(a,b){var d,e;d='\r\n      <li class="item">\r\n        <a href="#" class="link">\r\n          ';if((e=g["if"].call(a,a&&a.imgs,{hash:{},inverse:n.program(5,k,b),fn:n.program(3,c,b),data:b}))||0===e)d+=e;d+='\r\n          <span data-id="';(e=g.id)?e=e.call(a,{hash:{},data:b}):(e=a&&a.id,e=typeof e===m?e.call(a,{hash:{},data:b}):e);return d+=h(e)+'" class="icon icon_delete sprite-delete-added-photo js-delete"></span>\r\n        </a>\r\n      </li>\r\n      '}
function c(a,b){var c,d;return c=""+('\r\n          <img src="'+h((d=(d=(d=a&&a.imgs,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.thumbnail104x104),typeof d===m?d.apply(a):d))+'" alt="" class="img">\r\n          ')}function k(a,b){return'\r\n          <img src="/static/images/place-unknown.png" alt="" class="img">\r\n          '}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};b="";var m="function",h=this.escapeExpression,n=this;if((f=g["if"].call(f,f&&f.points,{hash:{},inverse:n.noop,
fn:n.program(1,function(a,b){var c,d;c='\r\n<div class="popupwin__content clearfix">\r\n  <div class="popupwin__title clearfix">\r\n    <div class="steps__title">\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430</div>\r\n  </div>\r\n  <div class="already-added-photos">\r\n    <ul class="list clearfix">\r\n      ';if((d=g.each.call(a,a&&a.points,{hash:{},inverse:n.noop,fn:n.program(2,e,b),data:b}))||0===d)c+=d;return c+"\r\n    </ul>\r\n  </div>\r\n</div>\r\n"},
d),data:d}))||0===f)b+=f;return b+"\r\n"});this.Templates.AddPointLayout=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="place-step place-step_name" id="point-name-region"></div>\r\n<div class="place-step place-step_what" id="point-what-region"></div>\r\n<div class="place-step place-step_commerce" id="point-commers-region"></div>\r\n'});
this.Templates.PointStepCommers=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_place">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item active">2</li>\r\n      <li class="steps__item active">3</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <section class="toggle-list">\r\n    <div class="toggle-list__item">\r\n      <div class="toggle-list__title">\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435</div>\r\n      <div class="toggle-list__body">\r\n      <div class="form">\r\n        <div class="field clearfix">\r\n          <div class="item item_add-cont">\r\n            <label>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</label>\r\n            <input type="text">\r\n          </div>\r\n          <div class="item item_add-cont">\r\n            <label>\u0413\u0440\u0443\u043f\u043f\u0430 vkontakte:</label>\r\n            <input type="text" placeholder="vk.com/groupname">\r\n          </div>\r\n        </div>\r\n        <div class="field clearfix">\r\n          <div class="item item_add-cont">\r\n            <label>\u0412\u0435\u0431-\u0441\u0430\u0439\u0442:</label>\r\n            <input type="text">\r\n          </div>\r\n          <div class="item item_add-cont">\r\n            <label>Twitter:</label>\r\n            <input type="text" placeholder="@twittername">\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class="toggle-list__item">\r\n      <div class="toggle-list__title">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b</div>\r\n      <div class="toggle-list__body">\r\n        <section class="working-period clearfix">\r\n          <div class="working-period__choice">\r\n            <ul class="working-days">\r\n              <li class="working-days__item" data-number="1">\u041f\u041d</li>\r\n              <li class="working-days__item" data-number="2">\u0412\u0422</li>\r\n              <li class="working-days__item" data-number="3">\u0421\u0420</li>\r\n              <li class="working-days__item" data-number="4">\u0427\u0422</li>\r\n              <li class="working-days__item" data-number="5">\u041f\u0422</li>\r\n              <li class="working-days__item" data-number="6">\u0421\u0411</li>\r\n              <li class="working-days__item" data-number="7">\u0412\u0421</li>\r\n            </ul>\r\n            <div class="working-time clearfix">\r\n              <input type="text" value="10:00" class="start-time">&nbsp;&nbsp;&mdash;&nbsp;&nbsp;<input type="text" value="18:00" class="end-time">\r\n              <a href="#?" class="btn btn_color_green js-add-days">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\r\n            </div>\r\n            <div class="note">\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043d\u0435\u0439</div>\r\n          </div>\r\n          <ul class="working-period__result">\r\n            <li class="item hide">\r\n              <span class="days"></span>\r\n              <span class="time"></span>\r\n              <a href="#?" class="delete js-delete"></a>\r\n            </li>\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    </div>\r\n    <div class="toggle-list__item">\r\n      <div class="toggle-list__title">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438</div>\r\n      <div class="toggle-list__body">\r\n        <div class="form-detail">\r\n          <div class="field field_price clearfix">\r\n            <label>\u0426\u0435\u043d\u0430:</label>\r\n            <div class="input-wrap right">\r\n              \u043e\u0442<input type="text">&nbsp;&nbsp;&nbsp;&nbsp;\u0434\u043e <input type="text">&nbsp;<span class="sprite-ruble-dark"></span>\r\n            </div>\r\n          </div>\r\n          <div class="field clearfix">\r\n            <label>\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f:</label>\r\n            <div class="input-wrap right">\r\n              <div class="select-quasi">\r\n                <div class="select-quasi__btn js-select-quasi">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</div>\r\n                <ul class="select-quasi__list">\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u0417\u0430\u0432\u0442\u0440\u0430\u043a\r\n                    </label>\r\n                  </li>\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447\r\n                    </label>\r\n                  </li>\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u041b\u0438\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438 \u0435\u0434\u044b\r\n                    </label>\r\n                  </li>\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u0423\u0436\u0438\u043d\r\n                    </label>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="field field_sub clearfix">\r\n            <label>\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group1" data-value="open"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group1" checked="checked" data-value="close"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n            <div class="input-wrap input-wrap_checkbox clear clearfix">\r\n              <label><input type="checkbox"><span></span> Visa</label>\r\n              <label><input type="checkbox"><span></span> MasterCard</label>\r\n              <label><input type="checkbox"><span></span> American Express</label>\r\n              <label><input type="checkbox"><span></span> Discover</label>\r\n            </div>\r\n          </div>\r\n          <div class="field clearfix">\r\n            <label>\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group2"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group2" checked="checked"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n          </div>\r\n          <div class="field field_sub clearfix">\r\n            <label>WiFi:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group3" data-value="open"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group3" checked="checked" data-value="close"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n            <div class="input-wrap input-wrap_checkbox clear clearfix">\r\n              <label><input type="checkbox"><span></span> \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439</label>\r\n              <label><input type="checkbox"><span></span> \u041f\u043b\u0430\u0442\u043d\u044b\u0439</label>\r\n            </div>\r\n          </div>\r\n          <div class="field clearfix">\r\n            <label>\u0423\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u0435\u0440\u0430\u043d\u0434\u0430:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group4"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group4" checked="checked"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n          </div>\r\n          <div class="field field_price clearfix">\r\n            <label>\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group5"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group5" checked="checked"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\x3c!-- class="toggle-list" --\x3e\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#?" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\r\n  <a href="#?" class="btn btn_color_blue right js-finish">\u0413\u043e\u0442\u043e\u0432\u043e</a>\r\n</div>\r\n'});
this.Templates.PointStepName=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_place">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item">2</li>\r\n      <li class="steps__item">3</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <div class="form">\r\n    <form action="/">\r\n      <div class="form__field form__field_name">\r\n        <label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\r\n        <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0414\u043e\u043c\u0438\u043a \u041f\u0435\u0442\u0440\u0430" value="';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'">\r\n        <span class="star">*</span>\r\n        <div class="already-added hide">\r\n          <div class="already-added__title">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c!</div>\r\n          <ul class="already-added__list">\r\n            <li class="already-added__item">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-1.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u0412\u043e\u043b\u043e\u0433\u0434\u0430</span>\r\n              </a>\r\n            </li>\r\n            <li class="already-added__item active">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-2.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434</span>\r\n              </a>\r\n            </li>\r\n            <li class="already-added__item">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-1.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u041a\u0438\u0435\u0432</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class="form__field form__field_description">\r\n        <label>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\r\n        <textarea placeholder="\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u044d\u0442\u043e\u0442 \u043c\u0435\u0441\u0442\u043e \u0442\u0430\u043a,\u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0445\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0442\u0443\u0434\u0430 \u043f\u043e\u0435\u0445\u0430\u0442\u044c">';
(a=g.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=e(a)+'</textarea>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class="photo-upload">\r\n    <form action="/photos/add" class="dropzone clearfix" id="place-dropzone">\r\n      <div class="fallback">\r\n        <input name="file" type="file" multiple />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#?" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\r\n</div>\r\n'});
this.Templates.PointStepWhat=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_place">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item active">2</li>\r\n      <li class="steps__item">3</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <div class="field">\r\n    <div class="field__title">\u0423\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u0437\u0430 \u043c\u0435\u0441\u0442\u043e:</div>\r\n    <ul class="categories categories_tag">\r\n      ';
if((a=g.each.call(f,f&&f.rootLabels,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;d='\r\n      <li class="categories__item">\r\n      <a href="#" class="categories__link sprite-filter-photo ';(f=g.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'"\r\n        data-id="';(f=g.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-style="';(f=g.style)?f=f.call(a,
{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-text="';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'"\r\n        data-placement="bottom" title="';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=e(f)+'"></a>\r\n      </li>\r\n      '},d),data:d}))||0===a)b+=a;b+='\r\n    </ul>\r\n  </div>\r\n  <div class="field field_tags hide">\r\n    <div class="field__title">\r\n      \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u043c\u0435\u0441\u0442\u0430:\r\n    </div>\r\n    <div class="select-type"></div>\r\n    <ul class="tags">\r\n      ';
if((a=g.each.call(f,f&&f.additionalLabels,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,f;d='\r\n      <li class="tags__item">\r\n        <a href="#" class="tags__link" title="';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'"\r\n          data-parent="';(f=g.parent)?f=f.call(a,{hash:{},data:b}):(f=a&&a.parent,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-id="';(f=g.id)?f=f.call(a,{hash:{},
data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-style="';(f=g.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'">';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=e(f)+"</a>\r\n      </li>\r\n      "},d),data:d}))||0===a)b+=a;b+='\r\n    </ul>\r\n  </div>\r\n  <div class="field">\r\n    <div class="field__title">\u0413\u0434\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f:</div>\r\n    <div class="map map_popupwin mb10">\r\n      <a href="#" class="map__close sprite-close js-map-close"></a>\r\n      <div class="map__container" id="map5"></div>\r\n      <a href="#" class="btn-open js-map-open"></a>\r\n    </div>\r\n    <div class="field__input-map">\r\n      <input type="text" placeholder="\u0413\u043e\u0440\u043e\u0434, \u0443\u043b\u0438\u0446\u0430, \u0434\u043e\u043c" value="';
(a=g.address)?a=a.call(f,{hash:{},data:d}):(a=f&&f.address,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=e(a)+'">\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\r\n  <a href="#" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\r\n</div>\r\n'});
this.Templates.EventComments=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};b="";var e,c=this.escapeExpression,k=g.helperMissing,m=g.blockHelperMissing;e={hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,e,f;d=""+('\r\n  <li class="comments__item">\r\n    <a href="#" class="photo">\r\n      <img src="'+c((e=(e=a&&a.author,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(a):e))+'" alt="user1" class="photo__img">\r\n    </a>\r\n    <div class="text">\r\n      <div class="text__info">\r\n        <a href="#" class="name">'+
c((e=(e=a&&a.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(a):e))+" "+c((e=(e=a&&a.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(a):e))+'</a>\r\n        <span class="time">&bull; ');f={hash:{},data:b};d+=c((e=g.dateFormat||a&&a.dateFormat,e?e.call(a,a&&a.created,f):k.call(a,"dateFormat",a&&a.created,f)))+'</span>\r\n      </div>\r\n      <div class="text__comment">';(e=g.review)?e=e.call(a,{hash:{},data:b}):(e=a&&a.review,e="function"===typeof e?e.call(a,
{hash:{},data:b}):e);return d+=c(e)+"</div>\r\n    </div>\r\n  </li>\r\n"},d),data:d};(a=g.reviews)?a=a.call(f,e):(a=f&&f.reviews,a="function"===typeof a?a.call(f,e):a);g.reviews||(a=m.call(f,a,e));if(a||0===a)b+=a;b+="\r\n";if((f=g["if"].call(f,(a=f&&f.user,null==a||!1===a?a:a.authorized),{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;return d=""+('\r\n<li class="comments__item">\r\n  <form class="comment-form" action="/">\r\n    <a href="#" class="photo">\r\n      <img src="'+
c((e=(e=a&&a.user,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(a):e))+'" alt="'+c((e=(e=a&&a.user,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(a):e))+" "+c((e=(e=a&&a.user,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(a):e))+'" class="photo__img">\r\n    </a>\r\n    <div class="text">\r\n      <textarea name="review_text" placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea>\r\n      <input type="submit" class="btn btn_color_blue" value="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c">\r\n    </div>\r\n  </form>\r\n</li>\r\n')},
d),data:d}))||0===f)b+=f;return b+"\r\n"});
this.Templates.EventHeader=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e,c=g.helperMissing,k=this.escapeExpression;b=""+('<a href="#" class="user">\r\n  <img src="'+k((e=(e=f&&f.author,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(f):e))+'" alt="'+k((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+k((e=(e=f&&f.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(f):
e))+'" class="img">\r\n  <span class="name">'+k((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+k((e=(e=f&&f.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(f):e))+'</span><br>\r\n  \u0434\u043e\u0431\u0430\u0432\u0438\u043b <span class="type c-event">\u0421\u043e\u0431\u044b\u0442\u0438\u0435</span>\r\n</a>\r\n<ul class="actions">\r\n  <li class="item">\r\n  <div class="date c-event">\r\n    ');if((e=g["if"].call(f,f&&f.dt_start,{hash:{},
inverse:this.noop,fn:this.program(1,function(a,b){var d,e;d={hash:{format:"D.MM"},data:b};return d=""+(k((e=g.dateFormat||a&&a.dateFormat,e?e.call(a,a&&a.dt_start,d):c.call(a,"dateFormat",a&&a.dt_start,d)))+"&mdash;")},d),data:d}))||0===e)b+=e;if((e=g["if"].call(f,f&&f.dt_end,{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;e={hash:{format:"D.MM"},data:b};return k((d=g.dateFormat||a&&a.dateFormat,d?d.call(a,a&&a.dt_end,e):c.call(a,"dateFormat",a&&a.dt_end,e)))},d),data:d}))||0===
e)b+=e;b+='\r\n  </div>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#" class="btn-like ';if((e=g["if"].call(f,f&&f.isliked,{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){return"active"},d),data:d}))||0===e)b+=e;b+='" data-toggle="tooltip" data-original-title="\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f" data-placement="bottom">\r\n      <span class="icon sprite-like-user"></span>\r\n      <span class="text">';
if((e=g["if"].call(f,f&&f.likes_count,{hash:{},inverse:this.program(9,function(a,b){return"0"},d),fn:this.program(7,function(a,b){var c;(c=g.likes_count)?c=c.call(a,{hash:{},data:b}):(c=a&&a.likes_count,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return k(c)},d),data:d}))||0===e)b+=e;return b+'</span>\r\n    </a>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#" class="btn-place">\r\n      <span class="icon sprite-place-user"></span>\u0412 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\r\n    </a>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#" class="btn-upload">\r\n      <span class="icon sprite-upload"></span>\r\n    </a>\r\n    <div class="soc-wrap">\r\n      <ul class="soc-list">\r\n        <li class="soc-list__item">\r\n          <a href="#" class="btn-soc btn-soc_tw">Twitter</a>\r\n        </li>\r\n        <li class="soc-list__item">\r\n          <a href="#" class="btn-soc btn-soc_vk">\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\r\n        </li>\r\n        <li class="soc-list__item">\r\n          <a href="#" class="btn-soc btn-soc_fb">Facebook</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </li>\r\n</ul>\r\n'});
this.Templates.EventLayout=Handlebars.template(function(b,f,g,a,d){function e(a,b){var c,d;c='\r\n        <li class="item">\r\n          <a data-id="';(d=g.id)?d=d.call(a,{hash:{},data:b}):(d=a&&a.id,d=typeof d===k?d.call(a,{hash:{},data:b}):d);c+=m(d)+'" href="#" class="link c-place js-popupwin-place">';(d=g.name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.name,d=typeof d===k?d.call(a,{hash:{},data:b}):d);c+=m(d)+'</a>\r\n          <div class="description__address">';(d=g.address)?d=d.call(a,{hash:{},
data:b}):(d=a&&a.address,d=typeof d===k?d.call(a,{hash:{},data:b}):d);return c+=m(d)+"</div>\r\n        </li>\r\n        "}function c(a,b){var c,d;return c=""+('\r\n      <li class="peoples__item">\r\n        <a href="#" class="peoples__link">\r\n          <img src="'+m((d=(d=a&&a.author,null==d||!1===d?d:d.icon),typeof d===k?d.apply(a):d))+'" alt="user" class="peoples__img">\r\n        </a>\r\n      </li>\r\n    ')}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var k="function",
m=this.escapeExpression,h=this,n=g.blockHelperMissing;b='<div class="popupwin__content clearfix">\r\n  <div id="event-header-region" class="place-info clearfix"></div>\r\n  \r\n  <div id="event-photo-region"></div> \r\n\r\n  <div class="description">\r\n    <h3 class="description__title">';(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===k?a.call(f,{hash:{},data:d}):a);b+=m(a)+'</h3>\r\n    <p class="description__text">';(a=g.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,
a=typeof a===k?a.call(f,{hash:{},data:d}):a);b+=m(a)+"</p>\r\n    ";if((a=g["if"].call(f,f&&f.points,{hash:{},inverse:h.noop,fn:h.program(1,function(a,b){var c,d;c='\r\n    <div class="description__places">\r\n      <div class="title"><span class="c-event">\u0421\u043e\u0431\u044b\u0442\u0438\u0435</span> \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0432 \u043c\u0435\u0441\u0442\u0430\u0445:</div>\r\n      <ul class="list">\r\n        ';if((d=g.each.call(a,a&&a.points,{hash:{},inverse:h.noop,
fn:h.program(2,e,b),data:b}))||0===d)c+=d;return c+"\r\n      </ul>\r\n    </div>\r\n    "},d),data:d}))||0===a)b+=a;b+='\r\n  </div>\r\n\r\n  <div class="map map_popupwin">\r\n    <a href="#" class="map__close sprite-close js-map-close"></a>\r\n    <div class="map__container" id="map2"></div>\r\n    <a href="#" class="btn-open js-map-open"></a>\r\n  </div>\r\n\r\n  <div class="comments-wrap" id="event-comments-region"></div>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n\r\n<div class="popupwin__content clearfix">\r\n  <div class="title title_blue title_bg_light">\u0418\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c:</div>\r\n  <ul class="peoples">\r\n    <li class="peoples__item">\r\n      <a href="#" class="peoples__link">\r\n        <img src="/static/images/guest.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n\r\n';
if((a=g["if"].call(f,f&&f.sets,{hash:{},inverse:h.noop,fn:h.program(4,function(a,b){var d,e,f;d='\r\n<div class="popupwin__content clearfix">\r\n  <div class="title title_green title_bg_light">\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a \u0441\u0435\u0431\u0435 \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435:</div>\r\n  <ul class="peoples">\r\n    ';f={hash:{},inverse:h.noop,fn:h.program(5,c,b),data:b};(e=g.sets)?e=e.call(a,f):(e=a&&a.sets,e=typeof e===k?e.call(a,
f):e);g.sets||(e=n.call(a,e,f));if(e||0===e)d+=e;return d+'\r\n    <li class="peoples__item hide">\r\n      <a href="#" class="peoples__link">\r\n        <img src="/static/images/guest.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n    <li class="peoples__item hide">\r\n      <a href="#" class="peoples__link">\r\n        <img src="/static/images/guest.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n    <li class="peoples__item">\r\n      <a href="#" class="peoples__link peoples__link_all js-more-people">\r\n        \u0415\u0449\u0451\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'},
d),data:d}))||0===a)b+=a;return b+"\r\n"});
this.Templates.EventPhoto=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e,c=this.escapeExpression,k=g.blockHelperMissing;b='<div class="slider">\r\n  <ul class="bxslider bxslider-place">\r\n    ';e={hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,e;d='\r\n    <li class="item"><img src="';(e=g.thumbnail560)?e=e.call(a,{hash:{},data:b}):(e=a&&a.thumbnail560,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return d+=
c(e)+'" class="img" /></li>\r\n    '},d),data:d};(a=g.imgs)?a=a.call(f,e):(a=f&&f.imgs,a="function"===typeof a?a.call(f,e):a);g.imgs||(a=k.call(f,a,e));if(a||0===a)b+=a;b+='\r\n  </ul>\r\n  <div class="bx-pager" id="bx-pager">\r\n    <div class="bx-pager__viewport">\r\n      <div class="bx-pager__scrollbox">\r\n        ';e={hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;d=""+('\r\n        <a data-slide-index="'+c((e=(e=b,null==e||!1===e?e:e.index),"function"===typeof e?e.apply(a):
e))+'" href="" class="bx-pager__item">\r\n          <img src="');(e=g.thumbnail104x104)?e=e.call(a,{hash:{},data:b}):(e=a&&a.thumbnail104x104,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return d+=c(e)+'" class="img"/>\r\n          </a>\r\n        '},d),data:d};(a=g.imgs)?a=a.call(f,e):(a=f&&f.imgs,a="function"===typeof a?a.call(f,e):a);g.imgs||(a=k.call(f,a,e));if(a||0===a)b+=a;return b+'\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <a href="#" class="btn-photo-add js-popup-add-photos">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\r\n</div>\r\n'});
this.Templates.BoardEvent=Handlebars.template(function(b,f,g,a,d){function e(a,b){return"active"}function c(a,b){return"0"}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var k=g.helperMissing,m=this.escapeExpression,h=this;b='<div class="box__title box__title_type_event">\r\n  \u0421\u043e\u0431\u044b\u0442\u0438\u0435 ';if((a=g["if"].call(f,f&&f.dt_start,{hash:{},inverse:h.noop,fn:h.program(1,function(a,b){var c,d;c={hash:{format:"D.MM"},data:b};return c=""+(m((d=g.dateFormat||
a&&a.dateFormat,d?d.call(a,a&&a.dt_start,c):k.call(a,"dateFormat",a&&a.dt_start,c)))+"&ndash;")},d),data:d}))||0===a)b+=a;if((a=g["if"].call(f,f&&f.dt_end,{hash:{},inverse:h.noop,fn:h.program(3,function(a,b){var c,d;d={hash:{format:"D.MM"},data:b};return m((c=g.dateFormat||a&&a.dateFormat,c?c.call(a,a&&a.dt_end,d):k.call(a,"dateFormat",a&&a.dt_end,d)))},d),data:d}))||0===a)b+=a;b+='\r\n</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-event">\r\n    ';if((a=g["if"].call(f,f&&f.imgs,
{hash:{},inverse:h.program(7,function(a,b){var c,d;c='\r\n      <img src="/static/images/place-unknown.png" height="152" alt="';(d=g.name)?d=d.call(a,{hash:{},data:b}):(d=a&&a.name,d="function"===typeof d?d.call(a,{hash:{},data:b}):d);return c+=m(d)+'" class="img">\r\n    '},d),fn:h.program(5,function(a,b){var c,d,e;c=""+('\r\n      <img src="'+m((d=(d=(d=a&&a.imgs,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.thumbnail207),"function"===typeof d?d.apply(a):d))+'" alt="');(e=g.name)?e=e.call(a,{hash:{},
data:b}):(e=a&&a.name,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return c+=m(e)+'" height="'+m((d=(d=(d=a&&a.imgs,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.thumbnail207_height),"function"===typeof d?d.apply(a):d))+'" class="img">\r\n    '},d),data:d}))||0===a)b+=a;b+="\r\n    ";if((a=g["if"].call(f,f&&f.editable,{hash:{},inverse:h.program(11,function(a,b){var c,d;c='\r\n    <div class="icons">\r\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"></a>\r\n      <a href="#?" class="icon sprite-like ';
if((d=g["if"].call(a,a&&a.isliked,{hash:{},inverse:h.noop,fn:h.program(12,e,b),data:b}))||0===d)c+=d;return c+'" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n    '},d),fn:h.program(9,function(a,b){return'\r\n    <div class="btns">\r\n      <a href="#?" class="btn btn_color_green btn_edit">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>\r\n      <a href="#?" class="btn btn_color_red btn_remove">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>\r\n    </div>\r\n    '},
d),data:d}))||0===a)b+=a;b+='\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=m(a)+'</div>\r\n  <span class="info info_like">';if((a=g["if"].call(f,f&&f.likes_count,{hash:{},inverse:h.program(16,c,d),fn:h.program(14,function(a,b){var c;(c=g.likes_count)?c=c.call(a,{hash:{},data:b}):(c=a&&a.likes_count,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return m(c)},
d),data:d}))||0===a)b+=a;b+='</span>\r\n  <span class="info info_comment">';if((a=g["if"].call(f,f&&f.reviews,{hash:{},inverse:h.program(16,c,d),fn:h.program(18,function(a,b){var c;return m((c=(c=a&&a.reviews,null==c||!1===c?c:c.length),"function"===typeof c?c.apply(a):c))},d),data:d}))||0===a)b+=a;return b+='</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+m((a=(a=f&&f.author,null==a||!1===a?a:a.icon),"function"===typeof a?a.apply(f):a))+'" alt="'+m((a=(a=f&&f.author,null==a||!1===
a?a:a.first_name),"function"===typeof a?a.apply(f):a))+" "+m((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),"function"===typeof a?a.apply(f):a))+'" class="img">\r\n  <div class="text">\r\n    \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043b<br>\r\n    <span class="name">'+m((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),"function"===typeof a?a.apply(f):a))+" "+m((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),"function"===typeof a?a.apply(f):a))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardPoint=Handlebars.template(function(b,f,g,a,d){function e(a,b){return"active"}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var c=this.escapeExpression,k=this;b='<div class="box__title box__title_type_place">\u041c\u0435\u0441\u0442\u043e</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-place">\r\n    ';if((a=g["if"].call(f,f&&f.imgs,{hash:{},inverse:k.program(3,function(a,b){var d,e;d='\r\n      <img src="/static/images/place-unknown.png" height="152" alt="';
(e=g.name)?e=e.call(a,{hash:{},data:b}):(e=a&&a.name,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return d+=c(e)+'" class="img">\r\n    '},d),fn:k.program(1,function(a,b){var d,e;d=""+('\r\n      <img src="'+c((e=(e=(e=a&&a.imgs,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?e.apply(a):e))+'" height="'+c((e=(e=(e=a&&a.imgs,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207_height),"function"===typeof e?e.apply(a):e))+'" alt="');(e=g.name)?e=e.call(a,
{hash:{},data:b}):(e=a&&a.name,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return d+=c(e)+'" class="img">\r\n    '},d),data:d}))||0===a)b+=a;b+="\r\n    ";if((a=g["if"].call(f,f&&f.editable,{hash:{},inverse:k.program(7,function(a,b){var c,d;c='\r\n    <div class="icons">\r\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like ';if((d=g["if"].call(a,
a&&a.isliked,{hash:{},inverse:k.noop,fn:k.program(8,e,b),data:b}))||0===d)c+=d;return c+'" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n    '},d),fn:k.program(5,function(a,b){return'\r\n    <div class="btns">\r\n      <a href="#?" class="btn btn_color_green btn_edit">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>\r\n      <a href="#?" class="btn btn_color_red btn_remove">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>\r\n    </div>\r\n    '},
d),data:d}))||0===a)b+=a;b+='\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\r\n  <span class="info info_like">';(a=g.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</span>\r\n  <span class="info info_comment">';if((a=g["if"].call(f,f&&f.reviews,{hash:{},inverse:k.program(12,
function(a,b){return"0"},d),fn:k.program(10,function(a,b){var d;return c((d=(d=a&&a.reviews,null==d||!1===d?d:d.length),"function"===typeof d?d.apply(a):d))},d),data:d}))||0===a)b+=a;return b+"</span>\r\n</div>\r\n"});
this.Templates.BoardRoute=Handlebars.template(function(b,f,g,a,d){function e(a,b){var d,e;d=""+('\r\n        <img src="'+k((e=(e=(e=(e=(e=a&&a.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),typeof e===c?e.apply(a):e))+'" height="'+k((e=(e=(e=(e=(e=a&&a.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207_height),typeof e===c?e.apply(a):e))+'" alt="');(e=g.name)?e=e.call(a,
{hash:{},data:b}):(e=a&&a.name,e=typeof e===c?e.call(a,{hash:{},data:b}):e);return d+=k(e)+'" class="img">\r\n      '}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var c="function",k=this.escapeExpression,m=this;b='<div class="box__title box__title_type_route">\u041c\u0430\u0440\u0448\u0440\u0443\u0442</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-route">\r\n    ';if((a=g["if"].call(f,f&&f.points,{hash:{},inverse:m.program(4,function(a,b){var d,e;d='\r\n      <img src="/static/images/place-unknown.png" height="152" alt="';
(e=g.name)?e=e.call(a,{hash:{},data:b}):(e=a&&a.name,e=typeof e===c?e.call(a,{hash:{},data:b}):e);return d+=k(e)+'" class="img">\r\n    '},d),fn:m.program(1,function(a,b){var c,d,f;c="\r\n      ";if((f=g["if"].call(a,(d=(d=a&&a.points,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.imgs),{hash:{},inverse:m.noop,fn:m.program(2,e,b),data:b}))||0===f)c+=f;return c+"\r\n    "},d),data:d}))||0===a)b+=a;b+='\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===c?a.call(f,{hash:{},data:d}):a);b+=k(a)+'</div>\r\n  <span class="info info_like">';(a=g.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a=typeof a===c?a.call(f,{hash:{},data:d}):a);return b+=k(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+k((a=(a=f&&f.author,null==a||!1===a?a:a.icon),typeof a===c?a.apply(f):a))+'" alt="'+k((a=(a=f&&f.author,null==a||
!1===a?a:a.first_name),typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardSet=Handlebars.template(function(b,f,g,a,d){function e(a,b){var d,e;d=""+('\r\n        <img src="'+k((e=(e=(e=(e=(e=a&&a.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),typeof e===c?e.apply(a):e))+'" height="'+k((e=(e=(e=(e=(e=a&&a.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207_height),typeof e===c?e.apply(a):e))+'" alt="');(e=g.name)?e=e.call(a,
{hash:{},data:b}):(e=a&&a.name,e=typeof e===c?e.call(a,{hash:{},data:b}):e);return d+=k(e)+'" class="img">\r\n      '}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var c="function",k=this.escapeExpression,m=this;b='<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    ';if((a=g["if"].call(f,f&&f.points,{hash:{},inverse:m.program(4,function(a,b){var d,e;d='\r\n      <img src="/static/images/place-unknown.png" height="152" alt="';
(e=g.name)?e=e.call(a,{hash:{},data:b}):(e=a&&a.name,e=typeof e===c?e.call(a,{hash:{},data:b}):e);return d+=k(e)+'" class="img">\r\n    '},d),fn:m.program(1,function(a,b){var c,d,f;c="\r\n      ";if((f=g["if"].call(a,(d=(d=a&&a.points,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.imgs),{hash:{},inverse:m.noop,fn:m.program(2,e,b),data:b}))||0===f)c+=f;return c+"\r\n    "},d),data:d}))||0===a)b+=a;b+="\r\n    ";if((a=g["if"].call(f,f&&f.editable,{hash:{},inverse:m.program(8,function(a,b){return'\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n    '},
d),fn:m.program(6,function(a,b){return'\r\n    <div class="btns">\r\n      <a href="#?" class="btn btn_color_green btn_edit">\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>\r\n      <a href="#?" class="btn btn_color_red btn_remove">\u0423\u0434\u0430\u043b\u0438\u0442\u044c</a>\r\n    </div>\r\n    '},d),data:d}))||0===a)b+=a;b+='\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=
typeof a===c?a.call(f,{hash:{},data:d}):a);b+=k(a)+'</div>\r\n  <span class="info info_like">';if((a=g["if"].call(f,f&&f.likes_count,{hash:{},inverse:m.program(12,function(a,b){return"0"},d),fn:m.program(10,function(a,b){var d;(d=g.likes_count)?d=d.call(a,{hash:{},data:b}):(d=a&&a.likes_count,d=typeof d===c?d.call(a,{hash:{},data:b}):d);return k(d)},d),data:d}))||0===a)b+=a;return b+='</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+k((a=
(a=f&&f.author,null==a||!1===a?a:a.icon),typeof a===c?a.apply(f):a))+'" alt="'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),typeof a===c?a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+k((a=(a=f&&f.author,null==a||!1===a?a:a.first_name),typeof a===c?
a.apply(f):a))+" "+k((a=(a=f&&f.author,null==a||!1===a?a:a.last_name),typeof a===c?a.apply(f):a))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardTrip=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e,c=this.escapeExpression;b=""+('<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+c((e=(e=(e=(e=(e=f&&f.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===
typeof e?e.apply(f):e))+'" alt="');(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\r\n  <span class="info info_like">';(a=g.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=c(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+c((e=(e=f&&f.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(f):e))+'" alt="'+
c((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+c((e=(e=f&&f.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(f):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+c((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+c((e=(e=f&&f.author,null==e||!1===
e?e:e.last_name),"function"===typeof e?e.apply(f):e))+"</span>\r\n  </div>\r\n</div>\r\n"});this.Templates.AddPhotoPopup=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="popupwin__content clearfix">\r\n  <div class="popupwin__title clearfix">\r\n    \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438\r\n  </div>\r\n  <div class="popupwin__container">\r\n    <div class="photo-upload">\r\n      <form class="dropzone clearfix" id="photos-dropzone">\r\n        <div class="fallback">\r\n          <input name="file" type="file" multiple />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class="popupwin__footer clearfix">\r\n    <a href="#" class="btn btn_color_blue right js-finish">\u0413\u043e\u0442\u043e\u0432\u043e</a>\r\n  </div>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'});
this.Templates.PointComments=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};b="";var e,c=this.escapeExpression,k=g.helperMissing,m=g.blockHelperMissing;e={hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,e,f;d=""+('\r\n  <li class="comments__item">\r\n    <a href="#" class="photo">\r\n      <img src="'+c((e=(e=a&&a.author,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(a):e))+'" alt="user1" class="photo__img">\r\n    </a>\r\n    <div class="text">\r\n      <div class="text__info">\r\n        <a href="#" class="name">'+
c((e=(e=a&&a.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(a):e))+" "+c((e=(e=a&&a.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(a):e))+'</a>\r\n        <span class="time">&bull; ');f={hash:{},data:b};d+=c((e=g.dateFormat||a&&a.dateFormat,e?e.call(a,a&&a.created,f):k.call(a,"dateFormat",a&&a.created,f)))+'</span>\r\n      </div>\r\n      <div class="text__comment">';f={hash:{},data:b};return d+=c((e=g.safe||a&&a.safe,e?e.call(a,a&&a.review,f):k.call(a,
"safe",a&&a.review,f)))+"</div>\r\n    </div>\r\n  </li>\r\n"},d),data:d};(a=g.reviews)?a=a.call(f,e):(a=f&&f.reviews,a="function"===typeof a?a.call(f,e):a);g.reviews||(a=m.call(f,a,e));if(a||0===a)b+=a;b+="\r\n";if((f=g["if"].call(f,(a=f&&f.user,null==a||!1===a?a:a.authorized),{hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;return d=""+('\r\n<li class="comments__item">\r\n  <form class="comment-form" action="/">\r\n    <a href="#" class="photo">\r\n      <img src="'+c((e=(e=a&&
a.user,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(a):e))+'" alt="user1" class="photo__img">\r\n    </a>\r\n    <div class="text">\r\n      <textarea name="review_text" placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea>\r\n      <input type="submit" class="btn btn_color_blue" value="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c">\r\n    </div>\r\n  </form>\r\n</li>\r\n')},
d),data:d}))||0===f)b+=f;return b+"\r\n"});
this.Templates.PointHeader=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e;a=this.escapeExpression;b=""+('<a href="#" class="user">\r\n  <img src="'+a((e=(e=f&&f.author,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(f):e))+'" alt="" class="img">\r\n  <span class="name">'+a((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+a((e=(e=f&&f.author,null==e||!1===e?e:e.last_name),"function"===
typeof e?e.apply(f):e))+'</span><br>\r\n  \u0434\u043e\u0431\u0430\u0432\u0438\u043b <span class="type c-place">\u043c\u0435\u0441\u0442\u043e</span>\r\n</a>\r\n<ul class="actions">\r\n  <li class="item">\r\n    <a href="#?" class="btn-like ');if((e=g["if"].call(f,f&&f.isliked,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return"active"},d),data:d}))||0===e)b+=e;b+='" data-toggle="tooltip" data-original-title="\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f" data-placement="bottom">\r\n      <span class="icon sprite-like-user"></span>\r\n      <span class="text">';
(e=g.likes_count)?e=e.call(f,{hash:{},data:d}):(e=f&&f.likes_count,e="function"===typeof e?e.call(f,{hash:{},data:d}):e);return b+=a(e)+'</span>\r\n    </a>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#" class="btn-place">\r\n      <span class="icon sprite-place-user"></span>\u0412 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\r\n    </a>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#" class="btn-upload">\r\n      <span class="icon sprite-upload"></span>\r\n    </a>\r\n    <div class="soc-wrap">\r\n      <ul class="soc-list">\r\n        <li class="soc-list__item">\r\n          <a href="#" class="btn-soc btn-soc_tw">Twitter</a>\r\n        </li>\r\n        <li class="soc-list__item">\r\n          <a href="#" class="btn-soc btn-soc_vk">\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\r\n        </li>\r\n        <li class="soc-list__item">\r\n          <a href="#" class="btn-soc btn-soc_fb">Facebook</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </li>\r\n</ul>\r\n'});
this.Templates.PointLayout=Handlebars.template(function(b,f,g,a,d){function e(a,b){var d,e;return d=""+('\r\n      <li class="peoples__item">\r\n        <a href="#" class="peoples__link">\r\n          <img src="'+k((e=(e=a&&a.author,null==e||!1===e?e:e.icon),typeof e===c?e.apply(a):e))+'" alt="user" class="peoples__img">\r\n        </a>\r\n      </li>\r\n    ')}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var c="function",k=this.escapeExpression,m=this,h=g.blockHelperMissing;
b='<div class="popupwin__content clearfix">\r\n  <div id="point-header-region" class="place-info clearfix"></div>\r\n  \r\n  <div id="point-photo-region"></div> \r\n\r\n  <div class="description">\r\n    <h3 class="description__title">';(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a=typeof a===c?a.call(f,{hash:{},data:d}):a);b+=k(a)+'</h3>\r\n    <p class="description__text">';(a=g.description)?a=a.call(f,{hash:{},data:d}):(a=f&&f.description,a=typeof a===c?a.call(f,{hash:{},data:d}):a);b+=
k(a)+'</p>\r\n    <div class="description__additional commercial-info">\r\n      <div class="commercial-info__head">\r\n        <ul class="list">\r\n          <li class="item item_phone">8 (817) 272-45-50</li>\r\n          <li class="item item_site"><a href="#" class="link">mysite.ru</a></li>\r\n          <li class="item item_tw"><a href="#" class="link">@kirillo_belozer</a></li>\r\n          <li class="item item_vk"><a href="#" class="link">vk.com/groupname</a></li>\r\n        </ul>\r\n        <a href="#" class="link-open js-open"></a>\r\n      </div>\r\n      <div class="commercial-info__body clearfix">\r\n        <ul class="list list_first">\r\n          <li class="item">\r\n            <div class="entry-title">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b:</div>\r\n            <div class="text">\r\n              \u041f\u043d-\u041f\u0442    12:20 - 22:00<br>\r\n              \u0421\u0431-\u0412\u0441    12:00 - 18:00\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b:</div>\r\n            <div class="text">\r\n              \u0414\u0430 (\u0432\u043a\u043b. Visa, Master Card)\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u0423\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u0435\u0440\u0430\u043d\u0434\u0430:  </div>\r\n            <div class="text">\r\n              \u0414\u0430\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <ul class="list list_second">\r\n          <li class="item">\r\n            <div class="entry-title">\u0426\u0435\u043d\u0430:</div>\r\n            <div class="text">\r\n              500 <span class="sprite-ruble-commercial"></span>\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f:</div>\r\n            <div class="text">\r\n              \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447,<br>\r\n              \u041b\u0438\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:  </div>\r\n            <div class="text">\r\n              \u0414\u0430\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <ul class="list list_third">\r\n          <li class="item">\r\n            <div class="entry-title">\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</div>\r\n            <div class="text">\r\n              \u0434\u0430\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">WiFi:</div>\r\n            <div class="text">\r\n              \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <a href="#" class="link-changes">\u0425\u043e\u0447\u0443 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class="description__address">';
(a=g.address)?a=a.call(f,{hash:{},data:d}):(a=f&&f.address,a=typeof a===c?a.call(f,{hash:{},data:d}):a);b+=k(a)+'</div>\r\n  </div>\r\n\r\n  <div class="map map_popupwin">\r\n    <a href="#" class="map__close sprite-close js-map-close"></a>\r\n    <div class="map__container" id="map2"></div>\r\n    <a href="#" class="btn-open js-map-open"></a>\r\n  </div>\r\n\r\n  <div class="comments-wrap" id="point-comments-region"></div>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n\r\n<div class="popupwin__content clearfix">\r\n  <div class="title title_blue title_bg_light">\u0418\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c:</div>\r\n  <ul class="peoples">\r\n    <li class="peoples__item">\r\n      <a href="#" class="peoples__link">\r\n        <img src="/static/images/guest.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n\r\n';
if((a=g["if"].call(f,f&&f.sets,{hash:{},inverse:m.noop,fn:m.program(1,function(a,b){var d,f,k;d='\r\n<div class="popupwin__content clearfix">\r\n  <div class="title title_green title_bg_light">\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a \u0441\u0435\u0431\u0435 \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435:</div>\r\n  <ul class="peoples">\r\n    ';k={hash:{},inverse:m.noop,fn:m.program(2,e,b),data:b};(f=g.sets)?f=f.call(a,k):(f=a&&a.sets,f=typeof f===c?f.call(a,
k):f);g.sets||(f=h.call(a,f,k));if(f||0===f)d+=f;return d+'\r\n    <li class="peoples__item hide">\r\n      <a href="#" class="peoples__link">\r\n        <img src="/static/images/guest.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n    <li class="peoples__item hide">\r\n      <a href="#" class="peoples__link">\r\n        <img src="/static/images/guest.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n    <li class="peoples__item">\r\n      <a href="#" class="peoples__link peoples__link_all js-more-people">\r\n        \u0415\u0449\u0451\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'},
d),data:d}))||0===a)b+=a;return b+"\r\n"});
this.Templates.PointPhoto=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e,c=this.escapeExpression,k=g.blockHelperMissing;b='<div class="slider">\r\n  <ul class="bxslider bxslider-place">\r\n    ';e={hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,e;d='\r\n    <li class="item"><img src="';(e=g.thumbnail560)?e=e.call(a,{hash:{},data:b}):(e=a&&a.thumbnail560,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return d+=
c(e)+'" class="img" /></li>\r\n    '},d),data:d};(a=g.imgs)?a=a.call(f,e):(a=f&&f.imgs,a="function"===typeof a?a.call(f,e):a);g.imgs||(a=k.call(f,a,e));if(a||0===a)b+=a;b+='\r\n  </ul>\r\n  <div class="bx-pager" id="bx-pager">\r\n    <div class="bx-pager__viewport">\r\n      <div class="bx-pager__scrollbox">\r\n        ';e={hash:{},inverse:this.noop,fn:this.program(3,function(a,b){var d,e;d=""+('\r\n        <a data-slide-index="'+c((e=(e=b,null==e||!1===e?e:e.index),"function"===typeof e?e.apply(a):
e))+'" href="" class="bx-pager__item">\r\n          <img src="');(e=g.thumbnail104x104)?e=e.call(a,{hash:{},data:b}):(e=a&&a.thumbnail104x104,e="function"===typeof e?e.call(a,{hash:{},data:b}):e);return d+=c(e)+'" class="img"/>\r\n          </a>\r\n        '},d),data:d};(a=g.imgs)?a=a.call(f,e):(a=f&&f.imgs,a="function"===typeof a?a.call(f,e):a);g.imgs||(a=k.call(f,a,e));if(a||0===a)b+=a;return b+'\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <a href="#" class="btn-photo-add js-popup-add-photos">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\r\n</div>\r\n'});
this.Templates.FooterView=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="logo"><img src="/static/images/logo-footer.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c" class="img"></div>\r\n<div class="constrain">\r\n  <nav class="nav">\r\n    <ul class="nav_list">\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435</a></li>\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</a></li>\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435</a></li>\r\n    </ul>\r\n  </nav>\r\n  <a href="#?" class="link-up js-up">\u0412\u0432\u0435\u0440\u0445</a>\r\n</div>\r\n'});
this.Templates.Ctrls=Handlebars.template(function(b,f,g,a,d){function e(a,b){var c;return h((c=(c=a&&a.user,null==c||!1===c?c:c.icon),typeof c===m?c.apply(a):c))}function c(a,b){var c;return h((c=(c=a&&a.user,null==c||!1===c?c:c.avatar),typeof c===m?c.apply(a):c))}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var k,m="function",h=this.escapeExpression,n=this;b='<div class="header__search">\r\n  <input type="text" placeholder="\u041c\u0435\u0441\u0442\u0430, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f...">\r\n</div>\x3c!-- class="header__search" --\x3e\r\n\r\n<a href="/" class="logo">\r\n  <img src="/static/images/logo.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c">\r\n</a>\r\n\r\n<div class="header__btns">\r\n  ';
if((f=g["if"].call(f,(k=f&&f.user,null==k||!1===k?k:k.authorized),{hash:{},inverse:n.program(6,function(a,b){return'\r\n  <a href="#?" class="btn btn_color_blue js-popupwin-authorization">\u0412\u043e\u0439\u0442\u0438</a>\r\n  '},d),fn:n.program(1,function(a,b){var d,f,k;d='\r\n  <a href="#?" class="btn btn_action_add btn_color_green js-popup-add">\r\n    <span class="sprite-add"></span>\r\n  </a>\r\n    <div class="header__user">\r\n      <a href="#dashboard/" class="link-user">\r\n        <img src="';
if((k=g["if"].call(a,(f=a&&a.user,null==f||!1===f?f:f.icon),{hash:{},inverse:n.program(4,c,b),fn:n.program(2,e,b),data:b}))||0===k)d+=k;return d+='" alt="'+h((f=(f=a&&a.user,null==f||!1===f?f:f.first_name),typeof f===m?f.apply(a):f))+" "+h((f=(f=a&&a.user,null==f||!1===f?f:f.last_name),typeof f===m?f.apply(a):f))+'" class="photo">\r\n        '+h((f=(f=a&&a.user,null==f||!1===f?f:f.first_name),typeof f===m?f.apply(a):f))+"<br>"+h((f=(f=a&&a.user,null==f||!1===f?f:f.last_name),typeof f===m?f.apply(a):
f))+' \r\n      </a>\r\n      <a href="#?" class="btn btn_color_blue js-profile-menu"></a>\r\n      <ul class="profile-menu">\r\n        <li class="item">\r\n          <a href="#dashboard/" class="link">\r\n            <span class="icon sprite-bag"></span>\r\n            \u042f \u0441\u043e\u0437\u0434\u0430\u043b\r\n          </a>\r\n          <a href="#dashboard/likes/" class="link">\r\n            <span class="icon sprite-heart"></span>\r\n            \u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f\r\n          </a>\r\n          <a href="#dashboard/settings/" class="link">\r\n            <span class="icon sprite-settings"></span>\r\n            \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\r\n          </a>\r\n          <a href="/logout/" class="link">\r\n            <span class="icon sprite-power"></span>\r\n            \u0412\u044b\u0445\u043e\u0434\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  '},
d),data:d}))||0===f)b+=f;return b+'\r\n</div>\x3c!-- class="header__btns" --\x3e\r\n'});this.Templates.Destination=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="slogan">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0443\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0430\u043c\u0438</div>\r\n<div class="query">\r\n  <form id="destination-form" action="/">\r\n    <input id="destination-input" type="text" placeholder="\u041a\u0443\u0434\u0430 \u0432\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c?">\r\n    <button type="submit" class="btn btn_color_blue">\u041f\u043e\u0435\u0445\u0430\u043b\u0438</button>\r\n  </form>\r\n</div>\r\n'});
this.Templates.Filter=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<ul class="categories">\r\n  ';if((f=g.each.call(f,f&&f.items,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,f;d='\r\n  <li class="categories__item">\r\n    <a href="#" class="categories__link sprite-filter-photo ';(f=g.style)?f=f.call(a,{hash:{},data:b}):(f=a&&a.style,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);
d+=e(f)+'" data-id="';(f=g.id)?f=f.call(a,{hash:{},data:b}):(f=a&&a.id,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);d+=e(f)+'" data-toggle="tooltip" data-placement="bottom" title="';(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=e(f)+'"></a>\r\n  </li>\r\n  '},d),data:d}))||0===f)b+=f;return b+'\r\n  <li class="categories__item"><a href="#?" class="categories__link categories__link_type_all sprite-filter-all"></a></li>\r\n  \x3c!--\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-photo" data-toggle="tooltip" title="\u0424\u043e\u0442\u043e"></a></li>\r\n  --\x3e\r\n</ul>\r\n<div class="filter-sort">\r\n  <a href="#?" class="sprite-filter-down" data-toggle="tooltip" data-placement="bottom" title="\u041d\u043e\u0432\u043e\u0435"></a>\r\n  <a href="#?" class="sprite-filter-up" data-toggle="tooltip" data-placement="bottom" title="\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"></a>\r\n</div>\r\n<div class="filter-type">\r\n  <a href="#?" class="btn btn_color_grey js-open">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f</a>\r\n  <ul class="filter-type__list">\r\n    <li class="filter-type__item">\r\n      <a data-models="sets" href="#?" class="filter-type__link c-blue">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="points" href="#?" class="filter-type__link c-green">\u041c\u0435\u0441\u0442\u0430</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="routes" href="#?" class="filter-type__link c-brown">\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="events" href="#?" class="filter-type__link c-yellow">\u0421\u043e\u0431\u044b\u0442\u0438\u044f</a>\r\n    </li>\r\n    <li class="filter-type__item filter-type__item_checkbox">\r\n      <label class="checkbox-label">\r\n        <input type="checkbox">\r\n        <span class="checkbox-bg"></span>\r\n      </label>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'});
this.Templates.HeaderView=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="header__ctrls"></div>\r\n<div class="header__destination"></div>\r\n<div class="header__dashboard hide"></div>\r\n<div class="header__filter"></div>\r\n\r\n<div class="header__title hide">\r\n  <div class="constrain">\r\n    <div class="title">\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f</div>\r\n  </div>\r\n</div>\r\n'});
this.Templates.PopupAdd=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="popupwin__content clearfix">\r\n  <div class="popupwin__title clearfix">\r\n    \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\r\n  </div>\r\n  <ul class="stuff-add">\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-place">\r\n        <span class="icon icon_place"></span>\r\n        <span class="btn btn_color_green">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e</span>\r\n        <span class="text">\u0413\u043e\u0440\u043e\u0434, \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430, \u043a\u0430\u0444\u0435, \u0443\u043b\u0438\u0446\u0430...</span>\r\n      </a>\r\n    </li>\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-event">\r\n        <span class="icon icon_event"></span>\r\n        <span class="btn btn_color_yel">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435</span>\r\n        <span class="text">\u0424\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u0438, \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0438, \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438...</span>\r\n      </a>\r\n    </li>\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-route">\r\n        <span class="icon icon_route"></span>\r\n        <span class="btn btn_color_brown">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442</span>\r\n        <span class="text">\u041e\u0442\u043a\u0443\u0434\u0430, \u043a\u0443\u0434\u0430 \u0438 \u043a\u0430\u043a...</span>\r\n      </a>\r\n    </li>\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-trip">\r\n        <span class="icon icon_trip"></span>\r\n        <span class="btn btn_color_blue">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</span>\r\n        <span class="text">\u0424\u043e\u0442\u043e, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043c\u0435\u0441\u0442\u0430</span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'});
this.Templates.PopupLogin=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="popupwin__content clearfix">\r\n  <div class="popupwin__title clearfix">\r\n    \u0412\u043e\u0439\u0442\u0438\r\n  </div>\r\n  <div class="wrap-content">\r\n    <div class="title-entry">\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438</div>\r\n    <ul class="soc-reg">\r\n      <li class="soc-reg__item"><a href="/login/vkontakte-oauth2/" class="link link_vk"></a></li>\r\n      <li class="soc-reg__item"><a href="#?" class="link link_fb"></a></li>\r\n      <li class="soc-reg__item"><a href="#?" class="link link_tw"></a></li>\r\n      <li class="soc-reg__item"><a href="#?" class="link link_odn"></a></li>\r\n      <li class="soc-reg__item"><a href="#?" class="link link_ya"></a></li>\r\n      <li class="soc-reg__item"><a href="#?" class="link link_mail"></a></li>\r\n    </ul>\r\n    <div class="title-entry"><span class="c-place">\u0418\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 e-mail</span></div>\r\n    <form action="/">\r\n      <div class="form">\r\n        <div class="form__field clearfix">\r\n          <div class="form__item form__item_email left">\r\n            <input type="text" placeholder="\u0412\u0430\u0448 email">\r\n          </div>\r\n          <div class="form__item form__pass right">\r\n            <input type="text" placeholder="\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c">\r\n          </div>\r\n        </div>\r\n        <div class="links right">\r\n          <a href="#?" class="link">\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f?</a><br>\r\n          <a href="#?" class="link">\u0437\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c</a>\r\n        </div>\r\n        <input type="submit" value="\u0412\u043e\u0439\u0442\u0438" class="btn btn_color_blue">\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'});
this.Templates.IconTemplate=Handlebars.template(function(b,f,g,a,d){function e(a,b){var d,e;d='\r\n  <a href="#" data-toggle="tooltip" title="';(e=g.name)?e=e.call(a,{hash:{},data:b}):(e=a&&a.name,e=typeof e===m?e.call(a,{hash:{},data:b}):e);d+=h(e)+'" data-placement="top" data-type-ico="';(e=g.name)?e=e.call(a,{hash:{},data:b}):(e=a&&a.name,e=typeof e===m?e.call(a,{hash:{},data:b}):e);d+=h(e)+'">\r\n    <span class="m-ico ';if((e=g["if"].call(a,a&&a.style,{hash:{},inverse:n.program(5,k,b),fn:n.program(3,
c,b),data:b}))||0===e)d+=e;d+='" data-id="';(e=g.id)?e=e.call(a,{hash:{},data:b}):(e=a&&a.id,e=typeof e===m?e.call(a,{hash:{},data:b}):e);return d+=h(e)+'"></span>\r\n  </a>\r\n  '}function c(a,b){var c;(c=g.style)?c=c.call(a,{hash:{},data:b}):(c=a&&a.style,c=typeof c===m?c.call(a,{hash:{},data:b}):c);return h(c)}function k(a,b){return"m-dostoprimechatelnost"}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};b="";var m="function",h=this.escapeExpression,n=this,l=g.helperMissing;if((f=
g.each.call(f,f&&f.items,{hash:{},inverse:n.noop,fn:n.program(1,function(a,b){var c,d,f;c="\r\n  ";f={hash:{},inverse:n.noop,fn:n.program(2,e,b),data:b};if((f=(d=g.ifEquals||a&&a.ifEquals,d?d.call(a,a&&a.level,0,f):l.call(a,"ifEquals",a&&a.level,0,f)))||0===f)c+=f;return c+"\r\n"},d),data:d}))||0===f)b+=f;return b+"\r\n"});this.Templates.MapView=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'\x3c!--<div id="mainmap" style="width: 100%;"></div>\r\n\r\n<div id="m-ico-group" class="m-ico-group"></div>\r\n\r\n<div class="toggle-bottom">\r\n  <a href="#" class="a-toggle">\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443</a>\r\n</div>--\x3e\r\n\r\n\r\n    <div class="constrain">\r\n      <a href="#?" class="map__close sprite-close js-map-close"></a>\r\n    </div>\r\n    <div class="map__route route-list route-list_draggable route-list_deleteable" >\r\n          <ul class="list route_right">\r\n            \r\n          </ul>\r\n          <a href="#?" class="delete-item js-delete"></a>\r\n        </div>\r\n    <div class="map__container" id="map"></div>\r\n    <div class="map__ctrls-wrap">\r\n      <div class="map__ctrls hide">\r\n        <form action="/">\r\n          <input type="submit" value="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442" class="btn btn_color_blue">\r\n          <ul class="map-counter">\r\n            <li class="map-counter__item hide">\r\n              <a href="#?" class="map-counter__link map-counter__link_type_event " data-type="event" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435&nbsp;\u0441\u043e\u0431\u044b\u0442\u0438\u044f">0</a>\r\n            </li>\r\n            <li class="map-counter__item hide">\r\n              <a href="#?" class="map-counter__link map-counter__link_type_place" data-type="place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435&nbsp;\u043c\u0435\u0441\u0442\u0430">0</a>\r\n            </li>\r\n          </ul>\r\n          <div class="hint hint_pos_ne" style="bottom: -115px; left: -115px; width: 220px;">\r\n            \u041c\u0435\u0441\u0442\u0430 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0432 \u0432\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\r\n            <a href="#?" class="hint__close"></a>\r\n          </div>\x3c!-- class="hint" --\x3e\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class="constrain">\r\n      <div class="map__where">\r\n        <a href="#?" class="btn btn_color_green btn-change-city js-change-city"><span class="text">\u0412\u044b \u0435\u0434\u0435\u0442\u0435 \u0438\u0437 <span class="city">\u0412\u043e\u043b\u043e\u0433\u0434\u044b</span>  ?</span></a>\r\n        <div class="select-wrap">\r\n          <select>\r\n            <option value="1">\u0412\u043e\u043b\u043e\u0433\u0434\u0430</option>\r\n            <option value="2">\u041c\u043e\u0441\u043a\u0432\u0430</option>\r\n            <option value="3">\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433</option>\r\n            <option value="4">\u0412\u043e\u0440\u043e\u043d\u0435\u0436</option>\r\n            <option value="5">\u041f\u0435\u0440\u043c\u044c</option>\r\n          </select>\r\n          <a href="#?" class="btn btn_color_green js-chosen-city">\u041e\u041a</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n'});
this.Templates.Dashboard=Handlebars.template(function(b,f,g,a,d){function e(a,b){return"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"}function c(a,b){return"active"}this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var k,m=this.escapeExpression,h=g.helperMissing;b='<div class="user-info">\r\n  <img src="';(a=g.icon)?a=a.call(f,{hash:{},data:d}):(a=f&&f.icon,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=m(a)+'" alt="user" class="img">\r\n  <div class="text">\r\n    <span class="name">';
(a=g.first_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.first_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=m(a)+" ";(a=g.last_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.last_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=m(a)+'</span>\r\n    <span class="location">';if((a=g["if"].call(f,f&&f.city,{hash:{},inverse:this.program(3,e,d),fn:this.program(1,function(a,b){var c;(c=g.city)?c=c.call(a,{hash:{},data:b}):(c=a&&a.city,c="function"===typeof c?c.call(a,{hash:{},data:b}):
c);return m(c)},d),data:d}))||0===a)b+=a;b+='</span>\r\n    <span class="mail">';if((a=g["if"].call(f,f&&f.email,{hash:{},inverse:this.program(3,e,d),fn:this.program(5,function(a,b){var c;(c=g.email)?c=c.call(a,{hash:{},data:b}):(c=a&&a.email,c="function"===typeof c?c.call(a,{hash:{},data:b}):c);return m(c)},d),data:d}))||0===a)b+=a;b+='</span>\r\n  </div>\r\n</div>\r\n<div class="user-ctrls">\r\n  <ul class="list">\r\n    <li class="item">\r\n    <a href="#dashboard/" class="link link_make ';if((a=
g.unless.call(f,f&&f.section,{hash:{},inverse:this.noop,fn:this.program(7,c,d),data:d}))||0===a)b+=a;b+='">\u042f \u0441\u043e\u0437\u0434\u0430\u043b<span class="number">';(a=g.total_added)?a=a.call(f,{hash:{},data:d}):(a=f&&f.total_added,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=m(a)+'</span></a>\r\n    </li>\r\n    <li class="item">\r\n    <a href="#dashboard/likes/" class="link link_like ';k={hash:{},inverse:this.noop,fn:this.program(7,c,d),data:d};if((k=(a=g.ifEquals||f&&f.ifEquals,
a?a.call(f,f&&f.section,"likes",k):h.call(f,"ifEquals",f&&f.section,"likes",k)))||0===k)b+=k;b+='">\u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f<span class="number">';(k=g.count_liked_objects)?k=k.call(f,{hash:{},data:d}):(k=f&&f.count_liked_objects,k="function"===typeof k?k.call(f,{hash:{},data:d}):k);b+=m(k)+'</span></a>\r\n    </li>\r\n    <li class="item"><a href="#dashboard/settings/" class="link link_settings ';k={hash:{},inverse:this.noop,fn:this.program(7,c,d),data:d};
if((k=(a=g.ifEquals||f&&f.ifEquals,a?a.call(f,f&&f.section,"settings",k):h.call(f,"ifEquals",f&&f.section,"settings",k)))||0===k)b+=k;return b+'">\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</a></li>\r\n    <li class="item"><a href="/logout/" class="link link_exit">\u0412\u044b\u0445\u043e\u0434</a></li>\r\n  </ul>\r\n</div>\r\n'});
this.Templates.DashboardSettings=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<div class="dashboard-change clearfix">\r\n  <div class="picture">\r\n    <img src="';(a=g.icon)?a=a.call(f,{hash:{},data:d}):(a=f&&f.icon,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'" alt="" class="img">\r\n    <img src="';(a=g.icon_small)?a=a.call(f,{hash:{},data:d}):(a=f&&f.icon_small,a="function"===typeof a?
a.call(f,{hash:{},data:d}):a);b+=e(a)+'" alt="" class="img">\r\n  </div>\r\n  <div class="btns btns_picture">\r\n    <a href="#?" class="btn btn_color_green" onclick="document.getElementById(\'uploadAvatar\').click();return false;">\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0442\u0430\u0440</a>\r\n    <input id="uploadAvatar" name="avatar" type="file" style="visibility: hidden;width:0px;height:0px;">\r\n    <a href="#?" class="btn btn_color_blue">\u0410\u0432\u0430\u0442\u0430\u0440 \u0438\u0437 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\r\n  </div>\r\n  <div class="btns btns_ctrls">\r\n    <a href="#?" class="btn btn-enter-commerce btn_color_blue js-popup-login-commercial">\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u0445\u043e\u0434</a><br>\r\n    <a href="#?" class="btn btn_color_yel">\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u0438</a>\r\n    <a href="#?" class="btn btn_color_white">\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442</a>\r\n  </div>\r\n</div>\x3c!-- class="dashboard-change" --\x3e\r\n\r\n<div class="form form_dashboard">\r\n  <div class="form__field">\r\n    <label>\u0412\u0430\u0448 email:</label>\r\n    <input type="text" value="';
(a=g.emal)?a=a.call(f,{hash:{},data:d}):(a=f&&f.emal,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u0412\u0430\u0448\u0435 \u0438\u043c\u044f:</label>\r\n    <input type="text"value="';(a=g.first_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.first_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+" ";(a=g.last_name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.last_name,a="function"===typeof a?a.call(f,{hash:{},data:d}):
a);b+=e(a)+'">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u0412\u0430\u0448 \u043d\u0438\u043a:</label>\r\n    <input type="text" value="';(a=g.username)?a=a.call(f,{hash:{},data:d}):(a=f&&f.username,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:</label>\r\n    <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0412\u043e\u043b\u043e\u0433\u0434\u0430" value="';
(a=g.address)?a=a.call(f,{hash:{},data:d}):(a=f&&f.address,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d:</label>\r\n    <input type="text" value="';(a=g.phone)?a=a.call(f,{hash:{},data:d}):(a=f&&f.phone,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u0412\u0430\u0448 \u0441\u0430\u0439\u0442:</label>\r\n    <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: https://vk.com/ivan" value="';
(a=g.website)?a=a.call(f,{hash:{},data:d}):(a=f&&f.website,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u041e \u0441\u0435\u0431\u0435:</label>\r\n    <textarea placeholder="\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043e \u0441\u0435\u0431\u0435">';(a=g.about)?a=a.call(f,{hash:{},data:d}):(a=f&&f.about,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=e(a)+
'</textarea>\r\n  </div>\r\n</div>\r\n\r\n<div class="form form_dashboard">\r\n  <div class="form__field">\r\n    <label>\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:</label>\r\n    <input type="text">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u0412\u0430\u0448 \u0418\u041d\u041d:</label>\r\n    <input type="text">\r\n  </div>\r\n  <div class="form__field">\r\n    <label>\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442:</label>\r\n    <input type="text">\r\n  </div>\r\n</div>\r\n'});
this.Templates.ProfileBoardPoint=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e=this.escapeExpression;b='<div class="box__title box__title_type_place">\u041c\u0435\u0441\u0442\u043e</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-place">\r\n    ';if((a=g["if"].call(f,f&&f.imgs,{hash:{},inverse:this.program(3,function(a,b){var d,f;d='\r\n      <img src="/static/images/place-unknown.png" alt="';(f=g.name)?f=f.call(a,
{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=e(f)+'" class="img">\r\n    '},d),fn:this.program(1,function(a,b){var d,f;d=""+('\r\n      <img src="'+e((f=(f=(f=a&&a.imgs,null==f||!1===f?f:f[0]),null==f||!1===f?f:f.thumbnail207),"function"===typeof f?f.apply(a):f))+'" alt="');(f=g.name)?f=f.call(a,{hash:{},data:b}):(f=a&&a.name,f="function"===typeof f?f.call(a,{hash:{},data:b}):f);return d+=e(f)+'" class="img">\r\n    '},d),data:d}))||0===a)b+=a;b+=
'\r\n    <div class="icons">\r\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like ';if((a=g["if"].call(f,f&&f.isliked,{hash:{},inverse:this.noop,fn:this.program(5,function(a,b){return"active"},d),data:d}))||0===a)b+=a;b+='" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'</div>\r\n  <span class="info info_like">';(a=g.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=e(a)+'</span>\r\n  <span class="info info_comment">';if((a=g["if"].call(f,f&&f.reviews,{hash:{},inverse:this.program(9,function(a,b){return"0"},d),fn:this.program(7,function(a,b){var d;return e((d=(d=a&&a.reviews,null==
d||!1===d?d:d.length),"function"===typeof d?d.apply(a):d))},d),data:d}))||0===a)b+=a;return b+"</span>\r\n</div>\r\n"});
this.Templates.ProfileBoardRoute=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e,c=this.escapeExpression;b=""+('<div class="box__title box__title_type_route">\u041c\u0430\u0440\u0448\u0440\u0443\u0442</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-route">\r\n    <img src="'+c((e=(e=(e=(e=(e=f&&f.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===
typeof e?e.apply(f):e))+'" alt="');(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\r\n  <span class="info info_like">';(a=g.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=c(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+c((e=(e=f&&f.author,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(f):e))+'" alt="'+c((e=
(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+c((e=(e=f&&f.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(f):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+c((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+c((e=(e=f&&f.author,null==e||!1===e?e:
e.last_name),"function"===typeof e?e.apply(f):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.ProfileBoardSet=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,b.helpers);d=d||{};var e,c=this.escapeExpression;b=""+('<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+c((e=(e=(e=(e=(e=f&&f.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===
typeof e?e.apply(f):e))+'" alt="');(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=g.name)?a=a.call(f,{hash:{},data:d}):(a=f&&f.name,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);b+=c(a)+'</div>\r\n  <span class="info info_like">';(a=g.likes_count)?a=a.call(f,{hash:{},data:d}):(a=f&&f.likes_count,a="function"===typeof a?a.call(f,{hash:{},data:d}):a);return b+=c(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+c((e=(e=f&&f.author,null==e||!1===e?e:e.icon),"function"===typeof e?e.apply(f):e))+'" alt="'+c((e=
(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+c((e=(e=f&&f.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(f):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+c((e=(e=f&&f.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(f):e))+" "+c((e=(e=f&&f.author,null==e||!1===e?e:
e.last_name),"function"===typeof e?e.apply(f):e))+"</span>\r\n  </div>\r\n</div>\r\n"});this.Templates.LoadingView=Handlebars.template(function(b,f,g,a,d){this.compilerInfo=[4,">= 1.0.0"];this.merge(g,b.helpers);return'<div class="loader">\r\n</div>\r\n'});
(function(){Handlebars.registerHelper("ifEquals",function(b,f,g){return(null!=b?b.toString():void 0)===(null!=f?f.toString():void 0)?g.fn(this):g.inverse(this)});Handlebars.registerHelper("ifContains",function(b,f,g){return void 0===f?!1:_.contains(f,b)?g.fn(this):g.inverse(this)});Handlebars.registerHelper("ifBelong",function(b,f,g){var a,d,e,c;if(void 0===f)return!1;e=0;for(c=f.length;e<c;e++)d=f[e],d.id===b.id&&(a=!0);return a?g.fn(this):g.inverse(this)});Handlebars.registerHelper("dateFormat",
function(b,f){var g;return window.moment?(g=f.hash.format||"D MMMM YYYY \u0432 HH:mm",moment(b).format(g)):b});Handlebars.registerHelper("eachKey",function(b,f){var g,a,d,e;a="";b=b.toString().substring(1,b.length-1).split(",");d=0;for(e=b.length;d<e;d++)g=b[d],a+=f.fn(g.trim());return a});Handlebars.registerHelper("splitAddr",function(b,f,g){b=b.split(f);return b[2]});Handlebars.registerHelper("addShy",function(b,f){var g,a;if(_.contains(b," "))return b;g=b.slice(0,10);a=b.slice(10);return new Handlebars.SafeString(""+
g+"&shy;"+a)});Handlebars.registerHelper("safe",function(b,f){return new Handlebars.SafeString(b)})}).call(this);
(function(){(function(b,f,g){f(document).click(function(a){if(!f(a.target).closest(".header__user").length&&(f(".header__user .profile-menu").hide(),f(".js-profile-menu").removeClass("open"),!f(a.target).closest(".filter-type").length))return f(".filter-type__list").hide(),f(".header__filter .js-open").removeClass("open")});f.ajaxSetup({headers:{"X-CSRFToken":f.cookie("csrftoken")}});g.autoDiscover=!1;b.emulateJSON=!0;b.emulateHTTP=!0;return _.extend(b.Marionette.Application.prototype,{settings:{},
navigate:function(a,d){null==d&&(d={});return b.history.navigate(a,d)},getCurrentRoute:function(){var a;a=b.history.fragment;return _.isEmpty(a)?null:a},startHistory:function(){if(b.history)return b.history.start()},register:function(a,b){null==this._registry&&(this._registry={});return this._registry[b]=a},unregister:function(a,b){return delete this._registry[b]},resetRegistry:function(){var a,b,e,c;e=this.getRegistrySize();c=this._registry;for(b in c)a=c[b],a.region.close();a="There were "+e+" controllers in the registry, there are now "+
this.getRegistrySize();return 0<this.getRegistrySize()?console.warn(a,this._registry):console.log(a)},getRegistrySize:function(){return _.size(this._registry)},updateSettings:function(a){var b,e,c;e={};b=!1;for(c in a)a.hasOwnProperty(c)&&this.settings[c]!==a[c]&&(_.isNumber(a[c])||!_.isEmpty(a[c])?this.settings[c]=a[c]:delete this.settings[c],e[c]=a[c],b=!0);if(b)return this.vent.trigger("change:settings",e)},getCookie:function(a){var b,e,c,g,f,h;b=null;if(document.cookie&&""!==document.cookie){e=
document.cookie.split(";");g=function(c){c=c.trim();if(c.substring(0,a.length+1)===a+"=")return b=decodeURIComponent(c.substring(a.length+1))};f=0;for(h=e.length;f<h;f++)c=e[f],g(c)}return b},apiRequest:function(a){var b,e=this;b=this.API_BASE_URL+a.url;console.log([""+a.type+" request to "+b+" with data:",a.data]);return f.ajax({url:b,type:a.type,dataType:a.dataType||"json",processData:a.processData,contentType:a.contentType,data:a.data,beforeSend:function(a){return a.setRequestHeader("X-CSRFToken",
e.getCookie("csrftoken"))},success:function(b){var d;console.log(["response from API: ",b]);if(a.successCallback)return d=[b],_.each(a.params,function(a){return d.push(a)}),a.successCallback.apply(a.context,d)}})}})})(Backbone,$,Dropzone)}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};(function(b,a){return a.Region.Modal=function(a){function e(){_.extend(this,b.Events);_.bindAll(this)}f(e,a);e.prototype.open=function(a){this.prevModal=$(".modal.in").not(this.$el);this.prevModal.length&&this.prevModal.css("z-index",1E3);this.$el.find(".modal-dialog").empty().append(a.el);return this.$el.on("hidden.bs.modal",
this.closeModal)};e.prototype.onShow=function(a){this.setupBindings(a);a=this.getDefaultOptions(_.result(a,"modal"));return this.$el.modal(a)};e.prototype.onClose=function(a){return this.$el.modal("hide")};e.prototype.getDefaultOptions=function(a){null==a&&(a={});return _.defaults(a,{modalClass:a.className})};e.prototype.setupBindings=function(a){return this.listenTo(a,"modal:close",this.closeModal)};e.prototype.closeModal=function(a){this.$el.off();this.stopListening();this.close();if(this.prevModal.length)return a.preventDefault(),
a.stopPropagation(),this.prevModal.css("z-index",1050),$("body").addClass("modal-open")};return e}(a.Region)})(Backbone,Marionette)}).call(this);(function(){(function(b){return _.extend(b.Renderer,{render:function(b,g){var a;if(!1!==b)return a=Templates[b],a(g)}})})(Marionette)}).call(this);
(function(){(function(b){var f;_.extend(b.Marionette.Application.prototype,{API_BASE_URL:""},void 0!==window.DEBUG?f=window.DEBUG:f=!0,{DEBUG:f});b="undefined"===typeof window.console?{}:window.console;if(!1===window.DEBUG||"undefined"===typeof b.log)return b.log=b.debug=b.trace=b.dir=b.dirxml=b.group=b.groupEnd=b.time=b.timeEnd=b.assert=b.profile=function(){}})(Backbone)}).call(this);
(function(){(function(b){var f;f=b.sync;return b.sync=function(b,a,d){null==d&&(d={});d=f(b,a,d);!a._fetch&&"read"===b&&(a._fetch=d);return d}})(Backbone)}).call(this);
(function(){this.Yapp=function(b,f){var g;g=new f.Application;g.addRegions({headerRegion:"#header-region",boardRegion:"#board-region",footerRegion:"#footer-region",mapRegion:"#map-region",photoPopupRegion:f.Region.Modal.extend({el:".popupwin_add-photos"}),addPopupRegion:f.Region.Modal.extend({el:".popupwin_add"}),loginPopupRegion:f.Region.Modal.extend({el:".popupwin_authorization"}),pointPopup:f.Region.Modal.extend({el:".popupwin_place"}),eventPopup:f.Region.Modal.extend({el:".popupwin_event"}),routePopup:f.Region.Modal.extend({el:".popupwin_route"}),
tripPopup:f.Region.Modal.extend({el:".popupwin_trip"}),addPointPopup:f.Region.Modal.extend({el:".popupwin_add-place"}),addEventPopup:f.Region.Modal.extend({el:".popupwin_add-event"}),addRoutePopup:f.Region.Modal.extend({el:".popupwin_add-route"}),addTripPopup:f.Region.Modal.extend({el:".popupwin_add-trip"})});g.reqres.setHandler("default:region",function(){return g.boardRegion});g.rootRoute="/";g.commands.setHandler("register:instance",function(a,b){return g.register(a,b)});g.commands.setHandler("unregister:instance",
function(a,b){return g.unregister(a,b)});g.on("initialize:after",function(a){this.startHistory();if(!this.getCurrentRoute())return this.navigate(this.rootRoute,{trigger:!0})});return g}(Backbone,Marionette)}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Controllers",function(b,a,d,e,c,k){return b.Base=function(b){function c(b){null==b&&(b={});this.region=b.region||a.request("default:region");this._instance_id=k.uniqueId("controller");a.execute("register:instance",this,this._instance_id);c.__super__.constructor.apply(this,arguments)}
f(c,b);c.prototype.close=function(){a.execute("unregister:instance",this,this._instance_id);return c.__super__.close.apply(this,arguments)};c.prototype.show=function(a,b){null==b&&(b={});k.defaults(b,{loading:!1,region:this.region});this._setMainView(a);return this._manageView(a,b)};c.prototype._setMainView=function(a){if(!this._mainView)return this._mainView=a,this.listenTo(a,"close",this.close)};c.prototype._manageView=function(b,c){return c.loading?a.execute("show:loading",b,c):c.region.show(b)};
return c}(e.Controller)})}).call(this);(function(){this.Yapp.module("Views",function(b,f,g,a,d,e){return e.extend(a.View.prototype,{templateHelpers:function(){return{user:f.request("get:my:profile").toJSON()}}})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Views",function(b,a,d,e,c,k){var m;return b.CollectionView=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.itemViewEventPrefix="childview";return b}(e.CollectionView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Views",function(b,a,d,e,c,k){var m;return b.CompositeView=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.itemViewEventPrefix="childview";return b}(e.CompositeView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Views",function(b,a,d,e,c,k){var m;return b.ItemView=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(e.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Views",function(b,a,d,e,c,k){var m;return b.Layout=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(e.Layout)})}).call(this);
(function(){this.Yapp.module("Entities",function(b,f,g,a,d,e){return f.commands.setHandler("when:fetched",function(a,b){var g;g=e.chain([a]).flatten().pluck("_fetch").value();return d.when.apply(d,g).done(function(){return b()})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m;return b.Collection=function(a){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,a);c.prototype.model=function(a,c){return"point"===a.type_of_item?new b.Point(a,c):"set"===a.type_of_item?new b.Set(a,c):"trip"===a.type_of_item?
new b.Set(a,c):"route"===a.type_of_item?new b.Route(a,c):"event"===a.type_of_item?new b.Event(a,c):new b.Point};c.prototype.initialize=function(){return console.log("initializing Entities.Collection")};return c}(d.Collection)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m;return b.Model=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.url=function(){var a;this.id=this.get("id")||this.id;a=d.Model.prototype.url.call(this);return a+("/"===a.charAt(a.length-1)?"":"/")};
b.prototype.initialize=function(){return console.log("initializing Entities.Model")};b.prototype.idAttribute="unid";b.prototype.parse=function(a){k.isArray(a)&&(a=a[0]);a;!a.unid&&a.id&&(a.unid=a.id);return a};return b}(d.Model)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.Event=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=a.API_BASE_URL+"/api/v1/events/";c.prototype.defaults={dt_start:"",dt_end:"",ypi:0,imgs:[],tags:[],name:"",description:"",points:[]};
c.prototype.validate=function(a,b){var c;c=[];""===a.name&&c.push("name");""===a.dt_start&&c.push("dt_start");""===a.dt_end&&c.push("dt_end");if(c.length)return c};return c}(b.Model);m={getDetail:function(a,b){null==b&&(b={});a.id=a.get("id")||a.get("unid");k.defaults(b);a.fetch({reset:!0,data:b});return a},like:function(b,c){var d;null==c&&(c={});d=b.get("id")||event.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/events/"+d+"/like/"),type:"POST",successCallback:function(a){return b.trigger("event:like:response",
a)},data:{id:d}})},comment:function(b,c){var d;null==c&&(c={});k.defaults(c);d=b.get("id")||b.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/events/"+d+"/review/"),type:"POST",successCallback:function(a){return b.trigger("event:comment:response",a)},data:c})}};a.reqres.setHandler("get:detail:event",function(a){return m.getDetail(a)});a.reqres.setHandler("like:event",function(a){m.like(a).done(function(b){return a.set(b[0])});return a});return a.reqres.setHandler("comment:event",function(a,
b){null==b&&(b={});m.comment(a,b);return a})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.Point=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=a.API_BASE_URL+"/api/v1/points/";c.prototype.defaults={priority:0,longitude:0,latitude:0,ypi:0,imgs:[],tags:[],name:"",address:""};
c.prototype.validate=function(a,b){var c;c=[];""===a.name&&c.push("name");""===a.address&&c.push("address");if(c.length)return c};return c}(b.Model);m={getDetail:function(a,b){null==b&&(b={});a.id=a.get("id")||a.get("unid");k.defaults(b);a.fetch({reset:!0,data:b});return a},like:function(b,c){var d;null==c&&(c={});d=b.get("id")||b.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/points/"+d+"/like/"),type:"POST",successCallback:function(a){return b.trigger("point:like:response",a)},data:{id:d}})},
comment:function(b,c){var d;null==c&&(c={});k.defaults(c);d=b.get("id")||b.get("unid");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/points/"+d+"/review/"),type:"POST",successCallback:function(a){return b.trigger("point:comment:response",a)},data:c})}};a.reqres.setHandler("get:detail:point",function(a){return m.getDetail(a)});a.reqres.setHandler("like:point",function(a){m.like(a).done(function(b){return a.set(b[0])});return a});return a.reqres.setHandler("comment:point",function(a,b){null==b&&
(b={});m.comment(a,b);return a})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.Route=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/route/"};return c}(b.Model);m={getDetail:function(a,c){var d;null==c&&(c={});k.defaults(c);
d=new b.Route({unid:a});d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:detail:route",function(a){return m.getDetail(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.Set=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/sets/"};return c}(b.Model);m={getDetailSets:function(a,c){var d;null==c&&(c={});k.defaults(c);
d=new b.Set({unid:a});d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:detail:sets",function(a){return m.getDetailSets(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.TagCollection=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(d.Collection);m={getTags:function(c){var d;null==c&&(c={});k.defaults(c);d=new b.TagCollection;d.url=a.API_BASE_URL+"/api/v1/tags/";
d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:all:tags",function(a){null==a&&(a={level:0});!1===a.level&&delete a.level;return m.getTags(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.Trip=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/trips/"};return c}(b.Model);m={getDetailSets:function(a,c){var d;null==c&&(c={});k.defaults(c);
d=new b.Set({unid:a});d.fetch({reset:!0,data:c});return d}};return a.reqres.setHandler("get:detail:trips",function(a){return m.getDetailSets(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.User=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.idAttribute="id";c.prototype.url=a.API_BASE_URL+"/users/account/";c.prototype.defaults={first_name:"",last_name:"",authorized:!1,email:!1,
avatar:"/static/images/guest.png",count_liked_objects:0,count_commented_objects:0};return c}(b.Model);m={me:function(c){null==c&&(c={});k.defaults(c);return this.user=this.user||new b.User(a.USER)}};return a.reqres.setHandler("get:my:profile",function(){return m.me()})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Entities",function(b,a,d,e,c,k){var m,h;b.YapensCollection=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);return b}(b.Collection);m={getEntities:function(c){var d;null==c&&(c={});d=new b.YapensCollection;d.url=a.API_BASE_URL+"/api/v1/yapens/";
d.fetch({reset:!0,data:c});return d},search:function(b,c){null==b&&(b={});k.defaults(b,{s:""});return a.apiRequest({url:a.API_BASE_URL+"/api/v1/search/",data:b,successCallback:c})}};a.reqres.setHandler("get:all:yapens",function(a){null==a&&(a={});return m.getEntities(a)});return a.reqres.setHandler("search:all:yapens",function(a,b){null==a&&(a={});return m.search(a,b)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Components.Loading",function(b,a,d,e,c,k){var m;b.LoadingController=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(a){var b,c;console.log("initialize LoadingController");c=a.view;a=a.config;a=k.isBoolean(a)?{}:a;
k.defaults(a,{loadingType:"spinner",entities:this.getEntities(c),debug:!1});switch(a.loadingType){case "opacity":this.region.currentView.$el.css("opacity",0.5);break;case "spinner":b=this.getLoadingView();this.show(b);break;default:throw Error("Invalid loadingType");}return this.showRealView(c,b,a)};d.prototype.showRealView=function(b,c,d){var e=this;return a.execute("when:fetched",d.entities,function(){switch(d.loadingType){case "opacity":e.region.currentView.$el.removeAttr("style");break;case "spinner":if(e.region.currentView!==
c)return b.close()}if(!d.debug)return e.show(b)})};d.prototype.getEntities=function(a){return k.chain(a).pick("model","collection").toArray().compact().value()};d.prototype.getLoadingView=function(){return new b.LoadingView};return d}(a.Controllers.Base);return a.commands.setHandler("show:loading",function(a,c){console.log("show:loading");return new b.LoadingController({view:a,region:c.region,config:c.loading})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("Components.Loading",function(b,a,d,e,c,k){var m;return b.LoadingView=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="LoadingView";b.prototype.className="loading-container";b.prototype.onClose=function(){return this.close()};
return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("AddPopupApp",function(b,a,d,e,c,k){var m,h;b.Router=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.appRoutes={"add/point/":"point","add/event/":"event"};return b}(e.AppRouter);m={point:function(){return new b.Point.Controller},event:function(){return new b.Event.Controller}};
a.vent.on("show:add:place:popup",function(c){null==c&&(c={});k.defaults(c);a.addPopupRegion.close();return new b.Point.Controller(c)});a.vent.on("show:add:event:popup",function(c){null==c&&(c={});k.defaults(c);a.addPopupRegion.close();return new b.Event.Controller(c)});return a.addInitializer(function(){return new b.Router({controller:m})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("AddPopupApp.Event",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize AddPopupApp.Event.Controller");this.tags=a.request("get:all:tags",
{level:!1});this.model=new a.Entities.Event;this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showStepName();return c.showStepWhat()});return a.addEventPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showStepName=function(){this.nameView=new b.StepName({model:this.model});this.show(this.nameView,{region:this.layout.stepNameRegion,loading:!0});return this.listenTo(this.nameView,"show:step:what",function(){this.layout.stepNameRegion.$el.hide();
return this.layout.stepWhatRegion.$el.show()})};d.prototype.showStepWhat=function(){var c=this;return a.execute("when:fetched",this.tags,function(){c.whatView=new b.StepWhat({model:c.model,collection:c.tags});c.listenTo(c.whatView,"show",function(){var a;a=new b.Points({model:c.model});return c.whatView.pointsRegion.show(a)});c.show(c.whatView,{region:c.layout.stepWhatRegion});return c.listenTo(c.whatView,"show:step:name",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepNameRegion.$el.show()})})};
return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("AddPopupApp.Event",function(b,a,d,e,c,k){var m,h,n,l;b.Layout=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="AddEventLayout";b.prototype.className="popupwin__scrollbox";b.prototype.regions={stepNameRegion:"#event-name-region",
stepWhatRegion:"#event-what-region"};b.prototype.onShow=function(){return this.stepNameRegion.$el.show()};return b}(a.Views.Layout);b.StepName=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="EventStepName";b.prototype.className="popupwin__content clearfix";b.prototype.events={"blur .form__field_name input":"setName","blur .form__field_description textarea":"setDescription","click .js-next":"nextStep","submit form":"nextStep"};b.prototype.onShow=
function(){var a=this;this.$("#dt_start").datepicker({showOn:"button",buttonImage:"/static/images/calendar.png",buttonImageOnly:!0,dateFormat:"dd.mm.yy",numberOfMonths:3,onClose:function(b){return a.$("#dt_end").datepicker("option","minDate",b)}});this.$("#dt_end").datepicker({showOn:"button",buttonImage:"/static/images/calendar.png",buttonImageOnly:!0,dateFormat:"dd.mm.yy",numberOfMonths:3,onClose:function(b){return a.$("#dt_start").datepicker("option","maxDate",b)}});return this.$("#place-dropzone").dropzone({paramName:"img",
headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(b,c){var d,e;d=c[0];e=a.model.get("imgs");e.push(d.id);return a.model.set("imgs",e)}})};b.prototype.setName=function(a){(a=c(a.currentTarget).val())&&this.$(".form__field_name").removeClass("error");return this.model.set({name:a})};b.prototype.setDescription=function(a){a=c(a.currentTarget).val();return this.model.set({description:a})};b.prototype.nextStep=function(a){var b;a.preventDefault();b=this.$("#dt_start").val();a=this.$("#dt_end").val();
this.model.set({dt_start:b});this.model.set({dt_end:a});this.model.get("dt_start")?this.$("#dt_start").removeClass("error"):this.$("#dt_start").addClass("error");this.model.get("dt_end")?this.$("#dt_end").removeClass("error"):this.$("#dt_end").addClass("error");this.model.get("name")?this.$(".form__field_name").removeClass("error"):this.$(".form__field_name").addClass("error");if(this.model.get("name")&&this.model.get("dt_start")&&this.model.get("dt_end"))return this.trigger("show:step:what")};return b}(a.Views.ItemView);
b.StepWhat=function(b){function d(){return n=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="EventStepWhat";d.prototype.regions={pointsRegion:"#points-region"};d.prototype.events={"click .tags__link":"selectAdditionalLabel","select2-removed .field_tags .select-type":"removeLabel","select2-selecting .field__input-place .select-type":"addPoint","select2-removed .field__input-place .select-type":"removePoint","click .js-back":"backStep","click .js-next":"nextStep"};d.prototype.initialize=
function(){this.listenTo(this.model,"select2-removed",this.removePoint);this.rootLabels=this.collection.toJSON().filter(function(a){return 0===a.level});this.additionalLabels=this.collection.toJSON().filter(function(a){return 1===a.level});this.otherLabels=this.collection.toJSON().filter(function(a){return 2===a.level});return this.listenTo(this.model,"sync",this.closePopup)};d.prototype.templateHelpers=function(){return{rootLabels:this.rootLabels,additionalLabels:this.additionalLabels}};d.prototype.format_tags=
function(a){return"<span data-id='"+a.id+"'>"+a.text+"</span>"};d.prototype.format_place=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};d.prototype.selectAdditionalLabel=function(a){var b;a.preventDefault();b=c(a.currentTarget);a=this.$(".field_tags .select-type").select2("data");a.push({id:b.data("id"),text:b.text()});return this.$(".field_tags .select-type").select2("data",a)};d.prototype.removeLabel=function(a){var b;console.log(a);b=this.$(".field_tags .select-type").select2("data");
k.remove(b,function(b){return b.id===a.val});return b=this.$(".field_tags .select-type").select2("data",b)};d.prototype.addPoint=function(b){var c,d,e=this;b=b.val;d=this.model.get("points");c=new a.Entities.Point({unid:b});c.fetch();a.execute("when:fetched",c,function(){d.push(c.toJSON());e.model.set({points:d});e.model.trigger("change:points");return e.$(".field__input-place").removeClass("error")});return window.model=this.model};d.prototype.removePoint=function(a){k.remove(this.model.get("points"),
function(b){return b.id===a.val});this.$(".field__input-place .select-type").select2("data",this.model.get("points"));return this.model.trigger("change:points")};d.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:name")};d.prototype.nextStep=function(a){a.preventDefault();a=this.$(".field_tags .select-type").select2("val");this.model.set({tags:a});return this.model.get("points").length?(this.$(".field__input-place").removeClass("error"),this.model.save()):this.$(".field__input-place").addClass("error")};
d.prototype.onShow=function(){var b=this;this.$(".field__input-place .select-type").select2({containerCssClass:"select2-container_tags",dropdownCssClass:"select2-drop_tags",width:"480px",multiple:!0,quietMillis:750,allowClear:!0,ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;c=k.map(a,function(a,b){if("points"===b)return k.map(a,function(a){return a.type=b}),a});return{results:k.compact(k.flatten(c))}}},formatResult:this.format_place,
formatSelection:this.format_place,minimumInputLength:1,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0438\u043c\u0432\u043e\u043b"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},escapeMarkup:function(a){return a}});return this.$(".field_tags .select-type").select2({containerCssClass:"select2-container_tags",dropdownCssClass:"select2-drop_tags",
width:"480px",multiple:!0,tags:function(){return b.otherLabels.map(function(a){return{id:a.id,text:a.name}})},maximumInputLength:50,formatResult:this.format_tags,formatSelection:this.format_tags,tokenSeparators:[","],escapeMarkup:function(a){return a}})};d.prototype.closePopup=function(b,c,d){console.log("event saved",b,c,d);return a.addEventPopup.close()};return d}(a.Views.Layout);return b.Points=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template=
"PointList";b.prototype.modelEvents={"change:points":"render"};b.prototype.events={"click .js-delete":"deletePoint"};b.prototype.deletePoint=function(a){var b;a.preventDefault();b=c(a.currentTarget).data();a.val=b.id;return this.model.trigger("select2-removed",a)};return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(g,a){function d(){this.constructor=g}for(var e in a)b.call(a,e)&&(g[e]=a[e]);d.prototype=a.prototype;g.prototype=new d;g.__super__=a.prototype;return g};this.Yapp.module("AddPopupApp.Point",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize AddPopupApp.Point.Controller");this.tags=a.request("get:all:tags",
{level:!1});this.model=this.options.model||new a.Entities.Point;this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showStepName();c.showStepWhat();return c.showStepCommers()});return this.model.isNew()?a.addPointPopup.show(this.layout,{loading:!0}):this.model.fetch({success:function(){return a.addPointPopup.show(c.layout,{loading:!0})}})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showStepName=function(){this.nameView=new b.StepName({model:this.model});
this.show(this.nameView,{region:this.layout.stepNameRegion,loading:!0});return this.listenTo(this.nameView,"show:step:what",function(){this.layout.stepNameRegion.$el.hide();return this.layout.stepWhatRegion.$el.show()})};d.prototype.showStepWhat=function(){var c=this;return a.execute("when:fetched",this.tags,function(){c.whatView=new b.StepWhat({model:c.model,collection:c.tags});c.show(c.whatView,{region:c.layout.stepWhatRegion});c.listenTo(c.whatView,"show:step:commers",function(){this.layout.stepWhatRegion.$el.hide();
return this.layout.stepCommersRegion.$el.show()});return c.listenTo(c.whatView,"show:step:name",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepNameRegion.$el.show()})})};d.prototype.showStepCommers=function(){this.commersView=new b.StepCommers({model:this.model});this.show(this.commersView,{region:this.layout.stepCommersRegion});return this.listenTo(this.commersView,"show:step:what",function(){this.layout.stepCommersRegion.$el.hide();return this.layout.stepWhatRegion.$el.show()})};
return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("AddPopupApp.Point",function(b,a,d,e,c,k){var m,h,n,l;b.Layout=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="AddPointLayout";b.prototype.className="popupwin__scrollbox";b.prototype.regions={stepNameRegion:"#point-name-region",
stepWhatRegion:"#point-what-region",stepCommersRegion:"#point-commers-region"};b.prototype.onShow=function(){return this.stepNameRegion.$el.show()};return b}(a.Views.Layout);b.StepName=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointStepName";b.prototype.className="popupwin__content clearfix";b.prototype.events={"blur .form__field_name input":"setName","blur .form__field_description textarea":"setDescription","click .js-next":"nextStep",
"submit form":"nextStep"};b.prototype.onShow=function(){var a=this;return this.$("#place-dropzone").dropzone({paramName:"img",headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(b,c){var d,e;d=c[0];e=a.model.get("imgs");e.push(d.id);return a.model.set("imgs",e)}})};b.prototype.setName=function(a){(a=c(a.currentTarget).val())&&this.$(".form__field_name").removeClass("error");return this.model.set({name:a})};b.prototype.setDescription=function(a){a=c(a.currentTarget).val();return this.model.set({description:a})};
b.prototype.nextStep=function(a){a.preventDefault();this.model.isValid();return 0>k.indexOf(this.model.validationError,"name")?(this.$(".form__field_name").removeClass("error"),this.trigger("show:step:what"),this.$(".categories__link").eq(0).trigger("click")):this.$(".form__field_name").addClass("error")};return b}(a.Views.ItemView);b.StepWhat=function(a){function b(){return n=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointStepWhat";b.prototype.className="popupwin__content clearfix";
b.prototype.events={"click .categories__link":"selectRootLabel","click .tags__link":"selectAdditionalLabel","blur .field__input-map input":"setAddress","select2-removed":"removeLabel","click .js-back":"backStep","click .js-next":"nextStep"};b.prototype.initialize=function(){this.rootLabels=this.collection.toJSON().filter(function(a){return 0===a.level});this.additionalLabels=this.collection.toJSON().filter(function(a){return 1===a.level});this.otherLabels=this.collection.toJSON().filter(function(a){return 2===
a.level});return this.labels={}};b.prototype.templateHelpers=function(){return{rootLabels:this.rootLabels,additionalLabels:this.additionalLabels}};b.prototype.format=function(a){return"<span data-id='"+a.id+"'>"+a.text+"</span>"};b.prototype.selectRootLabel=function(a){var b,d;a.preventDefault();d=c(a.currentTarget);b=d.data();this.$(".tags__item").hide();(a=this.$(".categories__link.active").data())&&(this.labels[a.id]=this.$(".select-type").select2("data"));this.$el.find(".categories__link").not(d).removeClass("active");
d.toggleClass("active");d.hasClass("active")?this.$el.find(".field_tags").attr("class","field field_tags field_tags-"+b.style):this.$el.find(".field_tags").attr("class","hide field field_tags field_tags-"+b.style);this.$(".tags__link").filter(function(a,d){return c(d).data("parent")===b.id}).parent().show();if(b)return this.$(".select-type").select2("data",this.labels[b.id])};b.prototype.selectAdditionalLabel=function(a){var b;a.preventDefault();b=c(a.currentTarget);a=this.$(".select-type").select2("data");
a.push({id:b.data("id"),text:b.text()});return this.$(".select-type").select2("data",a)};b.prototype.removeLabel=function(a){var b;b=this.$(".select-type").select2("data");k.remove(b,function(b){return b.id===a.val});return b=this.$(".select-type").select2("data",b)};b.prototype.setAddress=function(a){a=c(a.currentTarget).val();return this.model.set({address:a})};b.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:name")};b.prototype.nextStep=function(a){var b;a.preventDefault();
this.model.isValid();return 0>k.indexOf(this.model.validationError,"address")?(this.$(".field__input-map").removeClass("error"),this.trigger("show:step:commers"),b=this.$(".select-type").select2("val"),a=c(".categories__link.active").data()||{id:1},b.push(a.id),this.model.set({tags:b})):this.$(".field__input-map").addClass("error")};b.prototype.onShow=function(){var a,b,c=this;this.$(".categories__link").tooltip();this.$(".select-type").select2({containerCssClass:"select2-container_tags",dropdownCssClass:"select2-drop_tags",
width:"480px",multiple:!0,tags:function(){return c.otherLabels.map(function(a){return{id:a.id,text:a.name}})},maximumInputLength:50,formatResult:this.format,formatSelection:this.format,tokenSeparators:[","],escapeMarkup:function(a){return a}});a=k.find(this.model.get("tags"),{level:0});b=k.filter(this.model.get("tags"),function(a){return 0!==a.level});b=k.map(b,function(a){return{id:a.id,text:a.name}});a?(this.$(".categories__link[data-id="+a.id+"]").trigger("click"),this.labels[a.id]=b):this.$(".categories__link").eq(0).trigger("click");
return this.$(".select-type").select2("data",b)};b.prototype.onClose=function(){this.stopListening();this.collection.reset();return this.model.unset()};return b}(a.Views.ItemView);return b.StepCommers=function(b){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="PointStepCommers";d.prototype.className="popupwin__content clearfix";d.prototype.events={"click .toggle-list__title":"toggleList","click .js-back":"backStep","click .js-finish":"finishStep"};
d.prototype.toggleList=function(a){a.preventDefault;a=c(a.currentTarget);if(a.hasClass("active"))return a.removeClass("active"),a.siblings(".toggle-list__body").slideUp();this.$(".toggle-list__title").removeClass("active");this.$(".toggle-list__body").slideUp();a.addClass("active");return a.siblings(".toggle-list__body").slideDown()};d.prototype.finishStep=function(b){b.preventDefault();return this.model.save(null,{success:function(){return a.addPointPopup.close()}})};d.prototype.backStep=function(a){a.preventDefault();
return this.trigger("show:step:what")};return d}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp",function(b,a,d,e,c,k){var m,h;b.Router=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.appRoutes={"":"index"};return b}(e.AppRouter);m={index:function(){a.vent.trigger("show:map:region");a.vent.trigger("show:destination:region");
a.vent.trigger("hide:dashboard:region");return new b.List.Controller({content:"ypi",user:null})}};a.vent.on("show:detail:popup",function(a){switch(a.get("type_of_item")){case "point":return new b.Point.Controller({model:a});case "event":return new b.Event.Controller({model:a});case "route":return new b.Route.Controller({model:a})}});a.vent.on("filter:all:yapens",function(a){null==a&&(a={});k.defaults(a);return new b.List.Controller(a)});return a.addInitializer(function(){return new b.Router({controller:m})})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.Event",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize BoardApp.Event.Controller");this.model=a.request("get:detail:event",
this.options.model);this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showPhotos();c.showHeader();return c.showComments()});return a.eventPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showHeader=function(){this.headerView=new b.Header({model:this.model});return this.show(this.headerView,{region:this.layout.headerRegion})};d.prototype.showPhotos=function(){this.photoView=new b.Photo({model:this.model});
return this.show(this.photoView,{region:this.layout.photoRegion,loading:!0})};d.prototype.showComments=function(){this.commentsView=new b.Comments({model:this.model});return this.show(this.commentsView,{region:this.layout.commentsRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.Event",function(b,a,d,e,c,k){var m,h,n,l,q,p,t;b.Layout=function(b){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="EventLayout";d.prototype.regions={headerRegion:"#event-header-region",photoRegion:"#event-photo-region",mapRegion:"#event-map-region",
commentsRegion:"#event-comments-region",tagsRegion:"#event-tags-region"};d.prototype.className="popupwin__scrollbox";d.prototype.events={"click .js-popupwin-place":"showPointPopup"};d.prototype.showPointPopup=function(b){b.preventDefault();b=c(b.currentTarget).data();b=new a.Entities.Point({unid:b.id,type_of_item:"point"});return a.vent.trigger("show:detail:popup",b)};return d}(a.Views.Layout);b.Header=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template=
"EventHeader";d.prototype.modelEvents={"change:isliked":"render","change:likes_count":"render"};d.prototype.events={"click .btn-like":"eventLike","click .btn-place":function(){return this.trigger("add:path:popup",this.model)},"click .btn-upload":"upload"};d.prototype.initialize=function(){return this.listenTo(this.model,"event:like:response",this.eventLikeResponse)};d.prototype.eventLike=function(b){b.preventDefault();return a.request("like:event",this.model)};d.prototype.eventLikeResponse=function(a){var b=
this;if(1===a.status)return this.$(".btn-like").tooltip("show"),setTimeout(function(){return b.$(".btn-like").tooltip("destroy")},1E3)};d.prototype.upload=function(a){a.preventDefault();return c(a.currentTarget).toggleClass("active")};return d}(a.Views.ItemView);b.Photo=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.template="EventPhoto";e.prototype.events={"click .btn-photo-add":"showPhotoPopup"};e.prototype.modelEvents={"change:imgs":"addedImage"};
e.prototype.initialize=function(){return this.bxPagerInit=function(){return this.$(".bx-pager").each(function(){var a,b,d;a=c(this);d=a.find(".bx-pager__item:first-child").outerWidth(!0);b=a.find(".bx-pager__item").length;a.find(".bx-pager__scrollbox").width(d*b);return c(this).find(".bx-pager__viewport").scrollLeft(0)})}};e.prototype.showPhotoPopup=function(c){c.preventDefault();c=new b.AddPhoto({model:this.model});return a.photoPopupRegion.show(c)};e.prototype.addedImage=function(){this.render();
return this.onShow()};e.prototype.onShow=function(){var a=this;this.bxPagerInit();return this.$(".bxslider-place").bxSlider({pagerCustom:"#bx-pager",onSliderLoad:function(){return a.$("#bx-pager .bx-pager__viewport").scrollLeft(-100)},onSlideNext:function(b,c,d){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left+a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:first-child").index()===d)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(0)},
onSlidePrev:function(b,d,e){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left-a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:last-child").index()===e)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(c("#bx-pager .bx-pager__viewport").width())}})};return e}(a.Views.ItemView);b.Map=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="EventMap";
return b}(a.Views.ItemView);b.Comments=function(b){function c(){return q=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="EventComments";c.prototype.className="comments";c.prototype.tagName="ul";c.prototype.events={"submit .comment-form":"addComment"};c.prototype.modelEvents={"change:reviews":"render"};c.prototype.initialize=function(){return this.listenTo(this.model,"event:comment:response",this.eventCommentResponse)};c.prototype.eventCommentResponse=function(a){var b=this;
return 0===a.status?(this.model.fetch({success:function(){return b.$(".comment-form").parent().removeClass("loading")}}),this.$("[name=review_text]").val(""),this.$("[name=review_text]").removeClass("error")):this.$("[name=review_text]").addClass("error")};c.prototype.addComment=function(b){b.preventDefault();return(b=this.$("[name=review_text]").val())?(a.request("comment:event",this.model,{review:b}),this.$(".comment-form").parent().addClass("loading")):this.$("[name=review_text]").addClass("error")};
return c}(a.Views.ItemView);b.Tags=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="EventTags";b.prototype.modelEvents={"change:tags":"render"};return b}(a.Views.ItemView);return b.AddPhoto=function(b){function d(){return t=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="AddPhotoPopup";d.prototype.className="popupwin__scrollbox";d.prototype.events={"click .js-finish":"addImage"};d.prototype.addImage=function(b){b.preventDefault();
this.model.trigger("change:imgs");return a.photoPopupRegion.close()};d.prototype.onShow=function(){var a,b=this;a=this.model.get("id");return this.$("#photos-dropzone").dropzone({url:"/photos/event/"+a+"/add",paramName:"img",headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(a,c){var d,e;d=c[0];e=b.model.get("imgs");e.push(d);return b.model.set("imgs",e)}})};return d}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.List",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){console.log("initialize BoardApp.List.Controller");a.updateSettings(this.options);this.yapens=a.request("get:all:yapens",
a.settings);return this.showYapens()};d.prototype.onClose=function(){this.stopListening();return this.yapens.reset()};d.prototype.showYapens=function(){var c;c=new b.Yapens({collection:this.yapens});c.on("childview:show:detail:popup",function(b,c){return a.vent.trigger("show:detail:popup",c)});return this.show(c,{region:a.boardRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.List",function(b,a,d,e,c,k){var m,h;b.Yapen=function(b){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.initialize=function(a){this.model.set("editable",a.editable);this.listenTo(this.model,"point:like:response",this.likeResponse);return this.listenTo(this.model,
"event:like:response",this.likeResponse)};d.prototype.getTemplate=function(){return"point"===this.model.get("type_of_item")?"BoardPoint":"set"===this.model.get("type_of_item")?"BoardSet":"trip"===this.model.get("type_of_item")?"BoardTrip":"event"===this.model.get("type_of_item")?"BoardEvent":"route"===this.model.get("type_of_item")?"BoardRoute":"event"===this.model.get("type_of_item")?"BoardEvent":"BoardPoint"};d.prototype.className=function(){return this.model.get("editable")?"box box_dashboard":
"box"};d.prototype.events={"click .js-popupwin-place":function(){return this.trigger("show:detail:popup",this.model)},"click .js-popupwin-event":function(){return this.trigger("show:detail:popup",this.model)},"click .js-popupwin-route":function(){return this.trigger("show:detail:popup",this.model)},"click .sprite-like":"like","click .sprite-place":"mark","click .btn_edit":"showEditPopup","click .btn_remove":"showRemovePopup"};d.prototype.modelEvents={"change:likes_count":"render","change:reviews":"render",
"change:imgs":"render"};d.prototype.onRender=function(){console.log("onRender model");return this.tips=this.$(".box__img .icon").tooltip({placement:"bottom"})};d.prototype.showEditPopup=function(b){b.preventDefault();console.log(b);return a.vent.trigger("show:add:place:popup",{model:this.model})};d.prototype.showRemovePopup=function(a){return a.preventDefault()};d.prototype.like=function(b){b.preventDefault();switch(this.model.get("type_of_item")){case "point":return a.request("like:point",this.model);
case "event":return a.request("like:event",this.model)}};d.prototype.likeResponse=function(b){if(1===b.status)return a.vent.trigger("show:login:popup")};d.prototype.mark=function(){var b,d,e,f,g,h;console.log(this.model.attributes);g=this;f=[[0,0],[32,36]];c([[1,[[80,0],[112,36]]],[2,[[0,40],[32,76]]],[3,[[40,0],[72,36]]],[4,[[40,80],[72,116]]],[6,[[0,120],[32,156]]],[7,[[80,80],[112,116]]],[85,[[40,40],[72,76]]],[86,[[80,40],[112,76]]],[87,[[0,0],[32,36]]],[1136,[[0,80],[32,116]]]]).each(function(){if(this[0]===
g.model.attributes.tags[0].id)return f=this[1]});d=new a.ymaps.Placemark([this.model.attributes.latitude,this.model.attributes.longitude],{},{iconImageClipRect:f,iconImageHref:"static/images/sprite-baloon.png",iconImageSize:[32,36]});d.model=this;a.mmap_points.push([this.model.attributes.latitude,this.model.attributes.longitude]);a.route_points?(b=h=0,c(a.route_points).each(function(){this===g&&(a.route_points.splice(b,1),a.mmap.geoObjects.each(function(b){if(b.model&&b.model===g)return a.mmap.geoObjects.remove(b),
console.log("\u0443\u0434\u0430\u043b\u0430\u044f\u0435\u043c \u043f\u043b\u044d\u0439\u0441\u043c\u0430\u0440\u043a")}),h=1);return b+=1}),0===h&&(a.mmap.geoObjects.add(d),c(".route_right").append('<li class="item">              <span class="drag"></span>              <span class="number">'+(a.route_points.length+1)+'</span>              <img src="/static/images/place-unknown.png" alt="" class="img" width="44px" height="44px">              <div class="text">                <span class="text__place">'+
d.model.model.attributes.name+'</span>                <span class="text__type c-place">\u043c\u0435\u0441\u0442\u043e</span>              </div>            </li>'),a.route_points.push(g))):(a.route_points=[],a.route_points.push(g),a.mmap.geoObjects.add(d),c(".route-list_deleteable").css("display","block"),console.log(d),c(".route_right").append('<li class="item hide">              <span class="drag"></span>              <span class="number">0</span>              <img src="" alt="" class="img">              <div class="text">                <span class="text__place"></span>                <span class="text__type c-place"></span>              </div>            </li>            <li class="item">              <span class="drag"></span>              <span class="number">1</span>              <img src="/static/images/place-unknown.png" alt="" class="img" width="44px" height="44px">              <div class="text">                <span class="text__place">'+
d.model.model.attributes.name+'</span>                <span class="text__type c-place">\u043c\u0435\u0441\u0442\u043e</span>              </div>            </li>'));console.log(a.route_points);e=[];c(a.route_points).each(function(){return e.push({type:"wayPoint",point:[this.model.attributes.latitude,this.model.attributes.longitude]})});a.t_route&&a.mmap.geoObjects.remove(a.t_route);if(1<e.length)return a.mroute?a.mroute=a.ymaps.route(e,{mapStateAutoApply:!0}).then(function(b){console.log("test");
b.getPaths().options.set({balloonContenBodyLayout:a.ymaps.templateLayoutFactory.createClass("$[properties.humanJamsTime]"),strokeColor:"ca7953",opacity:0.9,noPlacemark:!0});b.getWayPoints().options.set("visible",!1);a.mmap.geoObjects.add(b);return a.t_route=b}):a.mroute=a.ymaps.route(e,{mapStateAutoApply:!0}).then(function(b){console.log("test");b.getPaths().options.set({balloonContenBodyLayout:a.ymaps.templateLayoutFactory.createClass("$[properties.humanJamsTime]"),strokeColor:"ca7953",opacity:0.9,
noPlacemark:!0});b.getWayPoints().options.set("visible",!1);console.log("\u0441\u0442\u0440\u043e\u0438\u043c \u043c\u0430\u0440\u0448\u0440\u0443\u0442");a.mmap.geoObjects.add(b);return a.t_route=b})};return d}(a.Views.ItemView);return b.Yapens=function(e){function l(){return h=l.__super__.constructor.apply(this,arguments)}f(l,e);l.prototype.itemView=b.Yapen;l.prototype.className="content";l.prototype.id="grid";l.prototype.itemViewOptions=function(){return{editable:!!a.settings.user}};l.prototype.initialize=
function(){k.bindAll(this,"onShow");return this.infiniScroll=new d.InfiniScroll(this.collection,{scrollOffset:350,includePage:!0,extraParams:a.settings,onFetch:function(){return c(".loader").removeClass("hide")},success:function(){return c(".loader").addClass("hide")}})};l.prototype.onAfterItemAdded=function(a){if(this.wall)return this.wall.appended(a.$el)};l.prototype.onShow=function(){var b=this;return a.execute("when:fetched",this.collection,function(){console.log("collection fetched",b.collection);
return b.$el.imagesLoaded(function(){return b.wall=new Masonry(b.el,{itemSelector:".box"})})})};l.prototype.onClose=function(){this.infiniScroll.destroy();this.wall&&this.wall.destroy();return this.remove()};return l}(a.Views.CollectionView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.Point",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var c=this;console.log("initialize BoardApp.Point.Controller");this.model=a.request("get:detail:point",
this.options.model);this.layout=new b.Layout({model:this.model});this.listenTo(this.layout,"show",function(){c.showPhotos();c.showHeader();return c.showComments()});return a.pointPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showHeader=function(){this.headerView=new b.Header({model:this.model});return this.show(this.headerView,{region:this.layout.headerRegion})};d.prototype.showPhotos=function(){this.photoView=new b.Photo({model:this.model});
return this.show(this.photoView,{region:this.layout.photoRegion,loading:!0})};d.prototype.showComments=function(){this.commentsView=new b.Comments({model:this.model});return this.show(this.commentsView,{region:this.layout.commentsRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.Point",function(b,a,d,e,c,k){var m,h,n,l,q,p,t;b.Layout=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointLayout";b.prototype.regions={headerRegion:"#point-header-region",photoRegion:"#point-photo-region",mapRegion:"#point-map-region",
commentsRegion:"#point-comments-region",tagsRegion:"#point-tags-region"};b.prototype.className="popupwin__scrollbox";b.prototype.events={"click .js-open":"toggleCommercial"};b.prototype.toggleCommercial=function(a){a.preventDefault();this.$(".js-open").toggleClass("active");return this.$(".commercial-info__body ").slideToggle()};return b}(a.Views.Layout);b.Header=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="PointHeader";d.prototype.modelEvents=
{"change:isliked":"render","change:likes_count":"render"};d.prototype.events={"click .btn-like":"pointLike","click .btn-place":function(){return this.trigger("add:path:popup",this.model)},"click .btn-upload":"upload"};d.prototype.initialize=function(){return this.listenTo(this.model,"point:like:response",this.pointLikeResponse)};d.prototype.pointLike=function(b){b.preventDefault();return a.request("like:point",this.model)};d.prototype.pointLikeResponse=function(b){var c=this;if(1===b.status)return a.vent.trigger("show:login:popup"),
this.$(".btn-like").tooltip("show"),setTimeout(function(){return c.$(".btn-like").tooltip("destroy")},1E3)};d.prototype.upload=function(a){a.preventDefault();return c(a.currentTarget).toggleClass("active")};return d}(a.Views.ItemView);b.Photo=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.template="PointPhoto";e.prototype.events={"click .btn-photo-add":"showPhotoPopup"};e.prototype.modelEvents={"change:imgs":"addedImage"};e.prototype.initialize=
function(){return this.bxPagerInit=function(){return this.$(".bx-pager").each(function(){var a,b,d;a=c(this);d=a.find(".bx-pager__item:first-child").outerWidth(!0);b=a.find(".bx-pager__item").length;a.find(".bx-pager__scrollbox").width(d*b);return c(this).find(".bx-pager__viewport").scrollLeft(0)})}};e.prototype.showPhotoPopup=function(c){c.preventDefault();c=new b.AddPhoto({model:this.model});return a.photoPopupRegion.show(c)};e.prototype.addedImage=function(){this.render();return this.onShow()};
e.prototype.onShow=function(){var a=this;this.bxPagerInit();return this.$(".bxslider-place").bxSlider({pagerCustom:"#bx-pager",onSliderLoad:function(){return a.$("#bx-pager .bx-pager__viewport").scrollLeft(-100)},onSlideNext:function(b,c,d){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left+a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:first-child").index()===d)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(0)},
onSlidePrev:function(b,d,e){b=a.$("#bx-pager .bx-pager__scrollbox .active").position().left-a.$("#bx-pager .bx-pager__item").outerWidth(!0);a.$("#bx-pager .bx-pager__viewport").scrollLeft(b);if(a.$("#bx-pager .bx-pager__item:last-child").index()===e)return a.$("#bx-pager .bx-pager__viewport").scrollLeft(c("#bx-pager .bx-pager__viewport").width())}})};return e}(a.Views.ItemView);b.Map=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointMap";
return b}(a.Views.ItemView);b.Comments=function(b){function c(){return q=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="PointComments";c.prototype.className="comments";c.prototype.tagName="ul";c.prototype.events={"submit .comment-form":"addComment"};c.prototype.modelEvents={"change:reviews":"render"};c.prototype.initialize=function(){return this.listenTo(this.model,"point:comment:response",this.pointCommentResponse)};c.prototype.pointCommentResponse=function(a){var b=this;
return 0===a.status?(this.model.fetch({success:function(){return b.$(".comment-form").parent().removeClass("loading")}}),this.$("[name=review_text]").val(""),this.$("[name=review_text]").removeClass("error")):this.$("[name=review_text]").addClass("error")};c.prototype.addComment=function(b){b.preventDefault();return(b=this.$("[name=review_text]").val())?(a.request("comment:point",this.model,{review:b}),this.$(".comment-form").parent().addClass("loading")):this.$("[name=review_text]").addClass("error")};
return c}(a.Views.ItemView);b.Tags=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PointTags";b.prototype.modelEvents={"change:tags":"render"};return b}(a.Views.ItemView);return b.AddPhoto=function(b){function d(){return t=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="AddPhotoPopup";d.prototype.className="popupwin__scrollbox";d.prototype.events={"click .js-finish":"addImage"};d.prototype.addImage=function(b){b.preventDefault();
this.model.trigger("change:imgs");return a.photoPopupRegion.close()};d.prototype.onShow=function(){var a,b=this;a=this.model.get("id");return this.$("#photos-dropzone").dropzone({url:"/photos/point/"+a+"/add",paramName:"img",headers:{"X-CSRFToken":c.cookie("csrftoken")},success:function(a,c){var d,e;d=c[0];e=b.model.get("imgs");e.push(d);return b.model.set("imgs",e)}})};return d}(a.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("FooterApp",function(b,f,g,a,d,e){var c;c={show:function(){return new b.Show.Controller({region:f.footerRegion})}};return b.on("start",function(){console.log("FooterApp onStart event");return c.show()})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("FooterApp.Show",function(b,a,d,e,c,k){var m;return b.Controller=function(a){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,a);c.prototype.initialize=function(){console.log("initialize FooterApp.Show.Controller");this.layout=this.getLayoutView();return this.show(this.layout)};
c.prototype.getLayoutView=function(){return new b.Layout};return c}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("FooterApp.Show",function(b,a,d,e,c,k){var m;return b.Layout=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="FooterView";b.prototype.className="f-body";return b}(a.Views.Layout)})}).call(this);
(function(){this.Yapp.module("HeaderApp",function(b,f,g,a,d,e){var c;c={show:function(){return new b.Show.Controller({region:f.headerRegion})}};f.vent.on("show:add:popup",function(){var a;a=new b.Show.PopupAdd;return f.addPopupRegion.show(a)});f.vent.on("show:login:popup",function(){var a;a=new b.Show.PopupLogin;return f.loginPopupRegion.show(a)});f.vent.on("show:destination:region",function(){f.headerRegion.$el.removeClass("header_small");return f.headerRegion.currentView.destinationRegion.$el.removeClass("hide")});
f.vent.on("hide:destination:region",function(){f.headerRegion.$el.addClass("header_small");return f.headerRegion.currentView.destinationRegion.$el.addClass("hide")});return b.on("start",function(){console.log("HeaderApp onStart event");return c.show()})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("HeaderApp.Show",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){var b=this;console.log("initialize HeaderApp.Show.Controller");this.layout=this.getLayoutView();this.tags=
a.request("get:all:tags");this.listenTo(this.layout,"show",function(){b.ctrlsView();b.destinationView();return b.filterView()});return this.show(this.layout)};d.prototype.ctrlsView=function(){var a;a=new b.Ctrls;return this.show(a,{region:this.layout.ctrlsRegion})};d.prototype.destinationView=function(){var a;a=new b.Destination;return this.show(a,{region:this.layout.destinationRegion})};d.prototype.filterView=function(){var c=this;return a.execute("when:fetched",this.tags,function(){var a;a=new b.Filter({collection:c.tags});
return c.show(a,{region:c.layout.filterRegion})})};d.prototype.getLayoutView=function(){return new b.Layout};d.prototype.onClose=function(){return this.stopListening()};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("HeaderApp.Show",function(b,a,d,e,c,k){var m,h,n,l,q,p;console.log("initialize HeaderApp.Show.Layout");b.Layout=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="HeaderView";b.prototype.className="h-body";b.prototype.regions=
{ctrlsRegion:".header__ctrls",destinationRegion:".header__destination",filterRegion:".header__filter",dashboardRegion:".header__dashboard"};return b}(a.Views.Layout);b.Ctrls=function(d){function e(){return h=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.template="Ctrls";e.prototype.className="constrain";e.prototype.events={"click .js-popup-add":"showAddPopup","click .js-popupwin-authorization":"showLoginPopup","click .js-profile-menu":"showProfileMenu"};e.prototype.initialize=function(){return a.request("get:my:profile")};
e.prototype.showAddPopup=function(c){c.preventDefault();return a.addPopupRegion.show(new b.PopupAdd)};e.prototype.showLoginPopup=function(c){c.preventDefault();return a.loginPopupRegion.show(new b.PopupLogin)};e.prototype.showProfileMenu=function(a){a.preventDefault();c(a.currentTarget).toggleClass("open");return this.$(".profile-menu").slideToggle()};e.prototype.format=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};e.prototype.onShow=function(){return this.$("input").select2({allowClear:!0,
ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;console.log(a);c=k.map(a,function(a,b){k.map(a,function(a){return a.type=b});return a});return{results:k.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:3,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},
escapeMarkup:function(a){return a}})};return e}(a.Views.ItemView);b.Destination=function(b){function c(){return n=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="Destination";c.prototype.className="constrain";c.prototype.events={"submit #destination-form":"submitSearch","select2-selecting #destination-input":"submitSearch","select2-clearing #destination-input":"submitSearch"};c.prototype.submitSearch=function(b){"submit"===b.type&&(b.preventDefault(),console.log(b));b=b.object;
a.updateSettings({s:b?b.name:""});return a.vent.trigger("filter:all:yapens")};c.prototype.format=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};c.prototype.onShow=function(){return this.$("#destination-input").select2({containerCssClass:"select2-container_destination",dropdownCssClass:"select2-drop_destination",quietMillis:750,allowClear:!0,ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;
c=k.map(a,function(a,b){k.map(a,function(a){return a.type=b});return a});return{results:k.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:1,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0438\u043c\u0432\u043e\u043b"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},escapeMarkup:function(a){return a},
createSearchChoice:function(a){return{id:0,type:"custom",name:a}}})};return c}(a.Views.ItemView);b.Filter=function(b){function d(){return l=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template="Filter";d.prototype.className="constrain clearfix";d.prototype.events={"click .categories__link":"filterCategory","click .categories__link_type_all":"filterAllCategory","click .filter-type > a":"openFilterType","click .filter-type__link":"filterType"};d.prototype.ui={filterTypeList:".filter-type__list",
filterAllCategory:".categories__link"};d.prototype.onShow=function(){return c("[data-toggle=tooltip]").tooltip()};d.prototype.filterCategory=function(b){b.preventDefault();b=c(b.target);if(!b.hasClass("categories__link_type_all"))return b.toggleClass("active"),b=k.map(this.$(".categories__link.sprite-filter-photo.active"),function(a){return c(a).data("id")}),a.updateSettings({tags:b.join(",")}),a.vent.trigger("filter:all:yapens")};d.prototype.filterAllCategory=function(b){b.preventDefault();c(b.target).hasClass("active")?
(c(b.target).removeClass("active"),this.ui.filterAllCategory.removeClass("active")):(c(b.target).addClass("active"),this.ui.filterAllCategory.addClass("active"));b=k.map(this.$(".categories__link.sprite-filter-photo.active"),function(a){return c(a).data("id")});a.updateSettings({tags:b.join(",")});return a.vent.trigger("filter:all:yapens")};d.prototype.openFilterType=function(a){a.preventDefault();return this.ui.filterTypeList.toggle()};d.prototype.filterType=function(b){b.preventDefault();c(b.target).toggleClass("active");
b=k.map(this.$(".filter-type__link.active"),function(a){return c(a).data("models")});a.updateSettings({models:b.join(",")});return a.vent.trigger("filter:all:yapens")};return d}(a.Views.ItemView);b.PopupAdd=function(b){function c(){return q=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="PopupAdd";c.prototype.className="popupwin__scrollbox";c.prototype.events={"click .js-popup-add-place":function(){return a.vent.trigger("show:add:place:popup")},"click .js-popup-add-event":function(){return a.vent.trigger("show:add:event:popup")}};
return c}(a.Views.ItemView);return b.PopupLogin=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="PopupLogin";b.prototype.className="popupwin__scrollbox";return b}(a.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("MapApp",function(b,f,g,a,d,e){var c;c={show:function(){return new b.Show.Controller({region:f.mapRegion})},mapToggle:function(a){f.mapRegion.$el.toggleClass("map-opened");d("#wrap").toggleClass("map-opened");a&&(f.map.$el.addClass("map-opened"),d("#wrap").addClass("map-opened"));a="\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443"===f.mapRegion.$el.find(".a-toggle").html()?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443":
"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443";return f.mapRegion.$el.find(".a-toggle").html(a)}};f.vent.on("show:map:region",function(){if(f.mapRegion.$el)return f.mapRegion.$el.removeClass("hide")});f.vent.on("hide:map:region",function(){if(f.mapRegion.$el)return f.mapRegion.$el.addClass("hide")});b.on("start",function(){console.log("MapApp onStart event");return c.show()});return f.commands.setHandler("toggle:map",function(a){return c.mapToggle(a)})})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("MapApp.Show",function(b,a,d,e,c,k){var m;return b.Controller=function(a){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,a);c.prototype.initialize=function(){var a=this;console.log("initialize MapApp.Show.Controller");this.layout=this.getLayoutView();this.listenTo(this.layout,
"show",function(){return a.mapView()});return this.show(this.layout)};c.prototype.getLayoutView=function(){return new b.Layout};c.prototype.mapView=function(){return new b.Map};return c}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("MapApp.Show",function(b,a,d,e,c,k){var m,h,n;b.Layout=function(b){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="MapView";c.prototype.className="map map_main";c.prototype.regions={tagsRegion:"#m-ico-group"};c.prototype.events={"click .a-toggle":"toggleMap"};
c.prototype.toggleMap=function(b){b.preventDefault();return a.execute("toggle:map")};return c}(a.Views.Layout);b.Map=function(b){function d(){return h=d.__super__.constructor.apply(this,arguments)}f(d,b);d.prototype.template=!1;d.prototype.initialize=function(){var b,d,e=this;console.log("initialize MapApp.Show.Map");if(void 0!==a.ymaps)return a.ymaps.ready(function(){c(".ymaps-copyrights-pane").css("bottom","13px");a.mmap_points=[];return a.mmap=new a.ymaps.Map("map",{center:[a.ymaps.geolocation.latitude,
a.ymaps.geolocation.longitude],zoom:12},{autoFitToViewport:"always"})}),console.log(this),c(".map").resizable({minHeight:80,handles:"s",resize:function(a,b){var d;d=c(e);return 440<b.size.height?d.addClass("open"):d.removeClass("open")}}),b=function(a){var b,d,e;d=e=b=void 0;return a.find(".route-list_draggable .list .item").dragdrop({makeClone:!0,sourceHide:!0,dragClass:"dragged",canDrag:function(a,c){b=a;d=e=b.index();return a},canDrop:function(a){a.is("li")&&(d=a.index(),e<d?b.insertAfter(a):b.insertBefore(a));
return!0},didDrop:function(a,b){b.find(".item").each(function(){return c(this).find(".number").html(c(this).index())});return c(".map_main .route-list").jScrollPane(function(){return{autoReinitialise:!0}})}})},c(".map_main .route-list").jScrollPane({autoReinitialise:!0}),b(c(".map_main")),d=0,c(".route-list.route-list_deleteable").on("mouseenter",".item",function(){var a,b,e;b=c(this);a=b.closest(".route-list");e=b.position().top+10;d=b.index();a.find(".title").length&&(e+=a.find(".title").outerHeight());
a.find(".jspPane").length&&(b=parseInt(a.find(".jspPane").css("top").split("px")[0]),e+=b);return a.find(".delete-item").css("top",e+"px")}),c(".trip-list.trip-list_deleteable").on("mouseenter",".item",function(){var a,b,e;b=c(this);a=b.closest(".trip-list");e=b.position().top+4;d=b.index();a.find(".jspPane").length&&(b=parseInt(a.find(".jspPane").css("top").split("px")[0]),e+=b);return a.find(".delete-item").css("top",e+"px")}),c(".route-list.route-list_deleteable .js-delete").click(function(){var a,
b,e,f;a=c(this).closest(".route-list");b=a.find(".item").eq(d);f=b.data("id");a.find(".jspPane").length&&(e=a.find(".list").jScrollPane({}),e=e.data("jsp"),e.destroy());b.remove();a.find(".item").each(function(){return c(this).find(".number").html(c(this).index())});a.find(".list").jScrollPane({autoReinitialise:!0});if(a.closest(".popupwin_add-route").length)return c(".route-grid").find('.box[data-id="'+f+'"]').removeClass("added")}),c(".trip-list.trip-list_deleteable .js-delete").click(function(){var a,
b;a=c(this).closest(".trip-list");b=a.find(".item").eq(d);b.data("id");b.remove();return a.find(".item").each(function(){return c(this).find(".number").html(c(this).index())})})};return d}(a.Views.ItemView);return b.Tags=function(a){function b(){return n=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="IconTemplate";return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("ProfileApp.List",function(b,a,d,e,c,k){var m;return b.Controller=function(c){function d(){return m=d.__super__.constructor.apply(this,arguments)}f(d,c);d.prototype.initialize=function(){console.log("initialize ProfileApp.List.Controller");this.user=a.request("get:my:profile");this.user.fetch();
this.showDashboard();switch(this.options.section){case "likes":return this.showMyLikes();case "settings":return this.showSettings();default:return this.showMyYapens()}};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showDashboard=function(){var c;c=new b.ProfileDashboard({model:this.user,section:this.options.section});this.show(c,{region:a.headerRegion.currentView.dashboardRegion,loading:!0});a.vent.trigger("hide:map:region");a.vent.trigger("hide:destination:region");return a.vent.trigger("show:dashboard:region")};
d.prototype.showMyYapens=function(){return a.vent.trigger("filter:all:yapens",{user:this.user.get("id"),s:null})};d.prototype.showMyLikes=function(){return a.vent.trigger("filter:all:yapens",{user:this.user.get("id"),s:null})};d.prototype.showSettings=function(){var c;c=new b.ProfileSettings({model:this.user});return this.show(c,{region:a.boardRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("ProfileApp.List",function(b,a,d,e,c,k){var m,h;b.ProfileDashboard=function(b){function c(){return m=c.__super__.constructor.apply(this,arguments)}f(c,b);c.prototype.template="Dashboard";c.prototype.className="constrain clearfix";c.prototype.modelEvents={change:"calculateTotalAdded render"};
c.prototype.initialize=function(b){var c=this;this.section=b.section;return a.execute("when:fetched",this.model,function(){var a;console.log("user fetched");a=c.model.get("added_events")+c.model.get("added_points");return c.model.set("total_added",a)})};c.prototype.templateHelpers=function(){return{section:this.section}};c.prototype.calculateTotalAdded=function(){var a;a=this.model.get("added_events")+this.model.get("added_points");return this.model.set("total_added",a)};c.prototype.onRender=function(){return this.tips=
this.$(".box__img .icon").tooltip({placement:"bottom"})};return c}(a.Views.ItemView);return b.ProfileSettings=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.template="DashboardSettings";b.prototype.className="dashboard-settings";b.prototype.events={"click .link_make":"makes","click .link_like":"likes","click .link_settings":"settings","click .js-popup-login-commercial":"showCommercialPopup"};b.prototype.onShow=function(){c(".header__title").removeClass("hide");
return c(".header__filter").addClass("hide")};b.prototype.onClose=function(){c(".header__title").addClass("hide");return c(".header__filter").removeClass("hide")};b.prototype.showCommercialPopup=function(a){return a.preventDefault()};return b}(a.Views.ItemView)})}).call(this);
(function(){var b={}.hasOwnProperty,f=function(f,a){function d(){this.constructor=f}for(var e in a)b.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("ProfileApp",function(b,a,d,e,c,k){var m,h;b.Router=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}f(b,a);b.prototype.appRoutes={"dashboard/":"index","dashboard/likes/":"likes","dashboard/settings/":"settings"};return b}(e.AppRouter);m={index:function(){console.log("ProfileApp index url");
return new b.List.Controller},likes:function(){console.log("ProfileApp likes url");return new b.List.Controller({section:"likes"})},settings:function(){console.log("ProfileApp settings url");return new b.List.Controller({section:"settings"})}};a.vent.on("show:dashboard:region",function(){if(a.headerRegion.currentView.dashboardRegion.$el)return a.headerRegion.$el.addClass("header_small"),a.headerRegion.currentView.dashboardRegion.$el.removeClass("hide")});a.vent.on("hide:dashboard:region",function(){if(a.headerRegion.currentView.dashboardRegion.$el)return a.headerRegion.$el.removeClass("header_small"),
a.headerRegion.currentView.dashboardRegion.$el.addClass("hide")});return a.addInitializer(function(){return new b.Router({controller:m})})})}).call(this);
>>>>>>> 20c7f54480968c5e3cf389bec522c0d0c6a10323
