/*

 Lo-Dash 1.3.1 (Custom Build) lodash.com/license
 Build: `lodash modern -o ./dist/lodash.js`
 Underscore.js 1.4.4 underscorejs.org/LICENSE
*/
"object"!==typeof JSON&&(JSON={});
(function(){function c(b){return 10>b?"0"+b:b}function g(b){d.lastIndex=0;return d.test(b)?'"'+b.replace(d,function(b){var a=h[b];return"string"===typeof a?a:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function f(a,c){var d,h,m,v,q=e,u,w=c[a];w&&("object"===typeof w&&"function"===typeof w.toJSON)&&(w=w.toJSON(a));"function"===typeof k&&(w=k.call(c,a,w));switch(typeof w){case "string":return g(w);case "number":return isFinite(w)?String(w):"null";case "boolean":case "null":return String(w);
case "object":if(!w)return"null";e+=b;u=[];if("[object Array]"===Object.prototype.toString.apply(w)){v=w.length;for(d=0;d<v;d+=1)u[d]=f(d,w)||"null";m=0===u.length?"[]":e?"[\n"+e+u.join(",\n"+e)+"\n"+q+"]":"["+u.join(",")+"]";e=q;return m}if(k&&"object"===typeof k){v=k.length;for(d=0;d<v;d+=1)"string"===typeof k[d]&&(h=k[d],(m=f(h,w))&&u.push(g(h)+(e?": ":":")+m))}else for(h in w)Object.prototype.hasOwnProperty.call(w,h)&&(m=f(h,w))&&u.push(g(h)+(e?": ":":")+m);m=0===u.length?"{}":e?"{\n"+e+u.join(",\n"+
e)+"\n"+q+"}":"{"+u.join(",")+"}";e=q;return m}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var a=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,b,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,c,d){var h;b=e="";if("number"===typeof d)for(h=0;h<d;h+=1)b+=" ";else"string"===typeof d&&(b=d);if((k=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return f("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function d(b,a){var e,h,f=b[a];if(f&&"object"===typeof f)for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&(h=d(f,e),void 0!==h?f[e]=h:delete f[e]);return c.call(b,a,f)}var e;b=String(b);a.lastIndex=0;a.test(b)&&(b=b.replace(a,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+b+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");})})();
(function(c,g){"object"==typeof exports?module.exports=g():"function"==typeof define&&define.amd?define(g):c.Spinner=g()})(this,function(){function c(b,a){var c=document.createElement(b||"div"),d;for(d in a)c[d]=a[d];return c}function g(b){for(var a=1,c=arguments.length;a<c;a++)b.appendChild(arguments[a]);return b}function f(b,a,c,d){var e=["opacity",a,~~(100*b),c,d].join("-");c=0.01+100*(c/d);d=Math.max(1-(1-b)/a*(100-c),b);var h=n.substring(0,n.indexOf("Animation")).toLowerCase();p[e]||(r.insertRule("@"+
(h&&"-"+h+"-"||"")+"keyframes "+e+"{0%{opacity:"+d+"}"+c+"%{opacity:"+b+"}"+(c+0.01)+"%{opacity:1}"+(c+a)%100+"%{opacity:"+b+"}100%{opacity:"+d+"}}",r.cssRules.length),p[e]=1);return e}function a(b,a){var c=b.style,d,e;if(void 0!==c[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(e=0;e<l.length;e++)if(d=l[e]+a,void 0!==c[d])return d}function d(b,c){for(var d in c)b.style[a(b,d)||d]=c[d];return b}function e(b){for(var a=1;a<arguments.length;a++){var c=arguments[a],d;for(d in c)void 0===b[d]&&
(b[d]=c[d])}return b}function b(b){for(var a={x:b.offsetLeft,y:b.offsetTop};b=b.offsetParent;)a.x+=b.offsetLeft,a.y+=b.offsetTop;return a}function h(b){if("undefined"==typeof this)return new h(b);this.opts=e(b||{},h.defaults,m)}function k(){function b(a,d){return c("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',d)}r.addRule(".spin-vml","behavior:url(#default#VML)");h.prototype.lines=function(a,c){function e(){return d(b("group",{coordsize:k+" "+k,coordorigin:-f+" "+-f}),{width:k,
height:k})}function h(a,k,p){g(l,g(d(e(),{rotation:360/c.lines*a+"deg",left:~~k}),g(d(b("roundrect",{arcsize:c.corners}),{width:f,height:c.width,left:c.radius,top:-c.width>>1,filter:p}),b("fill",{color:c.color,opacity:c.opacity}),b("stroke",{opacity:0}))))}var f=c.length+c.width,k=2*f,p=2*-(c.width+c.length)+"px",l=d(e(),{position:"absolute",top:p,left:p});if(c.shadow)for(p=1;p<=c.lines;p++)h(p,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(p=1;p<=c.lines;p++)h(p);
return g(a,l)};h.prototype.opacity=function(b,a,c,d){b=b.firstChild;d=d.shadow&&d.lines||0;if(b&&a+d<b.childNodes.length&&(b=(b=(b=b.childNodes[a+d])&&b.firstChild)&&b.firstChild))b.opacity=c}}var l=["webkit","Moz","ms","O"],p={},n,r=function(){var b=c("style",{type:"text/css"});g(document.getElementsByTagName("head")[0],b);return b.sheet||b.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",
top:"auto",left:"auto",position:"relative"};h.defaults={};e(h.prototype,{spin:function(a){this.stop();var e=this,h=e.opts,f=e.el=d(c(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),k=h.radius+h.length+h.width,p,l;a&&(a.insertBefore(f,a.firstChild||null),l=b(a),p=b(f),d(f,{left:("auto"==h.left?l.x-p.x+(a.offsetWidth>>1):parseInt(h.left,10)+k)+"px",top:("auto"==h.top?l.y-p.y+(a.offsetHeight>>1):parseInt(h.top,10)+k)+"px"}));f.setAttribute("role","progressbar");e.lines(f,e.opts);
if(!n){var g=0,m=(h.lines-1)*(1-h.direction)/2,r,v=h.fps,z=v/h.speed,G=(1-h.opacity)/(z*h.trail/100),F=z/h.lines;(function N(){g++;for(var b=0;b<h.lines;b++)r=Math.max(1-(g+(h.lines-b)*F)%z*G,h.opacity),e.opacity(f,b*h.direction+m,r,h);e.timeout=e.el&&setTimeout(N,~~(1E3/v))})()}return e},stop:function(){var b=this.el;b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=void 0);return this},lines:function(b,a){function e(b,q){return d(c(),{position:"absolute",width:a.length+
a.width+"px",height:a.width+"px",background:b,boxShadow:q,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*h+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var h=0,k=(a.lines-1)*(1-a.direction)/2,p;h<a.lines;h++)p=d(c(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:n&&f(a.opacity,a.trail,k+h*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&g(p,d(e("#000","0 0 4px #000"),
{top:"2px"})),g(b,g(p,e(a.color,"0 0 1px rgba(0,0,0,.1)")));return b},opacity:function(b,a,c){a<b.childNodes.length&&(b.childNodes[a].style.opacity=c)}});var v=d(c("group"),{behavior:"url(#default#VML)"});!a(v,"transform")&&v.adj?k():n=a(v,"animation");return h});
!function(c){function g(b,a){return function(c){return k(b.call(this,c),a)}}function f(b,a){return function(c){return this.lang().ordinal(b.call(this,c),a)}}function a(){}function d(a){b(this,a)}function e(b){var a=b.years||b.year||b.y||0,c=b.months||b.month||b.M||0,d=b.weeks||b.week||b.w||0,e=b.days||b.day||b.d||0,h=b.hours||b.hour||b.h||0,q=b.minutes||b.minute||b.m||0,f=b.seconds||b.second||b.s||0,k=b.milliseconds||b.millisecond||b.ms||0;this._input=b;this._milliseconds=k+1E3*f+6E4*q+36E5*h;this._days=
e+7*d;this._months=c+12*a;this._data={};this._bubble()}function b(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function h(b){return 0>b?Math.ceil(b):Math.floor(b)}function k(b,a){for(var c=b+"";c.length<a;)c="0"+c;return c}function l(b,a,c,d){var e,h,q=a._milliseconds,f=a._days;a=a._months;q&&b._d.setTime(+b._d+q*c);(f||a)&&(e=b.minute(),h=b.hour());f&&b.date(b.date()+f*c);a&&b.month(b.month()+a*c);q&&!d&&t.updateOffset(b);(f||a)&&(b.minute(e),b.hour(h))}function p(b,a){var c,d=Math.min(b.length,
a.length),e=Math.abs(b.length-a.length),h=0;for(c=0;d>c;c++)~~b[c]!==~~a[c]&&h++;return h+e}function n(b){return b?X[b]||b.toLowerCase().replace(/(.)s$/,"$1"):b}function r(b){if(!b)return t.fn._lang;if(!F[b]&&M)try{require("./lang/"+b)}catch(a){return t.fn._lang}return F[b]}function m(b){var a,c,d=b.match(S);a=0;for(c=d.length;c>a;a++)d[a]=ba[d[a]]?ba[d[a]]:d[a].match(/\[.*\]/)?d[a].replace(/^\[|\]$/g,""):d[a].replace(/\\/g,"");return function(e){var h="";for(a=0;c>a;a++)h+=d[a]instanceof Function?
d[a].call(e,b):d[a];return h}}function v(b,a){function c(a){return b.lang().longDateFormat(a)||a}for(var d=5;d--&&T.test(a);)a=a.replace(T,c);return V[a]||(V[a]=m(a)),V[a](b)}function q(b,a){switch(b){case "DDDD":return Q;case "YYYY":return y;case "YYYYY":return P;case "S":case "SS":case "SSS":case "DDD":return B;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return K;case "a":case "A":return r(a._l)._meridiemParse;case "X":return O;case "Z":case "ZZ":return J;case "T":return L;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return Y;
default:return RegExp(b.replace("\\",""))}}function u(b){b=((J.exec(b)||[])[0]+"").match(ha)||["-",0,0];var a=+(60*b[1])+~~b[2];return"+"===b[0]?-a:a}function w(b){var a,c=[];if(!b._d){for(a=0;7>a;a++)b._a[a]=c[a]=null==b._a[a]?2===a?1:0:b._a[a];c[3]+=~~((b._tzm||0)/60);c[4]+=~~((b._tzm||0)%60);a=new Date(0);b._useUTC?(a.setUTCFullYear(c[0],c[1],c[2]),a.setUTCHours(c[3],c[4],c[5],c[6])):(a.setFullYear(c[0],c[1],c[2]),a.setHours(c[3],c[4],c[5],c[6]));b._d=a}}function A(b){var a,c,d=b._f.match(S),e=
b._i;b._a=[];for(a=0;a<d.length;a++)if((c=(q(d[a],b).exec(e)||[])[0])&&(e=e.slice(e.indexOf(c)+c.length)),ba[d[a]]){var h=b,f=void 0,k=h._a;switch(d[a]){case "M":case "MM":k[1]=null==c?0:~~c-1;break;case "MMM":case "MMMM":f=r(h._l).monthsParse(c);null!=f?k[1]=f:h._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":null!=c&&(k[2]=~~c);break;case "YY":k[0]=~~c+(68<~~c?1900:2E3);break;case "YYYY":case "YYYYY":k[0]=~~c;break;case "a":case "A":h._isPm=r(h._l).isPM(c);break;case "H":case "HH":case "h":case "hh":k[3]=
~~c;break;case "m":case "mm":k[4]=~~c;break;case "s":case "ss":k[5]=~~c;break;case "S":case "SS":case "SSS":k[6]=~~(1E3*("0."+c));break;case "X":h._d=new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":h._useUTC=!0,h._tzm=u(c)}null==c&&(h._isValid=!1)}e&&(b._il=e);b._isPm&&12>b._a[3]&&(b._a[3]+=12);!1===b._isPm&&12===b._a[3]&&(b._a[3]=0);w(b)}function x(b,a,c,d,e){return e.relativeTime(a||1,!!c,b,d)}function C(b,a,c){var d;a=c-a;c-=b.day();return c>a&&(c-=7),a-7>c&&(c+=7),d=t(b).add("d",c),{week:Math.ceil(d.dayOfYear()/
7),year:d.year()}}function D(a){var e=a._i,h=a._f;if(null===e||""===e)a=null;else{"string"==typeof e&&(a._i=e=r().preparse(e));if(t.isMoment(e))a=b({},e),a._d=new Date(+e._d);else if(h)if("[object Array]"===Object.prototype.toString.call(h)){var e=a,q,f,k,l=99;for(k=0;k<e._f.length;k++)q=b({},e),q._f=e._f[k],A(q),h=new d(q),q=p(q._a,h.toArray()),h._il&&(q+=h._il.length),l>q&&(l=q,f=h);b(e,f)}else A(a);else if(f=a,e=f._i,h=N.exec(e),e===c)f._d=new Date;else if(h)f._d=new Date(+h[1]);else if("string"==
typeof e)if(e=f._i,h=da.exec(e)){f._f="YYYY-MM-DD"+(h[2]||" ");for(h=0;4>h;h++)if(ra[h][1].exec(e)){f._f+=ra[h][0];break}J.exec(e)&&(f._f+=" Z");A(f)}else f._d=new Date(e);else"[object Array]"===Object.prototype.toString.call(e)?(f._a=e.slice(0),w(f)):f._d=e instanceof Date?new Date(+e):new Date(e);a=new d(a)}return a}function I(b,a){t.fn[b]=t.fn[b+"s"]=function(b){var c=this._isUTC?"UTC":"";return null!=b?(this._d["set"+c+a](b),t.updateOffset(this),this):this._d["get"+c+a]()}}function E(b){t.duration.fn[b]=
function(){return this._data[b]}}function H(b,a){t.duration.fn["as"+b]=function(){return+this/a}}for(var t,z,G=Math.round,F={},M="undefined"!=typeof module&&module.exports,N=/^\/?Date\((\-?\d+)/i,R=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,S=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,T=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Y=/\d\d?/,B=/\d{1,3}/,Q=/\d{3}/,y=/\d{1,4}/,P=/[+\-]?\d{1,6}/,
K=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J=/Z|[\+\-]\d\d:?\d\d/i,L=/T/i,O=/[\+\-]?\d+(\.\d{1,3})?/,da=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ra=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ha=/([\+\-]|\d\d)/gi,ea=["Date","Hours","Minutes","Seconds","Milliseconds"],ca={Milliseconds:1,Seconds:1E3,
Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},X={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},V={},W="DDD w W M D d".split(" "),Z="MDHhmswW".split(""),ba={M:function(){return this.month()+1},MMM:function(b){return this.lang().monthsShort(this,b)},MMMM:function(b){return this.lang().months(this,b)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(b){return this.lang().weekdaysMin(this,
b)},ddd:function(b){return this.lang().weekdaysShort(this,b)},dddd:function(b){return this.lang().weekdays(this,b)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return k(this.year()%100,2)},YYYY:function(){return k(this.year(),4)},YYYYY:function(){return k(this.year(),5)},gg:function(){return k(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return k(this.weekYear(),5)},GG:function(){return k(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},
GGGGG:function(){return k(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return k(~~(this.milliseconds()/
10),2)},SSS:function(){return k(this.milliseconds(),3)},Z:function(){var b=-this.zone();return 0>b&&(b=-b),"+"+k(~~(b/60),2)+":"+k(~~b%60,2)},ZZ:function(){var b=-this.zone();return 0>b&&(b=-b),"+"+k(~~(10*b/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};W.length;)z=W.pop(),ba[z+"o"]=f(ba[z],z);for(;Z.length;)z=Z.pop(),ba[z+z]=g(ba[z],2);ba.DDDD=g(ba.DDD,3);a.prototype={set:function(b){var a,c;for(c in b)a=b[c],"function"==typeof a?
this[c]=a:this["_"+c]=a},_months:"January February March April May June July August September October November December".split(" "),months:function(b){return this._months[b.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(b){return this._monthsShort[b.month()]},monthsParse:function(b){var a,c,d;this._monthsParse||(this._monthsParse=[]);for(a=0;12>a;a++)if(this._monthsParse[a]||(c=t([2E3,a]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),
this._monthsParse[a]=RegExp(d.replace(".",""),"i")),this._monthsParse[a].test(b))return a},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(b){return this._weekdays[b.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(b){return this._weekdaysShort[b.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(b){return this._weekdaysMin[b.day()]},weekdaysParse:function(b){var a,c,d;this._weekdaysParse||
(this._weekdaysParse=[]);for(a=0;7>a;a++)if(this._weekdaysParse[a]||(c=t([2E3,1]).day(a),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[a]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[a].test(b))return a},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(b){var a=this._longDateFormat[b];return!a&&this._longDateFormat[b.toUpperCase()]&&(a=this._longDateFormat[b.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(b){return b.slice(1)}),this._longDateFormat[b]=a),a},isPM:function(b){return"p"===(b+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(b,a,c){return 11<b?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(b,a){var c=this._calendar[b];return"function"==typeof c?c.apply(a):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(b,a,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(b,a,c,d):e.replace(/%d/i,b)},pastFuture:function(b,a){var c=this._relativeTime[0<b?"future":"past"];return"function"==typeof c?c(a):c.replace(/%s/i,a)},ordinal:function(b){return this._ordinal.replace("%d",b)},_ordinal:"%d",preparse:function(b){return b},postformat:function(b){return b},
week:function(b){return C(b,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}};t=function(b,a,c){return D({_i:b,_f:a,_l:c,_isUTC:!1})};t.utc=function(b,a,c){return D({_useUTC:!0,_isUTC:!0,_l:c,_i:b,_f:a})};t.unix=function(b){return t(1E3*b)};t.duration=function(b,a){var c,d,h=t.isDuration(b),f="number"==typeof b,q=h?b._input:f?{}:b,k=R.exec(b);return f?a?q[a]=b:q.milliseconds=b:k&&(c="-"===k[1]?-1:1,q={y:0,d:~~k[2]*c,h:~~k[3]*c,m:~~k[4]*c,s:~~k[5]*c,ms:~~k[6]*c}),d=new e(q),h&&b.hasOwnProperty("_lang")&&
(d._lang=b._lang),d};t.version="2.1.0";t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";t.updateOffset=function(){};t.lang=function(b,c){return b?(c?(c.abbr=b,F[b]||(F[b]=new a),F[b].set(c)):F[b]||r(b),t.duration.fn._lang=t.fn._lang=r(b),void 0):t.fn._lang._abbr};t.langData=function(b){return b&&b._lang&&b._lang._abbr&&(b=b._lang._abbr),r(b)};t.isMoment=function(b){return b instanceof d};t.isDuration=function(b){return b instanceof e};t.fn=d.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d+
6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(t(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!p(this._a,(this._isUTC?
t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(b){b=v(this,b||t.defaultFormat);return this.lang().postformat(b)},add:function(b,a){var c;return c="string"==typeof b?t.duration(+a,b):t.duration(b,a),l(this,c,1),this},subtract:function(b,a){var c;return c="string"==typeof b?t.duration(+a,b):t.duration(b,a),l(this,c,-1),this},diff:function(b,a,c){var d,e;b=
this._isUTC?t(b).zone(this._offset||0):t(b).local();var f=6E4*(this.zone()-b.zone());return a=n(a),"year"===a||"month"===a?(d=432E5*(this.daysInMonth()+b.daysInMonth()),e=12*(this.year()-b.year())+(this.month()-b.month()),e+=(this-t(this).startOf("month")-(b-t(b).startOf("month")))/d,e-=6E4*(this.zone()-t(this).startOf("month").zone()-(b.zone()-t(b).startOf("month").zone()))/d,"year"===a&&(e/=12)):(d=this-b,e="second"===a?d/1E3:"minute"===a?d/6E4:"hour"===a?d/36E5:"day"===a?(d-f)/864E5:"week"===a?
(d-f)/6048E5:d),c?e:h(e)},from:function(b,a){return t.duration(this.diff(b)).lang(this.lang()._abbr).humanize(!a)},fromNow:function(b){return this.from(t(),b)},calendar:function(){var b=this.diff(t().startOf("day"),"days",!0);return this.format(this.lang().calendar(-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse",this))},isLeapYear:function(){var b=this.year();return 0===b%4&&0!==b%100||0===b%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||
this.zone()<this.clone().month(5).zone()},day:function(b){var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=b?"string"==typeof b&&(b=this.lang().weekdaysParse(b),"number"!=typeof b)?this:this.add({d:b-a}):a},month:function(b){var a,c=this._isUTC?"UTC":"";return null!=b?"string"==typeof b&&(b=this.lang().monthsParse(b),"number"!=typeof b)?this:(a=this.date(),this.date(1),this._d["set"+c+"Month"](b),this.date(Math.min(a,this.daysInMonth())),t.updateOffset(this),this):this._d["get"+
c+"Month"]()},startOf:function(b){switch(b=n(b)){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===b&&this.weekday(0),this},endOf:function(b){return this.startOf(b).add(b,1).subtract("ms",1)},isAfter:function(b,a){return a="undefined"!=typeof a?a:"millisecond",+this.clone().startOf(a)>+t(b).startOf(a)},isBefore:function(b,a){return a="undefined"!=typeof a?
a:"millisecond",+this.clone().startOf(a)<+t(b).startOf(a)},isSame:function(b,a){return a="undefined"!=typeof a?a:"millisecond",+this.clone().startOf(a)===+t(b).startOf(a)},min:function(b){return b=t.apply(null,arguments),this>b?this:b},max:function(b){return b=t.apply(null,arguments),b>this?this:b},zone:function(b){var a=this._offset||0;return null==b?this._isUTC?a:this._d.getTimezoneOffset():("string"==typeof b&&(b=u(b)),16>Math.abs(b)&&(b*=60),this._offset=b,this._isUTC=!0,a!==b&&l(this,t.duration(a-
b,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(b){var a=G((t(this).startOf("day")-t(this).startOf("year"))/864E5)+1;return null==b?a:this.add("d",b-a)},weekYear:function(b){var a=C(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==b?a:this.add("y",b-a)},isoWeekYear:function(b){var a=C(this,1,4).year;
return null==b?a:this.add("y",b-a)},week:function(b){var a=this.lang().week(this);return null==b?a:this.add("d",7*(b-a))},isoWeek:function(b){var a=C(this,1,4).week;return null==b?a:this.add("d",7*(b-a))},weekday:function(b){var a=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==b?a:this.add("d",b-a)},isoWeekday:function(b){return null==b?this.day()||7:this.day(this.day()%7?b:b-7)},lang:function(b){return b===c?this._lang:(this._lang=r(b),this)}};for(z=0;z<ea.length;z++)I(ea[z].toLowerCase().replace(/s$/,
""),ea[z]);I("year","FullYear");t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.toJSON=t.fn.toISOString;t.duration.fn=e.prototype={_bubble:function(){var b,a;b=this._milliseconds;a=this._days;var c=this._months,d=this._data;d.milliseconds=b%1E3;b=h(b/1E3);d.seconds=b%60;b=h(b/60);d.minutes=b%60;b=h(b/60);d.hours=b%24;a+=h(b/24);d.days=a%30;c+=h(a/30);d.months=c%12;a=h(c/12);d.years=a},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*~~(this._months/12)},humanize:function(b){var a=+this,c;c=!b;var d=this.lang(),e=G(Math.abs(a)/1E3),h=G(e/60),f=G(h/60),q=G(f/24),k=G(q/365),e=45>e&&["s",e]||1===h&&["m"]||45>h&&["mm",h]||1===f&&["h"]||22>f&&["hh",f]||1===q&&["d"]||25>=q&&["dd",q]||45>=q&&["M"]||345>q&&["MM",G(q/30)]||1===k&&["y"]||["yy",k];c=(e[2]=c,e[3]=0<a,e[4]=d,x.apply({},e));return b&&(c=this.lang().pastFuture(a,c)),this.lang().postformat(c)},add:function(b,a){var c=t.duration(b,
a);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(b,a){var c=t.duration(b,a);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(b){return b=n(b),this[b.toLowerCase()+"s"]()},as:function(b){return b=n(b),this["as"+b.charAt(0).toUpperCase()+b.slice(1)+"s"]()},lang:t.fn.lang};for(z in ca)ca.hasOwnProperty(z)&&(H(z,ca[z]),E(z.toLowerCase()));H("Weeks",6048E5);
t.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};t.lang("en",{ordinal:function(b){var a=b%10;return b+(1===~~(b%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")}});M&&(module.exports=t);"undefined"==typeof ender&&(this.moment=t);"function"==typeof define&&define.amd&&define("moment",[],function(){return t})}.call(this);function plural(c,g){var f=c.split("_");return 1===g%10&&11!==g%100?f[0]:2<=g%10&&4>=g%10&&(10>g%100||20<=g%100)?f[1]:f[2]}
function relativeTimeWithPlural(c,g,f){var a={mm:"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"};return"m"===
f?g?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":c+" "+plural(a[f],+c)}
function monthsCaseReplace(c,g){return{nominative:"\u044f\u043d\u0432\u0430\u0440\u044c \u0444\u0435\u0432\u0440\u0430\u043b\u044c \u043c\u0430\u0440\u0442 \u0430\u043f\u0440\u0435\u043b\u044c \u043c\u0430\u0439 \u0438\u044e\u043d\u044c \u0438\u044e\u043b\u044c \u0430\u0432\u0433\u0443\u0441\u0442 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u043e\u043a\u0442\u044f\u0431\u0440\u044c \u043d\u043e\u044f\u0431\u0440\u044c \u0434\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),accusative:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" ")}[/D[oD]? *MMMM?/.test(g)?
"accusative":"nominative"][c.month()]}
function weekdaysCaseReplace(c,g){return{nominative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),accusative:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0443 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0443 \u0441\u0443\u0431\u0431\u043e\u0442\u0443".split(" ")}[/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e)? ?\] ?dddd/.test(g)?"accusative":
"nominative"][c.day()]}
moment.lang("ru",{months:monthsCaseReplace,monthsShort:"\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0439 \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a".split(" "),weekdays:weekdaysCaseReplace,weekdaysShort:"\u0432\u0441\u043a \u043f\u043d\u0434 \u0432\u0442\u0440 \u0441\u0440\u0434 \u0447\u0442\u0432 \u043f\u0442\u043d \u0441\u0431\u0442".split(" "),weekdaysMin:"\u0432\u0441 \u043f\u043d \u0432\u0442 \u0441\u0440 \u0447\u0442 \u043f\u0442 \u0441\u0431".split(" "),
longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., LT",LLLL:"dddd, D MMMM YYYY \u0433., LT"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",nextWeek:function(){return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT"},lastWeek:function(){switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd [\u0432] LT";
case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"\u0447\u0430\u0441",hh:relativeTimeWithPlural,
d:"\u0434\u0435\u043d\u044c",dd:relativeTimeWithPlural,M:"\u043c\u0435\u0441\u044f\u0446",MM:relativeTimeWithPlural,y:"\u0433\u043e\u0434",yy:relativeTimeWithPlural},ordinal:function(c,g){switch(g){case "M":case "d":case "DDD":return c+"-\u0439";case "D":return c+"-\u0433\u043e";case "w":case "W":return c+"-\u044f";default:return c}},week:{dow:1,doy:7}});
var Handlebars=function(){var c=function(){function b(b){this.string=b}b.prototype.toString=function(){return""+this.string};return b}(),g=function(b){function a(b){return d[b]||"&amp;"}var c={},d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,f=/[&<>"'`]/;c.extend=function(b,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c])};var g=Object.prototype.toString;c.toString=g;var m=function(b){return"function"===typeof b};m(/x/)&&(m=function(b){return"function"===
typeof b&&"[object Function]"===g.call(b)});c.isFunction=m;var v=Array.isArray||function(b){return b&&"object"===typeof b?"[object Array]"===g.call(b):!1};c.isArray=v;c.escapeExpression=function(c){if(c instanceof b)return c.toString();if(!c&&0!==c)return"";c=""+c;return!f.test(c)?c:c.replace(e,a)};c.isEmpty=function(b){return!b&&0!==b?!0:v(b)&&0===b.length?!0:!1};return c}(c),f=function(){function b(b,c){var d;c&&c.firstLine&&(d=c.firstLine,b+=" - "+d+":"+c.firstColumn);for(var e=Error.prototype.constructor.call(this,
b),f=0;f<a.length;f++)this[a[f]]=e[a[f]];d&&(this.lineNumber=d,this.column=c.firstColumn)}var a="description fileName lineNumber message name number stack".split(" ");b.prototype=Error();return b}(),a=function(b,a){function c(b,a){this.helpers=b||{};this.partials=a||{};d(this)}function d(b){b.registerHelper("helperMissing",function(b){if(2!==arguments.length)throw new m("Missing helper: '"+b+"'");});b.registerHelper("blockHelperMissing",function(a,c){var d=c.inverse||function(){},e=c.fn;q(a)&&(a=
a.call(this));return!0===a?e(this):!1===a||null==a?d(this):v(a)?0<a.length?b.helpers.each(a,c):d(this):e(a)});b.registerHelper("each",function(b,a){var c=a.fn,d=a.inverse,e=0,h="",f;q(b)&&(b=b.call(this));a.data&&(f=A(a.data));if(b&&"object"===typeof b)if(v(b))for(var k=b.length;e<k;e++)f&&(f.index=e,f.first=0===e,f.last=e===b.length-1),h+=c(b[e],{data:f});else for(k in b)b.hasOwnProperty(k)&&(f&&(f.key=k,f.index=e,f.first=0===e),h+=c(b[k],{data:f}),e++);0===e&&(h=d(this));return h});b.registerHelper("if",
function(b,a){q(b)&&(b=b.call(this));return!a.hash.includeZero&&!b||g.isEmpty(b)?a.inverse(this):a.fn(this)});b.registerHelper("unless",function(a,c){return b.helpers["if"].call(this,a,{fn:c.inverse,inverse:c.fn,hash:c.hash})});b.registerHelper("with",function(b,a){q(b)&&(b=b.call(this));if(!g.isEmpty(b))return a.fn(b)});b.registerHelper("log",function(a,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;b.log(d,a)})}function e(b,a){w.log(b,a)}var f={},g=b,m=a;f.VERSION="1.3.0";f.COMPILER_REVISION=
4;f.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var v=g.isArray,q=g.isFunction,u=g.toString;f.HandlebarsEnvironment=c;c.prototype={constructor:c,logger:w,log:e,registerHelper:function(b,a,c){if("[object Object]"===u.call(b)){if(c||a)throw new m("Arg not supported with multiple helpers");g.extend(this.helpers,b)}else c&&(a.not=c),this.helpers[b]=a},registerPartial:function(b,a){"[object Object]"===u.call(b)?g.extend(this.partials,b):this.partials[b]=a}};var w=
{methodMap:{"0":"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(b,a){if(w.level<=b){var c=w.methodMap[b];"undefined"!==typeof console&&console[c]&&console[c].call(console,a)}}};f.logger=w;f.log=e;var A=function(b){var a={};g.extend(a,b);return a};f.createFrame=A;return f}(g,f),d=function(b,a,c){function d(b,a,c){var e=function(b,d){d=d||{};return a(b,d.data||c)};e.program=b;e.depth=0;return e}var e={},f=c.COMPILER_REVISION,g=c.REVISION_CHANGES;e.checkRevision=
function(b){var c=b&&b[0]||1;if(c!==f){if(c<f)throw new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+g[f]+") or downgrade your runtime to an older version ("+g[c]+").");throw new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+b[1]+").");}};e.template=function(c,e){if(!e)throw new a("No environment passed to template");
var f={escapeExpression:b.escapeExpression,invokePartial:function(b,c,d,f,q,k){var p=e.VM.invokePartial.apply(this,arguments);if(null!=p)return p;if(e.compile)return p={helpers:f,partials:q,data:k},q[c]=e.compile(b,{data:void 0!==k},e),q[c](d,p);throw new a("The partial "+c+" could not be compiled when running in runtime-only mode");},programs:[],program:function(b,a,c){var e=this.programs[b];c?e=d(b,a,c):e||(e=this.programs[b]=d(b,a));return e},merge:function(a,c){var e=a||c;a&&(c&&a!==c)&&(e={},
b.extend(e,c),b.extend(e,a));return e},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(b,a){a=a||{};var d=a.partial?a:e,h,k;a.partial||(h=a.helpers,k=a.partials);d=c.call(f,d,b,h,k,a.data);a.partial||e.VM.checkRevision(f.compilerInfo);return d}};e.programWithDepth=function(b,a,c){var e=Array.prototype.slice.call(arguments,3),d=function(b,d){d=d||{};return a.apply(this,[b,d.data||c].concat(e))};d.program=b;d.depth=e.length;return d};e.program=d;e.invokePartial=
function(b,c,e,d,f,k){d={partial:!0,helpers:d,partials:f,data:k};if(void 0===b)throw new a("The partial "+c+" could not be found");if(b instanceof Function)return b(e,d)};e.noop=function(){return""};return e}(g,f,a),c=function(b,a,c,d,e){var f=function(){var f=new b.HandlebarsEnvironment;d.extend(f,b);f.SafeString=a;f.Exception=c;f.Utils=d;f.VM=e;f.template=function(b){return e.template(b,f)};return f},g=f();g.create=f;return g}(a,c,f,g,d),g=function(b){function a(b){b=b||{};this.firstLine=b.first_line;
this.firstColumn=b.first_column;this.lastColumn=b.last_column;this.lastLine=b.last_line}var c={ProgramNode:function(b,d,e,f){var g;3===arguments.length?(f=e,e=null):2===arguments.length&&(f=d,d=null);a.call(this,f);this.type="program";this.statements=b;this.strip={};e?((g=e[0])?(g={first_line:g.firstLine,last_line:g.lastLine,last_column:g.lastColumn,first_column:g.firstColumn},this.inverse=new c.ProgramNode(e,d,g)):this.inverse=new c.ProgramNode(e,d),this.strip.right=d.left):d&&(this.strip.left=d.right)},
MustacheNode:function(b,d,e,f,g){a.call(this,g);this.type="mustache";this.strip=f;null!=e&&e.charAt?(e=e.charAt(3)||e.charAt(2),this.escaped="{"!==e&&"&"!==e):this.escaped=!!e;this.sexpr=b instanceof c.SexprNode?b:new c.SexprNode(b,d);this.sexpr.isRoot=!0;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(b,c,e){a.call(this,e);this.type="sexpr";this.hash=c;e=this.id=b[0];
b=this.params=b.slice(1);this.isHelper=(this.eligibleHelper=e.isSimple)&&(b.length||c)},PartialNode:function(b,c,e,d){a.call(this,d);this.type="partial";this.partialName=b;this.context=c;this.strip=e},BlockNode:function(c,e,d,f,k){a.call(this,k);if(c.sexpr.id.original!==f.path.original)throw new b(c.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block";this.mustache=c;this.program=e;this.inverse=d;this.strip={left:c.strip.left,right:f.strip.right};(e||d).strip.left=c.strip.right;
(d||e).strip.right=f.strip.left;d&&!e&&(this.isInverse=!0)},ContentNode:function(b,c){a.call(this,c);this.type="content";this.string=b},HashNode:function(b,c){a.call(this,c);this.type="hash";this.pairs=b},IdNode:function(c,e){a.call(this,e);this.type="ID";for(var d="",f=[],k=0,g=0,q=c.length;g<q;g++){var u=c[g].part,d=d+((c[g].separator||"")+u);if(".."===u||"."===u||"this"===u){if(0<f.length)throw new b("Invalid path: "+d,this);".."===u?k++:this.isScoped=!0}else f.push(u)}this.original=d;this.parts=
f;this.string=f.join(".");this.depth=k;this.isSimple=1===c.length&&!this.isScoped&&0===k;this.stringModeValue=this.string},PartialNameNode:function(b,c){a.call(this,c);this.type="PARTIAL_NAME";this.name=b.original},DataNode:function(b,c){a.call(this,c);this.type="DATA";this.id=b},StringNode:function(b,c){a.call(this,c);this.type="STRING";this.original=this.string=this.stringModeValue=b},IntegerNode:function(b,c){a.call(this,c);this.type="INTEGER";this.original=this.integer=b;this.stringModeValue=
Number(b)},BooleanNode:function(b,c){a.call(this,c);this.type="BOOLEAN";this.bool=b;this.stringModeValue="true"===b},CommentNode:function(b,c){a.call(this,c);this.type="comment";this.comment=b}};return c}(f),d=function(b,a){var c={};c.parser=b;c.parse=function(c){if(c.constructor===a.ProgramNode)return c;b.yy=a;return b.parse(c)};return c}(function(){return function(){function b(b,a){return{left:"~"===b.charAt(2),right:"~"===a.charAt(0)||"~"===a.charAt(1)}}function a(){this.yy={}}var c={trace:function(){},
yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,
ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,
3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(a,c,e,d,h,f,k){a=f.length-1;switch(h){case 1:return new d.ProgramNode(f[a-1],this._$);case 2:return new d.ProgramNode([],this._$);case 3:this.$=new d.ProgramNode([],f[a-1],f[a],this._$);break;case 4:this.$=new d.ProgramNode(f[a-2],f[a-1],f[a],this._$);break;case 5:this.$=new d.ProgramNode(f[a-
1],f[a],[],this._$);break;case 6:this.$=new d.ProgramNode(f[a],this._$);break;case 7:this.$=new d.ProgramNode([],this._$);break;case 8:this.$=new d.ProgramNode([],this._$);break;case 9:this.$=[f[a]];break;case 10:f[a-1].push(f[a]);this.$=f[a-1];break;case 11:this.$=new d.BlockNode(f[a-2],f[a-1].inverse,f[a-1],f[a],this._$);break;case 12:this.$=new d.BlockNode(f[a-2],f[a-1],f[a-1].inverse,f[a],this._$);break;case 13:this.$=f[a];break;case 14:this.$=f[a];break;case 15:this.$=new d.ContentNode(f[a],
this._$);break;case 16:this.$=new d.CommentNode(f[a],this._$);break;case 17:this.$=new d.MustacheNode(f[a-1],null,f[a-2],b(f[a-2],f[a]),this._$);break;case 18:this.$=new d.MustacheNode(f[a-1],null,f[a-2],b(f[a-2],f[a]),this._$);break;case 19:this.$={path:f[a-1],strip:b(f[a-2],f[a])};break;case 20:this.$=new d.MustacheNode(f[a-1],null,f[a-2],b(f[a-2],f[a]),this._$);break;case 21:this.$=new d.MustacheNode(f[a-1],null,f[a-2],b(f[a-2],f[a]),this._$);break;case 22:this.$=new d.PartialNode(f[a-2],f[a-1],
b(f[a-3],f[a]),this._$);break;case 23:this.$=b(f[a-1],f[a]);break;case 24:this.$=new d.SexprNode([f[a-2]].concat(f[a-1]),f[a],this._$);break;case 25:this.$=new d.SexprNode([f[a]],null,this._$);break;case 26:this.$=f[a];break;case 27:this.$=new d.StringNode(f[a],this._$);break;case 28:this.$=new d.IntegerNode(f[a],this._$);break;case 29:this.$=new d.BooleanNode(f[a],this._$);break;case 30:this.$=f[a];break;case 31:f[a-1].isHelper=!0;this.$=f[a-1];break;case 32:this.$=new d.HashNode(f[a],this._$);break;
case 33:this.$=[f[a-2],f[a]];break;case 34:this.$=new d.PartialNameNode(f[a],this._$);break;case 35:this.$=new d.PartialNameNode(new d.StringNode(f[a],this._$),this._$);break;case 36:this.$=new d.PartialNameNode(new d.IntegerNode(f[a],this._$));break;case 37:this.$=new d.DataNode(f[a],this._$);break;case 38:this.$=new d.IdNode(f[a],this._$);break;case 39:f[a-2].push({part:f[a],separator:f[a-1]});this.$=f[a-2];break;case 40:this.$=[{part:f[a]}];break;case 43:this.$=[];break;case 44:f[a-1].push(f[a]);
break;case 47:this.$=[f[a]];break;case 48:f[a-1].push(f[a])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},
{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,
40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],
19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,
46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],
20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,
17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],
36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,
27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,
72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(b,a){throw Error(b);},parse:function(b){var a=[0],c=[null],d=[],e=this.table,f="",h=0,k=0,l=0;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;
this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});b=this.lexer.yylloc;d.push(b);var g=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var C,D,I,E,H={},t,z;;){I=a[a.length-1];if(this.defaultActions[I])E=this.defaultActions[I];else{if(null===C||"undefined"==typeof C)C=void 0,C=this.lexer.lex()||1,"number"!==typeof C&&(C=this.symbols_[C]||C);E=e[I]&&e[I][C]}if("undefined"===typeof E||!E.length||
!E[0]){var G="";if(!l){z=[];for(t in e[I])this.terminals_[t]&&2<t&&z.push("'"+this.terminals_[t]+"'");G=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+z.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==C?"end of input":"'"+(this.terminals_[C]||C)+"'");this.parseError(G,{text:this.lexer.match,token:this.terminals_[C]||C,line:this.lexer.yylineno,loc:b,expected:z})}}if(E[0]instanceof Array&&1<E.length)throw Error("Parse Error: multiple actions possible at state: "+
I+", token: "+C);switch(E[0]){case 1:a.push(C);c.push(this.lexer.yytext);d.push(this.lexer.yylloc);a.push(E[1]);C=null;D?(C=D,D=null):(k=this.lexer.yyleng,f=this.lexer.yytext,h=this.lexer.yylineno,b=this.lexer.yylloc,0<l&&l--);break;case 2:z=this.productions_[E[1]][1];H.$=c[c.length-z];H._$={first_line:d[d.length-(z||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(z||1)].first_column,last_column:d[d.length-1].last_column};g&&(H._$.range=[d[d.length-(z||1)].range[0],d[d.length-
1].range[1]]);I=this.performAction.call(H,f,k,h,this.yy,E[1],c,d);if("undefined"!==typeof I)return I;z&&(a=a.slice(0,-2*z),c=c.slice(0,-1*z),d=d.slice(0,-1*z));a.push(this.productions_[E[1]][0]);c.push(H.$);d.push(H._$);E=e[a[a.length-2]][a[a.length-1]];a.push(E);break;case 3:return!0}}return!0}},e=function(){return{EOF:1,parseError:function(b,a){if(this.yy.parser)this.yy.parser.parseError(b,a);else throw Error(b);},setInput:function(b){this._input=b;this._more=this._less=this.done=!1;this.yylineno=
this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);
return b},unput:function(b){var a=b.length,c=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-a-1);this.offset-=a;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?
(c.length===b.length?this.yylloc.first_column:0)+b[b.length-c.length].length-c[0].length:this.yylloc.first_column-a};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-a]);return this},more:function(){this._more=!0;return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,
20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),a=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+a+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,a,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((a=this._input.match(this.rules[d[e]]))&&(!b||a[0].length>b[0].length))if(b=a,c=e,!this.options.flex)break;if(b){if(a=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
a.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,
this,d[c],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"!==typeof b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(b){this.begin(b)},options:{},performAction:function(b,a,c,d){function e(b,c){return a.yytext=a.yytext.substr(b,a.yyleng-c)}switch(c){case 0:"\\\\"===a.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===a.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu");if(a.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;
case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState();this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return a.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return a.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;
case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return a.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,
/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}}}}();
c.lexer=e;a.prototype=c;c.Parser=a;return new a}()}(),g),e=function(b){function a(){}var c={};c.Compiler=a;a.prototype={compiler:a,disassemble:function(){for(var b=this.opcodes,a,c=[],d,e,f=0,h=b.length;f<h;f++)if(a=b[f],"DECLARE"===a.opcode)c.push("DECLARE "+a.name+"="+a.value);else{d=[];for(var k=0;k<a.args.length;k++)e=a.args[k],"string"===typeof e&&(e='"'+e.replace("\n","\\n")+'"'),d.push(e);c.push(a.opcode+" "+d.join(" "))}return c.join("\n")},equals:function(b){var a=this.opcodes.length;if(b.opcodes.length!==
a)return!1;for(var c=0;c<a;c++){var d=this.opcodes[c],e=b.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}a=this.children.length;if(b.children.length!==a)return!1;for(c=0;c<a;c++)if(!this.children[c].equals(b.children[c]))return!1;return!0},guid:0,compile:function(b,a){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=a;var c=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,
blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(b)},accept:function(b){var a=b.strip||{};a.left&&this.opcode("strip");b=this[b.type](b);a.right&&this.opcode("strip");return b},program:function(b){b=b.statements;for(var a=0,c=b.length;a<c;a++)this.accept(b[a]);this.isSimple=1===c;this.depths.list=this.depths.list.sort(function(b,a){return b-a});return this},compileProgram:function(b){b=(new this.compiler).compile(b,
this.options);var a=this.guid++,c;this.usePartial=this.usePartial||b.usePartial;this.children[a]=b;for(var d=0,e=b.depths.list.length;d<e;d++)c=b.depths.list[d],2>c||this.addDepth(c-1);return a},block:function(b){var a=b.mustache,c=b.program;b=b.inverse;c&&(c=this.compileProgram(c));b&&(b=this.compileProgram(b));var a=a.sexpr,d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,c,b):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",c),this.opcode("pushProgram",b),this.opcode("emptyHash"),
this.opcode("blockValue")):(this.ambiguousSexpr(a,c,b),this.opcode("pushProgram",c),this.opcode("pushProgram",b),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(b){b=b.pairs;var a,c;this.opcode("pushHash");for(var d=0,e=b.length;d<e;d++)a=b[d],c=a[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),
this.opcode("assignToHash",a[0]);this.opcode("popHash")},partial:function(b){var a=b.partialName;this.usePartial=!0;b.context?this.ID(b.context):this.opcode("push","depth0");this.opcode("invokePartial",a.name);this.opcode("append")},content:function(b){this.opcode("appendContent",b.string)},mustache:function(b){this.sexpr(b.sexpr);b.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(b,a,c){b=b.id;var d=b.parts[0],e=null!=a||null!=c;this.opcode("getContext",
b.depth);this.opcode("pushProgram",a);this.opcode("pushProgram",c);this.opcode("invokeAmbiguous",d,e)},simpleSexpr:function(b){b=b.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperSexpr:function(a,c,d){c=this.setupFullMustacheParams(a,c,d);d=a.id.parts[0];if(this.options.knownHelpers[d])this.opcode("invokeKnownHelper",c.length,d);else{if(this.options.knownHelpersOnly)throw new b("You specified knownHelpersOnly, but used the unknown helper "+
d,a);this.opcode("invokeHelper",c.length,d,a.isRoot)}},sexpr:function(b){var a=this.classifySexpr(b);"simple"===a?this.simpleSexpr(b):"helper"===a?this.helperSexpr(b):this.ambiguousSexpr(b)},ID:function(b){this.addDepth(b.depth);this.opcode("getContext",b.depth);b.parts[0]?this.opcode("lookupOnContext",b.parts[0]):this.opcode("pushContext");for(var a=1,c=b.parts.length;a<c;a++)this.opcode("lookup",b.parts[a])},DATA:function(a){this.options.data=!0;if(a.id.isScoped||a.id.depth)throw new b("Scoped data references are not supported: "+
a.original,a);this.opcode("lookupData");a=a.id.parts;for(var c=0,d=a.length;c<d;c++)this.opcode("lookup",a[c])},STRING:function(b){this.opcode("pushString",b.string)},INTEGER:function(b){this.opcode("pushLiteral",b.integer)},BOOLEAN:function(b){this.opcode("pushLiteral",b.bool)},comment:function(){},opcode:function(b){this.opcodes.push({opcode:b,args:[].slice.call(arguments,1)})},declare:function(b,a){this.opcodes.push({opcode:"DECLARE",name:b,value:a})},addDepth:function(b){0!==b&&!this.depths[b]&&
(this.depths[b]=!0,this.depths.list.push(b))},classifySexpr:function(b){var a=b.isHelper,c=b.eligibleHelper,d=this.options;c&&!a&&(d.knownHelpers[b.id.parts[0]]?a=!0:d.knownHelpersOnly&&(c=!1));return a?"helper":c?"ambiguous":"simple"},pushParams:function(b){for(var a=b.length,c;a--;)if(c=b[a],this.options.stringParams)c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c);else this[c.type](c)},setupFullMustacheParams:function(b,
a,c){var d=b.params;this.pushParams(d);this.opcode("pushProgram",a);this.opcode("pushProgram",c);b.hash?this.hash(b.hash):this.opcode("emptyHash");return d}};c.precompile=function(a,c,d){if(null==a||"string"!==typeof a&&a.constructor!==d.AST.ProgramNode)throw new b("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);c=c||{};"data"in c||(c.data=!0);a=d.parse(a);a=(new d.Compiler).compile(a,c);return(new d.JavaScriptCompiler).compile(a,c)};c.compile=function(a,c,d){if(null==
a||"string"!==typeof a&&a.constructor!==d.AST.ProgramNode)throw new b("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);c=c||{};"data"in c||(c.data=!0);var e;return function(b,f){if(!e){var h=d.parse(a),h=(new d.Compiler).compile(h,c),h=(new d.JavaScriptCompiler).compile(h,c,void 0,!0);e=d.template(h)}return e.call(this,b,f)}};return c}(f),f=function(b,a){function c(b){this.value=b}function d(){}var e=b.COMPILER_REVISION,f=b.REVISION_CHANGES,g=b.log;d.prototype={nameLookup:function(b,
a){var c,e;0===b.indexOf("depth")&&(c=!0);e=/^[0-9]+$/.test(a)?b+"["+a+"]":d.isValidJavaScriptVariableName(a)?b+"."+a:b+"['"+a+"']";return c?"("+b+" && "+e+")":e},compilerInfo:function(){return"this.compilerInfo = ["+e+",'"+f[e]+"'];\n"},appendToBuffer:function(b){return this.environment.isSimple?"return "+b+";":{appendToBuffer:!0,content:b,toString:function(){return"buffer += "+b+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=
b;this.options=c||{};g("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!d;this.context=d||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(b,c);b=b.opcodes;this.i=0;for(d=b.length;this.i<d;this.i++)c=b[this.i],"DECLARE"===c.opcode?this[c.name]=c.value:this[c.opcode].apply(this,c.args),c.opcode!==this.stripNext&&
(this.stripNext=!1);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a("Compile completed with content left on stack");return this.createFunctionContext(e)},preamble:function(){var b=[];if(this.isChild)b.push("");else{var a=this.namespace,c="helpers = this.merge(helpers, "+a+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+a+".partials);");this.options.data&&(c+=" data = data || {};");b.push(c)}this.environment.isSimple?
b.push(""):b.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=b},createFunctionContext:function(b){var a=this.stackVars.concat(this.registers.list);0<a.length&&(this.source[1]=this.source[1]+", "+a.join(", "));if(!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";");this.isChild||(this.source[1]+="\n"+
this.context.programs.join("\n")+"\n");this.environment.isSimple||this.pushSource("return buffer;");a=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];c=0;for(var d=this.environment.depths.list.length;c<d;c++)a.push("depth"+this.environment.depths.list[c]);c=this.mergeSource();this.isChild||(c=this.compilerInfo()+c);if(b)return a.push(c),Function.apply(this,a);b="function "+(this.name||"")+"("+a.join(",")+") {\n  "+c+"}";g("debug",b+"\n\n");return b},mergeSource:function(){for(var b=
"",a,c=0,d=this.source.length;c<d;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var b=["depth0"];this.setupParams(0,b);this.replaceStack(function(a){b.splice(1,0,a);return"blockHelperMissing.call("+b.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";
var b=["depth0"];this.setupParams(0,b);var a=this.topStack();b.splice(1,0,a);this.pushSource("if (!"+this.lastHelper+") { "+a+" = blockHelperMissing.call("+b.join(", ")+"); }")},appendContent:function(b){this.pendingContent&&(b=this.pendingContent+b);this.stripNext&&(b=b.replace(/^\s+/,""));this.pendingContent=b},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();var b=this.popStack();this.pushSource("if("+
b+" || "+b+" === 0) { "+this.appendToBuffer(b)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(b){this.lastContext!==b&&(this.lastContext=b)},lookupOnContext:function(b){this.push(this.nameLookup("depth"+this.lastContext,b,"context"))},pushContext:function(){this.pushStackLiteral("depth"+
this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(b){return"typeof "+b+" === functionType ? "+b+".apply(depth0) : "+b})},lookup:function(b){this.replaceStack(function(a){return a+" == null || "+a+" === false ? "+a+" : "+this.nameLookup(a,b,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(b,a){this.pushStackLiteral("depth"+this.lastContext);this.pushString(a);"sexpr"!==a&&("string"===
typeof b?this.pushString(b):this.pushStackLiteral(b))},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[]}},popHash:function(){var b=this.hash;this.hash=this.hashes.pop();this.options.stringParams&&(this.push("{"+b.contexts.join(",")+"}"),this.push("{"+b.types.join(",")+"}"));this.push("{\n    "+b.values.join(",\n    ")+"\n  }")},pushString:function(b){this.pushStackLiteral(this.quotedString(b))},
push:function(b){this.inlineStack.push(b);return b},pushLiteral:function(b){this.pushStackLiteral(b)},pushProgram:function(b){null!=b?this.pushStackLiteral(this.programExpression(b)):this.pushStackLiteral(null)},invokeHelper:function(b,a,c){this.context.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");b=this.lastHelper=this.setupHelper(b,a,!0);a=this.nameLookup("depth"+this.lastContext,a,"context");a="helper = "+b.name+" || "+a;b.paramsInit&&(a+=","+b.paramsInit);this.push("("+
a+",helper ? helper.call("+b.callParams+") : helperMissing.call("+b.helperMissingParams+"))");c||this.flushInline()},invokeKnownHelper:function(b,a){var c=this.setupHelper(b,a);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(b,a){this.context.aliases.functionType='"function"';this.useRegister("helper");this.emptyHash();var c=this.setupHelper(0,b,a),d=this.lastHelper=this.nameLookup("helpers",b,"helper"),e=this.nameLookup("depth"+this.lastContext,b,"context"),f=this.nextStack();
c.paramsInit&&this.pushSource(c.paramsInit);this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }");this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(b){b=[this.nameLookup("partials",b,"partial"),"'"+b+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(b){var a=
this.popStack(),c,d;this.options.stringParams&&(d=this.popStack(),c=this.popStack());var e=this.hash;c&&e.contexts.push("'"+b+"': "+c);d&&e.types.push("'"+b+"': "+d);e.values.push("'"+b+"': ("+a+")")},compiler:d,compileChildren:function(b,a){for(var c=b.children,d,e,f=0,h=c.length;f<h;f++){d=c[f];e=new this.compiler;var k=this.matchExistingProgram(d);null==k?(this.context.programs.push(""),k=this.context.programs.length,d.index=k,d.name="program"+k,this.context.programs[k]=e.compile(d,a,this.context),
this.context.environments[k]=d):(d.index=k,d.name="program"+k)}},matchExistingProgram:function(b){for(var a=0,c=this.context.environments.length;a<c;a++){var d=this.context.environments[a];if(d&&d.equals(b))return a}},programExpression:function(b){this.context.aliases.self="this";if(null==b)return"self.noop";var a=this.environment.children[b];b=a.depths.list;for(var c=[a.index,a.name,"data"],d=0,e=b.length;d<e;d++)a=b[d],1===a?c.push("depth0"):c.push("depth"+(a-1));return(0===b.length?"self.program(":
"self.programWithDepth(")+c.join(", ")+")"},register:function(b,a){this.useRegister(b);this.pushSource(b+" = "+a+";")},useRegister:function(b){this.registers[b]||(this.registers[b]=!0,this.registers.list.push(b))},pushStackLiteral:function(b){return this.push(new c(b))},pushSource:function(b){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0);b&&this.source.push(b)},pushStack:function(b){this.flushInline();var a=this.incrStack();
b&&this.pushSource(a+" = "+b+";");this.compileStack.push(a);return a},replaceStack:function(b){var a="",d=this.isInline(),e,f,h;d?(e=this.popStack(!0),e instanceof c?(e=e.value,h=!0):(f=!this.stackSlot,a=!f?this.topStackName():this.incrStack(),a="("+this.push(a)+" = "+e+"),",e=this.topStack())):e=this.topStack();b=b.call(this,e);d?(h||this.popStack(),f&&this.stackSlot--,this.push("("+a+b+")")):(/^stack/.test(e)||(e=this.nextStack()),this.pushSource(e+" = ("+a+b+");"));return e},nextStack:function(){return this.pushStack()},
incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var b=this.inlineStack;if(b.length){this.inlineStack=[];for(var a=0,d=b.length;a<d;a++){var e=b[a];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(b){var d=this.isInline(),e=(d?this.inlineStack:
this.compileStack).pop();if(!b&&e instanceof c)return e.value;if(!d){if(!this.stackSlot)throw new a("Invalid stack pop");this.stackSlot--}return e},topStack:function(b){var a=this.isInline()?this.inlineStack:this.compileStack,a=a[a.length-1];return!b&&a instanceof c?a.value:a},quotedString:function(b){return'"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(b,a,c){var d=[];b=
this.setupParams(b,d,c);var e=this.nameLookup("helpers",a,"helper");return{params:d,paramsInit:b,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(a)].concat(d).join(", ")}},setupOptions:function(b,a){var c=[],d=[],e=[],f,h;c.push("hash:"+this.popStack());this.options.stringParams&&(c.push("hashTypes:"+this.popStack()),c.push("hashContexts:"+this.popStack()));f=this.popStack();if((h=this.popStack())||f)h||(this.context.aliases.self="this",h="self.noop"),
f||(this.context.aliases.self="this",f="self.noop"),c.push("inverse:"+f),c.push("fn:"+h);for(h=0;h<b;h++)f=this.popStack(),a.push(f),this.options.stringParams&&(e.push(this.popStack()),d.push(this.popStack()));this.options.stringParams&&(c.push("contexts:["+d.join(",")+"]"),c.push("types:["+e.join(",")+"]"));this.options.data&&c.push("data:data");return c},setupParams:function(b,a,c){b="{"+this.setupOptions(b,a).join(",")+"}";if(c)return this.useRegister("options"),a.push("options"),"options="+b;
a.push(b);return""}};for(var m="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),v=d.RESERVED_WORDS={},q=0,u=m.length;q<u;q++)v[m[q]]=!0;d.isValidJavaScriptVariableName=
function(b){return!d.RESERVED_WORDS[b]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(b)?!0:!1};return d}(a,f);return function(b,a,c,d,e){var f=c.parser,g=c.parse,m=d.Compiler,v=d.compile,q=d.precompile,u=b.create;c=function(){var b=u();b.compile=function(a,c){return v(a,c,b)};b.precompile=function(a,c){return q(a,c,b)};b.AST=a;b.Compiler=m;b.JavaScriptCompiler=e;b.Parser=f;b.parse=g;return b};b=c();b.create=c;return b}(c,g,d,e,f)}();
!function(c){function g(b,a,c){c=(c||0)-1;for(var d=b.length;++c<d;)if(b[c]===a)return c;return-1}function f(b,a){var c=typeof a;if(b=b.k,"boolean"==c||a==u)return b[a];"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:I+a;return b=b[c]||(b[c]={}),"object"==c?b[d]&&-1<g(b[d],a)?0:-1:b[d]?0:-1}function a(b){var a=this.k,c=typeof b;if("boolean"==c||b==u)a[b]=q;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?b:I+b,e=a[c]||(a[c]={});"object"==c?(e[d]||(e[d]=[])).push(b)==this.b.length&&
(a[c]=w):e[d]=q}}function d(b){return b.charCodeAt(0)}function e(b,a){var c=b.m,d=a.m;if(b=b.l,a=a.l,b!==a){if(b>a||"undefined"==typeof b)return 1;if(b<a||"undefined"==typeof a)return-1}return c<d?-1:1}function b(b){var c=-1,d=b.length,e=l();e["false"]=e["null"]=e["true"]=e.undefined=w;var f=l();f.b=b;f.k=e;for(f.push=a;++c<d;)f.push(b[c]);return!1===e.object?(n(f),u):f}function h(b){return"\\"+W[b]}function k(){return A.pop()||[]}function l(){return x.pop()||{b:u,k:u,l:u,"false":w,m:0,leading:w,
maxWait:0,"null":w,number:u,object:u,push:u,string:u,trailing:w,"true":w,undefined:w,n:u}}function p(b){b.length=0;A.length<H&&A.push(b)}function n(b){var a=b.k;a&&n(a);b.b=b.k=b.l=b.object=b.number=b.string=b.n=u;x.length<H&&x.push(b)}function r(b,a,c){a||(a=0);"undefined"==typeof c&&(c=b?b.length:0);var d=-1;c=c-a||0;for(var e=Array(0>c?0:c);++d<c;)e[d]=b[a+d];return e}function m(a){function A(b){if(!b||ma.call(b)!=ha)return w;var a=b.valueOf,c="function"==typeof a&&(c=Pa(a))&&Pa(c);return c?b==
c||Pa(b)==c:Qa(b)}function x(b,a,c){if(!b||!V[typeof b])return b;a=a&&"undefined"==typeof c?a:s.createCallback(a,c);for(var d=-1,e=V[typeof b]&&sa(b),f=e?e.length:0;++d<f&&(c=e[d],!1!==a(b[c],c,b)););return b}function H(b,a,c){var d;if(!b||!V[typeof b])return b;a=a&&"undefined"==typeof c?a:s.createCallback(a,c);for(d in b)if(!1===a(b[d],d,b))break;return b}function W(b,a,c){var d,e=b,f=e;if(!e)return f;for(var h=arguments,k=0,q="number"==typeof c?2:h.length;++k<q;)if((e=h[k])&&V[typeof e])for(var g=
-1,l=V[typeof e]&&sa(e),p=l?l.length:0;++g<p;)d=l[g],"undefined"==typeof f[d]&&(f[d]=e[d]);return f}function Z(b,a,c){var d,e=b,f=e;if(!e)return f;var h=arguments,k=0,q="number"==typeof c?2:h.length;if(3<q&&"function"==typeof h[q-2])var g=s.createCallback(h[--q-1],h[q--],2);else 2<q&&"function"==typeof h[q-1]&&(g=h[--q]);for(;++k<q;)if((e=h[k])&&V[typeof e])for(var l=-1,p=V[typeof e]&&sa(e),B=p?p.length:0;++l<B;)d=p[l],f[d]=g?g(f[d],e[d]):e[d];return f}function U(b){var a,c=[];if(!b||!V[typeof b])return c;
for(a in b)ka.call(b,a)&&c.push(a);return c}function s(b){return b&&"object"==typeof b&&!ta(b)&&ka.call(b,"__wrapped__")?b:new ga(b)}function ga(b){this.__wrapped__=b}function na(b,a,c,d){function e(){var d=arguments,g=h?this:a;return f||(b=a[k]),c.length&&(d=d.length?(d=ia.call(d),q?d.concat(c):c.concat(d)):c),this instanceof e?(g=ja(b.prototype)?Ta(b.prototype):{},d=b.apply(g,d),ja(d)?d:g):b.apply(g,d)}var f=oa(b),h=!c,k=a;if(h){var q=d;c=a}else if(!f){if(!d)throw new Mb;a=b}return e}function Ha(b){return sb[b]}
function ua(){var b=(b=s.indexOf)===tb?g:b;return b}function Aa(b){return function(a,c,d,e){return"boolean"!=typeof c&&c!=u&&(e=d,d=e&&e[c]===a?v:c,c=w),d!=u&&(d=s.createCallback(d,e)),b(a,c,d,e)}}function Qa(b){var a,c;return b&&ma.call(b)==ha&&(a=b.constructor,!oa(a)||a instanceof a)?(H(b,function(b,a){c=a}),c===v||ka.call(b,c)):w}function wa(b){return Nb[b]}function Ja(b,a,c,d,e,f){var h=b;if("boolean"!=typeof a&&a!=u&&(d=c,c=a,a=w),"function"==typeof c){if(c="undefined"==typeof d?c:s.createCallback(c,
d,1),h=c(h),"undefined"!=typeof h)return h;h=b}if(d=ja(h)){var q=ma.call(h);if(!X[q])return h;var g=ta(h)}if(!d||!a)return d?g?r(h):Z({},h):h;switch(d=Ba[q],q){case L:case O:return new d(+h);case ra:case ca:return new d(h);case ea:return d(h.source,N.exec(h))}q=!e;e||(e=k());f||(f=k());for(var l=e.length;l--;)if(e[l]==b)return f[l];return h=g?d(h.length):{},g&&(ka.call(b,"index")&&(h.index=b.index),ka.call(b,"input")&&(h.input=b.input)),e.push(b),f.push(h),(g?fa:x)(b,function(b,d){h[d]=Ja(b,a,c,v,
e,f)}),q&&(p(e),p(f)),h}function aa(b){var a=[];return H(b,function(b,c){oa(b)&&a.push(c)}),a.sort()}function Ia(b){for(var a=-1,c=sa(b),d=c.length,e={};++a<d;){var f=c[a];e[b[f]]=f}return e}function va(b,a,c,d,e,f){var h=c===D;if("function"==typeof c&&!h){c=s.createCallback(c,d,2);var g=c(b,a);if("undefined"!=typeof g)return!!g}if(b===a)return 0!==b||1/b==1/a;var l=typeof b,B=typeof a;if(b===b&&(!b||"function"!=l&&"object"!=l)&&(!a||"function"!=B&&"object"!=B))return w;if(b==u||a==u)return b===a;
if(B=ma.call(b),l=ma.call(a),B==K&&(B=ha),l==K&&(l=ha),B!=l)return w;switch(B){case L:case O:return+b==+a;case ra:return b!=+b?a!=+a:0==b?1/b==1/a:b==+a;case ea:case ca:return b==Ca(a)}if(l=B==J,!l){if(ka.call(b,"__wrapped__")||ka.call(a,"__wrapped__"))return va(b.__wrapped__||b,a.__wrapped__||a,c,d,e,f);if(B!=ha)return w;var B=b.constructor,m=a.constructor;if(B!=m&&(!oa(B)||!(B instanceof B&&oa(m)&&m instanceof m)))return w}m=!e;e||(e=k());f||(f=k());for(B=e.length;B--;)if(e[B]==b)return f[B]==a;
var n=0,g=q;if(e.push(b),f.push(a),l){if(B=b.length,n=a.length,g=n==b.length,!g&&!h)return g;for(;n--;)if(l=B,m=a[n],h)for(;l--&&!(g=va(b[l],m,c,d,e,f)););else if(!(g=va(b[n],m,c,d,e,f)))break;return g}return H(a,function(a,h,k){return ka.call(k,h)?(n++,g=ka.call(b,h)&&va(b[h],a,c,d,e,f)):void 0}),g&&!h&&H(b,function(b,a,c){return ka.call(c,a)?g=-1<--n:void 0}),m&&(p(e),p(f)),g}function oa(b){return"function"==typeof b}function ja(b){return!(!b||!V[typeof b])}function Ka(b){return"number"==typeof b||
ma.call(b)==ra}function Da(b){return"string"==typeof b||ma.call(b)==ca}function ub(b,a,c){var d=arguments,e=0,f=2;if(!ja(b))return b;if(c===D)var h=d[3],g=d[4],l=d[5];else{var B=q,g=k(),l=k();"number"!=typeof c&&(f=d.length);3<f&&"function"==typeof d[f-2]?h=s.createCallback(d[--f-1],d[f--],2):2<f&&"function"==typeof d[f-1]&&(h=d[--f])}for(;++e<f;)(ta(d[e])?fa:x)(d[e],function(a,c){var d,e,f=a,k=b[c];if(a&&((e=ta(a))||A(a))){for(f=g.length;f--;)if(d=g[f]==a){k=l[f];break}if(!d){var q;h&&(f=h(k,a),
q="undefined"!=typeof f)&&(k=f);q||(k=e?ta(k)?k:[]:A(k)?k:{});g.push(a);l.push(k);q||(k=ub(k,a,D,h,g,l))}}else h&&(f=h(k,a),"undefined"==typeof f&&(f=a)),"undefined"!=typeof f&&(k=f);b[c]=k});return B&&(p(g),p(l)),b}function cb(b){for(var a=-1,c=sa(b),d=c.length,e=pa(d);++a<d;)e[a]=b[c[a]];return e}function vb(b,a,c){var d=-1,e=ua(),f=b?b.length:0,h=w;return c=(0>c?xa(0,f+c):c)||0,f&&"number"==typeof f?h=-1<(Da(b)?b.indexOf(a,c):e(b,a,c)):x(b,function(b){return++d<c?void 0:!(h=b===a)}),h}function wb(b,
a,c){var d=q;a=s.createCallback(a,c);c=-1;var e=b?b.length:0;if("number"==typeof e)for(;++c<e&&(d=!!a(b[c],c,b)););else x(b,function(b,c,e){return d=!!a(b,c,e)});return d}function Ua(b,a,c){var d=[];a=s.createCallback(a,c);c=-1;var e=b?b.length:0;if("number"==typeof e)for(;++c<e;){var f=b[c];a(f,c,b)&&d.push(f)}else x(b,function(b,c,e){a(b,c,e)&&d.push(b)});return d}function db(b,a,c){a=s.createCallback(a,c);c=-1;var d=b?b.length:0;if("number"!=typeof d){var e;return x(b,function(b,c,d){return a(b,
c,d)?(e=b,w):void 0}),e}for(;++c<d;){var f=b[c];if(a(f,c,b))return f}}function fa(b,a,c){var d=-1,e=b?b.length:0;if(a=a&&"undefined"==typeof c?a:s.createCallback(a,c),"number"==typeof e)for(;++d<e&&!1!==a(b[d],d,b););else x(b,a);return b}function eb(b,a,c){var d=-1,e=b?b.length:0;if(a=s.createCallback(a,c),"number"==typeof e)for(var f=pa(e);++d<e;)f[d]=a(b[d],d,b);else f=[],x(b,function(b,c,e){f[++d]=a(b,c,e)});return f}function xb(b,a,c){var e=-1/0,f=e;if(!a&&ta(b)){c=-1;for(var h=b.length;++c<h;){var k=
b[c];k>f&&(f=k)}}else a=!a&&Da(b)?d:s.createCallback(a,c),fa(b,function(b,c,d){c=a(b,c,d);c>e&&(e=c,f=b)});return f}function fb(b,a){var c=-1,d=b?b.length:0;if("number"==typeof d)for(var e=pa(d);++c<d;)e[c]=b[c][a];return e||eb(b,a)}function gb(b,a,c,d){if(!b)return c;var e=3>arguments.length;a=s.createCallback(a,d,4);var f=-1,h=b.length;if("number"==typeof h)for(e&&(c=b[++f]);++f<h;)c=a(c,b[f],f,b);else x(b,function(b,d,f){c=e?(e=w,b):a(c,b,d,f)});return c}function yb(b,a,c,d){var e=b?b.length:0,
f=3>arguments.length;if("number"!=typeof e)var h=sa(b),e=h.length;return a=s.createCallback(a,d,4),fa(b,function(d,k,q){k=h?h[--e]:--e;c=f?(f=w,b[k]):a(c,b[k],k,q)}),c}function zb(b,a,c){var d;a=s.createCallback(a,c);c=-1;var e=b?b.length:0;if("number"==typeof e)for(;++c<e&&!(d=a(b[c],c,b)););else x(b,function(b,c,e){return!(d=a(b,c,e))});return!!d}function Ab(a){var c=-1,d=ua(),e=a?a.length:0,h=La.apply(qa,ia.call(arguments,1)),k=[],q=e>=E&&d===g;if(q){var l=b(h);l?(d=f,h=l):q=w}for(;++c<e;)l=a[c],
0>d(h,l)&&k.push(l);return q&&n(h),k}function hb(b,a,c){if(b){var d=0,e=b.length;if("number"!=typeof a&&a!=u){var f=-1;for(a=s.createCallback(a,c);++f<e&&a(b[f],f,b);)d++}else if(d=a,d==u||c)return b[0];return r(b,0,Va(xa(0,d),e))}}function tb(b,a,c){if("number"==typeof c){var d=b?b.length:0;c=0>c?xa(0,d+c):c||0}else if(c)return c=Bb(b,a),b[c]===a?c:-1;return b?g(b,a,c):-1}function ib(b,a,c){if("number"!=typeof a&&a!=u){var d=0,e=-1,f=b?b.length:0;for(a=s.createCallback(a,c);++e<f&&a(b[e],e,b);)d++}else d=
a==u||c?1:xa(0,a);return r(b,d)}function Bb(b,a,c,d){var e=0,f=b?b.length:e;c=c?s.createCallback(c,d,1):jb;for(a=c(a);e<f;)d=e+f>>>1,c(b[d])<a?e=d+1:f=d;return e}function Cb(b){for(var a=-1,c=b?xb(fb(b,"length")):0,d=pa(0>c?0:c);++a<c;)d[a]=fb(b,a);return d}function Db(b,a){for(var c=-1,d=b?b.length:0,e={};++c<d;){var f=b[c];a?e[f]=a[c]:e[f[0]]=f[1]}return e}function kb(b,a){return Eb.fastBind||Ga&&2<arguments.length?Ga.call.apply(Ga,arguments):na(b,a,ia.call(arguments,2))}function Fb(b,a,c){function d(){Wa(m);
Wa(n);l=0;m=n=u}function e(){var a=y&&(!r||1<l);d();a&&(!1!==B&&(p=new Xa),k=b.apply(g,h))}function f(){d();(y||B!==a)&&(p=new Xa,k=b.apply(g,h))}var h,k,g,l=0,p=0,B=w,m=u,n=u,y=q;if(a=xa(0,a||0),c===q)var r=q,y=w;else ja(c)&&(r=c.leading,B="maxWait"in c&&xa(a,c.maxWait||0),y="trailing"in c?c.trailing:y);return function(){if(h=arguments,g=this,l++,Wa(n),!1===B)r&&2>l&&(k=b.apply(g,h));else{var c=new Xa;!m&&!r&&(p=c);var d=B-(c-p);0<d?m||(m=Ya(f,d)):(Wa(m),m=u,p=c,k=b.apply(g,h))}return a!==B&&(n=
Ya(e,a)),k}}function Gb(b){var a=ia.call(arguments,1);return Ya(function(){b.apply(v,a)},1)}function jb(b){return b}function Hb(b){fa(aa(b),function(a){var c=s[a]=b[a];s.prototype[a]=function(){var b=this.__wrapped__,a=[b];return Za.apply(a,arguments),a=c.apply(s,a),b&&"object"==typeof b&&b===a?this:new ga(a)}})}function Ib(){return this.__wrapped__}a=a?la.defaults(c.Object(),a,la.pick(c,P)):c;var pa=a.Array,lb=a.Boolean,Xa=a.Date,mb=a.Function,ya=a.Math,Ob=a.Number,Ra=a.Object,nb=a.RegExp,Ca=a.String,
Mb=a.TypeError,qa=[],ob=Ra.prototype,Pb=a._,Ma=nb("^"+Ca(ob.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Qb=ya.ceil,Wa=a.clearTimeout,La=qa.concat,Jb=ya.floor,Rb=mb.prototype.toString,Pa=Ma.test(Pa=Ra.getPrototypeOf)&&Pa,ka=ob.hasOwnProperty,Za=qa.push,$a=a.setImmediate,Ya=a.setTimeout,ma=ob.toString,Ga=Ma.test(Ga=ma.bind)&&Ga,Ta=Ma.test(Ta=Ra.create)&&Ta,pb=Ma.test(pb=pa.isArray)&&pb,Sb=a.isFinite,Tb=a.isNaN,ab=Ma.test(ab=Ra.keys)&&ab,xa=ya.max,Va=ya.min,
qb=a.parseInt,Kb=ya.random,ia=qa.slice,ya=Ma.test(a.attachEvent),ya=Ga&&!/\n|true/.test(Ga+ya),Ba={};Ba[J]=pa;Ba[L]=lb;Ba[O]=Xa;Ba[da]=mb;Ba[ha]=Ra;Ba[ra]=Ob;Ba[ea]=nb;Ba[ca]=Ca;ga.prototype=s.prototype;var Eb=s.support={};Eb.fastBind=Ga&&!ya;s.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:s}};var ta=pb,sa=ab?function(b){return ja(b)?ab(b):[]}:U,sb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nb=Ia(sb),lb=Aa(function Lb(b,
a,c){for(var d=-1,e=b?b.length:0,f=[];++d<e;){var h=b[d];c&&(h=c(h,d,b));ta(h)?Za.apply(f,a?h:Lb(h)):f.push(h)}return f}),rb=Aa(function(a,c,d){var e=-1,h=ua(),q=a?a.length:0,l=[],B=!c&&q>=E&&h===g,m=d||B?k():l;if(B){var u=b(m);u?(h=f,m=u):(B=w,m=d?m:(p(m),l))}for(;++e<q;){var u=a[e],y=d?d(u,e,a):u;(c?!e||m[m.length-1]!==y:0>h(m,y))&&((d||B)&&m.push(y),l.push(u))}return B?(p(m.b),n(m)):d&&p(m),l});return ya&&ba&&"function"==typeof $a&&(Gb=kb($a,a)),$a=8==qb(T+"08")?qb:function(b,a){return qb(Da(b)?
b.replace(Y,""):b,a||0)},s.after=function(b,a){return 1>b?a():function(){return 1>--b?a.apply(this,arguments):void 0}},s.assign=Z,s.at=function(b){for(var a=-1,c=La.apply(qa,ia.call(arguments,1)),d=c.length,e=pa(d);++a<d;)e[a]=b[c[a]];return e},s.bind=kb,s.bindAll=function(b){for(var a=1<arguments.length?La.apply(qa,ia.call(arguments,1)):aa(b),c=-1,d=a.length;++c<d;){var e=a[c];b[e]=kb(b[e],b)}return b},s.bindKey=function(b,a){return na(b,a,ia.call(arguments,2),D)},s.compact=function(b){for(var a=
-1,c=b?b.length:0,d=[];++a<c;){var e=b[a];e&&d.push(e)}return d},s.compose=function(){var b=arguments;return function(){for(var a=arguments,c=b.length;c--;)a=[b[c].apply(this,a)];return a[0]}},s.countBy=function(b,a,c){var d={};return a=s.createCallback(a,c),fa(b,function(b,c,e){c=Ca(a(b,c,e));ka.call(d,c)?d[c]++:d[c]=1}),d},s.createCallback=function(b,a,c){if(b==u)return jb;var d=typeof b;if("function"!=d){if("object"!=d)return function(a){return a[b]};var e=sa(b);return function(a){for(var c=e.length,
d=w;c--&&(d=va(a[e[c]],b[e[c]],D)););return d}}return"undefined"==typeof a||S&&!S.test(Rb.call(b))?b:1===c?function(c){return b.call(a,c)}:2===c?function(c,d){return b.call(a,c,d)}:4===c?function(c,d,e,f){return b.call(a,c,d,e,f)}:function(c,d,e){return b.call(a,c,d,e)}},s.debounce=Fb,s.defaults=W,s.defer=Gb,s.delay=function(b,a){var c=ia.call(arguments,2);return Ya(function(){b.apply(v,c)},a)},s.difference=Ab,s.filter=Ua,s.flatten=lb,s.forEach=fa,s.forIn=H,s.forOwn=x,s.functions=aa,s.groupBy=function(b,
a,c){var d={};return a=s.createCallback(a,c),fa(b,function(b,c,e){c=Ca(a(b,c,e));(ka.call(d,c)?d[c]:d[c]=[]).push(b)}),d},s.initial=function(b,a,c){if(!b)return[];var d=0,e=b.length;if("number"!=typeof a&&a!=u){var f=e;for(a=s.createCallback(a,c);f--&&a(b[f],f,b);)d++}else d=a==u||c?1:a||d;return r(b,0,Va(xa(0,e-d),e))},s.intersection=function(a){for(var c=arguments,d=c.length,e=-1,h=k(),q=-1,l=ua(),B=a?a.length:0,m=[],u=k();++e<d;){var y=c[e];h[e]=l===g&&(y?y.length:0)>=E&&b(e?c[e]:u)}a:for(;++q<
B;){var r=h[0],y=a[q];if(0>(r?f(r,y):l(u,y))){e=d;for((r||u).push(y);--e;)if(r=h[e],0>(r?f(r,y):l(c[e],y)))continue a;m.push(y)}}for(;d--;)(r=h[d])&&n(r);return p(h),p(u),m},s.invert=Ia,s.invoke=function(b,a){var c=ia.call(arguments,2),d=-1,e="function"==typeof a,f=b?b.length:0,h=pa("number"==typeof f?f:0);return fa(b,function(b){h[++d]=(e?a:b[a]).apply(b,c)}),h},s.keys=sa,s.map=eb,s.max=xb,s.memoize=function(b,a){function c(){var d=c.cache,e=I+(a?a.apply(this,arguments):arguments[0]);return ka.call(d,
e)?d[e]:d[e]=b.apply(this,arguments)}return c.cache={},c},s.merge=ub,s.min=function(b,a,c){var e=1/0,f=e;if(!a&&ta(b)){c=-1;for(var h=b.length;++c<h;){var k=b[c];k<f&&(f=k)}}else a=!a&&Da(b)?d:s.createCallback(a,c),fa(b,function(b,c,d){c=a(b,c,d);c<e&&(e=c,f=b)});return f},s.omit=function(b,a,c){var d=ua(),e="function"==typeof a,f={};if(e)a=s.createCallback(a,c);else var h=La.apply(qa,ia.call(arguments,1));return H(b,function(b,c,k){(e?!a(b,c,k):0>d(h,c))&&(f[c]=b)}),f},s.once=function(b){var a,c;
return function(){return a?c:(a=q,c=b.apply(this,arguments),b=u,c)}},s.pairs=function(b){for(var a=-1,c=sa(b),d=c.length,e=pa(d);++a<d;){var f=c[a];e[a]=[f,b[f]]}return e},s.partial=function(b){return na(b,ia.call(arguments,1))},s.partialRight=function(b){return na(b,ia.call(arguments,1),u,D)},s.pick=function(b,a,c){var d={};if("function"!=typeof a)for(var e=-1,f=La.apply(qa,ia.call(arguments,1)),h=ja(b)?f.length:0;++e<h;){var k=f[e];k in b&&(d[k]=b[k])}else a=s.createCallback(a,c),H(b,function(b,
c,e){a(b,c,e)&&(d[c]=b)});return d},s.pluck=fb,s.range=function(b,a,c){b=+b||0;c=+c||1;a==u&&(a=b,b=0);var d=-1;a=xa(0,Qb((a-b)/c));for(var e=pa(a);++d<a;)e[d]=b,b+=c;return e},s.reject=function(b,a,c){return a=s.createCallback(a,c),Ua(b,function(b,c,d){return!a(b,c,d)})},s.rest=ib,s.shuffle=function(b){var a=-1,c=b?b.length:0,d=pa("number"==typeof c?c:0);return fa(b,function(b){var c=Jb(Kb()*(++a+1));d[a]=d[c];d[c]=b}),d},s.sortBy=function(b,a,c){var d=-1,f=b?b.length:0,h=pa("number"==typeof f?f:
0);a=s.createCallback(a,c);fa(b,function(b,c,e){var f=h[++d]=l();f.l=a(b,c,e);f.m=d;f.n=b});f=h.length;for(h.sort(e);f--;)b=h[f],h[f]=b.n,n(b);return h},s.tap=function(b,a){return a(b),b},s.throttle=function(b,a,c){var d=q,e=q;return!1===c?d=w:ja(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c=l(),c.leading=d,c.maxWait=a,c.trailing=e,b=Fb(b,a,c),n(c),b},s.times=function(b,a,c){b=-1<(b=+b)?b:0;var d=-1,e=pa(b);for(a=s.createCallback(a,c,1);++d<b;)e[d]=a(d);return e},s.toArray=function(b){return b&&
"number"==typeof b.length?r(b):cb(b)},s.transform=function(b,a,c,d){var e=ta(b);return a=s.createCallback(a,d,4),c==u&&(e?c=[]:(d=b&&b.constructor,c=ja(d&&d.prototype)?Ta(d&&d.prototype):{})),(e?fa:x)(b,function(b,d,e){return a(c,b,d,e)}),c},s.union=function(b){return ta(b)||(arguments[0]=b?ia.call(b):qa),rb(La.apply(qa,arguments))},s.uniq=rb,s.unzip=Cb,s.values=cb,s.where=Ua,s.without=function(b){return Ab(b,ia.call(arguments,1))},s.wrap=function(b,a){return function(){var c=[b];return Za.apply(c,
arguments),a.apply(this,c)}},s.zip=function(b){return b?Cb(arguments):[]},s.zipObject=Db,s.collect=eb,s.drop=ib,s.each=fa,s.extend=Z,s.methods=aa,s.object=Db,s.select=Ua,s.tail=ib,s.unique=rb,Hb(s),s.chain=s,s.prototype.chain=function(){return this},s.clone=Ja,s.cloneDeep=function(b,a,c){return Ja(b,q,a,c)},s.contains=vb,s.escape=function(b){return b==u?"":Ca(b).replace(Q,Ha)},s.every=wb,s.find=db,s.findIndex=function(b,a,c){var d=-1,e=b?b.length:0;for(a=s.createCallback(a,c);++d<e;)if(a(b[d],d,b))return d;
return-1},s.findKey=function(b,a,c){var d;return a=s.createCallback(a,c),x(b,function(b,c,e){return a(b,c,e)?(d=c,w):void 0}),d},s.has=function(b,a){return b?ka.call(b,a):w},s.identity=jb,s.indexOf=tb,s.isArguments=function(b){return ma.call(b)==K},s.isArray=ta,s.isBoolean=function(b){return b===q||!1===b||ma.call(b)==L},s.isDate=function(b){return b?"object"==typeof b&&ma.call(b)==O:w},s.isElement=function(b){return b?1===b.nodeType:w},s.isEmpty=function(b){var a=q;if(!b)return a;var c=ma.call(b),
d=b.length;return c==J||c==ca||c==K||c==ha&&"number"==typeof d&&oa(b.splice)?!d:(x(b,function(){return a=w}),a)},s.isEqual=va,s.isFinite=function(b){return Sb(b)&&!Tb(parseFloat(b))},s.isFunction=oa,s.isNaN=function(b){return Ka(b)&&b!=+b},s.isNull=function(b){return b===u},s.isNumber=Ka,s.isObject=ja,s.isPlainObject=A,s.isRegExp=function(b){return b?"object"==typeof b&&ma.call(b)==ea:w},s.isString=Da,s.isUndefined=function(b){return"undefined"==typeof b},s.lastIndexOf=function(b,a,c){var d=b?b.length:
0;for("number"==typeof c&&(d=(0>c?xa(0,d+c):Va(c,d-1))+1);d--;)if(b[d]===a)return d;return-1},s.mixin=Hb,s.noConflict=function(){return a._=Pb,this},s.parseInt=$a,s.random=function(b,a){b==u&&a==u&&(a=1);b=+b||0;a==u?(a=b,b=0):a=+a||0;var c=Kb();return b%1||a%1?b+Va(c*(a-b+parseFloat("1e-"+((c+"").length-1))),a):b+Jb(c*(a-b+1))},s.reduce=gb,s.reduceRight=yb,s.result=function(b,a){var c=b?b[a]:v;return oa(c)?b[a]():c},s.runInContext=m,s.size=function(b){var a=b?b.length:0;return"number"==typeof a?
a:sa(b).length},s.some=zb,s.sortedIndex=Bb,s.template=function(b,a,c){var d=s.templateSettings;b||(b="");c=W({},c,d);var e,f=W({},c.imports,d.imports),d=sa(f),f=cb(f),k=0,g=c.interpolate||B,l="__p+='",g=nb((c.escape||B).source+"|"+g.source+"|"+(g===R?M:B).source+"|"+(c.evaluate||B).source+"|$","g");b.replace(g,function(a,c,d,f,g,p){return d||(d=f),l+=b.slice(k,p).replace(y,h),c&&(l+="'+__e("+c+")+'"),g&&(e=q,l+="';"+g+";__p+='"),d&&(l+="'+((__t=("+d+"))==null?'':__t)+'"),k=p+a.length,a});l+="';\n";
(g=c=c.variable)||(c="obj",l="with("+c+"){"+l+"}");l=(e?l.replace(t,""):l).replace(z,"$1").replace(G,"$1;");l="function("+c+"){"+(g?"":c+"||("+c+"={});")+"var __t,__p='',__e=_.escape"+(e?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}";try{var p=mb(d,"return "+l).apply(v,f)}catch(m){throw m.source=l,m;}return a?p(a):(p.source=l,p)},s.unescape=function(b){return b==u?"":Ca(b).replace(F,wa)},s.uniqueId=function(b){var a=++C;return Ca(b==u?"":b)+a},s.all=
wb,s.any=zb,s.detect=db,s.findWhere=db,s.foldl=gb,s.foldr=yb,s.include=vb,s.inject=gb,x(s,function(b,a){s.prototype[a]||(s.prototype[a]=function(){var a=[this.__wrapped__];return Za.apply(a,arguments),b.apply(s,a)})}),s.first=hb,s.last=function(b,a,c){if(b){var d=0,e=b.length;if("number"!=typeof a&&a!=u){var f=e;for(a=s.createCallback(a,c);f--&&a(b[f],f,b);)d++}else if(d=a,d==u||c)return b[e-1];return r(b,xa(0,e-d))}},s.take=hb,s.head=hb,x(s,function(b,a){s.prototype[a]||(s.prototype[a]=function(a,
c){var d=b(this.__wrapped__,a,c);return a==u||c&&"function"!=typeof a?d:new ga(d)})}),s.VERSION="1.3.1",s.prototype.toString=function(){return Ca(this.__wrapped__)},s.prototype.value=Ib,s.prototype.valueOf=Ib,fa(["join","pop","shift"],function(b){var a=qa[b];s.prototype[b]=function(){return a.apply(this.__wrapped__,arguments)}}),fa(["push","reverse","sort","unshift"],function(b){var a=qa[b];s.prototype[b]=function(){return a.apply(this.__wrapped__,arguments),this}}),fa(["concat","slice","splice"],
function(b){var a=qa[b];s.prototype[b]=function(){return new ga(a.apply(this.__wrapped__,arguments))}}),s}var v,q=!0,u=null,w=!1,A=[],x=[],C=0,D={},I=+new Date+"",E=75,H=40,t=/\b__p\+='';/g,z=/\b(__p\+=)''\+/g,G=/(__e\(.*?\)|\b__t\))\+'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,M=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/\w*$/,R=/<%=([\s\S]+?)%>/g,S=(S=/\bthis\b/)&&S.test(m)&&S,T=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
Y=RegExp("^["+T+"]*0+(?=.$)"),B=/($^)/,Q=/[&<>"']/g,y=/['\n\r\t\u2028\u2029\\]/g,P="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),K="[object Arguments]",J="[object Array]",L="[object Boolean]",O="[object Date]",da="[object Function]",ra="[object Number]",ha="[object Object]",ea="[object RegExp]",ca="[object String]",X={};X[da]=w;X[K]=X[J]=X[L]=X[O]=X[ra]=X[ha]=X[ea]=X[ca]=q;var V={"boolean":w,"function":q,
object:q,number:w,string:w,undefined:w},W={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},Z=V[typeof exports]&&exports,ba=V[typeof module]&&module&&module.exports==Z&&module,U=V[typeof global]&&global;!U||U.global!==U&&U.window!==U||(c=U);var la=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(c._=la,define(function(){return la})):Z&&!Z.nodeType?ba?(ba.exports=la)._=la:Z._=la:c._=la}(this);
(function(){var c=this,g=c.Backbone,f=[].slice,a;a="undefined"!==typeof exports?exports:c.Backbone={};a.VERSION="1.1.0";var d=c._;!d&&"undefined"!==typeof require&&(d=require("underscore"));a.$=c.jQuery||c.Zepto||c.ender||c.$;a.noConflict=function(){c.Backbone=g;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var e=a.Events={on:function(b,a,c){if(!h(this,"on",b,[a,c])||!a)return this;this._events||(this._events={});(this._events[b]||(this._events[b]=[])).push({callback:a,context:c,ctx:c||this});return this},
once:function(b,a,c){if(!h(this,"once",b,[a,c])||!a)return this;var e=this,f=d.once(function(){e.off(b,f);a.apply(this,arguments)});f._callback=a;return this.on(b,f,c)},off:function(b,a,c){var e,f,k,q,g,l,p,m;if(!this._events||!h(this,"off",b,[a,c]))return this;if(!b&&!a&&!c)return this._events={},this;q=b?[b]:d.keys(this._events);g=0;for(l=q.length;g<l;g++)if(b=q[g],k=this._events[b]){this._events[b]=e=[];if(a||c){p=0;for(m=k.length;p<m;p++)f=k[p],(a&&a!==f.callback&&a!==f.callback._callback||c&&
c!==f.context)&&e.push(f)}e.length||delete this._events[b]}return this},trigger:function(b){if(!this._events)return this;var a=f.call(arguments,1);if(!h(this,"trigger",b,a))return this;var c=this._events[b],d=this._events.all;c&&k(c,a);d&&k(d,arguments);return this},stopListening:function(b,a,c){var e=this._listeningTo;if(!e)return this;var f=!a&&!c;!c&&"object"===typeof a&&(c=this);b&&((e={})[b._listenId]=b);for(var h in e)b=e[h],b.off(a,c,this),(f||d.isEmpty(b._events))&&delete this._listeningTo[h];
return this}},b=/\s+/,h=function(a,c,d,e){if(!d)return!0;if("object"===typeof d){for(var f in d)a[c].apply(a,[f,d[f]].concat(e));return!1}if(b.test(d)){d=d.split(b);f=0;for(var h=d.length;f<h;f++)a[c].apply(a,[d[f]].concat(e));return!1}return!0},k=function(b,a){var c,d=-1,e=b.length,f=a[0],h=a[1],k=a[2];switch(a.length){case 0:for(;++d<e;)(c=b[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=b[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=b[d]).callback.call(c.ctx,f,h);break;case 3:for(;++d<
e;)(c=b[d]).callback.call(c.ctx,f,h,k);break;default:for(;++d<e;)(c=b[d]).callback.apply(c.ctx,a)}};d.each({listenTo:"on",listenToOnce:"once"},function(b,a){e[a]=function(a,c,e){var f=this._listeningTo||(this._listeningTo={}),h=a._listenId||(a._listenId=d.uniqueId("l"));f[h]=a;!e&&"object"===typeof c&&(e=this);a[b](c,e,this);return this}});e.bind=e.on;e.unbind=e.off;d.extend(a,e);var l=a.Model=function(b,a){var c=b||{};a||(a={});this.cid=d.uniqueId("c");this.attributes={};a.collection&&(this.collection=
a.collection);a.parse&&(c=this.parse(c,a)||{});c=d.defaults({},c,d.result(this,"defaults"));this.set(c,a);this.changed={};this.initialize.apply(this,arguments)};d.extend(l.prototype,e,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(b){return d.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(b){return this.attributes[b]},escape:function(b){return d.escape(this.get(b))},has:function(b){return null!=this.get(b)},set:function(b,
a,c){var e,f,h,k,q,g,l;if(null==b)return this;"object"===typeof b?(f=b,c=a):(f={})[b]=a;c||(c={});if(!this._validate(f,c))return!1;h=c.unset;k=c.silent;b=[];q=this._changing;this._changing=!0;q||(this._previousAttributes=d.clone(this.attributes),this.changed={});l=this.attributes;g=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)a=f[e],d.isEqual(l[e],a)||b.push(e),d.isEqual(g[e],a)?delete this.changed[e]:this.changed[e]=a,h?delete l[e]:l[e]=a;if(!k){b.length&&
(this._pending=!0);a=0;for(e=b.length;a<e;a++)this.trigger("change:"+b[a],this,l[b[a]],c)}if(q)return this;if(!k)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(b,a){return this.set(b,void 0,d.extend({},a,{unset:!0}))},clear:function(b){var a={},c;for(c in this.attributes)a[c]=void 0;return this.set(a,d.extend({},b,{unset:!0}))},hasChanged:function(b){return null==b?!d.isEmpty(this.changed):d.has(this.changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?
d.clone(this.changed):!1;var a,c=!1,e=this._changing?this._previousAttributes:this.attributes,f;for(f in b)if(!d.isEqual(e[f],a=b[f]))(c||(c={}))[f]=a;return c},previous:function(b){return null==b||!this._previousAttributes?null:this._previousAttributes[b]},previousAttributes:function(){return d.clone(this._previousAttributes)},fetch:function(b){b=b?d.clone(b):{};void 0===b.parse&&(b.parse=!0);var a=this,c=b.success;b.success=function(d){if(!a.set(a.parse(d,b),b))return!1;c&&c(a,d,b);a.trigger("sync",
a,d,b)};N(this,b);return this.sync("read",this,b)},save:function(b,a,c){var e,f=this.attributes;null==b||"object"===typeof b?(e=b,c=a):(e={})[b]=a;c=d.extend({validate:!0},c);if(e&&!c.wait){if(!this.set(e,c))return!1}else if(!this._validate(e,c))return!1;e&&c.wait&&(this.attributes=d.extend({},f,e));void 0===c.parse&&(c.parse=!0);var h=this,k=c.success;c.success=function(b){h.attributes=f;var a=h.parse(b,c);c.wait&&(a=d.extend(e||{},a));if(d.isObject(a)&&!h.set(a,c))return!1;k&&k(h,b,c);h.trigger("sync",
h,b,c)};N(this,c);b=this.isNew()?"create":c.patch?"patch":"update";"patch"===b&&(c.attrs=e);b=this.sync(b,this,c);e&&c.wait&&(this.attributes=f);return b},destroy:function(b){b=b?d.clone(b):{};var a=this,c=b.success,e=function(){a.trigger("destroy",a,a.collection,b)};b.success=function(d){(b.wait||a.isNew())&&e();c&&c(a,d,b);a.isNew()||a.trigger("sync",a,d,b)};if(this.isNew())return b.success(),!1;N(this,b);var f=this.sync("delete",this,b);b.wait||e();return f},url:function(){var b=d.result(this,
"urlRoot")||d.result(this.collection,"url")||M();return this.isNew()?b:b+("/"===b.charAt(b.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(b,a){return b},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(b){return this._validate({},d.extend(b||{},{validate:!0}))},_validate:function(b,a){if(!a.validate||!this.validate)return!0;b=d.extend({},this.attributes,b);var c=this.validationError=this.validate(b,a)||null;if(!c)return!0;
this.trigger("invalid",this,c,d.extend(a,{validationError:c}));return!1}});d.each("keys values pairs invert pick omit".split(" "),function(b){l.prototype[b]=function(){var a=f.call(arguments);a.unshift(this.attributes);return d[b].apply(d,a)}});var p=a.Collection=function(b,a){a||(a={});a.model&&(this.model=a.model);void 0!==a.comparator&&(this.comparator=a.comparator);this._reset();this.initialize.apply(this,arguments);b&&this.reset(b,d.extend({silent:!0},a))},n={add:!0,remove:!0,merge:!0},r={add:!0,
remove:!1};d.extend(p.prototype,e,{model:l,initialize:function(){},toJSON:function(b){return this.map(function(a){return a.toJSON(b)})},sync:function(){return a.sync.apply(this,arguments)},add:function(b,a){return this.set(b,d.extend({merge:!1},a,r))},remove:function(b,a){var c=!d.isArray(b);b=c?[b]:d.clone(b);a||(a={});var e,f,h,k;e=0;for(f=b.length;e<f;e++)if(k=b[e]=this.get(b[e]))delete this._byId[k.id],delete this._byId[k.cid],h=this.indexOf(k),this.models.splice(h,1),this.length--,a.silent||
(a.index=h,k.trigger("remove",k,this,a)),this._removeReference(k);return c?b[0]:b},set:function(b,a){a=d.defaults({},a,n);a.parse&&(b=this.parse(b,a));var c=!d.isArray(b);b=c?b?[b]:[]:d.clone(b);var e,f,h,k,q,g,p=a.at,m=this.model,u=this.comparator&&null==p&&!1!==a.sort,r=d.isString(this.comparator)?this.comparator:null,w=[],A=[],v={},E=a.add,x=a.merge,D=a.remove,t=!u&&E&&D?[]:!1;e=0;for(f=b.length;e<f;e++){q=b[e];h=q instanceof l?k=q:q[m.prototype.idAttribute];if(h=this.get(h))D&&(v[h.cid]=!0),x&&
(q=q===k?k.attributes:q,a.parse&&(q=h.parse(q,a)),h.set(q,a),u&&(!g&&h.hasChanged(r))&&(g=!0)),b[e]=h;else if(E){k=b[e]=this._prepareModel(q,a);if(!k)continue;w.push(k);k.on("all",this._onModelEvent,this);this._byId[k.cid]=k;null!=k.id&&(this._byId[k.id]=k)}t&&t.push(h||k)}if(D){e=0;for(f=this.length;e<f;++e)v[(k=this.models[e]).cid]||A.push(k);A.length&&this.remove(A,a)}if(w.length||t&&t.length)if(u&&(g=!0),this.length+=w.length,null!=p){e=0;for(f=w.length;e<f;e++)this.models.splice(p+e,0,w[e])}else{t&&
(this.models.length=0);q=t||w;e=0;for(f=q.length;e<f;e++)this.models.push(q[e])}g&&this.sort({silent:!0});if(!a.silent){e=0;for(f=w.length;e<f;e++)(k=w[e]).trigger("add",k,this,a);(g||t&&t.length)&&this.trigger("sort",this,a)}return c?b[0]:b},reset:function(b,a){a||(a={});for(var c=0,e=this.models.length;c<e;c++)this._removeReference(this.models[c]);a.previousModels=this.models;this._reset();b=this.add(b,d.extend({silent:!0},a));a.silent||this.trigger("reset",this,a);return b},push:function(b,a){return this.add(b,
d.extend({at:this.length},a))},pop:function(b){var a=this.at(this.length-1);this.remove(a,b);return a},unshift:function(b,a){return this.add(b,d.extend({at:0},a))},shift:function(b){var a=this.at(0);this.remove(a,b);return a},slice:function(){return f.apply(this.models,arguments)},get:function(b){return null==b?void 0:this._byId[b.id]||this._byId[b.cid]||this._byId[b]},at:function(b){return this.models[b]},where:function(b,a){return d.isEmpty(b)?a?void 0:[]:this[a?"find":"filter"](function(a){for(var c in b)if(b[c]!==
a.get(c))return!1;return!0})},findWhere:function(b){return this.where(b,!0)},sort:function(b){if(!this.comparator)throw Error("Cannot sort a set without a comparator");b||(b={});d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this));b.silent||this.trigger("sort",this,b);return this},pluck:function(b){return d.invoke(this.models,"get",b)},fetch:function(b){b=b?d.clone(b):{};void 0===b.parse&&(b.parse=!0);
var a=b.success,c=this;b.success=function(d){c[b.reset?"reset":"set"](d,b);a&&a(c,d,b);c.trigger("sync",c,d,b)};N(this,b);return this.sync("read",this,b)},create:function(b,a){a=a?d.clone(a):{};if(!(b=this._prepareModel(b,a)))return!1;a.wait||this.add(b,a);var c=this,e=a.success;a.success=function(b,a,d){d.wait&&c.add(b,d);e&&e(b,a,d)};b.save(null,a);return b},parse:function(b,a){return b},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId=
{}},_prepareModel:function(b,a){if(b instanceof l)return b.collection||(b.collection=this),b;a=a?d.clone(a):{};a.collection=this;var c=new this.model(b,a);if(!c.validationError)return c;this.trigger("invalid",this,c.validationError,a);return!1},_removeReference:function(b){this===b.collection&&delete b.collection;b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,a,c,d){("add"===b||"remove"===b)&&c!==this||("destroy"===b&&this.remove(a,d),a&&b==="change:"+a.idAttribute&&(delete this._byId[a.previous(a.idAttribute)],
null!=a.id&&(this._byId[a.id]=a)),this.trigger.apply(this,arguments))}});d.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(b){p.prototype[b]=function(){var a=f.call(arguments);a.unshift(this.models);return d[b].apply(d,a)}});d.each(["groupBy","countBy","sortBy"],
function(b){p.prototype[b]=function(a,c){var e=d.isFunction(a)?a:function(b){return b.get(a)};return d[b](this.models,e,c)}});var m=a.View=function(b){this.cid=d.uniqueId("view");b||(b={});d.extend(this,d.pick(b,q));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},v=/^(\S+)\s*(.*)$/,q="model collection el id attributes className tagName events".split(" ");d.extend(m.prototype,e,{tagName:"div",$:function(b){return this.$el.find(b)},initialize:function(){},render:function(){return this},
remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,c){this.$el&&this.undelegateEvents();this.$el=b instanceof a.$?b:a.$(b);this.el=this.$el[0];!1!==c&&this.delegateEvents();return this},delegateEvents:function(b){if(!b&&!(b=d.result(this,"events")))return this;this.undelegateEvents();for(var a in b){var c=b[a];d.isFunction(c)||(c=this[b[a]]);if(c){var e=a.match(v),f=e[1],e=e[2],c=d.bind(c,this),f=f+(".delegateEvents"+this.cid);if(""===e)this.$el.on(f,c);else this.$el.on(f,
e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var b=d.extend({},d.result(this,"attributes"));this.id&&(b.id=d.result(this,"id"));this.className&&(b["class"]=d.result(this,"className"));b=a.$("<"+d.result(this,"tagName")+">").attr(b);this.setElement(b,!1)}}});a.sync=function(b,c,e){var f=w[b];d.defaults(e||(e={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});
var h={type:f,dataType:"json"};e.url||(h.url=d.result(c,"url")||M());if(null==e.data&&c&&("create"===b||"update"===b||"patch"===b))h.contentType="application/json",h.data=JSON.stringify(e.attrs||c.toJSON(e));e.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{});if(e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){h.type="POST";e.emulateJSON&&(h.data._method=f);var k=e.beforeSend;e.beforeSend=function(b){b.setRequestHeader("X-HTTP-Method-Override",
f);if(k)return k.apply(this,arguments)}}"GET"!==h.type&&!e.emulateJSON&&(h.processData=!1);"PATCH"===h.type&&u&&(h.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});b=e.xhr=a.ajax(d.extend(h,e));c.trigger("request",c,b,e);return b};var u="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var A=
a.Router=function(b){b||(b={});b.routes&&(this.routes=b.routes);this._bindRoutes();this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,D=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(A.prototype,e,{initialize:function(){},route:function(b,c,e){d.isRegExp(b)||(b=this._routeToRegExp(b));d.isFunction(c)&&(e=c,c="");e||(e=this[c]);var f=this;a.history.route(b,function(d){d=f._extractParameters(b,d);e&&e.apply(f,d);f.trigger.apply(f,["route:"+c].concat(d));f.trigger("route",c,d);a.history.trigger("route",
f,c,d)});return this},navigate:function(b,c){a.history.navigate(b,c);return this},_bindRoutes:function(){if(this.routes){this.routes=d.result(this,"routes");for(var b,a=d.keys(this.routes);null!=(b=a.pop());)this.route(b,this.routes[b])}},_routeToRegExp:function(b){b=b.replace(I,"\\$&").replace(x,"(?:$1)?").replace(C,function(b,a){return a?b:"([^/]+)"}).replace(D,"(.*?)");return RegExp("^"+b+"$")},_extractParameters:function(b,a){var c=b.exec(a).slice(1);return d.map(c,function(b){return b?decodeURIComponent(b):
null})}});var E=a.History=function(){this.handlers=[];d.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},H=/^[#\/]|\s+$/g,t=/^\/+|\/+$/g,z=/msie [\w.]+/,G=/\/$/,F=/[?#].*$/;E.started=!1;d.extend(E.prototype,e,{interval:50,getHash:function(b){return(b=(b||this).location.href.match(/#(.*)$/))?b[1]:""},getFragment:function(b,a){if(null==b)if(this._hasPushState||!this._wantsHashChange||a){b=this.location.pathname;var c=this.root.replace(G,
"");b.indexOf(c)||(b=b.slice(c.length))}else b=this.getHash();return b.replace(H,"")},start:function(b){if(E.started)throw Error("Backbone.history has already been started");E.started=!0;this.options=d.extend({root:"/"},this.options,b);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);b=this.getFragment();var c=document.documentMode,c=z.exec(navigator.userAgent.toLowerCase())&&
(!c||7>=c);this.root=("/"+this.root+"/").replace(t,"/");c&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b));if(this._hasPushState)a.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!c)a.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=b;b=this.location;c=b.pathname.replace(/[^\/]$/,
"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&(c&&b.hash)&&(this.fragment=this.getHash().replace(H,""),this.history.replaceState({},document.title,this.root+this.fragment+b.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);
clearInterval(this._checkUrlInterval);E.started=!1},route:function(b,a){this.handlers.unshift({route:b,callback:a})},checkUrl:function(b){b=this.getFragment();b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));if(b===this.fragment)return!1;this.iframe&&this.navigate(b);this.loadUrl()},loadUrl:function(b){b=this.fragment=this.getFragment(b);return d.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(b,a){if(!E.started)return!1;
if(!a||!0===a)a={trigger:!!a};var c=this.root+(b=this.getFragment(b||""));b=b.replace(F,"");if(this.fragment!==b){this.fragment=b;""===b&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[a.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,b,a.replace),this.iframe&&b!==this.getFragment(this.getHash(this.iframe))&&(a.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,b,a.replace));else return this.location.assign(c);
if(a.trigger)return this.loadUrl(b)}},_updateHash:function(b,a,c){c?(c=b.href.replace(/(javascript:|#).*$/,""),b.replace(c+"#"+a)):b.hash="#"+a}});a.history=new E;l.extend=p.extend=A.extend=m.extend=E.extend=function(b,a){var c=this,e;e=b&&d.has(b,"constructor")?b.constructor:function(){return c.apply(this,arguments)};d.extend(e,c,a);var f=function(){this.constructor=e};f.prototype=c.prototype;e.prototype=new f;b&&d.extend(e.prototype,b);e.__super__=c.prototype;return e};var M=function(){throw Error('A "url" property or function must be specified');
},N=function(b,a){var c=a.error;a.error=function(d){c&&c(b,d,a);b.trigger("error",b,d,a)}}}).call(this);
Backbone.ChildViewContainer=function(c,g){var f=function(a){this._views={};this._indexByModel={};this._indexByCollection={};this._indexByCustom={};this._updateLength();this._addInitialViews(a)};g.extend(f.prototype,{add:function(a,c){var e=a.cid;this._views[e]=a;a.model&&(this._indexByModel[a.model.cid]=e);a.collection&&(this._indexByCollection[a.collection.cid]=e);c&&(this._indexByCustom[c]=e);this._updateLength()},findByModel:function(a){return this.findByCid(this._indexByModel[a.cid])},findByCollection:function(a){return this.findByCid(this._indexByCollection[a.cid])},
findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return g.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=a.cid;a.model&&delete this._indexByModel[a.model.cid];a.collection&&delete this._indexByCollection[a.collection.cid];var e,b;for(b in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(b)&&this._indexByCustom[b]===c){e=b;break}e&&delete this._indexByCustom[e];delete this._views[c];this._updateLength()},
call:function(a,c){c=Array.prototype.slice.call(arguments,1);this.apply(a,c)},apply:function(a,c){c=c||[];g.each(this._views,function(e){g.isFunction(e[a])&&e[a].apply(e,c)})},_updateLength:function(){this.length=g.size(this._views)},_addInitialViews:function(a){if(a){var c,e,b=a.length;for(e=0;b>e;e++)c=a[e],this.add(c)}}});return g.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){f.prototype[a]=function(){var c=[g.values(this._views)].concat(g.toArray(arguments));return g[a].apply(g,c)}}),f}(Backbone,_);
Backbone.Wreqr=function(c,g,f){g={};return g.Handlers=function(a,c){var e=function(b){this.options=b;this._wreqrHandlers={};c.isFunction(this.initialize)&&this.initialize(b)};return e.extend=a.Model.extend,c.extend(e.prototype,a.Events,{setHandlers:function(b){c.each(b,function(b,a){var e=null;c.isObject(b)&&!c.isFunction(b)&&(e=b.context,b=b.callback);this.setHandler(a,b,e)},this)},setHandler:function(b,a,c){this._wreqrHandlers[b]={callback:a,context:c};this.trigger("handler:add",b,a,c)},hasHandler:function(b){return!!this._wreqrHandlers[b]},
getHandler:function(b){var a=this._wreqrHandlers[b];if(!a)throw Error("Handler not found for '"+b+"'");return function(){var b=Array.prototype.slice.apply(arguments);return a.callback.apply(a.context,b)}},removeHandler:function(b){delete this._wreqrHandlers[b]},removeAllHandlers:function(){this._wreqrHandlers={}}}),e}(c,f),g.CommandStorage=function(){var a=function(a){this.options=a;this._commands={};f.isFunction(this.initialize)&&this.initialize(a)};return f.extend(a.prototype,c.Events,{getCommands:function(a){var c=
this._commands[a];return c||(c={command:a,instances:[]},this._commands[a]=c),c},addCommand:function(a,c){this.getCommands(a).instances.push(c)},clearCommands:function(a){this.getCommands(a).instances=[]}}),a}(),g.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(c){this.options=c||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var e=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,
e)},execute:function(a,c){a=arguments[0];c=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,c):this.storage.addCommand(a,c)},_executeCommands:function(a,c,b){var h=this.storage.getCommands(a);f.each(h.instances,function(a){c.apply(b,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=f.isFunction(a)?new a:a}})}(g),g.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],
c=Array.prototype.slice.call(arguments,1);return this.getHandler(a).apply(this,c)}})}(g),g.EventAggregator=function(a,c){var e=function(){};return e.extend=a.Model.extend,c.extend(e.prototype,a.Events),e}(c,f),g}(Backbone,Backbone.Marionette,_);
var Marionette=function(c,g,f){function a(b,a){var c=Error(b);throw c.name=a||"Error",c;}var d={};g.Marionette=d;d.$=g.$;var e=Array.prototype.slice;return d.extend=g.Model.extend,d.getOption=function(b,a){if(b&&a)return b.options&&a in b.options&&void 0!==b.options[a]?b.options[a]:b[a]},d.triggerMethod=function(){function b(b,a,c){return c.toUpperCase()}var a=/(^|:)(\w)/gi;return function(c){var d=this["on"+c.replace(a,b)];return this.trigger.apply(this,arguments),f.isFunction(d)?d.apply(this,f.tail(arguments)):
void 0}}(),d.MonitorDOMRefresh=function(){function b(b){b._isShown&&b._isRendered&&f.isFunction(b.triggerMethod)&&b.triggerMethod("dom:refresh")}return function(a){a.listenTo(a,"show",function(){a._isShown=!0;b(a)});a.listenTo(a,"render",function(){a._isRendered=!0;b(a)})}}(),function(b){function c(b,d,e,h){h=h.split(/\s+/);f.each(h,function(c){var f=b[c];f||a("Method '"+c+"' was configured as an event handler, but does not exist.");b.listenTo(d,e,f,b)})}function d(b,a,c,e){b.listenTo(a,c,e,b)}function e(b,
a,c,d){d=d.split(/\s+/);f.each(d,function(d){b.stopListening(a,c,b[d],b)})}function g(b,a,c,d){b.stopListening(a,c,d,b)}function n(b,a,c,d,e){a&&c&&(f.isFunction(c)&&(c=c.call(b)),f.each(c,function(c,h){f.isFunction(c)?d(b,a,h,c):e(b,a,h,c)}))}b.bindEntityEvents=function(b,a,e){n(b,a,e,d,c)};b.unbindEntityEvents=function(b,a,c){n(b,a,c,g,e)}}(d),d.Callbacks=function(){this._deferred=d.$.Deferred();this._callbacks=[]},f.extend(d.Callbacks.prototype,{add:function(b,a){this._callbacks.push({cb:b,ctx:a});
this._deferred.done(function(c,d){a&&(c=a);b.call(c,d)})},run:function(b,a){this._deferred.resolve(a,b)},reset:function(){var b=this._callbacks;this._deferred=d.$.Deferred();this._callbacks=[];f.each(b,function(b){this.add(b.cb,b.ctx)},this)}}),d.Controller=function(b){this.triggerMethod=d.triggerMethod;this.options=b||{};f.isFunction(this.initialize)&&this.initialize(this.options)},d.Controller.extend=d.extend,f.extend(d.Controller.prototype,g.Events,{close:function(){this.stopListening();this.triggerMethod("close");
this.unbind()}}),d.Region=function(b){if(this.options=b||{},this.el=d.getOption(this,"el"),!this.el){var a=Error("An 'el' must be specified for a region.");throw a.name="NoElError",a;}this.initialize&&(a=Array.prototype.slice.apply(arguments),this.initialize.apply(this,a))},f.extend(d.Region,{buildRegion:function(b,a){var c="string"==typeof b,d="string"==typeof b.selector,e=void 0===b.regionType,g="function"==typeof b;if(!g&&!c&&!d)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");
var r,m;c&&(r=b);b.selector&&(r=b.selector);g&&(m=b);!g&&e&&(m=a);b.regionType&&(m=b.regionType);c=new m({el:r});return b.parentEl&&(c.getEl=function(a){var c=b.parentEl;return f.isFunction(c)&&(c=c()),c.find(a)}),c}}),f.extend(d.Region.prototype,g.Events,{show:function(b){this.ensureEl();var a=b.isClosed||f.isUndefined(b.$el),c=b!==this.currentView;c&&this.close();b.render();(c||a)&&this.open(b);this.currentView=b;d.triggerMethod.call(this,"show",b);d.triggerMethod.call(b,"show")},ensureEl:function(){this.$el&&
0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(b){return d.$(b)},open:function(b){this.$el.empty().append(b.el)},close:function(){var b=this.currentView;b&&!b.isClosed&&(b.close?b.close():b.remove&&b.remove(),d.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(b){this.currentView=b},reset:function(){this.close();delete this.$el}}),d.Region.extend=d.extend,d.RegionManager=function(b){var a=b.Controller.extend({constructor:function(a){this._regions=
{};b.Controller.prototype.constructor.call(this,a)},addRegions:function(b,a){var c={};return f.each(b,function(b,d){"string"==typeof b&&(b={selector:b});b.selector&&(b=f.defaults({},b,a));var e=this.addRegion(d,b);c[d]=e},this),c},addRegion:function(a,c){var d,e=f.isObject(c),h=f.isString(c),g=!!c.selector;return d=h||e&&g?b.Region.buildRegion(c,b.Region):f.isFunction(c)?b.Region.buildRegion(c,b.Region):c,this._store(a,d),this.triggerMethod("region:add",a,d),d},get:function(b){return this._regions[b]},
removeRegion:function(b){this._remove(b,this._regions[b])},removeRegions:function(){f.each(this._regions,function(b,a){this._remove(a,b)},this)},closeRegions:function(){f.each(this._regions,function(b){b.close()},this)},close:function(){this.removeRegions();var a=Array.prototype.slice.call(arguments);b.Controller.prototype.close.apply(this,a)},_store:function(b,a){this._regions[b]=a;this._setLength()},_remove:function(b,a){a.close();delete this._regions[b];this._setLength();this.triggerMethod("region:remove",
b,a)},_setLength:function(){this.length=f.size(this._regions)}});return f.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(b){a.prototype[b]=function(){var a=[f.values(this._regions)].concat(f.toArray(arguments));return f[b].apply(f,a)}}),a}(d),d.TemplateCache=function(b){this.templateId=b},f.extend(d.TemplateCache,{templateCaches:{},get:function(b){var a=this.templateCaches[b];
return a||(a=new d.TemplateCache(b),this.templateCaches[b]=a),a.load()},clear:function(){var b,a=e.call(arguments),c=a.length;if(0<c)for(b=0;c>b;b++)delete this.templateCaches[a[b]];else this.templateCaches={}}}),f.extend(d.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var b=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(b),this.compiledTemplate},loadTemplate:function(b){var c=d.$(b).html();return c&&0!==c.length||
a("Could not find template: '"+b+"'","NoTemplateError"),c},compileTemplate:function(b){return f.template(b)}}),d.Renderer={render:function(b,a){if(!b){var c=Error("Cannot render the template since it's false, null or undefined.");throw c.name="TemplateNotFoundError",c;}return c="function"==typeof b?b:d.TemplateCache.get(b),c(a)}},d.View=g.View.extend({constructor:function(){f.bindAll(this,"render");var b=Array.prototype.slice.apply(arguments);g.View.prototype.constructor.apply(this,b);d.MonitorDOMRefresh(this);
this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:d.triggerMethod,getTemplate:function(){return d.getOption(this,"template")},mixinTemplateHelpers:function(b){b=b||{};var a=this.templateHelpers;return f.isFunction(a)&&(a=a.call(this)),f.extend(b,a)},configureTriggers:function(){if(this.triggers){var b={},a=f.result(this,"triggers");return f.each(a,function(a,c){b[c]=function(b){b&&b.preventDefault&&b.preventDefault();b&&b.stopPropagation&&b.stopPropagation();this.triggerMethod(a,{view:this,
model:this.model,collection:this.collection})}},this),b}},delegateEvents:function(b){this._delegateDOMEvents(b);d.bindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.bindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(b){b=b||this.events;f.isFunction(b)&&(b=b.call(this));var a={},c=this.configureTriggers();f.extend(a,b,c);g.View.prototype.delegateEvents.call(this,a)},undelegateEvents:function(){var b=Array.prototype.slice.call(arguments);
g.View.prototype.undelegateEvents.apply(this,b);d.unbindEntityEvents(this,this.model,d.getOption(this,"modelEvents"));d.unbindEntityEvents(this,this.collection,d.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var b=f.result(this,"_uiBindings");
this.ui={};f.each(f.keys(b),function(a){this.ui[a]=this.$(b[a])},this)}},unbindUIElements:function(){this.ui&&(f.each(this.ui,function(b,a){delete this.ui[a]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),d.ItemView=d.View.extend({serializeData:function(){var b={};return this.model?b=this.model.toJSON():this.collection&&(b={items:this.collection.toJSON()}),b},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var b=
this.serializeData(),b=this.mixinTemplateHelpers(b),a=this.getTemplate(),b=d.Renderer.render(a,b);return this.$el.html(b),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),d.View.prototype.close.apply(this,e.call(arguments)),this.triggerMethod("item:closed"))}}),d.CollectionView=d.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage();
d.View.prototype.constructor.apply(this,e.call(arguments));this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(b){this.closeEmptyView();var a=this.getItemView(b),c=this.collection.indexOf(b);this.addItemView(b,a,c)},onShowCalled:function(){this.children.each(function(b){d.triggerMethod.call(b,
"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},
showCollection:function(){var b;this.collection.each(function(a,c){b=this.getItemView(a);this.addItemView(a,b,c)},this)},showEmptyView:function(){var b=d.getOption(this,"emptyView");if(b&&!this._showingEmptyView){this._showingEmptyView=!0;var a=new g.Model;this.addItemView(a,b,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var b=d.getOption(this,"itemView");return b||a("An `itemView` must be specified","NoItemViewError"),
b},addItemView:function(b,a,c){var e=d.getOption(this,"itemViewOptions");f.isFunction(e)&&(e=e.call(this,b,c));b=this.buildItemView(b,a,e);this.addChildViewEventForwarding(b);this.triggerMethod("before:item:added",b);this.children.add(b);this.renderItemView(b,c);this._isShown&&d.triggerMethod.call(b,"show");this.triggerMethod("after:item:added",b)},addChildViewEventForwarding:function(b){var a=d.getOption(this,"itemViewEventPrefix");this.listenTo(b,"all",function(){var c=e.call(arguments);c[0]=a+
":"+c[0];c.splice(1,0,b);d.triggerMethod.apply(this,c)},this)},renderItemView:function(b,a){b.render();this.appendHtml(this,b,a)},buildItemView:function(b,a,c){b=f.extend({model:b},c);return new a(b)},removeItemView:function(b){b=this.children.findByModel(b);this.removeChildView(b);this.checkEmpty()},removeChildView:function(b){b&&(this.stopListening(b),b.close?b.close():b.remove&&b.remove(),this.children.remove(b));this.triggerMethod("item:removed",b)},checkEmpty:function(){this.collection&&0!==
this.collection.length||this.showEmptyView()},appendHtml:function(b,a){b.$el.append(a.el)},_initChildViewStorage:function(){this.children=new g.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),d.View.prototype.close.apply(this,e.call(arguments)))},closeChildren:function(){this.children.each(function(b){this.removeChildView(b)},this);this.checkEmpty()}}),d.CompositeView=d.CollectionView.extend({_initialEvents:function(){this.collection&&
(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var b=d.getOption(this,"itemView")||this.constructor;return b||a("An `itemView` must be specified","NoItemViewError"),b},serializeData:function(){var b={};return this.model&&(b=this.model.toJSON()),b},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();
this.triggerBeforeRender();var b=this.renderModel();return this.$el.html(b),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(d.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var b={},b=this.serializeData(),b=this.mixinTemplateHelpers(b),a=this.getTemplate();return d.Renderer.render(a,
b)},appendHtml:function(b,a){this.getItemViewContainer(b).append(a.el)},getItemViewContainer:function(b){if("$itemViewContainer"in b)return b.$itemViewContainer;var c;b.itemViewContainer?(c=f.result(b,"itemViewContainer"),c=b.$(c),0>=c.length&&a("The specified `itemViewContainer` was not found: "+b.itemViewContainer,"ItemViewContainerMissingError")):c=b.$el;return b.$itemViewContainer=c,c},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),d.Layout=d.ItemView.extend({regionType:d.Region,
constructor:function(b){b=b||{};this._firstRender=!0;this._initializeRegions(b);d.ItemView.call(this,b)},render:function(){this._firstRender?this._firstRender=!1:this.isClosed?this._initializeRegions():this._reInitializeRegions();var b=Array.prototype.slice.apply(arguments);return d.ItemView.prototype.render.apply(this,b)},close:function(){if(!this.isClosed){this.regionManager.close();var b=Array.prototype.slice.apply(arguments);d.ItemView.prototype.close.apply(this,b)}},addRegion:function(b,a){var c=
{};return c[b]=a,this.addRegions(c)[b]},addRegions:function(b){return this.regions=f.extend(this.regions||{},b),this._buildRegions(b)},removeRegion:function(b){return this.regionManager.removeRegion(b)},_buildRegions:function(b){var a=this;return this.regionManager.addRegions(b,{parentEl:function(){return a.$el}})},_initializeRegions:function(b){this._initRegionManager();b=f.isFunction(this.regions)?this.regions(b):this.regions||{};this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.closeRegions();
this.regionManager.each(function(b){b.reset()})},_initRegionManager:function(){this.regionManager=new d.RegionManager;this.listenTo(this.regionManager,"region:add",function(b,a){this[b]=a;this.trigger("region:add",b,a)});this.listenTo(this.regionManager,"region:remove",function(b,a){delete this[b];this.trigger("region:remove",b,a)})}}),d.AppRouter=g.Router.extend({constructor:function(b){if(g.Router.prototype.constructor.apply(this,e.call(arguments)),this.options=b,this.appRoutes){var a=d.getOption(this,
"controller");this.processAppRoutes(a,this.appRoutes)}},processAppRoutes:function(b,a){var c=f.keys(a).reverse();f.each(c,function(c){var d=a[c],e=b[d];if(!e)throw Error("Method '"+d+"' was not found on the controller");this.route(c,d,f.bind(e,b))},this)}}),d.Application=function(b){this._initRegionManager();this._initCallbacks=new d.Callbacks;this.vent=new g.Wreqr.EventAggregator;this.commands=new g.Wreqr.Commands;this.reqres=new g.Wreqr.RequestResponse;this.submodules={};f.extend(this,b);this.triggerMethod=
d.triggerMethod},f.extend(d.Application.prototype,g.Events,{execute:function(){var b=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,b)},request:function(){var b=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,b)},addInitializer:function(b){this._initCallbacks.add(b)},start:function(b){this.triggerMethod("initialize:before",b);this._initCallbacks.run(b,this);this.triggerMethod("initialize:after",b);this.triggerMethod("start",b)},
addRegions:function(b){return this._regionManager.addRegions(b)},removeRegion:function(b){this._regionManager.removeRegion(b)},module:function(){var b=e.call(arguments);return b.unshift(this),d.Module.create.apply(d.Module,b)},_initRegionManager:function(){this._regionManager=new d.RegionManager;this.listenTo(this._regionManager,"region:add",function(b,a){this[b]=a});this.listenTo(this._regionManager,"region:remove",function(b){delete this[b]})}}),d.Application.extend=d.extend,d.Module=function(b,
a){this.moduleName=b;this.submodules={};this._setupInitializersAndFinalizers();this.app=a;this.startWithParent=!0;this.triggerMethod=d.triggerMethod},f.extend(d.Module.prototype,g.Events,{addInitializer:function(b){this._initializerCallbacks.add(b)},addFinalizer:function(b){this._finalizerCallbacks.add(b)},start:function(b){this._isInitialized||(f.each(this.submodules,function(a){a.startWithParent&&a.start(b)}),this.triggerMethod("before:start",b),this._initializerCallbacks.run(b,this),this._isInitialized=
!0,this.triggerMethod("start",b))},stop:function(){this._isInitialized&&(this._isInitialized=!1,d.triggerMethod.call(this,"before:stop"),f.each(this.submodules,function(b){b.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),d.triggerMethod.call(this,"stop"))},addDefinition:function(b,a){this._runModuleDefinition(b,a)},_runModuleDefinition:function(b,a){if(b){var c=f.flatten([this,this.app,g,d,d.$,f,a]);b.apply(this,c)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=
new d.Callbacks;this._finalizerCallbacks=new d.Callbacks}}),f.extend(d.Module,{create:function(b,a,c){var d=b,g=e.call(arguments);g.splice(0,3);a=a.split(".");var n=[];return n[a.length-1]=c,f.each(a,function(a,c){var e=d;d=this._getModule(e,a,b);this._addModuleDefinition(e,d,n[c],g)},this),d},_getModule:function(b,a,c){var e=b[a];return e||(e=new d.Module(a,c),b[a]=e,b.submodules[a]=e),e},_addModuleDefinition:function(b,a,c,d){var e,g;f.isFunction(c)?(e=c,g=!0):f.isObject(c)?(e=c.define,g=c.startWithParent):
g=!0;e&&a.addDefinition(e,d);a.startWithParent=a.startWithParent&&g;a.startWithParent&&!a.startWithParentIsConfigured&&(a.startWithParentIsConfigured=!0,b.addInitializer(function(b){a.startWithParent&&a.start(b)}))}}),d}(this,Backbone,_);!function(){function c(g,f,a){var d=c.resolve(g);if(null==d)throw a=a||g,f=f||"root",d=Error('Failed to require "'+a+'" from "'+f+'"'),d.path=a,d.parent=f,d.require=!0,d;f=c.modules[d];!f._resolving&&!f.exports&&(a={exports:{}},a.client=a.component=!0,f._resolving=!0,f.call(this,a.exports,c.relative(d),a),delete f._resolving,f.exports=a.exports);return f.exports}c.modules={};c.aliases={};c.resolve=function(g){"/"===g.charAt(0)&&(g=g.slice(1));for(var f=[g,g+".js",g+".json",g+"/index.js",g+"/index.json"],
a=0;a<f.length;a++){g=f[a];if(c.modules.hasOwnProperty(g))return g;if(c.aliases.hasOwnProperty(g))return c.aliases[g]}};c.normalize=function(c,f){var a=[];if("."!=f.charAt(0))return f;c=c.split("/");f=f.split("/");for(var d=0;d<f.length;++d)".."==f[d]?c.pop():"."!=f[d]&&""!=f[d]&&a.push(f[d]);return c.concat(a).join("/")};c.register=function(g,f){c.modules[g]=f};c.alias=function(g,f){if(!c.modules.hasOwnProperty(g))throw Error('Failed to alias "'+g+'", it does not exist');c.aliases[f]=g};c.relative=
function(g){function f(a){var e=f.resolve(a);return c(e,g,a)}var a=c.normalize(g,"..");return f.resolve=function(d){var e=d.charAt(0);if("/"==e)return d.slice(1);if("."==e)return c.normalize(a,d);var e=g.split("/"),b;a:{for(b=e.length;b--;)if("deps"===e[b])break a;b=-1}b+=1;return b||(b=0),e.slice(0,b+1).join("/")+"/deps/"+d},f.exists=function(a){return c.modules.hasOwnProperty(f.resolve(a))},f};c.register("component-emitter/index.js",function(c,f,a){function d(a){if(a)for(var b in d.prototype)a[b]=
d.prototype[b];else a=void 0;return a}a.exports=d;d.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this};d.prototype.once=function(a,b){function c(){d.off(a,c);b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},b._off=c,this.on(a,c),this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=function(a,b){this._callbacks=this._callbacks||{};var c=this._callbacks[a];if(!c)return this;
if(1==arguments.length)return delete this._callbacks[a],this;var d=c.indexOf(b._off||b);return~d&&c.splice(d,1),this};d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),d=0,f=c.length;f>d;++d)c[d].apply(this,b);return this};d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]};d.prototype.hasListeners=function(a){return!!this.listeners(a).length}});c.register("dropzone/index.js",
function(c,f,a){a.exports=f("./lib/dropzone.js")});c.register("dropzone/lib/dropzone.js",function(c,f,a){(function(){var c,e,b,h,k,g={}.hasOwnProperty,p=function(b,a){function c(){this.constructor=b}for(var d in a)g.call(a,d)&&(b[d]=a[d]);return c.prototype=a.prototype,b.prototype=new c,b.__super__=a.prototype,b},n=[].slice;e="undefined"!=typeof Emitter&&null!==Emitter?Emitter:f("emitter");h=function(){};c=function(b){function a(b,d){var e,f,h;if(this.element=b,this.version=a.version,this.defaultOptions.previewTemplate=
this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(this.element.dropzone)throw Error("Dropzone already attached.");if(a.instances.push(this),this.element.dropzone=this,e=null!=(h=a.optionsForElement(this.element))?h:{},this.options=c({},this.defaultOptions,e,null!=d?d:
{}),this.options.forceFallback||!a.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);
this.options.method=this.options.method.toUpperCase();(f=this.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f);this.previewsContainer=this.options.previewsContainer?a.getElement(this.options.previewsContainer,"previewsContainer"):this.element;this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:a.getElements(this.options.clickable,"clickable"));this.init()}var c;return p(a,b),a.prototype.events="drop dragstart dragend dragenter dragover dragleave selectedfiles addedfile removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded".split(" "),
a.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",
dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",
accept:function(b,a){return a()},init:function(){return h},forceFallback:!1,fallback:function(){var b,c,d,e,f,h;this.element.className=""+this.element.className+" dz-browser-not-supported";h=this.element.getElementsByTagName("div");e=0;for(f=h.length;f>e;e++)b=h[e],/(^| )dz-message($| )/.test(b.className)&&(c=b,b.className="dz-message");return c||(c=a.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c)),d=c.getElementsByTagName("span")[0],d&&(d.textContent=this.options.dictFallbackMessage),
this.element.appendChild(this.getFallbackForm())},resize:function(b){var a,c,d;return a={srcX:0,srcY:0,srcWidth:b.width,srcHeight:b.height},c=b.width/b.height,d=this.options.thumbnailWidth/this.options.thumbnailHeight,b.height<this.options.thumbnailHeight||b.width<this.options.thumbnailWidth?(a.trgHeight=a.srcHeight,a.trgWidth=a.srcWidth):c>d?(a.srcHeight=b.height,a.srcWidth=a.srcHeight*d):(a.srcWidth=b.width,a.srcHeight=a.srcWidth/d),a.srcX=(b.width-a.srcWidth)/2,a.srcY=(b.height-a.srcHeight)/2,
a},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:h,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},
addedfile:function(b){var c,d,e,f,h=this;b.previewElement=a.createElement(this.options.previewTemplate.trim());b.previewTemplate=b.previewElement;this.previewsContainer.appendChild(b.previewElement);f=b.previewElement.querySelectorAll("[data-dz-name]");d=0;for(e=f.length;e>d;d++)c=f[d],c.textContent=b.name;f=b.previewElement.querySelectorAll("[data-dz-size]");d=0;for(e=f.length;e>d;d++)c=f[d],c.innerHTML=this.filesize(b.size);return this.options.addRemoveLinks&&(b._removeLink=a.createElement('<a class="dz-remove" href="javascript:undefined;">'+
this.options.dictRemoveFile+"</a>"),b._removeLink.addEventListener("click",function(c){return c.preventDefault(),c.stopPropagation(),b.status===a.UPLOADING?a.confirm(h.options.dictCancelUploadConfirmation,function(){return h.removeFile(b)}):h.options.dictRemoveFileConfirmation?a.confirm(h.options.dictRemoveFileConfirmation,function(){return h.removeFile(b)}):h.removeFile(b)}),b.previewElement.appendChild(b._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(b){var a;return null!=
(a=b.previewElement)&&a.parentNode.removeChild(b.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(b,a){var c,d,e,f,h;b.previewElement.classList.remove("dz-file-preview");b.previewElement.classList.add("dz-image-preview");f=b.previewElement.querySelectorAll("[data-dz-thumbnail]");h=[];d=0;for(e=f.length;e>d;d++)c=f[d],c.alt=b.name,h.push(c.src=a);return h},error:function(b,a){var c,d,e,f,h;b.previewElement.classList.add("dz-error");f=b.previewElement.querySelectorAll("[data-dz-errormessage]");
h=[];d=0;for(e=f.length;e>d;d++)c=f[d],h.push(c.textContent=a);return h},errormultiple:h,processing:function(b){return b.previewElement.classList.add("dz-processing"),b._removeLink?b._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:h,uploadprogress:function(b,a){var c,d,e,f,h;f=b.previewElement.querySelectorAll("[data-dz-uploadprogress]");h=[];d=0;for(e=f.length;e>d;d++)c=f[d],h.push(c.style.width=""+a+"%");return h},totaluploadprogress:h,sending:h,sendingmultiple:h,
success:function(b){return b.previewElement.classList.add("dz-success")},successmultiple:h,canceled:function(b){return this.emit("error",b,"Upload canceled.")},canceledmultiple:h,complete:function(b){return b._removeLink?b._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:h,maxfilesexceeded:h,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},
c=function(){var b,a,c,d,e,f,h;d=arguments[0];c=2<=arguments.length?n.call(arguments,1):[];f=0;for(h=c.length;h>f;f++)for(b in a=c[f],a)e=a[b],d[b]=e;return d},a.prototype.getAcceptedFiles=function(){var b,a,c,d,e;d=this.files;e=[];a=0;for(c=d.length;c>a;a++)b=d[a],b.accepted&&e.push(b);return e},a.prototype.getRejectedFiles=function(){var b,a,c,d,e;d=this.files;e=[];a=0;for(c=d.length;c>a;a++)b=d[a],b.accepted||e.push(b);return e},a.prototype.getQueuedFiles=function(){var b,c,d,e,f;e=this.files;
f=[];c=0;for(d=e.length;d>c;c++)b=e[c],b.status===a.QUEUED&&f.push(b);return f},a.prototype.getUploadingFiles=function(){var b,c,d,e,f;e=this.files;f=[];c=0;for(d=e.length;d>c;c++)b=e[c],b.status===a.UPLOADING&&f.push(b);return f},a.prototype.init=function(){var b,c,d,e,f,h,k=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(a.createElement('<div class="dz-default dz-message"><span>'+
this.options.dictDefaultMessage+"</span></div>"));this.clickableElements.length&&(d=function(){return k.hiddenFileInput&&document.body.removeChild(k.hiddenFileInput),k.hiddenFileInput=document.createElement("input"),k.hiddenFileInput.setAttribute("type","file"),(null==k.options.maxFiles||1<k.options.maxFiles)&&k.hiddenFileInput.setAttribute("multiple","multiple"),null!=k.options.acceptedFiles&&k.hiddenFileInput.setAttribute("accept",k.options.acceptedFiles),k.hiddenFileInput.style.visibility="hidden",
k.hiddenFileInput.style.position="absolute",k.hiddenFileInput.style.top="0",k.hiddenFileInput.style.left="0",k.hiddenFileInput.style.height="0",k.hiddenFileInput.style.width="0",document.body.appendChild(k.hiddenFileInput),k.hiddenFileInput.addEventListener("change",function(){var b;return b=k.hiddenFileInput.files,b.length&&(k.emit("selectedfiles",b),k.handleFiles(b)),d()})},d());this.URL=null!=(b=window.URL)?b:window.webkitURL;h=this.events;e=0;for(f=h.length;f>e;e++)b=h[e],this.on(b,this.options[b]);
return this.on("uploadprogress",function(){return k.updateTotalUploadProgress()}),this.on("removedfile",function(){return k.updateTotalUploadProgress()}),this.on("canceled",function(b){return k.emit("complete",b)}),c=function(b){return b.stopPropagation(),b.preventDefault?b.preventDefault():b.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(b){return k.emit("dragstart",b)},dragenter:function(b){return c(b),k.emit("dragenter",b)},dragover:function(b){return c(b),k.emit("dragover",
b)},dragleave:function(b){return k.emit("dragleave",b)},drop:function(b){return c(b),k.drop(b)},dragend:function(b){return k.emit("dragend",b)}}}],this.clickableElements.forEach(function(b){return k.listeners.push({element:b,events:{click:function(c){return b!==k.element||c.target===k.element||a.elementInside(c.target,k.element.querySelector(".dz-message"))?k.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},a.prototype.destroy=function(){var b;return this.disable(),
this.removeAllFiles(!0),(null!=(b=this.hiddenFileInput)?b.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},a.prototype.updateTotalUploadProgress=function(){var b,a,c,d,e,f;if(c=0,a=0,b=this.getAcceptedFiles(),b.length){f=this.getAcceptedFiles();d=0;for(e=f.length;e>d;d++)b=f[d],c+=b.upload.bytesSent,a+=b.upload.total;b=100*c/a}else b=100;return this.emit("totaluploadprogress",b,a,c)},a.prototype.getFallbackForm=
function(){var b,c,d,e;return(b=this.getExistingFallback())?b:(d='<div class="dz-fallback">',this.options.dictFallbackText&&(d+="<p>"+this.options.dictFallbackText+"</p>"),d+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',c=a.createElement(d),"FORM"!==this.element.tagName?(e=a.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+
this.options.method+'"></form>'),e.appendChild(c)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:c)},a.prototype.getExistingFallback=function(){var b,a,c,d,e,f;a=function(b){var a,c,d;c=0;for(d=b.length;d>c;c++)if(a=b[c],/(^| )fallback($| )/.test(a.className))return a};f=["div","form"];d=0;for(e=f.length;e>d;d++)if(c=f[d],b=a(this.element.getElementsByTagName(c)))return b},a.prototype.setupEventListeners=function(){var b,
a,c,d,e,f,h;f=this.listeners;h=[];d=0;for(e=f.length;e>d;d++)b=f[d],h.push(function(){var d,e;d=b.events;e=[];for(a in d)c=d[a],e.push(b.element.addEventListener(a,c,!1));return e}());return h},a.prototype.removeEventListeners=function(){var b,a,c,d,e,f,h;f=this.listeners;h=[];d=0;for(e=f.length;e>d;d++)b=f[d],h.push(function(){var d,e;d=b.events;e=[];for(a in d)c=d[a],e.push(b.element.removeEventListener(a,c,!1));return e}());return h},a.prototype.disable=function(){var b,a,c,d,e;this.clickableElements.forEach(function(b){return b.classList.remove("dz-clickable")});
this.removeEventListeners();d=this.files;e=[];a=0;for(c=d.length;c>a;a++)b=d[a],e.push(this.cancelUpload(b));return e},a.prototype.enable=function(){return this.clickableElements.forEach(function(b){return b.classList.add("dz-clickable")}),this.setupEventListeners()},a.prototype.filesize=function(b){var a;return 1E11<=b?(b/=1E11,a="TB"):1E8<=b?(b/=1E8,a="GB"):1E5<=b?(b/=1E5,a="MB"):100<=b?(b/=100,a="KB"):(b*=10,a="b"),"<strong>"+Math.round(b)/10+"</strong> "+a},a.prototype._updateMaxFilesReachedClass=
function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},a.prototype.drop=function(b){var a,c;b.dataTransfer&&(this.emit("drop",b),a=b.dataTransfer.files,this.emit("selectedfiles",a),a.length&&(c=b.dataTransfer.items,c&&c.length&&(null!=c[0].webkitGetAsEntry||null!=c[0].getAsEntry)?this.handleItems(c):this.handleFiles(a)))},a.prototype.handleFiles=function(b){var a,
c,d,e;e=[];c=0;for(d=b.length;d>c;c++)a=b[c],e.push(this.addFile(a));return e},a.prototype.handleItems=function(b){var a,c,d,e;d=0;for(e=b.length;e>d;d++)c=b[d],null!=c.webkitGetAsEntry?(a=c.webkitGetAsEntry(),a.isFile?this.addFile(c.getAsFile()):a.isDirectory&&this.addDirectory(a,a.name)):this.addFile(c.getAsFile())},a.prototype.accept=function(b,c){return b.size>1048576*this.options.maxFilesize?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(b.size/1024/10.24)/100).replace("{{maxFilesize}}",
this.options.maxFilesize)):a.isValidFile(b,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",b)):this.options.accept.call(this,b,c):c(this.options.dictInvalidFileType)},a.prototype.addFile=function(b){var c=this;return b.upload={progress:0,total:b.size,bytesSent:0},this.files.push(b),b.status=a.ADDED,this.emit("addedfile",b),this.options.createImageThumbnails&&
b.type.match(/image.*/)&&b.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(b),this.accept(b,function(a){return a?(b.accepted=!1,c._errorProcessing([b],a)):c.enqueueFile(b)})},a.prototype.enqueueFiles=function(b){var a,c,d;c=0;for(d=b.length;d>c;c++)a=b[c],this.enqueueFile(a);return null},a.prototype.enqueueFile=function(b){var c=this;if(b.accepted=!0,b.status!==a.ADDED)throw Error("This file can't be queued because it has already been processed or was rejected.");return b.status=
a.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return c.processQueue()},1):void 0},a.prototype.addDirectory=function(b,a){var c,d,e=this;return c=b.createReader(),d=function(c){var d,f;d=0;for(f=c.length;f>d;d++)b=c[d],b.isFile?b.file(function(b){return e.options.ignoreHiddenFiles&&"."===b.name.substring(0,1)?void 0:(b.fullPath=""+a+"/"+b.name,e.addFile(b))}):b.isDirectory&&e.addDirectory(b,""+a+"/"+b.name)},c.readEntries(d,function(b){return"undefined"!=typeof console&&null!==console?
"function"==typeof console.log?console.log(b):void 0:void 0})},a.prototype.removeFile=function(b){return b.status===a.UPLOADING&&this.cancelUpload(b),this.files=k(this.files,b),this.emit("removedfile",b),0===this.files.length?this.emit("reset"):void 0},a.prototype.removeAllFiles=function(b){var c,d,e,f;null==b&&(b=!1);f=this.files.slice();d=0;for(e=f.length;e>d;d++)c=f[d],(c.status!==a.UPLOADING||b)&&this.removeFile(c);return null},a.prototype.createThumbnail=function(b){var a,c=this;return a=new FileReader,
a.onload=function(){var d;return d=new Image,d.onload=function(){var a,e,f,h,k,g,l,p;return b.width=d.width,b.height=d.height,f=c.options.resize.call(c,b),null==f.trgWidth&&(f.trgWidth=c.options.thumbnailWidth),null==f.trgHeight&&(f.trgHeight=c.options.thumbnailHeight),a=document.createElement("canvas"),e=a.getContext("2d"),a.width=f.trgWidth,a.height=f.trgHeight,e.drawImage(d,null!=(k=f.srcX)?k:0,null!=(g=f.srcY)?g:0,f.srcWidth,f.srcHeight,null!=(l=f.trgX)?l:0,null!=(p=f.trgY)?p:0,f.trgWidth,f.trgHeight),
h=a.toDataURL("image/png"),c.emit("thumbnail",b,h)},d.src=a.result},a.readAsDataURL(b)},a.prototype.processQueue=function(){var b,a,c,d;if(a=this.options.parallelUploads,c=this.getUploadingFiles().length,b=c,!(c>=a)&&(d=this.getQueuedFiles(),0<d.length)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,a-c));for(;a>b&&d.length;)this.processFile(d.shift()),b++}},a.prototype.processFile=function(b){return this.processFiles([b])},a.prototype.processFiles=function(b){var c,d,e;d=0;for(e=
b.length;e>d;d++)c=b[d],c.processing=!0,c.status=a.UPLOADING,this.emit("processing",c);return this.options.uploadMultiple&&this.emit("processingmultiple",b),this.uploadFiles(b)},a.prototype._getFilesWithXhr=function(b){var a,c,d,e,f;e=this.files;f=[];c=0;for(d=e.length;d>c;c++)a=e[c],a.xhr===b&&f.push(a);return f},a.prototype.cancelUpload=function(b){var c,d,e,f;if(b.status===a.UPLOADING){d=this._getFilesWithXhr(b.xhr);e=0;for(f=d.length;f>e;e++)c=d[e],c.status=a.CANCELED;b.xhr.abort();b=0;for(e=
d.length;e>b;b++)c=d[b],this.emit("canceled",c);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else((c=b.status)===a.ADDED||c===a.QUEUED)&&(b.status=a.CANCELED,this.emit("canceled",b),this.options.uploadMultiple&&this.emit("canceledmultiple",[b]));return this.options.autoProcessQueue?this.processQueue():void 0},a.prototype.uploadFile=function(b){return this.uploadFiles([b])},a.prototype.uploadFiles=function(b){var d,e,f,h,k,g,l,p,n,r,z,G,F,M=this;n=new XMLHttpRequest;h=0;for(k=b.length;k>
h;h++)d=b[h],d.xhr=n;n.open(this.options.method,this.options.url,!0);n.withCredentials=!!this.options.withCredentials;l=null;f=function(){var a,c,e;e=[];a=0;for(c=b.length;c>a;a++)d=b[a],e.push(M._errorProcessing(b,l||M.options.dictResponseError.replace("{{statusCode}}",n.status),n));return e};p=function(a){var c,e,f;if(null!=a){c=100*a.loaded/a.total;e=0;for(f=b.length;f>e;e++)d=b[e],d.upload={progress:c,total:a.total,bytesSent:a.loaded}}else{a=!0;c=100;e=0;for(f=b.length;f>e;e++)d=b[e],(100!==d.upload.progress||
d.upload.bytesSent!==d.upload.total)&&(a=!1),d.upload.progress=c,d.upload.bytesSent=d.upload.total;if(a)return}f=[];a=0;for(e=b.length;e>a;a++)d=b[a],f.push(M.emit("uploadprogress",d,c,d.upload.bytesSent));return f};n.onload=function(c){var d;if(b[0].status!==a.CANCELED&&4===n.readyState){if(l=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json"))try{l=JSON.parse(l)}catch(e){c=e,l="Invalid JSON response from server."}return p(),200<=(d=
n.status)&&300>d?M._finished(b,l,c):f()}};n.onerror=function(){return b[0].status!==a.CANCELED?f():void 0};(null!=(r=n.upload)?r:n).onprogress=p;k={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&c(k,this.options.headers);for(e in k)h=k[e],n.setRequestHeader(e,h);if(e=new FormData,this.options.params)for(g in k=this.options.params,k)h=k[g],e.append(g,h);g=0;for(h=b.length;h>g;g++)d=b[g],this.emit("sending",d,n,e);if(this.options.uploadMultiple&&
this.emit("sendingmultiple",b,n,e),"FORM"===this.element.tagName){F=this.element.querySelectorAll("input, textarea, select, button");r=0;for(G=F.length;G>r;r++)g=F[r],h=g.getAttribute("name"),k=g.getAttribute("type"),(!k||"checkbox"!==(z=k.toLowerCase())&&"radio"!==z||g.checked)&&e.append(h,g.value)}z=0;for(g=b.length;g>z;z++)d=b[z],e.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),d,d.name);return n.send(e)},a.prototype._finished=function(b,c,d){var e,f,h;f=0;for(h=b.length;h>
f;f++)e=b[f],e.status=a.SUCCESS,this.emit("success",e,c,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("successmultiple",b,c,d),this.emit("completemultiple",b)),this.options.autoProcessQueue?this.processQueue():void 0},a.prototype._errorProcessing=function(b,c,d){var e,f,h;f=0;for(h=b.length;h>f;f++)e=b[f],e.status=a.ERROR,this.emit("error",e,c,d),this.emit("complete",e);return this.options.uploadMultiple&&(this.emit("errormultiple",b,c,d),this.emit("completemultiple",b)),
this.options.autoProcessQueue?this.processQueue():void 0},a}(e);c.version="3.7.4-dev";c.options={};c.optionsForElement=function(a){return a.id?c.options[b(a.id)]:void 0};c.instances=[];c.forElement=function(b){if("string"==typeof b&&(b=document.querySelector(b)),null==(null!=b?b.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");
return b.dropzone};c.autoDiscover=!0;c.discover=function(){var b,a,e,f,h;document.querySelectorAll?a=document.querySelectorAll(".dropzone"):(a=[],b=function(b){var c,d,e,f;f=[];d=0;for(e=b.length;e>d;d++)c=b[d],/(^| )dropzone($| )/.test(c.className)?f.push(a.push(c)):f.push(void 0);return f},b(document.getElementsByTagName("div")),b(document.getElementsByTagName("form")));h=[];e=0;for(f=a.length;f>e;e++)b=a[e],!1!==c.optionsForElement(b)?h.push(new c(b)):h.push(void 0);return h};c.blacklistedBrowsers=
[/opera.*Macintosh.*version\/12/i];c.isBrowserSupported=function(){var b,a,e,f,h;if(b=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){h=c.blacklistedBrowsers;e=0;for(f=h.length;f>e;e++)a=h[e],a.test(navigator.userAgent)&&(b=!1)}else b=!1;else b=!1;return b};k=function(b,a){var c,d,e,f;f=[];d=0;for(e=b.length;e>d;d++)c=b[d],c!==a&&f.push(c);return f};b=function(b){return b.replace(/[\-_](\w)/g,function(b){return b[1].toUpperCase()})};
c.createElement=function(b){var a;return a=document.createElement("div"),a.innerHTML=b,a.childNodes[0]};c.elementInside=function(b,a){if(b===a)return!0;for(;b=b.parentNode;)if(b===a)return!0;return!1};c.getElement=function(b,a){var c;if("string"==typeof b?c=document.querySelector(b):null!=b.nodeType&&(c=b),null==c)throw Error("Invalid `"+a+"` option provided. Please provide a CSS selector or a plain HTML element.");return c};c.getElements=function(b,a){var c,d,e,f,h;if(b instanceof Array){d=[];try{e=
0;for(f=b.length;f>e;e++)c=b[e],d.push(this.getElement(c,a))}catch(k){d=null}}else if("string"==typeof b){d=[];h=document.querySelectorAll(b);e=0;for(f=h.length;f>e;e++)c=h[e],d.push(c)}else null!=b.nodeType&&(d=[b]);if(null==d||!d.length)throw Error("Invalid `"+a+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return d};c.confirm=function(b,a,c){return window.confirm(b)?a():null!=c?c():void 0};c.isValidFile=function(b,a){var c,d,e,f,h;if(!a)return!0;
a=a.split(",");d=b.type;c=d.replace(/\/.*$/,"");f=0;for(h=a.length;h>f;f++)if(e=a[f],e=e.trim(),"."===e.charAt(0)){if(-1!==b.name.toLowerCase().indexOf(e.toLowerCase(),b.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(c===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1};"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(b){return this.each(function(){return new c(this,b)})});"undefined"!=typeof a&&null!==a?a.exports=c:window.Dropzone=c;c.ADDED="added";
c.QUEUED="queued";c.ACCEPTED=c.QUEUED;c.UPLOADING="uploading";c.PROCESSING=c.UPLOADING;c.CANCELED="canceled";c.ERROR="error";c.SUCCESS="success";c._autoDiscoverFunction=function(){return c.autoDiscover?c.discover():void 0};(function(b,a){var c,d,e,f,h,k,g,l,p;if(e=!1,p=!0,d=b.document,l=d.documentElement,c=d.addEventListener?"addEventListener":"attachEvent",g=d.addEventListener?"removeEventListener":"detachEvent",k=d.addEventListener?"":"on",f=function(c){return"readystatechange"!==c.type||"complete"===
d.readyState?(("load"===c.type?b:d)[g](k+c.type,f,!1),!e&&(e=!0)?a.call(b,c.type||c):void 0):void 0},h=function(){try{l.doScroll("left")}catch(b){return setTimeout(h,50),void 0}return f("poll")},"complete"!==d.readyState){if(d.createEventObject&&l.doScroll){try{p=!b.frameElement}catch(n){}p&&h()}return d[c](k+"DOMContentLoaded",f,!1),d[c](k+"readystatechange",f,!1),b[c](k+"load",f,!1)}})(window,c._autoDiscoverFunction)}).call(this)});c.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");
c.alias("component-emitter/index.js","emitter/index.js");"object"==typeof exports?module.exports=c("dropzone"):"function"==typeof define&&define.amd?define(function(){return c("dropzone")}):this.Dropzone=c("dropzone")}();
(function(){function c(){}function g(a,c){for(var b=a.length;b--;)if(a[b].listener===c)return b;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var a=c.prototype;a.getListeners=function(a){var c,b,f=this._getEvents();if("object"==typeof a)for(b in c={},f)f.hasOwnProperty(b)&&a.test(b)&&(c[b]=f[b]);else c=f[a]||(f[a]=[]);return c};a.flattenListeners=function(a){var c,b=[];for(c=0;a.length>c;c+=1)b.push(a[c].listener);return b};a.getListenersAsObject=function(a){var c,
b=this.getListeners(a);return b instanceof Array&&(c={},c[a]=b),c||b};a.addListener=function(a,c){var b,f=this.getListenersAsObject(a),k="object"==typeof c;for(b in f)f.hasOwnProperty(b)&&-1===g(f[b],c)&&f[b].push(k?c:{listener:c,once:!1});return this};a.on=f("addListener");a.addOnceListener=function(a,c){return this.addListener(a,{listener:c,once:!0})};a.once=f("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var c=0;a.length>c;c+=1)this.defineEvent(a[c]);
return this};a.removeListener=function(a,c){var b,f,k=this.getListenersAsObject(a);for(f in k)k.hasOwnProperty(f)&&(b=g(k[f],c),-1!==b&&k[f].splice(b,1));return this};a.off=f("removeListener");a.addListeners=function(a,c){return this.manipulateListeners(!1,a,c)};a.removeListeners=function(a,c){return this.manipulateListeners(!0,a,c)};a.manipulateListeners=function(a,c,b){var f,k,g=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof
RegExp)for(f=b.length;f--;)g.call(this,c,b[f]);else for(f in c)c.hasOwnProperty(f)&&(k=c[f])&&("function"==typeof k?g.call(this,f,k):a.call(this,f,k));return this};a.removeEvent=function(a){var c,b=typeof a,f=this._getEvents();if("string"===b)delete f[a];else if("object"===b)for(c in f)f.hasOwnProperty(c)&&a.test(c)&&delete f[c];else delete this._events;return this};a.removeAllListeners=f("removeEvent");a.emitEvent=function(a,c){var b,f,k,g,p=this.getListenersAsObject(a);for(k in p)if(p.hasOwnProperty(k))for(f=
p[k].length;f--;)b=p[k][f],!0===b.once&&this.removeListener(a,b.listener),g=b.listener.apply(this,c||[]),g===this._getOnceReturnValue()&&this.removeListener(a,b.listener);return this};a.trigger=f("emitEvent");a.emit=function(a){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,c)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof module&&module.exports?module.exports=c:this.EventEmitter=c}).call(this);
(function(c){var g=document.documentElement,f=function(){};g.addEventListener?f=function(a,c,b){a.addEventListener(c,b,!1)}:g.attachEvent&&(f=function(a,e,b){a[e+b]=b.handleEvent?function(){var a=c.event;a.target=a.target||a.srcElement;b.handleEvent.call(b,a)}:function(){var e=c.event;e.target=e.target||e.srcElement;b.call(a,e)};a.attachEvent("on"+e,a[e+b])});var a=function(){};g.removeEventListener?a=function(a,c,b){a.removeEventListener(c,b,!1)}:g.detachEvent&&(a=function(a,c,b){a.detachEvent("on"+
c,a[c+b]);try{delete a[c+b]}catch(f){a[c+b]=void 0}});g={bind:f,unbind:a};"function"==typeof define&&define.amd?define(g):c.eventie=g})(this);
(function(c){function g(b,a){for(var c in a)b[c]=a[c];return b}function f(b){var a=[];if("[object Array]"===h.call(b))a=b;else if("number"==typeof b.length)for(var c=0,d=b.length;d>c;c++)a.push(b[c]);else a.push(b);return a}function a(a,c){function h(b,a,c){if(!(this instanceof h))return new h(b,a);"string"==typeof b&&(b=document.querySelectorAll(b));this.elements=f(b);this.options=g({},this.options);"function"==typeof a?c=a:g(this.options,a);c&&this.on("always",c);this.getImages();d&&(this.jqDeferred=
new d.Deferred);var e=this;setTimeout(function(){e.check()})}function n(b){this.img=b}h.prototype=new a;h.prototype.options={};h.prototype.getImages=function(){this.images=[];for(var b=0,a=this.elements.length;a>b;b++){var c=this.elements[b];"IMG"===c.nodeName&&this.addImage(c);for(var c=c.querySelectorAll("img"),d=0,e=c.length;e>d;d++)this.addImage(c[d])}};h.prototype.addImage=function(b){b=new n(b);this.images.push(b)};h.prototype.check=function(){function a(h,k){return c.options.debug&&b&&e.log("confirm",
h,k),c.progress(h),d++,d===f&&c.complete(),!0}var c=this,d=0,f=this.images.length;if(this.hasAnyBroken=!1,!f)return this.complete(),void 0;for(var h=0;f>h;h++){var k=this.images[h];k.on("confirm",a);k.check()}};h.prototype.progress=function(b){this.hasAnyBroken=this.hasAnyBroken||!b.isLoaded;var a=this;setTimeout(function(){a.emit("progress",a,b);a.jqDeferred&&a.jqDeferred.notify(a,b)})};h.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var a=this;setTimeout(function(){if(a.emit(b,
a),a.emit("always",a),a.jqDeferred)a.jqDeferred[a.hasAnyBroken?"reject":"resolve"](a)})};d&&(d.fn.imagesLoaded=function(b,a){return(new h(this,b,a)).jqDeferred.promise(d(this))});var r={};return n.prototype=new a,n.prototype.check=function(){var b=r[this.img.src];if(b)return this.useCached(b),void 0;if(r[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;b=this.proxyImage=new Image;c.bind(b,"load",this);c.bind(b,
"error",this);b.src=this.img.src},n.prototype.useCached=function(b){if(b.isConfirmed)this.confirm(b.isLoaded,"cached was confirmed");else{var a=this;b.on("confirm",function(b){return a.confirm(b.isLoaded,"cache emitted confirmed"),!0})}},n.prototype.confirm=function(b,a){this.isConfirmed=!0;this.isLoaded=b;this.emit("confirm",this,a)},n.prototype.handleEvent=function(b){var a="on"+b.type;this[a]&&this[a](b)},n.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},n.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},n.prototype.unbindProxyEvents=function(){c.unbind(this.proxyImage,"load",this);c.unbind(this.proxyImage,"error",this)},h}var d=c.jQuery,e=c.console,b=void 0!==e,h=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],a):c.imagesLoaded=a(c.EventEmitter,c.eventie)})(window);
(function(){Backbone.InfiniScroll=function(c,g){function f(c){c={};a.options.includePage&&(c.p=b+1);return c}g=g||{};var a={},d,e,b,h,k=0;h=c.length||25;a.collection=c;a.options=_.defaults(g,{success:function(){},error:function(){},onFetch:function(){},target:$(window),extraParams:{},pageSize:h,scrollOffset:100,remove:!1,strict:!1,includePage:!1});a.destroy=function(){d.off("scroll",a.watchScroll)};a.enableFetch=function(){e=!0};a.disableFetch=function(){e=!1};a.onFetch=function(){a.options.onFetch()};
a.fetchSuccess=function(c,d){a.options.strict&&c.length>=(b+1)*a.options.pageSize||!a.options.strict&&0<d.length?(a.enableFetch(),b+=1):a.disableFetch();a.options.success(c,d)};a.fetchError=function(b,c){a.enableFetch();a.options.error(b,c)};a.watchScroll=function(b){b=d.scrollTop()+d.height();var c=d.get(0).scrollHeight;c||(c=$(document).height());if(b>=c-a.options.scrollOffset&&e&&k<=b){c=a.collection.last();if(!c)return;a.onFetch();a.disableFetch();a.collection.fetch({success:a.fetchSuccess,error:a.fetchError,
remove:a.options.remove,data:$.extend(f(c),a.options.extraParams)})}k=b};d=$(a.options.target);e=!0;b=1;d.on("scroll",a.watchScroll);return a}})();
(function(c,g){function f(b,d){var e,f,g,n=b.nodeName.toLowerCase();return"area"===n?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=c("img[usemap=#"+f+"]")[0],!!g&&a(g)):!1):(/input|select|textarea|button|object/.test(n)?!b.disabled:"a"===n?b.href||d:d)&&a(b)}function a(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var d=0,e=/^ui-id-\d+$/;c.ui=c.ui||{};c.extend(c.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:function(b){return function(a,d){return"number"==typeof a?this.each(function(){var b=this;setTimeout(function(){c(b).focus();d&&d.call(b)},a)}):b.apply(this,arguments)}}(c.fn.focus),scrollParent:function(){var b;return b=c.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?c(document):b},zIndex:function(b){if(b!==g)return this.css("zIndex",b);if(this.length){var a,
d;for(b=c(this[0]);b.length&&b[0]!==document;){if(a=b.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d))return d;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(a){return!!c.data(a,b)}}):
function(b,a,d){return!!c.data(b,d[3])},focusable:function(b){return f(b,!isNaN(c.attr(b,"tabindex")))},tabbable:function(b){var a=c.attr(b,"tabindex"),d=isNaN(a);return(d||0<=a)&&f(b,!d)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(b,a){function d(b,a,f,h){return c.each(e,function(){a-=parseFloat(c.css(b,"padding"+this))||0;f&&(a-=parseFloat(c.css(b,"border"+this+"Width"))||0);h&&(a-=parseFloat(c.css(b,"margin"+this))||0)}),a}var e="Width"===a?["Left","Right"]:["Top","Bottom"],
f=a.toLowerCase(),n={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+a]=function(b){return b===g?n["inner"+a].call(this):this.each(function(){c(this).css(f,d(this,b)+"px")})};c.fn["outer"+a]=function(b,e){return"number"!=typeof b?n["outer"+a].call(this,b):this.each(function(){c(this).css(f,d(this,b,!0,e)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});
c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(a){return arguments.length?b.call(this,c.camelCase(a)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart"in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
c.extend(c.ui,{plugin:{add:function(b,a,d){var e;b=c.ui[b].prototype;for(e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([a,d[e]])},call:function(b,a,c){var d=b.plugins[a];if(d&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(a=0;d.length>a;a++)b.options[d[a][0]]&&d[a][1].apply(b.element,c)}},hasScroll:function(b,a){if("hidden"===c(b).css("overflow"))return!1;var d=a&&"left"===a?"scrollLeft":"scrollTop";return 0<b[d]?!0:(b[d]=1,b[d]=0,!1)}})})(jQuery);
(function(c,g){var f=0,a=Array.prototype.slice,d=c.cleanData;c.cleanData=function(a){for(var b,f=0;null!=(b=a[f]);f++)try{c(b).triggerHandler("remove")}catch(k){}d(a)};c.widget=function(a,b,d){var f,l,p,n,r={},m=a.split(".")[0];a=a.split(".")[1];f=m+"-"+a;d||(d=b,b=c.Widget);c.expr[":"][f.toLowerCase()]=function(b){return!!c.data(b,f)};c[m]=c[m]||{};l=c[m][a];p=c[m][a]=function(b,a){return this._createWidget?(arguments.length&&this._createWidget(b,a),g):new p(b,a)};c.extend(p,l,{version:d.version,
_proto:c.extend({},d),_childConstructors:[]});n=new b;n.options=c.widget.extend({},n.options);c.each(d,function(a,d){return c.isFunction(d)?(r[a]=function(){var c=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var b,a=this._super,f=this._superApply;return this._super=c,this._superApply=e,b=d.apply(this,arguments),this._super=a,this._superApply=f,b}}(),g):(r[a]=d,g)});p.prototype=c.widget.extend(n,{widgetEventPrefix:l?n.widgetEventPrefix:
a},r,{constructor:p,namespace:m,widgetName:a,widgetFullName:f});l?(c.each(l._childConstructors,function(b,a){var d=a.prototype;c.widget(d.namespace+"."+d.widgetName,p,a._proto)}),delete l._childConstructors):b._childConstructors.push(p);c.widget.bridge(a,p)};c.widget.extend=function(d){for(var b,f,k=a.call(arguments,1),l=0,p=k.length;p>l;l++)for(b in k[l])f=k[l][b],k[l].hasOwnProperty(b)&&f!==g&&(d[b]=c.isPlainObject(f)?c.isPlainObject(d[b])?c.widget.extend({},d[b],f):c.widget.extend({},f):f);return d};
c.widget.bridge=function(d,b){var f=b.prototype.widgetFullName||d;c.fn[d]=function(k){var l="string"==typeof k,p=a.call(arguments,1),n=this;return k=!l&&p.length?c.widget.extend.apply(null,[k].concat(p)):k,l?this.each(function(){var b,a=c.data(this,f);return a?c.isFunction(a[k])&&"_"!==k.charAt(0)?(b=a[k].apply(a,p),b!==a&&b!==g?(n=b&&b.jquery?n.pushStack(b.get()):b,!1):g):c.error("no such method '"+k+"' for "+d+" widget instance"):c.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+
k+"'")}):this.each(function(){var a=c.data(this,f);a?a.option(k||{})._init():c.data(this,f,new b(k,this))}),n}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,b){b=c(b||this.defaultElement||this)[0];this.element=c(b);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},this.options,this._getCreateOptions(),a);
this.bindings=c();this.hoverable=c();this.focusable=c();b!==this&&(c.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=c(b.style?b.ownerDocument:b.document||b),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(a,b){var d,f,l,p=a;
if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof a)if(p={},d=a.split("."),a=d.shift(),d.length){f=p[a]=c.widget.extend({},this.options[a]);for(l=0;d.length-1>l;l++)f[d[l]]=f[d[l]]||{},f=f[d[l]];if(a=d.pop(),b===g)return f[a]===g?null:f[a];f[a]=b}else{if(b===g)return this.options[a]===g?null:this.options[a];p[a]=b}return this._setOptions(p),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=
b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b,d){var f,l=this;"boolean"!=typeof a&&(d=b,b=a,a=!1);d?(b=f=c(b),this.bindings=this.bindings.add(b)):(d=b,b=this.element,f=this.widget());c.each(d,function(d,
h){function r(){return a||!0!==l.options.disabled&&!c(this).hasClass("ui-state-disabled")?("string"==typeof h?l[h]:h).apply(l,arguments):g}"string"!=typeof h&&(r.guid=h.guid=h.guid||r.guid||c.guid++);var m=d.match(/^(\w+)\s*(.*)$/),v=m[1]+l.eventNamespace;(m=m[2])?f.delegate(m,v,r):b.bind(v,r)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==typeof a?
c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,d){var f,g=this.options[a];
if(d=d||{},b=c.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),b.target=this.element[0],a=b.originalEvent)for(f in a)f in b||(b[f]=a[f]);return this.element.trigger(b,d),!(c.isFunction(g)&&!1===g.apply(this.element[0],[b].concat(d))||b.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,b){c.Widget.prototype["_"+a]=function(d,f,g){"string"==typeof f&&(f={effect:f});var p,n=f?!0===f||"number"==typeof f?b:f.effect||b:a;f=f||{};"number"==typeof f&&
(f={duration:f});p=!c.isEmptyObject(f);f.complete=g;f.delay&&d.delay(f.delay);p&&c.effects&&c.effects.effect[n]?d[a](f):n!==a&&d[n]?d[n](f.duration,f.easing,g):d.queue(function(b){c(this)[a]();g&&g.call(d[0]);b()})}})})(jQuery);
(function(c){var g=!1;c(document).mouseup(function(){g=!1});c.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(a){return f._mouseDown(a)}).bind("click."+this.widgetName,function(a){return!0===c.data(a.target,f.widgetName+".preventClickEvent")?(c.removeData(a.target,f.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!g){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var a=this,d=1===f.which,e="string"==typeof this.options.cancel&&f.target.nodeName?c(f.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(f)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted)?(f.preventDefault(),!0):(!0===c.data(f.target,this.widgetName+".preventClickEvent")&&c.removeData(f.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return a._mouseMove(b)},this._mouseUpDelegate=function(b){return a._mouseUp(b)},
c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),f.preventDefault(),g=!0,!0)):!0}},_mouseMove:function(f){return c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!f.button?this._mouseUp(f):this._mouseStarted?(this._mouseDrag(f),f.preventDefault()):(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,f),this._mouseStarted?this._mouseDrag(f):this._mouseUp(f)),
!this._mouseStarted)},_mouseUp:function(f){return c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,f.target===this._mouseDownEvent.target&&c.data(f.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(f)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(c){c.widget("ui.draggable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(g){var f=this.options;return this.helper||f.disabled||0<c(g.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(g),this.handle?(c(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){c("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(g){var f=this.options;return this.helper=this._createHelper(g),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
c.ui.ddmanager&&(c.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,c.extend(this.offset,{click:{left:g.pageX-this.offset.left,top:g.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(g),this.originalPageX=g.pageX,this.originalPageY=g.pageY,f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt),this._setContainment(),!1===this._trigger("start",g)?(this._clear(),!1):(this._cacheHelperProportions(),c.ui.ddmanager&&!f.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,g),this._mouseDrag(g,!0),c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,g),!0)},_mouseDrag:function(g,
f){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(g),this.positionAbs=this._convertPositionTo("absolute"),!f){var a=this._uiHash();if(!1===this._trigger("drag",g,a))return this._mouseUp({}),!1;this.position=a.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c.ui.ddmanager&&
c.ui.ddmanager.drag(this,g),!1},_mouseStop:function(g){var f=this,a=!1;return c.ui.ddmanager&&!this.options.dropBehaviour&&(a=c.ui.ddmanager.drop(this,g)),this.dropped&&(a=this.dropped,this.dropped=!1),"original"!==this.options.helper||c.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||!0===this.options.revert||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?c(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",g)&&f._clear()}):!1!==this._trigger("stop",g)&&this._clear(),!1):!1},_mouseUp:function(g){return c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,g),c.ui.mouse.prototype._mouseUp.call(this,g)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(g){return this.options.handle?
!!c(g.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(g){var f=this.options;g=c.isFunction(f.helper)?c(f.helper.apply(this.element[0],[g])):"clone"===f.helper?this.element.clone().removeAttr("id"):this.element;return g.parents("body").length||g.appendTo("parent"===f.appendTo?this.element[0].parentNode:f.appendTo),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_adjustOffsetFromHelper:function(g){"string"==
typeof g&&(g=g.split(" "));c.isArray(g)&&(g={left:+g[0],top:+g[1]||0});"left"in g&&(this.offset.click.left=g.left+this.margins.left);"right"in g&&(this.offset.click.left=this.helperProportions.width-g.right+this.margins.left);"top"in g&&(this.offset.click.top=g.top+this.margins.top);"bottom"in g&&(this.offset.click.top=this.helperProportions.height-g.bottom+this.margins.top)},_getParentOffset:function(){var g=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
c.contains(this.scrollParent[0],this.offsetParent[0])&&(g.left+=this.scrollParent.scrollLeft(),g.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)&&(g={top:0,left:0}),{top:g.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:g.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.element.position();
return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,f,a,d=this.options;return d.containment?"window"===d.containment?(this.containment=[c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,c(window).scrollLeft()+c(window).width()-this.helperProportions.width-this.margins.left,c(window).scrollTop()+(c(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===d.containment?(this.containment=[0,0,c(document).width()-this.helperProportions.width-this.margins.left,(c(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment.constructor===Array?(this.containment=d.containment,void 0):("parent"===d.containment&&(d.containment=this.helper[0].parentNode),f=c(d.containment),a=f[0],a&&(g="hidden"!==f.css("overflow"),this.containment=[(parseInt(f.css("borderLeftWidth"),
10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(g?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=f),void 0):(this.containment=null,void 0)},_convertPositionTo:function(g,f){f||(f=this.position);var a="absolute"===g?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:d.scrollTop(),left:d.scrollLeft()}),{top:f.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*a,left:f.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*a}},_generatePosition:function(g){var f,a,d,e,b=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=g.pageX,l=g.pageY;return this.offset.scroll||(this.offset.scroll=
{top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(a=this.relative_container.offset(),f=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):f=this.containment,g.pageX-this.offset.click.left<f[0]&&(k=f[0]+this.offset.click.left),g.pageY-this.offset.click.top<f[1]&&(l=f[1]+this.offset.click.top),g.pageX-this.offset.click.left>f[2]&&(k=f[2]+this.offset.click.left),g.pageY-this.offset.click.top>
f[3]&&(l=f[3]+this.offset.click.top)),b.grid&&(d=b.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY,l=f?d-this.offset.click.top>=f[1]||d-this.offset.click.top>f[3]?d:d-this.offset.click.top>=f[1]?d-b.grid[1]:d+b.grid[1]:d,e=b.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX,k=f?e-this.offset.click.left>=f[0]||e-this.offset.click.left>f[2]?e:e-this.offset.click.left>=f[0]?e-b.grid[0]:e+b.grid[0]:
e)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(g,f,a){return a=a||this._uiHash(),c.ui.plugin.call(this,g,[f,a]),"drag"===g&&(this.positionAbs=this._convertPositionTo("absolute")),c.Widget.prototype._trigger.call(this,g,f,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.ui.plugin.add("draggable","connectToSortable",{start:function(g,f){var a=c(this).data("ui-draggable"),d=a.options,e=c.extend({},f,{item:a.element});a.sortables=
[];c(d.connectToSortable).each(function(){var b=c.data(this,"ui-sortable");b&&!b.options.disabled&&(a.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",g,e))})},stop:function(g,f){var a=c(this).data("ui-draggable"),d=c.extend({},f,{item:a.element});c.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(g),this.instance.options.helper=this.instance.options._helper,"original"===a.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",g,d))})},drag:function(g,f){var a=c(this).data("ui-draggable"),d=this;c.each(a.sortables,function(){var e=!1,b=this;this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(e=!0,c.each(a.sortables,function(){return this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this!==b&&this.instance._intersectsWith(this.instance.containerCache)&&c.contains(b.instance.element[0],this.instance.element[0])&&(e=!1),e}));e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},g.target=this.instance.currentItem[0],this.instance._mouseCapture(g,!0),this.instance._mouseStart(g,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,a._trigger("toSortable",g),a.dropped=
this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(g)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",g,this.instance._uiHash(this.instance)),this.instance._mouseStop(g,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
a._trigger("fromSortable",g),a.dropped=!1)})}});c.ui.plugin.add("draggable","cursor",{start:function(){var g=c("body"),f=c(this).data("ui-draggable").options;g.css("cursor")&&(f._cursor=g.css("cursor"));g.css("cursor",f.cursor)},stop:function(){var g=c(this).data("ui-draggable").options;g._cursor&&c("body").css("cursor",g._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(g,f){var a=c(f.helper),d=c(this).data("ui-draggable").options;a.css("opacity")&&(d._opacity=a.css("opacity"));a.css("opacity",
d.opacity)},stop:function(g,f){var a=c(this).data("ui-draggable").options;a._opacity&&c(f.helper).css("opacity",a._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(){var g=c(this).data("ui-draggable");g.scrollParent[0]!==document&&"HTML"!==g.scrollParent[0].tagName&&(g.overflowOffset=g.scrollParent.offset())},drag:function(g){var f=c(this).data("ui-draggable"),a=f.options,d=!1;f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName?(a.axis&&"x"===a.axis||(f.overflowOffset.top+
f.scrollParent[0].offsetHeight-g.pageY<a.scrollSensitivity?f.scrollParent[0].scrollTop=d=f.scrollParent[0].scrollTop+a.scrollSpeed:g.pageY-f.overflowOffset.top<a.scrollSensitivity&&(f.scrollParent[0].scrollTop=d=f.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(f.overflowOffset.left+f.scrollParent[0].offsetWidth-g.pageX<a.scrollSensitivity?f.scrollParent[0].scrollLeft=d=f.scrollParent[0].scrollLeft+a.scrollSpeed:g.pageX-f.overflowOffset.left<a.scrollSensitivity&&(f.scrollParent[0].scrollLeft=
d=f.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(g.pageY-c(document).scrollTop()<a.scrollSensitivity?d=c(document).scrollTop(c(document).scrollTop()-a.scrollSpeed):c(window).height()-(g.pageY-c(document).scrollTop())<a.scrollSensitivity&&(d=c(document).scrollTop(c(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(g.pageX-c(document).scrollLeft()<a.scrollSensitivity?d=c(document).scrollLeft(c(document).scrollLeft()-a.scrollSpeed):c(window).width()-(g.pageX-c(document).scrollLeft())<
a.scrollSensitivity&&(d=c(document).scrollLeft(c(document).scrollLeft()+a.scrollSpeed))));!1!==d&&c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(f,g)}});c.ui.plugin.add("draggable","snap",{start:function(){var g=c(this).data("ui-draggable"),f=g.options;g.snapElements=[];c(f.snap.constructor!==String?f.snap.items||":data(ui-draggable)":f.snap).each(function(){var a=c(this),d=a.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),
top:d.top,left:d.left})})},drag:function(g,f){var a,d,e,b,h,k,l,p,n,r,m=c(this).data("ui-draggable"),v=m.options,q=v.snapTolerance,u=f.offset.left,w=u+m.helperProportions.width,A=f.offset.top,x=A+m.helperProportions.height;for(n=m.snapElements.length-1;0<=n;n--)h=m.snapElements[n].left,k=h+m.snapElements[n].width,l=m.snapElements[n].top,p=l+m.snapElements[n].height,h-q>w||u>k+q||l-q>x||A>p+q||!c.contains(m.snapElements[n].item.ownerDocument,m.snapElements[n].item)?(m.snapElements[n].snapping&&m.options.snap.release&&
m.options.snap.release.call(m.element,g,c.extend(m._uiHash(),{snapItem:m.snapElements[n].item})),m.snapElements[n].snapping=!1):("inner"!==v.snapMode&&(a=q>=Math.abs(l-x),d=q>=Math.abs(p-A),e=q>=Math.abs(h-w),b=q>=Math.abs(k-u),a&&(f.position.top=m._convertPositionTo("relative",{top:l-m.helperProportions.height,left:0}).top-m.margins.top),d&&(f.position.top=m._convertPositionTo("relative",{top:p,left:0}).top-m.margins.top),e&&(f.position.left=m._convertPositionTo("relative",{top:0,left:h-m.helperProportions.width}).left-
m.margins.left),b&&(f.position.left=m._convertPositionTo("relative",{top:0,left:k}).left-m.margins.left)),r=a||d||e||b,"outer"!==v.snapMode&&(a=q>=Math.abs(l-A),d=q>=Math.abs(p-x),e=q>=Math.abs(h-u),b=q>=Math.abs(k-w),a&&(f.position.top=m._convertPositionTo("relative",{top:l,left:0}).top-m.margins.top),d&&(f.position.top=m._convertPositionTo("relative",{top:p-m.helperProportions.height,left:0}).top-m.margins.top),e&&(f.position.left=m._convertPositionTo("relative",{top:0,left:h}).left-m.margins.left),
b&&(f.position.left=m._convertPositionTo("relative",{top:0,left:k-m.helperProportions.width}).left-m.margins.left)),!m.snapElements[n].snapping&&(a||d||e||b||r)&&m.options.snap.snap&&m.options.snap.snap.call(m.element,g,c.extend(m._uiHash(),{snapItem:m.snapElements[n].item})),m.snapElements[n].snapping=a||d||e||b||r)}});c.ui.plugin.add("draggable","stack",{start:function(){var g,f=this.data("ui-draggable").options,f=c.makeArray(c(f.stack)).sort(function(a,d){return(parseInt(c(a).css("zIndex"),10)||
0)-(parseInt(c(d).css("zIndex"),10)||0)});f.length&&(g=parseInt(c(f[0]).css("zIndex"),10)||0,c(f).each(function(a){c(this).css("zIndex",g+a)}),this.css("zIndex",g+f.length))}});c.ui.plugin.add("draggable","zIndex",{start:function(g,f){var a=c(f.helper),d=c(this).data("ui-draggable").options;a.css("zIndex")&&(d._zIndex=a.css("zIndex"));a.css("zIndex",d.zIndex)},stop:function(g,f){var a=c(this).data("ui-draggable").options;a._zIndex&&c(f.helper).css("zIndex",a._zIndex)}})})(jQuery);
(function(c){function g(a){return parseInt(a,10)||0}function f(a){return!isNaN(parseInt(a,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var a,d,e,b,f,k=this,g=this.options;if(this.element.addClass("ui-resizable"),
c.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=g.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");a=this.handles.split(",");this.handles={};for(d=0;a.length>d;d++)e=c.trim(a[d]),f="ui-resizable-"+e,b=c("<div class='ui-resizable-handle "+f+"'></div>"),b.css({zIndex:g.zIndex}),"se"===e&&b.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[e]=".ui-resizable-"+e,this.element.append(b)}this._renderAxis=function(b){var a,d,e,f;b=b||this.element;for(a in this.handles)this.handles[a].constructor===
String&&(this.handles[a]=c(this.handles[a],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=c(this.handles[a],this.element),f=/sw|ne|nw|se|n|s/.test(a)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),c(this.handles[a]).length};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){k.resizing||(this.className&&(b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=b&&b[1]?b[1]:"se")});g.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||(c(this).removeClass("ui-resizable-autohide"),k._handles.show())}).mouseleave(function(){g.disabled||k.resizing||(c(this).addClass("ui-resizable-autohide"),k._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var a,d=function(a){c(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),
this},_mouseCapture:function(a){var d,e,b=!1;for(d in this.handles)e=c(this.handles[d])[0],(e===a.target||c.contains(e,a.target))&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(a){var d,e,b,f=this.options,k=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:k.top,left:k.left}),this._renderProxy(),d=g(this.helper.css("left")),
e=g(this.helper.css("top")),f.containment&&(d+=c(f.containment).scrollLeft()||0,e+=c(f.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-
l.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1,b=c(".ui-resizable-"+this.axis).css("cursor"),c("body").css("cursor","auto"===b?this.axis+"-resize":b),l.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var d,e=this.helper,b={},f=this.originalMousePosition,g=this.position.top,l=this.position.left,p=this.size.width,n=this.size.height,
r=a.pageX-f.left||0,f=a.pageY-f.top||0,m=this._change[this.axis];return m?(d=m.apply(this,[a,r,f]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(d=this._updateRatio(d,a)),d=this._respectSize(d,a),this._updateCache(d),this._propagate("resize",a),this.position.top!==g&&(b.top=this.position.top+"px"),this.position.left!==l&&(b.left=this.position.left+"px"),this.size.width!==p&&(b.width=this.size.width+"px"),this.size.height!==n&&(b.height=this.size.height+"px"),e.css(b),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),c.isEmptyObject(b)||this._trigger("resize",a,this.ui()),!1):!1},_mouseStop:function(a){this.resizing=!1;var d,e,b,f,g,l,p,n=this.options;return this._helper&&(d=this._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),b=e&&c.ui.hasScroll(d[0],"left")?0:this.sizeDiff.height,f=e?0:this.sizeDiff.width,g={width:this.helper.width()-f,height:this.helper.height()-b},l=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,p=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,n.animate||this.element.css(c.extend(g,{top:p,left:l})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!n.animate&&this._proportionallyResize()),c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var c,
e,b,h,g;g=this.options;g={minWidth:f(g.minWidth)?g.minWidth:0,maxWidth:f(g.maxWidth)?g.maxWidth:1/0,minHeight:f(g.minHeight)?g.minHeight:0,maxHeight:f(g.maxHeight)?g.maxHeight:1/0};(this._aspectRatio||a)&&(c=g.minHeight*this.aspectRatio,b=g.minWidth/this.aspectRatio,e=g.maxHeight*this.aspectRatio,h=g.maxWidth/this.aspectRatio,c>g.minWidth&&(g.minWidth=c),b>g.minHeight&&(g.minHeight=b),g.maxWidth>e&&(g.maxWidth=e),g.maxHeight>h&&(g.maxHeight=h));this._vBoundaries=g},_updateCache:function(a){this.offset=
this.helper.offset();f(a.left)&&(this.position.left=a.left);f(a.top)&&(this.position.top=a.top);f(a.height)&&(this.size.height=a.height);f(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var c=this.position,e=this.size,b=this.axis;return f(a.height)?a.width=a.height*this.aspectRatio:f(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===b&&(a.left=c.left+(e.width-a.width),a.top=null),"nw"===b&&(a.top=c.top+(e.height-a.height),a.left=c.left+(e.width-a.width)),a},_respectSize:function(a){var c=
this._vBoundaries,e=this.axis,b=f(a.width)&&c.maxWidth&&c.maxWidth<a.width,h=f(a.height)&&c.maxHeight&&c.maxHeight<a.height,g=f(a.width)&&c.minWidth&&c.minWidth>a.width,l=f(a.height)&&c.minHeight&&c.minHeight>a.height,p=this.originalPosition.left+this.originalSize.width,n=this.position.top+this.size.height,r=/sw|nw|w/.test(e),e=/nw|ne|n/.test(e);return g&&(a.width=c.minWidth),l&&(a.height=c.minHeight),b&&(a.width=c.maxWidth),h&&(a.height=c.maxHeight),g&&r&&(a.left=p-c.minWidth),b&&r&&(a.left=p-c.maxWidth),
l&&e&&(a.top=n-c.minHeight),h&&e&&(a.top=n-c.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,c,e,b,f,g=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(f=this._proportionallyResizeElements[a],!this.borderDif){this.borderDif=[];e=[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")];
b=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];for(c=0;e.length>c;c++)this.borderDif[c]=(parseInt(e[c],10)||0)+(parseInt(b[c],10)||0)}f.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,c,e){return{height:this.originalSize.height+
e}},se:function(a,d,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,d,e]))},sw:function(a,d,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,d,e]))},ne:function(a,d,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,d,e]))},nw:function(a,d,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,d,e]))}},_propagate:function(a,d){c.ui.plugin.call(this,a,[d,this.ui()]);
"resize"!==a&&this._trigger(a,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(a){var d=c(this).data("ui-resizable"),e=d.options,b=d._proportionallyResizeElements,f=b.length&&/textarea/i.test(b[0].nodeName),g=f&&c.ui.hasScroll(b[0],"left")?0:d.sizeDiff.height,f=
{width:d.size.width-(f?0:d.sizeDiff.width),height:d.size.height-g},g=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(c.extend(f,l&&g?{top:l,left:g}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),
10)};b&&b.length&&c(b[0]).css({width:e.width,height:e.height});d._updateCache(e);d._propagate("resize",a)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var a,d,e,b,f,k,l,p=c(this).data("ui-resizable"),n=p.element,r=p.options.containment;(n=r instanceof c?r.get(0):/parent/.test(r)?n.parent().get(0):r)&&(p.containerElement=c(n),/document/.test(r)||r===document?(p.containerOffset={left:0,top:0},p.containerPosition={left:0,top:0},p.parentData={element:c(document),left:0,top:0,width:c(document).width(),
height:c(document).height()||document.body.parentNode.scrollHeight}):(a=c(n),d=[],c(["Top","Right","Left","Bottom"]).each(function(b,c){d[b]=g(a.css("padding"+c))}),p.containerOffset=a.offset(),p.containerPosition=a.position(),p.containerSize={height:a.innerHeight()-d[3],width:a.innerWidth()-d[1]},e=p.containerOffset,b=p.containerSize.height,f=p.containerSize.width,k=c.ui.hasScroll(n,"left")?n.scrollWidth:f,l=c.ui.hasScroll(n)?n.scrollHeight:b,p.parentData={element:n,left:e.left,top:e.top,width:k,
height:l}))},resize:function(a){var d,e,b,f,g=c(this).data("ui-resizable");d=g.options;e=g.containerOffset;b=g.position;a=g._aspectRatio||a.shiftKey;f={top:0,left:0};var l=g.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(f=e);b.left<(g._helper?e.left:0)&&(g.size.width+=g._helper?g.position.left-e.left:g.position.left-f.left,a&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=d.helper?e.left:0);b.top<(g._helper?e.top:0)&&(g.size.height+=g._helper?g.position.top-e.top:
g.position.top,a&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?e.top:0);g.offset.left=g.parentData.left+g.position.left;g.offset.top=g.parentData.top+g.position.top;d=Math.abs(g.offset.left-f.left+g.sizeDiff.width);e=Math.abs((g._helper?g.offset.top-f.top:g.offset.top-e.top)+g.sizeDiff.height);b=g.containerElement.get(0)===g.element.parent().get(0);f=/relative|absolute/.test(g.containerElement.css("position"));b&&f&&(d-=g.parentData.left);d+g.size.width>=g.parentData.width&&
(g.size.width=g.parentData.width-d,a&&(g.size.height=g.size.width/g.aspectRatio));e+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-e,a&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var a=c(this).data("ui-resizable"),d=a.options,e=a.containerOffset,b=a.containerPosition,f=a.containerElement,g=c(a.helper),l=g.offset(),p=g.outerWidth()-a.sizeDiff.width,g=g.outerHeight()-a.sizeDiff.height;a._helper&&!d.animate&&/relative/.test(f.css("position"))&&c(this).css({left:l.left-
b.left-e.left,width:p,height:g});a._helper&&!d.animate&&/static/.test(f.css("position"))&&c(this).css({left:l.left-b.left-e.left,width:p,height:g})}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var a=c(this).data("ui-resizable").options,d=function(a){c(a).each(function(){var b=c(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?
d(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],d(a.alsoResize)):c.each(a.alsoResize,function(a){d(a)})},resize:function(a,d){var e=c(this).data("ui-resizable"),b=e.options,f=e.originalSize,g=e.originalPosition,l={height:e.size.height-f.height||0,width:e.size.width-f.width||0,top:e.position.top-g.top||0,left:e.position.left-g.left||0},p=function(b,a){c(b).each(function(){var b=c(this),e=c(this).data("ui-resizable-alsoresize"),f={},h=a&&a.length?a:b.parents(d.originalElement[0]).length?
["width","height"]:["width","height","top","left"];c.each(h,function(b,a){var c=(e[a]||0)+(l[a]||0);c&&0<=c&&(f[a]=c||null)});b.css(f)})};"object"!=typeof b.alsoResize||b.alsoResize.nodeType?p(b.alsoResize):c.each(b.alsoResize,function(b,a){p(b,a)})},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var a=c(this).data("ui-resizable"),d=a.options,e=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",
height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=c(this).data("ui-resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=c(this).data("ui-resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var a=c(this).data("ui-resizable"),
d=a.options,e=a.size,b=a.originalSize,f=a.originalPosition,g=a.axis,l="number"==typeof d.grid?[d.grid,d.grid]:d.grid,p=l[0]||1,n=l[1]||1,r=Math.round((e.width-b.width)/p)*p,e=Math.round((e.height-b.height)/n)*n,m=b.width+r,b=b.height+e,v=d.maxWidth&&m>d.maxWidth,q=d.maxHeight&&b>d.maxHeight,u=d.minWidth&&d.minWidth>m,w=d.minHeight&&d.minHeight>b;d.grid=l;u&&(m+=p);w&&(b+=n);v&&(m-=p);q&&(b-=n);/^(se|s|e)$/.test(g)?(a.size.width=m,a.size.height=b):/^(ne)$/.test(g)?(a.size.width=m,a.size.height=b,a.position.top=
f.top-e):/^(sw)$/.test(g)?(a.size.width=m,a.size.height=b,a.position.left=f.left-r):(a.size.width=m,a.size.height=b,a.position.top=f.top-e,a.position.left=f.left-r)}})})(jQuery);
(function(c,g){function f(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};c.extend(this._defaults,this.regional[""]);this.dpDiv=a(c("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){c(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&c(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){c.datepicker._isDisabledDatepicker(e.inline?b.parent()[0]:e.input[0])||(c(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&c(this).addClass("ui-datepicker-next-hover"))})}function d(b,a){c.extend(b,a);for(var d in a)null==a[d]&&(b[d]=a[d]);return b}c.extend(c.ui,{datepicker:{version:"1.10.3"}});var e;c.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(b){return d(this._defaults,b||{}),this},_attachDatepicker:function(b,
a){var d,e,f;d=b.nodeName.toLowerCase();e="div"===d||"span"===d;b.id||(this.uuid+=1,b.id="dp"+this.uuid);f=this._newInst(c(b),e);f.settings=c.extend({},a||{});"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,d){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?a(c("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,a){var d=c(b);a.append=c([]);a.trigger=c([]);d.hasClass(this.markerClassName)||(this._attachments(d,a),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),c.data(b,"datepicker",a),a.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,a){var d,e,f;d=this._get(a,"appendText");var g=this._get(a,"isRTL");a.append&&a.append.remove();d&&(a.append=c("<span class='"+this._appendClass+
"'>"+d+"</span>"),b[g?"before":"after"](a.append));b.unbind("focus",this._showDatepicker);a.trigger&&a.trigger.remove();d=this._get(a,"showOn");("focus"===d||"both"===d)&&b.focus(this._showDatepicker);("button"===d||"both"===d)&&(e=this._get(a,"buttonText"),f=this._get(a,"buttonImage"),a.trigger=c(this._get(a,"buttonImageOnly")?c("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):c("<button type='button'></button>").addClass(this._triggerClass).html(f?c("<img/>").attr({src:f,alt:e,
title:e}):e)),b[g?"before":"after"](a.trigger),a.trigger.click(function(){return c.datepicker._datepickerShowing&&c.datepicker._lastInput===b[0]?c.datepicker._hideDatepicker():c.datepicker._datepickerShowing&&c.datepicker._lastInput!==b[0]?(c.datepicker._hideDatepicker(),c.datepicker._showDatepicker(b[0])):c.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(b){if(this._get(b,"autoSize")&&!b.inline){var a,c,d,e,f=new Date(2009,11,20),g=this._get(b,"dateFormat");g.match(/[DM]/)&&(a=function(b){for(e=
d=c=0;b.length>e;e++)b[e].length>c&&(c=b[e].length,d=e);return d},f.setMonth(a(this._get(b,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(a(this._get(b,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay()));b.input.attr("size",this._formatDate(b,f).length)}},_inlineDatepicker:function(b,a){var d=c(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(a.dpDiv),c.data(b,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),
a.settings.disabled&&this._disableDatepicker(b),a.dpDiv.css("display","block"))},_dialogDatepicker:function(b,a,e,f,g){var n,r,m,v,q;b=this._dialogInst;return b||(this.uuid+=1,n="dp"+this.uuid,this._dialogInput=c("<input type='text' id='"+n+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),c("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},c.data(this._dialogInput[0],"datepicker",b)),d(b.settings,
f||{}),a=a&&a.constructor===Date?this._formatDate(b,a):a,this._dialogInput.val(a),this._pos=g?g.length?g:[g.pageX,g.pageY]:null,this._pos||(r=document.documentElement.clientWidth,m=document.documentElement.clientHeight,v=document.documentElement.scrollLeft||document.body.scrollLeft,q=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+v,m/2-150+q]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=e,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),c.blockUI&&c.blockUI(this.dpDiv),c.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var a,d=c(b),e=c.data(b,"datepicker");d.hasClass(this.markerClassName)&&(a=b.nodeName.toLowerCase(),c.removeData(b,"datepicker"),"input"===a?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===a||"span"===a)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var a,d,e=c(b),f=c.data(b,"datepicker");e.hasClass(this.markerClassName)&&(a=b.nodeName.toLowerCase(),"input"===a?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=c.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var a,d,e=c(b),f=c.data(b,"datepicker");e.hasClass(this.markerClassName)&&(a=b.nodeName.toLowerCase(),"input"===a?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=c.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;this._disabledInputs.length>a;a++)if(this._disabledInputs[a]===b)return!0;return!1},_getInst:function(b){try{return c.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,a,e){var f,p,n,r,m=this._getInst(b);return 2===arguments.length&&"string"==
typeof a?"defaults"===a?c.extend({},c.datepicker._defaults):m?"all"===a?c.extend({},m.settings):this._get(m,a):null:(f=a||{},"string"==typeof a&&(f={},f[a]=e),m&&(this._curInst===m&&this._hideDatepicker(),p=this._getDateDatepicker(b,!0),n=this._getMinMaxDate(m,"min"),r=this._getMinMaxDate(m,"max"),d(m.settings,f),null!==n&&f.dateFormat!==g&&f.minDate===g&&(m.settings.minDate=this._formatDate(m,n)),null!==r&&f.dateFormat!==g&&f.maxDate===g&&(m.settings.maxDate=this._formatDate(m,r)),"disabled"in f&&
(f.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(c(b),m),this._autoSize(m),this._setDate(m,p),this._updateAlternate(m),this._updateDatepicker(m)),g)},_changeDatepicker:function(b,a,c){this._optionDatepicker(b,a,c)},_refreshDatepicker:function(b){(b=this._getInst(b))&&this._updateDatepicker(b)},_setDateDatepicker:function(b,a){var c=this._getInst(b);c&&(this._setDate(c,a),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(b,a){var c=
this._getInst(b);return c&&!c.inline&&this._setDateFromField(c,a),c?this._getDate(c):null},_doKeyDown:function(b){var a,d,e,f=c.datepicker._getInst(b.target),g=!0,r=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,c.datepicker._datepickerShowing)switch(b.keyCode){case 9:c.datepicker._hideDatepicker();g=!1;break;case 13:return e=c("td."+c.datepicker._dayOverClass+":not(."+c.datepicker._currentClass+")",f.dpDiv),e[0]&&c.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),a=c.datepicker._get(f,
"onSelect"),a?(d=c.datepicker._formatDate(f),a.apply(f.input?f.input[0]:null,[d,f])):c.datepicker._hideDatepicker(),!1;case 27:c.datepicker._hideDatepicker();break;case 33:c.datepicker._adjustDate(b.target,b.ctrlKey?-c.datepicker._get(f,"stepBigMonths"):-c.datepicker._get(f,"stepMonths"),"M");break;case 34:c.datepicker._adjustDate(b.target,b.ctrlKey?+c.datepicker._get(f,"stepBigMonths"):+c.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&c.datepicker._clearDate(b.target);
g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&c.datepicker._gotoToday(b.target);g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&c.datepicker._adjustDate(b.target,r?1:-1,"D");g=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&c.datepicker._adjustDate(b.target,b.ctrlKey?-c.datepicker._get(f,"stepBigMonths"):-c.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&c.datepicker._adjustDate(b.target,-7,"D");g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
c.datepicker._adjustDate(b.target,r?-1:1,"D");g=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&c.datepicker._adjustDate(b.target,b.ctrlKey?+c.datepicker._get(f,"stepBigMonths"):+c.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&c.datepicker._adjustDate(b.target,7,"D");g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?c.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var a,d,e=c.datepicker._getInst(b.target);
return c.datepicker._get(e,"constrainInput")?(a=c.datepicker._possibleChars(c.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!a||-1<a.indexOf(d)):g},_doKeyUp:function(b){var a;b=c.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(a=c.datepicker.parseDate(c.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,c.datepicker._getFormatConfig(b)))&&(c.datepicker._setDateFromField(b),c.datepicker._updateAlternate(b),
c.datepicker._updateDatepicker(b))}catch(d){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=c("input",b.parentNode)[0]),!c.datepicker._isDisabledDatepicker(b)&&c.datepicker._lastInput!==b){var a,e,f,g,n,r;a=c.datepicker._getInst(b);c.datepicker._curInst&&c.datepicker._curInst!==a&&(c.datepicker._curInst.dpDiv.stop(!0,!0),a&&c.datepicker._datepickerShowing&&c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));e=(e=c.datepicker._get(a,"beforeShow"))?
e.apply(b,[b,a]):{};!1!==e&&(d(a.settings,e),a.lastVal=null,c.datepicker._lastInput=b,c.datepicker._setDateFromField(a),c.datepicker._inDialog&&(b.value=""),c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(b),c.datepicker._pos[1]+=b.offsetHeight),f=!1,c(b).parents().each(function(){return f|="fixed"===c(this).css("position"),!f}),g={left:c.datepicker._pos[0],top:c.datepicker._pos[1]},c.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
c.datepicker._updateDatepicker(a),g=c.datepicker._checkOffset(a,g,f),a.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":f?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),a.inline||(n=c.datepicker._get(a,"showAnim"),r=c.datepicker._get(a,"duration"),a.dpDiv.zIndex(c(b).zIndex()+1),c.datepicker._datepickerShowing=!0,c.effects&&c.effects.effect[n]?a.dpDiv.show(n,c.datepicker._get(a,"showOptions"),r):a.dpDiv[n||"show"](n?r:null),c.datepicker._shouldFocusInput(a)&&a.input.focus(),
c.datepicker._curInst=a))}},_updateDatepicker:function(b){this.maxRows=4;e=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,d=this._getNumberOfMonths(b),f=d[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===c.datepicker._curInst&&c.datepicker._datepickerShowing&&c.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(a=b.yearshtml,setTimeout(function(){a===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);a=b.yearshtml=null},0))},_shouldFocusInput:function(b){return b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&!b.input.is(":focus")},_checkOffset:function(b,a,d){var e=b.dpDiv.outerWidth(),
f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,r=b.input?b.input.outerHeight():0,m=document.documentElement.clientWidth+(d?0:c(document).scrollLeft()),v=document.documentElement.clientHeight+(d?0:c(document).scrollTop());return a.left-=this._get(b,"isRTL")?e-g:0,a.left-=d&&a.left===b.input.offset().left?c(document).scrollLeft():0,a.top-=d&&a.top===b.input.offset().top+r?c(document).scrollTop():0,a.left-=Math.min(a.left,a.left+e>m&&m>e?Math.abs(a.left+e-m):0),a.top-=Math.min(a.top,a.top+
f>v&&v>f?Math.abs(f+r):0),a},_findPos:function(b){for(var a,d=this._getInst(b),d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||c.expr.filters.hidden(b));)b=b[d?"previousSibling":"nextSibling"];return a=c(b).offset(),[a.left,a.top]},_hideDatepicker:function(b){var a,d,e,f,g=this._curInst;!g||b&&g!==c.data(b,"datepicker")||this._datepickerShowing&&(a=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){c.datepicker._tidyDialog(g)},c.effects&&(c.effects.effect[a]||c.effects[a])?
g.dpDiv.hide(a,c.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?d:null,e),a||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(b){b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(c.datepicker._curInst){b=c(b.target);var a=c.datepicker._getInst(b[0]);(b[0].id!==c.datepicker._mainDivId&&0===b.parents("#"+c.datepicker._mainDivId).length&&!b.hasClass(c.datepicker.markerClassName)&&!b.closest("."+c.datepicker._triggerClass).length&&c.datepicker._datepickerShowing&&(!c.datepicker._inDialog||!c.blockUI)||b.hasClass(c.datepicker.markerClassName)&&c.datepicker._curInst!==a)&&c.datepicker._hideDatepicker()}},_adjustDate:function(b,a,d){b=c(b);var e=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(e,a+("M"===d?this._get(e,"showCurrentAtPos"):0),d),this._updateDatepicker(e))},_gotoToday:function(b){var a;b=c(b);var d=this._getInst(b[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(a=new Date,d.selectedDay=a.getDate(),d.drawMonth=d.selectedMonth=a.getMonth(),d.drawYear=d.selectedYear=a.getFullYear());this._notifyChange(d);
this._adjustDate(b)},_selectMonthYear:function(b,a,d){b=c(b);var e=this._getInst(b[0]);e["selected"+("M"===d?"Month":"Year")]=e["draw"+("M"===d?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(b)},_selectDay:function(b,a,d,e){var f,g=c(b);c(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=c("a",e).html(),f.selectedMonth=f.currentMonth=a,f.selectedYear=f.currentYear=d,this._selectDate(b,
this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){b=c(b);this._selectDate(b,"")},_selectDate:function(b,a){var d;d=c(b);var e=this._getInst(d[0]);a=null!=a?a:this._formatDate(e);e.input&&e.input.val(a);this._updateAlternate(e);(d=this._get(e,"onSelect"))?d.apply(e.input?e.input[0]:null,[a,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var a,d,e,f=this._get(b,"altField");f&&(a=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(a,d,this._getFormatConfig(b)),c(f).each(function(){c(this).val(e)}))},noWeekends:function(b){b=b.getDay();return[0<b&&6>b,""]},iso8601Week:function(b){var a;b=new Date(b.getTime());return b.setDate(b.getDate()+4-(b.getDay()||7)),a=b.getTime(),b.setMonth(0),b.setDate(1),Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(b,a,
d){if(null==b||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var e,f,n,r,m=0,v=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,v="string"!=typeof v?v:(new Date).getFullYear()%100+parseInt(v,10),q=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,u=(d?d.dayNames:null)||this._defaults.dayNames,w=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort;d=(d?d.monthNames:null)||this._defaults.monthNames;var A=-1,x=-1,C=-1,D=-1,I=!1,E=function(a){a=
b.length>e+1&&b.charAt(e+1)===a;return a&&e++,a},H=function(b){var c=E(b);b=RegExp("^\\d{1,"+("@"===b?14:"!"===b?20:"y"===b&&c?4:"o"===b?3:2)+"}");b=a.substring(m).match(b);if(!b)throw"Missing number at position "+m;return m+=b[0].length,parseInt(b[0],10)},t=function(b,d,e){var f=-1;b=c.map(E(b)?e:d,function(b,a){return[[a,b]]}).sort(function(b,a){return-(b[1].length-a[1].length)});if(c.each(b,function(b,c){var d=c[1];return a.substr(m,d.length).toLowerCase()===d.toLowerCase()?(f=c[0],m+=d.length,
!1):g}),-1!==f)return f+1;throw"Unknown name at position "+m;},z=function(){if(a.charAt(m)!==b.charAt(e))throw"Unexpected literal at position "+m;m++};for(e=0;b.length>e;e++)if(I)"'"!==b.charAt(e)||E("'")?z():I=!1;else switch(b.charAt(e)){case "d":C=H("d");break;case "D":t("D",q,u);break;case "o":D=H("o");break;case "m":x=H("m");break;case "M":x=t("M",w,d);break;case "y":A=H("y");break;case "@":r=new Date(H("@"));A=r.getFullYear();x=r.getMonth()+1;C=r.getDate();break;case "!":r=new Date((H("!")-this._ticksTo1970)/
1E4);A=r.getFullYear();x=r.getMonth()+1;C=r.getDate();break;case "'":E("'")?z():I=!0;break;default:z()}if(a.length>m&&(n=a.substr(m),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===A?A=(new Date).getFullYear():100>A&&(A+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v>=A?0:-100)),-1<D){x=1;for(C=D;!(f=this._getDaysInMonth(A,x-1),f>=C);)x++,C-=f}if(r=this._daylightSavingAdjust(new Date(A,x-1,C)),r.getFullYear()!==A||r.getMonth()+1!==x||r.getDate()!==C)throw"Invalid date";
return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(b,a,c){if(!a)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;
c=(c?c.monthNames:null)||this._defaults.monthNames;var m=function(a){a=b.length>d+1&&b.charAt(d+1)===a;return a&&d++,a},v=function(b,a,c){a=""+a;if(m(b))for(;c>a.length;)a="0"+a;return a},q=function(b,a,c,d){return m(b)?d[a]:c[a]},u="",w=!1;if(a)for(d=0;b.length>d;d++)if(w)"'"!==b.charAt(d)||m("'")?u+=b.charAt(d):w=!1;else switch(b.charAt(d)){case "d":u+=v("d",a.getDate(),2);break;case "D":u+=q("D",a.getDay(),e,f);break;case "o":u+=v("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-
(new Date(a.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":u+=v("m",a.getMonth()+1,2);break;case "M":u+=q("M",a.getMonth(),g,c);break;case "y":u+=m("y")?a.getFullYear():(10>a.getYear()%100?"0":"")+a.getYear()%100;break;case "@":u+=a.getTime();break;case "!":u+=1E4*a.getTime()+this._ticksTo1970;break;case "'":m("'")?u+="'":w=!0;break;default:u+=b.charAt(d)}return u},_possibleChars:function(b){var a,c="",d=!1,e=function(c){c=b.length>a+1&&b.charAt(a+1)===c;return c&&a++,c};for(a=0;b.length>
a;a++)if(d)"'"!==b.charAt(a)||e("'")?c+=b.charAt(a):d=!1;else switch(b.charAt(a)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":e("'")?c+="'":d=!0;break;default:c+=b.charAt(a)}return c},_get:function(b,a){return b.settings[a]!==g?b.settings[a]:this._defaults[a]},_setDateFromField:function(b,a){if(b.input.val()!==b.lastVal){var c=this._get(b,"dateFormat"),d=b.lastVal=b.input?b.input.val():null,e=this._getDefaultDate(b),f=e,g=this._getFormatConfig(b);
try{f=this.parseDate(c,d,g)||e}catch(m){d=a?"":d}b.selectedDay=f.getDate();b.drawMonth=b.selectedMonth=f.getMonth();b.drawYear=b.selectedYear=f.getFullYear();b.currentDay=d?f.getDate():0;b.currentMonth=d?f.getMonth():0;b.currentYear=d?f.getFullYear():0;this._adjustInstDate(b)}},_getDefaultDate:function(b){return this._restrictMinMax(b,this._determineDate(b,this._get(b,"defaultDate"),new Date))},_determineDate:function(b,a,d){var e=function(b){var a=new Date;return a.setDate(a.getDate()+b),a},f=function(a){try{return c.datepicker.parseDate(c.datepicker._get(b,
"dateFormat"),a,c.datepicker._getFormatConfig(b))}catch(d){}for(var e=(a.toLowerCase().match(/^c/)?c.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),e=e.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=h.exec(a);k;){switch(k[2]||"d"){case "d":case "D":e+=parseInt(k[1],10);break;case "w":case "W":e+=7*parseInt(k[1],10);break;case "m":case "M":g+=parseInt(k[1],10);e=Math.min(e,c.datepicker._getDaysInMonth(f,g));break;case "y":case "Y":f+=parseInt(k[1],10),e=Math.min(e,c.datepicker._getDaysInMonth(f,
g))}k=h.exec(a)}return new Date(f,g,e)};a=null==a||""===a?d:"string"==typeof a?f(a):"number"==typeof a?isNaN(a)?d:e(a):new Date(a.getTime());return a=a&&"Invalid Date"==""+a?d:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(b){return b?(b.setHours(12<b.getHours()?b.getHours()+2:0),b):null},_setDate:function(b,a,c){var d=!a,e=b.selectedMonth,f=b.selectedYear;a=this._restrictMinMax(b,this._determineDate(b,a,new Date));
b.selectedDay=b.currentDay=a.getDate();b.drawMonth=b.selectedMonth=b.currentMonth=a.getMonth();b.drawYear=b.selectedYear=b.currentYear=a.getFullYear();e===b.selectedMonth&&f===b.selectedYear||c||this._notifyChange(b);this._adjustInstDate(b);b.input&&b.input.val(d?"":this._formatDate(b))},_getDate:function(b){return!b.currentYear||b.input&&""===b.input.val()?null:this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay))},_attachHandlers:function(b){var a=this._get(b,"stepMonths"),
d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){c(this).bind(this.getAttribute("data-event"),{prev:function(){c.datepicker._adjustDate(d,-a,"M")},next:function(){c.datepicker._adjustDate(d,+a,"M")},hide:function(){c.datepicker._hideDatepicker()},today:function(){c.datepicker._gotoToday(d)},selectDay:function(){return c.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return c.datepicker._selectMonthYear(d,
this,"M"),!1},selectYear:function(){return c.datepicker._selectMonthYear(d,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(b){var a,c,d,e,f,g,m,v,q,u,w,A,x,C,D,I,E,H,t,z,G,F,M,N,R,S,T,Y=new Date,Y=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),B=this._get(b,"isRTL");g=this._get(b,"showButtonPanel");d=this._get(b,"hideIfNoPrevNext");f=this._get(b,"navigationAsDateFormat");var Q=this._getNumberOfMonths(b),y=this._get(b,"showCurrentAtPos");
e=this._get(b,"stepMonths");var P=1!==Q[0]||1!==Q[1],K=this._daylightSavingAdjust(b.currentDay?new Date(b.currentYear,b.currentMonth,b.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(b,"min"),L=this._getMinMaxDate(b,"max"),y=b.drawMonth-y,O=b.drawYear;if(0>y&&(y+=12,O--),L){a=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth()-Q[0]*Q[1]+1,L.getDate()));for(a=J&&J>a?J:a;this._daylightSavingAdjust(new Date(O,y,1))>a;)y--,0>y&&(y=11,O--)}b.drawMonth=y;b.drawYear=O;a=this._get(b,"prevText");
a=f?this.formatDate(a,this._daylightSavingAdjust(new Date(O,y-e,1)),this._getFormatConfig(b)):a;a=this._canAdjustMonth(b,-1,O,y)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+a+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+a+"</span></a>";c=this._get(b,"nextText");c=f?this.formatDate(c,
this._daylightSavingAdjust(new Date(O,y+e,1)),this._getFormatConfig(b)):c;d=this._canAdjustMonth(b,1,O,y)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+c+"</span></a>";e=this._get(b,"currentText");c=this._get(b,"gotoCurrent")&&
b.currentDay?K:Y;e=f?this.formatDate(e,c,this._getFormatConfig(b)):e;f=b.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(b,"closeText")+"</button>";g=g?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?f:"")+(this._isInRange(b,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
e+"</button>":"")+(B?"":f)+"</div>":"";f=parseInt(this._get(b,"firstDay"),10);f=isNaN(f)?0:f;e=this._get(b,"showWeek");c=this._get(b,"dayNames");m=this._get(b,"dayNamesMin");v=this._get(b,"monthNames");q=this._get(b,"monthNamesShort");u=this._get(b,"beforeShowDay");w=this._get(b,"showOtherMonths");A=this._get(b,"selectOtherMonths");x=this._getDefaultDate(b);C="";for(I=0;Q[0]>I;I++){E="";this.maxRows=4;for(H=0;Q[1]>H;H++){if(t=this._daylightSavingAdjust(new Date(O,y,b.selectedDay)),D=" ui-corner-all",
z="",P){if(z+="<div class='ui-datepicker-group",1<Q[1])switch(H){case 0:z+=" ui-datepicker-group-first";D=" ui-corner-"+(B?"right":"left");break;case Q[1]-1:z+=" ui-datepicker-group-last";D=" ui-corner-"+(B?"left":"right");break;default:z+=" ui-datepicker-group-middle",D=""}z+="'>"}z+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===I?B?d:a:"")+(/all|right/.test(D)&&0===I?B?a:d:"")+this._generateMonthYearHeader(b,y,O,J,L,0<I||0<H,v,q)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
G=e?"<th class='ui-datepicker-week-col'>"+this._get(b,"weekHeader")+"</th>":"";for(D=0;7>D;D++)F=(D+f)%7,G+="<th"+(5<=(D+f+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[F]+"'>"+m[F]+"</span></th>";z+=G+"</tr></thead><tbody>";G=this._getDaysInMonth(O,y);O===b.selectedYear&&y===b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,G));D=(this._getFirstDayOfMonth(O,y)-f+7)%7;G=Math.ceil((D+G)/7);this.maxRows=G=P?this.maxRows>G?this.maxRows:G:G;F=this._daylightSavingAdjust(new Date(O,
y,1-D));for(M=0;G>M;M++){z+="<tr>";N=e?"<td class='ui-datepicker-week-col'>"+this._get(b,"calculateWeek")(F)+"</td>":"";for(D=0;7>D;D++)R=u?u.apply(b.input?b.input[0]:null,[F]):[!0,""],T=(S=F.getMonth()!==y)&&!A||!R[0]||J&&J>F||L&&F>L,N+="<td class='"+(5<=(D+f+6)%7?" ui-datepicker-week-end":"")+(S?" ui-datepicker-other-month":"")+(F.getTime()===t.getTime()&&y===b.selectedMonth&&b._keyEvent||x.getTime()===F.getTime()&&x.getTime()===t.getTime()?" "+this._dayOverClass:"")+(T?" "+this._unselectableClass+
" ui-state-disabled":"")+(S&&!w?"":" "+R[1]+(F.getTime()===K.getTime()?" "+this._currentClass:"")+(F.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(S&&!w||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(T?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(S&&!w?"&#xa0;":T?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===Y.getTime()?" ui-state-highlight":"")+(F.getTime()===
K.getTime()?" ui-state-active":"")+(S?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);z+=N+"</tr>"}y++;11<y&&(y=0,O++);z+="</tbody></table>"+(P?"</div>"+(0<Q[0]&&H===Q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");E+=z}C+=E}return C+=g,b._keyEvent=!1,C},_generateMonthYearHeader:function(b,a,c,d,e,f,g,m){var v,q,u,w=this._get(b,"changeMonth"),A=this._get(b,"changeYear"),x=this._get(b,"showMonthAfterYear"),
C="<div class='ui-datepicker-title'>",D="";if(f||!w)D+="<span class='ui-datepicker-month'>"+g[a]+"</span>";else{g=d&&d.getFullYear()===c;v=e&&e.getFullYear()===c;D+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(q=0;12>q;q++)(!g||q>=d.getMonth())&&(!v||e.getMonth()>=q)&&(D+="<option value='"+q+"'"+(q===a?" selected='selected'":"")+">"+m[q]+"</option>");D+="</select>"}if(x||(C+=D+(!f&&w&&A?"":"&#xa0;")),!b.yearshtml)if(b.yearshtml="",f||!A)C+="<span class='ui-datepicker-year'>"+
c+"</span>";else{m=this._get(b,"yearRange").split(":");u=(new Date).getFullYear();g=function(b){b=b.match(/c[+\-].*/)?c+parseInt(b.substring(1),10):b.match(/[+\-].*/)?u+parseInt(b,10):parseInt(b,10);return isNaN(b)?u:b};a=g(m[0]);m=Math.max(a,g(m[1]||""));a=d?Math.max(a,d.getFullYear()):a;m=e?Math.min(m,e.getFullYear()):m;for(b.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=a;a++)b.yearshtml+="<option value='"+a+"'"+(a===c?" selected='selected'":
"")+">"+a+"</option>";b.yearshtml+="</select>";C+=b.yearshtml;b.yearshtml=null}return C+=this._get(b,"yearSuffix"),x&&(C+=(!f&&w&&A?"":"&#xa0;")+D),C+="</div>"},_adjustInstDate:function(b,a,c){var d=b.drawYear+("Y"===c?a:0),e=b.drawMonth+("M"===c?a:0);a=Math.min(b.selectedDay,this._getDaysInMonth(d,e))+("D"===c?a:0);d=this._restrictMinMax(b,this._daylightSavingAdjust(new Date(d,e,a)));b.selectedDay=d.getDate();b.drawMonth=b.selectedMonth=d.getMonth();b.drawYear=b.selectedYear=d.getFullYear();("M"===
c||"Y"===c)&&this._notifyChange(b)},_restrictMinMax:function(b,a){var c=this._getMinMaxDate(b,"min"),d=this._getMinMaxDate(b,"max"),c=c&&c>a?c:a;return d&&c>d?d:c},_notifyChange:function(b){var a=this._get(b,"onChangeMonthYear");a&&a.apply(b.input?b.input[0]:null,[b.selectedYear,b.selectedMonth+1,b])},_getNumberOfMonths:function(b){b=this._get(b,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(b,a){return this._determineDate(b,this._get(b,a+"Date"),null)},
_getDaysInMonth:function(b,a){return 32-this._daylightSavingAdjust(new Date(b,a,32)).getDate()},_getFirstDayOfMonth:function(b,a){return(new Date(b,a,1)).getDay()},_canAdjustMonth:function(b,a,c,d){var e=this._getNumberOfMonths(b);c=this._daylightSavingAdjust(new Date(c,d+(0>a?a:e[0]*e[1]),1));return 0>a&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(b,c)},_isInRange:function(b,a){var c,d,e=this._getMinMaxDate(b,"min"),f=this._getMinMaxDate(b,"max"),g=null,m=null,v=
this._get(b,"yearRange");return v&&(c=v.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),m=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(m+=d)),(!e||a.getTime()>=e.getTime())&&(!f||a.getTime()<=f.getTime())&&(!g||a.getFullYear()>=g)&&(!m||m>=a.getFullYear())},_getFormatConfig:function(b){var a=this._get(b,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,
"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,"monthNames")}},_formatDate:function(b,a,c,d){a||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);a=a?"object"==typeof a?a:this._daylightSavingAdjust(new Date(d,c,a)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),a,this._getFormatConfig(b))}});c.fn.datepicker=function(b){if(!this.length)return this;
c.datepicker.initialized||(c(document).mousedown(c.datepicker._checkExternalClick),c.datepicker.initialized=!0);0===c("#"+c.datepicker._mainDivId).length&&c("body").append(c.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?c.datepicker["_"+b+"Datepicker"].apply(c.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof b?c.datepicker["_"+
b+"Datepicker"].apply(c.datepicker,[this].concat(a)):c.datepicker._attachDatepicker(this,b)}):c.datepicker["_"+b+"Datepicker"].apply(c.datepicker,[this[0]].concat(a))};c.datepicker=new f;c.datepicker.initialized=!1;c.datepicker.uuid=(new Date).getTime();c.datepicker.version="1.10.3"})(jQuery);
!function(c){var g={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,
nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4E3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};c.fn.bxSlider=function(f){if(0==this.length)return this;if(1<this.length)return this.each(function(){c(this).bxSlider(f)}),
this;var a={},d=this,e=c(window).width(),b=c(window).height(),h=function(){a.settings=c.extend({},g,f);a.settings.slideWidth=parseInt(a.settings.slideWidth);a.children=d.children(a.settings.slideSelector);a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length);a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length);a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length));a.active={index:a.settings.startSlide};a.carousel=
1<a.settings.minSlides||1<a.settings.maxSlides;a.carousel&&(a.settings.preloadImages="all");a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin;a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin;a.working=!1;a.controls={};a.interval=null;a.animProp="vertical"==a.settings.mode?"top":"left";a.usingCSS=a.settings.useCSS&&"fade"!=a.settings.mode&&function(){var b=document.createElement("div"),
c=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],d;for(d in c)if(void 0!==b.style[c[d]])return a.cssPrefix=c[d].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}();"vertical"==a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides);d.data("origStyle",d.attr("style"));d.children(a.settings.slideSelector).each(function(){c(this).data("origStyle",c(this).attr("style"))});k()},k=function(){d.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');
a.viewport=d.parent();a.loader=c('<div class="bx-loading" />');a.viewport.prepend(a.loader);d.css({width:"horizontal"==a.settings.mode?100*a.children.length+215+"%":"auto",position:"relative"});a.usingCSS&&a.settings.easing?d.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing");v();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"});a.viewport.parent().css({maxWidth:r()});a.settings.pager||a.viewport.parent().css({margin:"0 auto 0px"});
a.children.css({"float":"horizontal"==a.settings.mode?"left":"none",listStyle:"none",position:"relative"});a.children.css("width",m());"horizontal"==a.settings.mode&&0<a.settings.slideMargin&&a.children.css("marginRight",a.settings.slideMargin);"vertical"==a.settings.mode&&0<a.settings.slideMargin&&a.children.css("marginBottom",a.settings.slideMargin);"fade"==a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:50,display:"block"}));
a.controls.el=c('<div class="bx-controls" />');a.settings.captions&&C();a.active.last=a.settings.startSlide==q()-1;a.settings.video&&d.fitVids();var b=a.children.eq(a.settings.startSlide);"all"==a.settings.preloadImages&&(b=a.children);a.settings.ticker?a.settings.pager=!1:(a.settings.pager&&(a.settings.pagerCustom?a.pagerEl=c(a.settings.pagerCustom):(a.pagerEl=c('<div class="bx-pager" />'),a.settings.pagerSelector?c(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),
x()),a.pagerEl.delegate("a","click",t)),a.settings.controls&&(a.controls.next=c('<a class="bx-next" href="">'+a.settings.nextText+"</a>"),a.controls.prev=c('<a class="bx-prev" href="">'+a.settings.prevText+"</a>"),a.controls.next.bind("click",D),a.controls.prev.bind("click",I),a.settings.nextSelector&&c(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&c(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=
c('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))),a.settings.auto&&a.settings.autoControls&&(a.controls.start=c('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=c('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=c('<div class="bx-controls-auto" />'),
a.controls.autoEl.delegate(".bx-start","click",E),a.controls.autoEl.delegate(".bx-stop","click",H),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?c(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),F(a.settings.autoStart?"stop":"start")),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&
a.viewport.after(a.controls.el));l(b,p)},l=function(b,a){var d=b.find("img, iframe").length;if(0==d)return a(),void 0;var e=0;b.find("img, iframe").each(function(){c(this).one("load",function(){++e==d&&a()}).each(function(){this.complete&&c(this).load()})})},p=function(){if(a.settings.infiniteLoop&&"fade"!=a.settings.mode&&!a.settings.ticker){var b="vertical"==a.settings.mode?a.settings.minSlides:a.settings.maxSlides,e=a.children.slice(0,b).clone().addClass("bx-clone"),b=a.children.slice(-b).clone().addClass("bx-clone");
d.append(e).prepend(b)}a.loader.remove();w();"vertical"==a.settings.mode&&(a.settings.adaptiveHeight=!0);a.viewport.height(n());d.redrawSlider();a.settings.onSliderLoad(a.active.index);a.initialized=!0;a.settings.responsive&&c(window).bind("resize",Q);a.settings.auto&&a.settings.autoStart&&N();a.settings.ticker&&R();a.settings.pager&&z(a.settings.startSlide);a.settings.controls&&M();a.settings.touchEnabled&&!a.settings.ticker&&(a.touch={start:{x:0,y:0},end:{x:0,y:0}},a.viewport.bind("touchstart",
T))},n=function(){var b=0,d=c();if("vertical"==a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var e=1==a.settings.moveSlides?a.active.index:a.active.index*u(),d=a.children.eq(e);for(i=1;i<=a.settings.maxSlides-1;i++)d=e+i>=a.children.length?d.add(a.children.eq(i-1)):d.add(a.children.eq(e+i))}else d=a.children.eq(a.active.index);else d=a.children;return"vertical"==a.settings.mode?(d.each(function(){b+=c(this).outerHeight()}),0<a.settings.slideMargin&&(b+=a.settings.slideMargin*(a.settings.minSlides-
1))):b=Math.max.apply(Math,d.map(function(){return c(this).outerHeight(!1)}).get()),b},r=function(){return"100%"},m=function(){var b=a.settings.slideWidth,c=a.viewport.width();return 0==a.settings.slideWidth||a.settings.slideWidth>c&&!a.carousel||"vertical"==a.settings.mode?b=c:1<a.settings.maxSlides&&"horizontal"==a.settings.mode&&(c>a.maxThreshold||c<a.minThreshold&&(b=(c-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides)),b},v=function(){var b=1;"horizontal"==a.settings.mode&&
0<a.settings.slideWidth?a.viewport.width()<a.minThreshold?b=a.settings.minSlides:a.viewport.width()>a.maxThreshold?b=a.settings.maxSlides:(b=a.children.first().width(),b=Math.floor(a.viewport.width()/b)):"vertical"==a.settings.mode&&(b=a.settings.minSlides);return b},q=function(){var b=0;if(0<a.settings.moveSlides)if(a.settings.infiniteLoop)b=a.children.length/u();else for(var c=0,d=0;c<a.children.length;)++b,c=d+v(),d+=a.settings.moveSlides<=v()?a.settings.moveSlides:v();else b=Math.ceil(a.children.length/
v());return b},u=function(){return 0<a.settings.moveSlides&&a.settings.moveSlides<=v()?a.settings.moveSlides:v()},w=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop)if("horizontal"==a.settings.mode){var b=a.children.last(),c=b.position();A(-(c.left-(a.viewport.width()-b.width())),"reset",0)}else"vertical"==a.settings.mode&&(c=a.children.eq(a.children.length-a.settings.minSlides).position(),A(-c.top,"reset",0));else c=a.children.eq(a.active.index*u()).position(),
a.active.index==q()-1&&(a.active.last=!0),void 0!=c&&("horizontal"==a.settings.mode?A(-c.left,"reset",0):"vertical"==a.settings.mode&&A(-c.top,"reset",0))},A=function(b,c,e,f){if(a.usingCSS)b="vertical"==a.settings.mode?"translate3d(0, "+b+"px, 0)":"translate3d("+b+"px, 0, 0)",d.css("-"+a.cssPrefix+"-transition-duration",e/1E3+"s"),"slide"==c?(d.css(a.animProp,b),d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");
G()})):"reset"==c?d.css(a.animProp,b):"ticker"==c&&(d.css("-"+a.cssPrefix+"-transition-timing-function","linear"),d.css(a.animProp,b),d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");A(f.resetValue,"reset",0);S()}));else{var g={};g[a.animProp]=b;"slide"==c?d.animate(g,e,a.settings.easing,function(){G()}):"reset"==c?d.css(a.animProp,b):"ticker"==c&&d.animate(g,speed,"linear",function(){A(f.resetValue,
"reset",0);S()})}},x=function(){for(var b="",d=q(),e=0;d>e;e++){var f="";a.settings.buildPager&&c.isFunction(a.settings.buildPager)?(f=a.settings.buildPager(e),a.pagerEl.addClass("bx-custom-pager")):(f=e+1,a.pagerEl.addClass("bx-default-pager"));b+='<div class="bx-pager-item"><a href="" data-slide-index="'+e+'" class="bx-pager-link">'+f+"</a></div>"}a.pagerEl.html(b)},C=function(){a.children.each(function(){var b=c(this).find("img:first").attr("title");void 0!=b&&(""+b).length&&c(this).append('<div class="bx-caption"><span>'+
b+"</span></div>")})},D=function(b){a.settings.auto&&d.stopAuto();d.goToNextSlide();b.preventDefault()},I=function(b){a.settings.auto&&d.stopAuto();d.goToPrevSlide();b.preventDefault()},E=function(b){d.startAuto();b.preventDefault()},H=function(b){d.stopAuto();b.preventDefault()},t=function(b){a.settings.auto&&d.stopAuto();var e=c(b.currentTarget),e=parseInt(e.attr("data-slide-index"));e!=a.active.index&&d.goToSlide(e);b.preventDefault()},z=function(b){var d=a.children.length;return"short"==a.settings.pagerType?
(1<a.settings.maxSlides&&(d=Math.ceil(a.children.length/a.settings.maxSlides)),a.pagerEl.html(b+1+a.settings.pagerShortSeparator+d),void 0):(a.pagerEl.find("a").removeClass("active"),a.pagerEl.each(function(a,d){c(d).find("a").eq(b).addClass("active")}),void 0)},G=function(){if(a.settings.infiniteLoop){var b="";0==a.active.index?b=a.children.eq(0).position():a.active.index==q()-1&&a.carousel?b=a.children.eq((q()-1)*u()).position():a.active.index==a.children.length-1&&(b=a.children.eq(a.children.length-
1).position());"horizontal"==a.settings.mode?A(-b.left,"reset",0):"vertical"==a.settings.mode&&A(-b.top,"reset",0)}a.working=!1;a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},F=function(b){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[b]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+b+")").addClass("active"))},M=function(){1==q()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):
!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0==a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index==q()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},N=function(){0<a.settings.autoDelay?setTimeout(d.startAuto,a.settings.autoDelay):d.startAuto();a.settings.autoHover&&d.hover(function(){a.interval&&(d.stopAuto(!0),
a.autoPaused=!0)},function(){a.autoPaused&&(d.startAuto(!0),a.autoPaused=null)})},R=function(){var b=0;"next"==a.settings.autoDirection?d.append(a.children.clone().addClass("bx-clone")):(d.prepend(a.children.clone().addClass("bx-clone")),b=a.children.first().position(),b="horizontal"==a.settings.mode?-b.left:-b.top);A(b,"reset",0);a.settings.pager=!1;a.settings.controls=!1;a.settings.autoControls=!1;a.settings.tickerHover&&!a.usingCSS&&a.viewport.hover(function(){d.stop()},function(){var b=0;a.children.each(function(){b+=
"horizontal"==a.settings.mode?c(this).outerWidth(!0):c(this).outerHeight(!0)});var e=a.settings.speed/b*(b-Math.abs(parseInt(d.css("horizontal"==a.settings.mode?"left":"top"))));S(e)});S()},S=function(b){speed=b?b:a.settings.speed;b={left:0,top:0};var c={left:0,top:0};"next"==a.settings.autoDirection?b=d.find(".bx-clone").first().position():c=a.children.first().position();A("horizontal"==a.settings.mode?-b.left:-b.top,"ticker",speed,{resetValue:"horizontal"==a.settings.mode?-c.left:-c.top})},T=function(b){a.working?
b.preventDefault():(a.touch.originalPos=d.position(),b=b.originalEvent,a.touch.start.x=b.changedTouches[0].pageX,a.touch.start.y=b.changedTouches[0].pageY,a.viewport.bind("touchmove",Y),a.viewport.bind("touchend",B))},Y=function(b){var c=b.originalEvent,d=Math.abs(c.changedTouches[0].pageX-a.touch.start.x),e=Math.abs(c.changedTouches[0].pageY-a.touch.start.y);if(3*d>e&&a.settings.preventDefaultSwipeX?b.preventDefault():3*e>d&&a.settings.preventDefaultSwipeY&&b.preventDefault(),"fade"!=a.settings.mode&&
a.settings.oneToOneTouch)b=0,"horizontal"==a.settings.mode?(c=c.changedTouches[0].pageX-a.touch.start.x,b=a.touch.originalPos.left+c):(c=c.changedTouches[0].pageY-a.touch.start.y,b=a.touch.originalPos.top+c),A(b,"reset",0)},B=function(b){a.viewport.unbind("touchmove",Y);var c=b.originalEvent;b=0;(a.touch.end.x=c.changedTouches[0].pageX,a.touch.end.y=c.changedTouches[0].pageY,"fade"==a.settings.mode)?(c=Math.abs(a.touch.start.x-a.touch.end.x),c>=a.settings.swipeThreshold&&(a.touch.start.x>a.touch.end.x?
d.goToNextSlide():d.goToPrevSlide(),d.stopAuto())):(c=0,"horizontal"==a.settings.mode?(c=a.touch.end.x-a.touch.start.x,b=a.touch.originalPos.left):(c=a.touch.end.y-a.touch.start.y,b=a.touch.originalPos.top),!a.settings.infiniteLoop&&(0==a.active.index&&0<c||a.active.last&&0>c)?A(b,"reset",200):Math.abs(c)>=a.settings.swipeThreshold?(0>c?d.goToNextSlide():d.goToPrevSlide(),d.stopAuto()):A(b,"reset",200));a.viewport.unbind("touchend",B)},Q=function(){var a=c(window).width(),f=c(window).height();(e!=
a||b!=f)&&(e=a,b=f,d.redrawSlider())};return d.goToSlide=function(b,e){if(!a.working&&a.active.index!=b)if(a.working=!0,a.oldIndex=a.active.index,a.active.index=0>b?q()-1:b>=q()?0:b,a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index),"next"==e?a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index):"prev"==e&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index),a.active.last=a.active.index>=q()-1,a.settings.pager&&z(a.active.index),
a.settings.controls&&M(),"fade"==a.settings.mode)a.settings.adaptiveHeight&&a.viewport.height()!=n()&&a.viewport.animate({height:n()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",51).fadeIn(a.settings.speed,function(){c(this).css("zIndex",50);G()});else{a.settings.adaptiveHeight&&a.viewport.height()!=n()&&a.viewport.animate({height:n()},a.settings.adaptiveHeightSpeed);var f=0,g={left:0,top:0};if(!a.settings.infiniteLoop&&
a.carousel&&a.active.last)if("horizontal"==a.settings.mode)var h=a.children.eq(a.children.length-1),g=h.position(),f=a.viewport.width()-h.outerWidth();else g=a.children.eq(a.children.length-a.settings.minSlides).position();else a.carousel&&a.active.last&&"prev"==e?(g=1==a.settings.moveSlides?a.settings.maxSlides-u():(q()-1)*u()-(a.children.length-a.settings.maxSlides),h=d.children(".bx-clone").eq(g),g=h.position()):"next"==e&&0==a.active.index?(g=d.find("> .bx-clone").eq(a.settings.maxSlides).position(),
a.active.last=!1):0<=b&&(g=b*u(),g=a.children.eq(g).position());"undefined"!=typeof g&&A("horizontal"==a.settings.mode?-(g.left-f):-g.top,"slide",a.settings.speed)}},d.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var b=parseInt(a.active.index)+1;d.goToSlide(b,"next")}},d.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!=a.active.index){var b=parseInt(a.active.index)-1;d.goToSlide(b,"prev")}},d.startAuto=function(b){a.interval||(a.interval=setInterval(function(){"next"==
a.settings.autoDirection?d.goToNextSlide():d.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&1!=b&&F("stop"))},d.stopAuto=function(b){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&1!=b&&F("start"))},d.getCurrentSlide=function(){return a.active.index},d.getSlideCount=function(){return a.children.length},d.redrawSlider=function(){a.children.add(d.find(".bx-clone")).outerWidth(m());a.viewport.css("height",n());a.settings.ticker||w();a.active.last&&(a.active.index=
q()-1);a.active.index>=q()&&(a.active.last=!0);a.settings.pager&&!a.settings.pagerCustom&&(x(),z(a.active.index))},d.destroySlider=function(){a.initialized&&(a.initialized=!1,c(".bx-clone",this).remove(),a.children.each(function(){void 0!=c(this).data("origStyle")?c(this).attr("style",c(this).data("origStyle")):c(this).removeAttr("style")}),void 0!=c(this).data("origStyle")?this.attr("style",c(this).data("origStyle")):c(this).removeAttr("style"),c(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),
a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.pagerEl.remove(),c(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&c(window).unbind("resize",Q))},d.reloadSlider=function(b){void 0!=b&&(f=b);d.destroySlider();h()},h(),this}}(jQuery);
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){function g(b){return b}function f(b){return decodeURIComponent(b.replace(d," "))}function a(b){0===b.indexOf('"')&&(b=b.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e.json?JSON.parse(b):b}catch(a){}}var d=/\+/g,e=c.cookie=function(b,d,k){if(void 0!==d){k=c.extend({},e.defaults,k);if("number"===typeof k.expires){var l=k.expires,p=k.expires=new Date;p.setDate(p.getDate()+l)}d=e.json?
JSON.stringify(d):String(d);return document.cookie=[e.raw?b:encodeURIComponent(b),"=",e.raw?d:encodeURIComponent(d),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join("")}d=e.raw?g:f;k=document.cookie.split("; ");for(var l=b?void 0:{},p=0,n=k.length;p<n;p++){var r=k[p].split("="),m=d(r.shift()),r=d(r.join("="));if(b&&b===m){l=a(r);break}b||(l[m]=a(r))}return l};e.defaults={};c.removeCookie=function(b,a){return void 0!==
c.cookie(b)?(c.cookie(b,"",c.extend({},a,{expires:-1})),!0):!1}});
(function(c){function g(b){null!=e&&(b.dropClass&&e.removeClass(b.dropClass),e=null);null!=d&&b.canDropClass&&d.removeClass(b.canDropClass)}var f={makeClone:!1,sourceClass:null,sourceHide:!1,dragClass:null,canDropClass:null,dropClass:null,isActive:!0,container:null,canDrag:function(b,a){return b},canDrop:function(b){return b.hasClass("drop")||0<b.parents(".drop").size()},didDrop:function(b,a){b.appendTo(a)}},a=null,d=null,e=null,b,h,k,l=!1,p=!1,n={init:function(b){b=c.extend({},f,b);this.data("options",
b);this.bind("mousedown.dragdrop touchstart.dragdrop",n.onStart);return this},destroy:function(){this.unbind("mousedown.dragdrop touchstart.dragdrop");return this},on:function(){this.data("options").isActive=!0},off:function(){this.data("options").isActive=!1},onStart:function(e){var f=c(this),g=f.data("options");if(g.isActive){var q=g.canDrag(f,e);l=!0;p=!1;if(q){a=q;var u=a.position(),w=a.width(),A=a.height();"touchstart"==e.type?(b=e.originalEvent.touches[0].clientX-u.left,h=e.originalEvent.touches[0].clientY-
u.top):(b=e.pageX-u.left,h=e.pageY-u.top);g.makeClone?(d=a.clone(!1),d.appendTo(q.parent()),g.sourceClass?a.addClass(g.sourceClass):g.sourceHide&&a.css("visibility","hidden")):d=a;d.css({position:"absolute",left:u.left,top:u.top,width:w,height:A});g.dragClass&&d.addClass(g.dragClass);if(g=g.container)u=g.position(),k={minX:u.left,minY:u.top,maxX:u.left+g.outerWidth()-q.outerWidth(),maxY:u.top+g.outerHeight()-q.outerHeight()};c(window).bind("mousemove.dragdrop touchmove.dragdrop",{source:f},n.onMove).bind("mouseup.dragdrop touchend.dragdrop",
{source:f},n.onEnd);e.stopPropagation();return!1}}},onMove:function(a){if(d){var f=a.data.source.data("options"),n,q;p=!0;l=!1;console.log("move");"touchmove"==a.type?(n=a.originalEvent.touches[0].clientX,q=a.originalEvent.touches[0].clientY):(n=a.pageX,q=a.pageY);d.css("display","none");var u=document.elementFromPoint(n-document.documentElement.scrollLeft-document.body.scrollLeft,q-document.documentElement.scrollTop-document.body.scrollTop);d.css("display","");n-=b;q-=h;k&&(n=Math.min(Math.max(n,
k.minX),k.maxX),q=Math.min(Math.max(q,k.minY),k.maxY));d.css({left:n,top:q});if(u){if(null==e||e.get(0)!=u)n=c(u),f.canDrop(n)?(f.dropClass&&(null!=e&&e.removeClass(f.dropClass),n.addClass(f.dropClass)),f.canDropClass&&d.addClass(f.canDropClass),e=n):null!=e&&g(f)}else null!=e&&g(f);a.stopPropagation();return!1}},onEnd:function(b){if(d){b=b.data.source.data("options");if(d.closest(".popupwin_add-trip").length&&!0==l&&!1==p){var f=parseInt(d.data("step"))+1,f=d.closest(".popupwin_add-trip").find(".trip-step__block:nth-child("+
f+")");f.length&&d.closest(".popupwin__viewport").animate({scrollTop:f.position().top})}e&&b.didDrop(a,e);g(b);b.makeClone?(d.remove(),b.sourceClass?a.removeClass(b.sourceClass):b.sourceHide&&a.css("visibility","visible")):(d.css("position","static"),d.css("width",""),d.css("height",""),b.dragClass&&d.removeClass(b.dragClass));c(window).unbind("mousemove.dragdrop touchmove.dragdrop");c(window).unbind("mouseup.dragdrop touchend.dragdrop");a=d=k=null}}};c.fn.dragdrop=function(b){if(n[b])return n[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return n.init.apply(this,arguments);c.error("Method "+b+" does not exist on jQuery.dragdrop")}})(jQuery);
(function(c,g,f,a){var d=f(c),e=f(g),b=f.fancybox=function(){b.open.apply(this,arguments)},h=navigator.userAgent.match(/msie/),k=null,l=g.createTouch!==a,p=function(b){return b&&b.hasOwnProperty&&b instanceof f},n=function(b){return b&&"string"===f.type(b)},r=function(b){return n(b)&&0<b.indexOf("%")},m=function(a,c){var d=parseInt(a,10)||0;c&&r(a)&&(d*=b.getViewport()[c]/100);return Math.ceil(d)},v=function(b,a){return m(b,a)+"px"};f.extend(b,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,
height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",
34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(h?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(c,d){if(c&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(c)||(c=p(c)?f(c).get():[c]),f.each(c,function(e,g){var h={},k,l,m,E,r;"object"===f.type(g)&&(g.nodeType&&(g=f(g)),p(g)?(h={href:g.data("fancybox-href")||g.attr("href"),title:g.data("fancybox-title")||g.attr("title"),isDom:!0,element:g},f.metadata&&f.extend(!0,h,
g.metadata())):h=g);k=d.href||h.href||(n(g)?g:null);l=d.title!==a?d.title:h.title||"";E=(m=d.content||h.content)?"html":d.type||h.type;!E&&h.isDom&&(E=g.data("fancybox-type"),E||(E=(E=g.prop("class").match(/fancybox\.(\w+)/))?E[1]:null));n(k)&&(E||(b.isImage(k)?E="image":b.isSWF(k)?E="swf":"#"===k.charAt(0)?E="inline":n(g)&&(E="html",m=g)),"ajax"===E&&(r=k.split(/\s+/,2),k=r.shift(),r=r.shift()));m||("inline"===E?k?m=f(n(k)?k.replace(/.*(?=#[^\s]+$)/,""):k):h.isDom&&(m=g):"html"===E?m=k:!E&&(!k&&
h.isDom)&&(E="inline",m=g));f.extend(h,{href:k,type:E,content:m,title:l,selector:r});c[e]=h}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==a&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=c,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||
b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var c=function(){clearTimeout(b.player.timer)},d=function(){c();b.current&&b.player.isActive&&(b.player.timer=
setTimeout(b.next,b.current.playSpeed))},e=function(){c();f("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":c}),d(),b.trigger("onPlayStart")}else e()},next:function(a){var c=b.current;c&&(n(a)||(a=c.direction.next),b.jumpto(c.index+1,a,"next"))},
prev:function(a){var c=b.current;c&&(n(a)||(a=c.direction.prev),b.jumpto(c.index-1,a,"prev"))},jumpto:function(c,d,e){var f=b.current;f&&(c=m(c),b.direction=d||f.direction[c>=f.index?"next":"prev"],b.router=e||"jumpto",f.loop&&(0>c&&(c=f.group.length+c%f.group.length),c%=f.group.length),f.group[c]!==a&&(b.cancel(),b._start(c)))},reposition:function(a,c){var d=b.current,e=d?d.wrap:null,g;e&&(g=b._getPosition(c),a&&"scroll"===a.type?(delete g.position,e.stop(!0,!0).animate(g,200)):(e.css(g),d.pos=f.extend({},
d.dim,g)))},update:function(a){var c=a&&a.type,d=!c||"orientationchange"===c;d&&(clearTimeout(k),k=null);b.isOpen&&!k&&(k=setTimeout(function(){var e=b.current;e&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(d||"load"===c||"resize"===c&&e.autoResize)&&b._setDimension(),"scroll"===c&&e.canShrink||b.reposition(a),b.trigger("onUpdate"),k=null)},d&&!l?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,l&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),
b.trigger("onUpdate")),b.update())},hideLoading:function(){e.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,c;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");e.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(c=b.getViewport(),a.css({position:"absolute",top:0.5*c.h+c.y,left:0.5*c.w+c.x}))},getViewport:function(){var a=b.current&&b.current.locked||
!1,e={x:d.scrollLeft(),y:d.scrollTop()};a?(e.w=a[0].clientWidth,e.h=a[0].clientHeight):(e.w=l&&c.innerWidth?c.innerWidth:d.width(),e.h=l&&c.innerHeight?c.innerHeight:d.height());return e},unbindEvents:function(){b.wrap&&p(b.wrap)&&b.wrap.unbind(".fb");e.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var c=b.current,g;c&&(d.bind("orientationchange.fb"+(l?"":" resize.fb")+(c.autoCenter&&!c.locked?" scroll.fb":""),b.update),(g=c.keys)&&e.bind("keydown.fb",function(d){var e=d.which||d.keyCode,h=
d.target||d.srcElement;if(27===e&&b.coming)return!1;!d.ctrlKey&&(!d.altKey&&!d.shiftKey&&!d.metaKey&&(!h||!h.type&&!f(h).is("[contenteditable]")))&&f.each(g,function(g,h){if(1<c.group.length&&h[e]!==a)return b[g](h[e]),d.preventDefault(),!1;if(-1<f.inArray(e,h))return b[g](),d.preventDefault(),!1})}),f.fn.mousewheel&&c.mouseWheel&&b.wrap.bind("mousewheel.fb",function(a,d,e,g){for(var h=f(a.target||null),k=!1;h.length&&!k&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)k=h[0]&&!(h[0].style.overflow&&
"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==d&&!k&&1<b.group.length&&!c.canShrink){if(0<g||0<e)b.prev(0<g?"down":"left");else if(0>g||0>e)b.next(0>g?"up":"right");a.preventDefault()}}))},trigger:function(a,c){var d,e=c||b.coming||b.current;if(e){f.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===d)return!1;e.helpers&&f.each(e.helpers,function(c,
d){d&&(b.helpers[c]&&f.isFunction(b.helpers[c][a]))&&(d=f.extend(!0,{},b.helpers[c].defaults,d),b.helpers[c][a](d,e))});f.event.trigger(a+".fb")}},isImage:function(b){return n(b)&&b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(b){return n(b)&&b.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var c={},d,e;a=m(a);d=b.group[a]||null;if(!d)return!1;c=f.extend(!0,{},b.opts,d);d=c.margin;e=c.padding;"number"===f.type(d)&&(c.margin=[d,d,d,d]);"number"===f.type(e)&&
(c.padding=[e,e,e,e]);c.modal&&f.extend(!0,c,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});c.autoSize&&(c.autoWidth=c.autoHeight=!0);"auto"===c.width&&(c.autoWidth=!0);"auto"===c.height&&(c.autoHeight=!0);c.group=b.group;c.index=a;b.coming=c;if(!1===b.trigger("beforeLoad"))b.coming=null;else{e=c.type;d=c.href;if(!e)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=
!0;if("image"===e||"swf"===e)c.autoHeight=c.autoWidth=!1,c.scrolling="visible";"image"===e&&(c.aspectRatio=!0);"iframe"===e&&l&&(c.scrolling="scroll");c.wrap=f(c.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+e+" fancybox-tmp "+c.wrapCSS).appendTo(c.parent||"body");f.extend(c,{skin:f(".fancybox-skin",c.wrap),outer:f(".fancybox-outer",c.wrap),inner:f(".fancybox-inner",c.wrap)});f.each(["Top","Right","Bottom","Left"],function(b,a){c.skin.css("padding"+a,v(c.padding[b]))});b.trigger("onReady");
if("inline"===e||"html"===e){if(!c.content||!c.content.length)return b._error("content")}else if(!d)return b._error("href");"image"===e?b._loadImage():"ajax"===e?b._loadAjax():"iframe"===e?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=
this.width;b.coming.height=this.height;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,c){b.coming&&"abort"!==c?b._error("ajax",a):b.hideLoading()},success:function(c,d){"success"===d&&(a.content=c,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,c=f(a.tpl.iframe.replace(/\{rnd\}/g,
(new Date).getTime())).attr("scrolling",l?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(b){}});a.iframe.preload&&(b.showLoading(),c.one("load",function(){f(this).data("ready",1);l||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=c.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=
b.group,c=b.current,d=a.length,e=c.preload?Math.min(c.preload,d-1):0,f,g;for(g=1;g<=e;g+=1)f=a[(c.index+g)%d],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,c=b.current,d,e,g,h,k;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,c))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{c&&(b.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();
d=a.content;e=a.type;g=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:c});h=a.href;switch(e){case "inline":case "ajax":case "html":a.selector?d=f("<div>").html(d).find(a.selector):p(d)&&(d.data("fancybox-placeholder")||d.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(d).hide()),d=d.show().detach(),a.wrap.bind("onReset",function(){f(this).find(d).length&&d.hide().replaceAll(d.data("fancybox-placeholder")).data("fancybox-placeholder",
!1)}));break;case "image":d=a.tpl.image.replace("{href}",h);break;case "swf":d='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+h+'"></param>',k="",f.each(a.swf,function(b,a){d+='<param name="'+b+'" value="'+a+'"></param>';k+=" "+b+'="'+a+'"'}),d+='<embed src="'+h+'" type="application/x-shockwave-flash" width="100%" height="100%"'+k+"></embed></object>"}(!p(d)||!d.parent().is(a.inner))&&a.inner.append(d);b.trigger("beforeShow");
a.inner.css("overflow","yes"===g?"scroll":"no"===g?"hidden":g);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(c.prevMethod)b.transitions[c.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),c=0,d=!1,e=!1,d=b.wrap,g=b.skin,h=b.inner,k=b.current,e=k.width,n=k.height,p=k.minWidth,l=k.minHeight,t=k.maxWidth,
z=k.maxHeight,G=k.scrolling,F=k.scrollOutside?k.scrollbarWidth:0,M=k.margin,N=m(M[1]+M[3]),R=m(M[0]+M[2]),S,T,Y,B,Q,y,P,K,J;d.add(g).add(h).width("auto").height("auto").removeClass("fancybox-tmp");M=m(g.outerWidth(!0)-g.width());S=m(g.outerHeight(!0)-g.height());T=N+M;Y=R+S;B=r(e)?(a.w-T)*m(e)/100:e;Q=r(n)?(a.h-Y)*m(n)/100:n;if("iframe"===k.type){if(J=k.content,k.autoHeight&&1===J.data("ready"))try{J[0].contentWindow.document.location&&(h.width(B).height(9999),y=J.contents().find("body"),F&&y.css("overflow-x",
"hidden"),Q=y.height())}catch(L){}}else if(k.autoWidth||k.autoHeight)h.addClass("fancybox-tmp"),k.autoWidth||h.width(B),k.autoHeight||h.height(Q),k.autoWidth&&(B=h.width()),k.autoHeight&&(Q=h.height()),h.removeClass("fancybox-tmp");e=m(B);n=m(Q);K=B/Q;p=m(r(p)?m(p,"w")-T:p);t=m(r(t)?m(t,"w")-T:t);l=m(r(l)?m(l,"h")-Y:l);z=m(r(z)?m(z,"h")-Y:z);y=t;P=z;k.fitToView&&(t=Math.min(a.w-T,t),z=Math.min(a.h-Y,z));T=a.w-N;R=a.h-R;k.aspectRatio?(e>t&&(e=t,n=m(e/K)),n>z&&(n=z,e=m(n*K)),e<p&&(e=p,n=m(e/K)),n<l&&
(n=l,e=m(n*K))):(e=Math.max(p,Math.min(e,t)),k.autoHeight&&"iframe"!==k.type&&(h.width(e),n=h.height()),n=Math.max(l,Math.min(n,z)));if(k.fitToView)if(h.width(e).height(n),d.width(e+M),a=d.width(),N=d.height(),k.aspectRatio)for(;(a>T||N>R)&&(e>p&&n>l)&&!(19<c++);)n=Math.max(l,Math.min(z,n-10)),e=m(n*K),e<p&&(e=p,n=m(e/K)),e>t&&(e=t,n=m(e/K)),h.width(e).height(n),d.width(e+M),a=d.width(),N=d.height();else e=Math.max(p,Math.min(e,e-(a-T))),n=Math.max(l,Math.min(n,n-(N-R)));F&&("auto"===G&&n<Q&&e+M+
F<T)&&(e+=F);h.width(e).height(n);d.width(e+M);a=d.width();N=d.height();d=(a>T||N>R)&&e>p&&n>l;e=k.aspectRatio?e<y&&n<P&&e<B&&n<Q:(e<y||n<P)&&(e<B||n<Q);f.extend(k,{dim:{width:v(a),height:v(N)},origWidth:B,origHeight:Q,canShrink:d,canExpand:e,wPadding:M,hPadding:S,wrapSpace:N-g.outerHeight(!0),skinSpace:g.height()-n});!J&&(k.autoHeight&&n>l&&n<z&&!e)&&h.height("auto")},_getPosition:function(a){var c=b.current,d=b.getViewport(),e=c.margin,f=b.wrap.width()+e[1]+e[3],g=b.wrap.height()+e[0]+e[2],e={position:"absolute",
top:e[0],left:e[3]};c.autoCenter&&c.fixed&&!a&&g<=d.h&&f<=d.w?e.position="fixed":c.locked||(e.top+=d.y,e.left+=d.x);e.top=v(Math.max(e.top,e.top+(d.h-g)*c.topRatio));e.left=v(Math.max(e.left,e.left+(d.w-f)*c.leftRatio));return e},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(c){!f(c.target).is("a")&&!f(c.target).parent().is("a")&&
(c.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=
a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,c=a.element,d=a.orig,e={},f=50,g=50,h=a.hPadding,k=a.wPadding,n=b.getViewport();!d&&(a.isDom&&c.is(":visible"))&&(d=c.find("img:first"),d.length||(d=c));p(d)?(e=d.offset(),d.is("img")&&(f=d.outerWidth(),g=d.outerHeight())):
(e.top=n.y+(n.h-g)*a.topRatio,e.left=n.x+(n.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)e.top-=n.y,e.left-=n.x;return e={top:v(e.top-h*a.topRatio),left:v(e.left-k*a.leftRatio),width:v(f+k),height:v(g+h)}},step:function(a,c){var d,e,f=c.prop;e=b.current;var g=e.wrapSpace,h=e.skinSpace;if("width"===f||"height"===f)d=c.end===c.start?1:(a-c.start)/(c.end-c.start),b.isClosing&&(d=1-d),e="width"===f?e.wPadding:e.hPadding,e=a-e,b.skin[f](m("width"===f?e:e-g*d)),b.inner[f](m("width"===
f?e:e-g*d-h*d))},zoomIn:function(){var a=b.current,c=a.pos,d=a.openEffect,e="elastic"===d,g=f.extend({opacity:1},c);delete g.position;e?(c=this.getOrigPosition(),a.openOpacity&&(c.opacity=0.1)):"fade"===d&&(c.opacity=0.1);b.wrap.css(c).animate(g,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,c=a.closeEffect,d="elastic"===c,e={opacity:0.1};d&&(e=this.getOrigPosition(),a.closeOpacity&&(e.opacity=0.1));b.wrap.animate(e,
{duration:"none"===c?0:a.closeSpeed,easing:a.closeEasing,step:d?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,c=a.nextEffect,d=a.pos,e={opacity:1},f=b.direction,g;d.opacity=0.1;"elastic"===c&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(d[g]=v(m(d[g])-200),e[g]="+=200px"):(d[g]=v(m(d[g])+200),e[g]="-=200px"));"none"===c?b._afterZoomIn():b.wrap.css(d).animate(e,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=
b.previous,c=a.prevEffect,d={opacity:0.1},e=b.direction;"elastic"===c&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px");a.wrap.animate(d,{duration:"none"===c?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!l,fixed:!0},overlay:null,fixed:!1,create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo("body");
this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var c=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(d.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){f(a.target).hasClass("fancybox-overlay")&&(b.isActive?b.close():c.close())});this.overlay.css(a.css).show()},
close:function(){f(".fancybox-overlay").remove();d.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(f("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");h?(b=Math.max(g.documentElement.offsetWidth,g.body.offsetWidth),e.width()>b&&(a=e.width())):e.width()>d.width()&&(a=e.width());this.overlay.width(a).height(e.height())},onReady:function(a,b){f(".fancybox-overlay").stop(!0,
!0);this.overlay||(this.margin=e.height()>d.height()||"scroll"===f("body").css("overflow-y")?f("body").css("margin-right"):!1,this.el=g.all&&!g.querySelector?f("html"):f("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&f("body").css("margin-right",m(this.margin)+b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||
this.update()},afterClose:function(a){this.overlay&&!b.isActive&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var c=b.current,d=c.title,e=a.type;f.isFunction(d)&&(d=d.call(c.element,c));if(n(d)&&""!==f.trim(d)){c=f('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>");switch(e){case "inside":e=b.skin;break;case "outside":e=b.wrap;break;case "over":e=b.inner;break;default:e=b.skin,c.appendTo("body"),
h&&c.width(c.width()),c.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(m(c.css("margin-bottom")))}c["top"===a.position?"prependTo":"appendTo"](e)}}};f.fn.fancybox=function(a){var c,d=f(this),g=this.selector||"",h=function(e){var h=f(this).blur(),k=c,n,p;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey)&&!h.is(".fancybox-wrap")&&(n=a.groupAttr||"data-fancybox-group",p=h.attr(n),p||(n="rel",p=h.get(0)[n]),p&&(""!==p&&"nofollow"!==p)&&(h=g.length?f(g):d,h=h.filter("["+n+'="'+p+
'"]'),k=h.index(this)),a.index=k,!1!==b.open(h,a)&&e.preventDefault())};a=a||{};c=a.index||0;!g||!1===a.live?d.unbind("click.fb-start").bind("click.fb-start",h):e.undelegate(g,"click.fb-start").delegate(g+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h);this.filter("[data-fancybox-start=1]").trigger("click");return this};e.ready(function(){f.scrollbarWidth===a&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),
b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});f.support.fixedPosition===a&&(f.support.fixedPosition=function(){var a=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")})})})(window,document,jQuery);
!function(c,g,f){c.fn.jScrollPane=function(a){function d(a,b){function d(b){var g,n,l,m,q,v=!1,t=!1;if(y=b,P===f)m=a.scrollTop(),q=a.scrollLeft(),a.css({overflow:"hidden",padding:0}),K=a.innerWidth()+wa,J=a.innerHeight(),a.width(K),P=c('<div class="jspPane" />').css("padding",Qa).append(a.children()),L=c('<div class="jspContainer" />').css({width:K+"px",height:J+"px"}).append(P).appendTo(a);else{if(a.css("width",""),v=y.stickToBottom&&F(),t=y.stickToRight&&M(),l=a.innerWidth()+wa!=K||a.outerHeight()!=
J,l&&(K=a.innerWidth()+wa,J=a.innerHeight(),L.css({width:K+"px",height:J+"px"})),!l&&Ja==O&&P.outerHeight()==da)return a.width(K),void 0;Ja=O;P.css("width","");a.width(K);L.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}P.css("overflow","auto");O=b.contentWidth?b.contentWidth:P[0].scrollWidth;da=P[0].scrollHeight;P.css("overflow","");ra=O/K;ha=da/J;ea=1<ha;(ca=1<ra)||ea?(a.addClass("jspScrollable"),(b=y.maintainPosition&&(W||U))&&(g=z(),n=G()),k(),p(),r(),b&&(H(t?O-K:g,!1),E(v?da-J:n,
!1)),S(),N(),Q(),y.enableKeyboardNavigation&&T(),y.clickOnTrack&&u(),Y(),y.hijackInternalLinks&&B()):(a.removeClass("jspScrollable"),P.css({top:0,left:0,width:L.width()-wa}),L.unbind(Da),P.find(":input,a").unbind("focus.jsp"),a.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),w());y.autoReinitialise&&!Aa?Aa=setInterval(function(){d(y)},y.autoReinitialiseDelay):!y.autoReinitialise&&Aa&&clearInterval(Aa);m&&a.scrollTop(0)&&E(m,!1);q&&a.scrollLeft(0)&&H(q,!1);a.trigger("jsp-initialised",
[ca||ea])}function k(){ea&&(L.append(c('<div class="jspVerticalBar" />').append(c('<div class="jspCap jspCapTop" />'),c('<div class="jspTrack" />').append(c('<div class="jspDrag" />').append(c('<div class="jspDragTop" />'),c('<div class="jspDragBottom" />'))),c('<div class="jspCap jspCapBottom" />'))),la=L.find(">.jspVerticalBar"),za=la.find(">.jspTrack"),X=za.find(">.jspDrag"),y.showArrows&&(Na=c('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",v(0,-1)).bind("click.jsp",R),Oa=c('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",
v(0,1)).bind("click.jsp",R),y.arrowScrollOnHover&&(Na.bind("mouseover.jsp",v(0,-1,Na)),Oa.bind("mouseover.jsp",v(0,1,Oa))),m(za,y.verticalArrowPositions,Na,Oa)),Ea=J,L.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){Ea-=c(this).outerHeight()}),X.hover(function(){X.addClass("jspHover")},function(){X.removeClass("jspHover")}).bind("mousedown.jsp",function(a){c("html").bind("dragstart.jsp selectstart.jsp",R);X.addClass("jspActive");var b=a.pageY-X.position().top;return c("html").bind("mousemove.jsp",
function(a){x(a.pageY-b,!1)}).bind("mouseup.jsp mouseleave.jsp",A),!1}),l())}function l(){za.height(Ea+"px");W=0;bb=y.verticalGutter+za.outerWidth();P.width(K-bb-wa);try{0===la.position().left&&P.css("margin-left",bb+"px")}catch(a){}}function p(){ca&&(L.append(c('<div class="jspHorizontalBar" />').append(c('<div class="jspCap jspCapLeft" />'),c('<div class="jspTrack" />').append(c('<div class="jspDrag" />').append(c('<div class="jspDragLeft" />'),c('<div class="jspDragRight" />'))),c('<div class="jspCap jspCapRight" />'))),
Sa=L.find(">.jspHorizontalBar"),s=Sa.find(">.jspTrack"),Z=s.find(">.jspDrag"),y.showArrows&&(Ha=c('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",v(-1,0)).bind("click.jsp",R),ua=c('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",v(1,0)).bind("click.jsp",R),y.arrowScrollOnHover&&(Ha.bind("mouseover.jsp",v(-1,0,Ha)),ua.bind("mouseover.jsp",v(1,0,ua))),m(s,y.horizontalArrowPositions,Ha,ua)),Z.hover(function(){Z.addClass("jspHover")},function(){Z.removeClass("jspHover")}).bind("mousedown.jsp",
function(a){c("html").bind("dragstart.jsp selectstart.jsp",R);Z.addClass("jspActive");var b=a.pageX-Z.position().left;return c("html").bind("mousemove.jsp",function(a){D(a.pageX-b,!1)}).bind("mouseup.jsp mouseleave.jsp",A),!1}),ga=L.innerWidth(),n())}function n(){L.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ga-=c(this).outerWidth()});s.width(ga+"px");U=0}function r(){if(ca&&ea){var a=s.outerHeight(),b=za.outerWidth();Ea-=a;c(Sa).find(">.jspCap:visible,>.jspArrow").each(function(){ga+=
c(this).outerWidth()});ga-=b;J-=b;K-=a;s.parent().append(c('<div class="jspCorner" />').css("width",a+"px"));l();n()}ca&&P.width(L.outerWidth()-wa+"px");da=P.outerHeight();ha=da/J;ca&&(na=Math.ceil(1/ra*ga),na>y.horizontalDragMaxWidth?na=y.horizontalDragMaxWidth:na<y.horizontalDragMinWidth&&(na=y.horizontalDragMinWidth),Z.width(na+"px"),ba=ga-na,I(U));ea&&(Fa=Math.ceil(1/ha*Ea),Fa>y.verticalDragMaxHeight?Fa=y.verticalDragMaxHeight:Fa<y.verticalDragMinHeight&&(Fa=y.verticalDragMinHeight),X.height(Fa+
"px"),V=Ea-Fa,C(W))}function m(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==f?g=b:b==g&&(f=b,e=c,c=d,d=e);a[f](c)[g](d)}function v(a,b,c){return function(){return q(a,b,this,c),this.blur(),!1}}function q(a,b,d,e){d=c(d).addClass("jspActive");var f,g,h=!0,k=function(){0!==a&&aa.scrollByX(a*y.arrowButtonSpeed);0!==b&&aa.scrollByY(b*y.arrowButtonSpeed);g=setTimeout(k,h?y.initialDelay:y.arrowRepeatFreq);h=!1};k();f=e?"mouseout.jsp":"mouseup.jsp";e=
e||c("html");e.bind(f,function(){d.removeClass("jspActive");g&&clearTimeout(g);g=null;e.unbind(f)})}function u(){w();ea&&za.bind("mousedown.jsp",function(a){if(a.originalTarget===f||a.originalTarget==a.currentTarget){var b,d=c(this),e=d.offset(),g=a.pageY-e.top-W,h=!0,k=function(){var c=d.offset(),c=a.pageY-c.top-Fa/2,e=J*y.scrollPagePercent,f=V*e/(da-J);if(0>g)W-f>c?aa.scrollByY(-e):x(c);else{if(!(0<g))return n(),void 0;c>W+f?aa.scrollByY(e):x(c)}b=setTimeout(k,h?y.initialDelay:y.trackClickRepeatFreq);
h=!1},n=function(){b&&clearTimeout(b);b=null;c(document).unbind("mouseup.jsp",n)};return k(),c(document).bind("mouseup.jsp",n),!1}});ca&&s.bind("mousedown.jsp",function(a){if(a.originalTarget===f||a.originalTarget==a.currentTarget){var b,d=c(this),e=d.offset(),g=a.pageX-e.left-U,h=!0,k=function(){var c=d.offset(),c=a.pageX-c.left-na/2,e=K*y.scrollPagePercent,f=ba*e/(O-K);if(0>g)U-f>c?aa.scrollByX(-e):D(c);else{if(!(0<g))return n(),void 0;c>U+f?aa.scrollByX(e):D(c)}b=setTimeout(k,h?y.initialDelay:
y.trackClickRepeatFreq);h=!1},n=function(){b&&clearTimeout(b);b=null;c(document).unbind("mouseup.jsp",n)};return k(),c(document).bind("mouseup.jsp",n),!1}})}function w(){s&&s.unbind("mousedown.jsp");za&&za.unbind("mousedown.jsp")}function A(){c("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");X&&X.removeClass("jspActive");Z&&Z.removeClass("jspActive")}function x(a,b){ea&&(0>a?a=0:a>V&&(a=V),b===f&&(b=y.animateScroll),b?aa.animate(X,"top",a,C):(X.css("top",a),
C(a)))}function C(b){b===f&&(b=X.position().top);L.scrollTop(0);W=b;var c=0===W,d=W==V;b=-(b/V)*(da-J);(Ia!=c||oa!=d)&&(Ia=c,oa=d,a.trigger("jsp-arrow-change",[Ia,oa,va,ja]));y.showArrows&&(Na[c?"addClass":"removeClass"]("jspDisabled"),Oa[d?"addClass":"removeClass"]("jspDisabled"));P.css("top",b);a.trigger("jsp-scroll-y",[-b,c,d]).trigger("scroll")}function D(a,b){ca&&(0>a?a=0:a>ba&&(a=ba),b===f&&(b=y.animateScroll),b?aa.animate(Z,"left",a,I):(Z.css("left",a),I(a)))}function I(b){b===f&&(b=Z.position().left);
L.scrollTop(0);U=b;var c=0===U,d=U==ba;b=-(b/ba)*(O-K);(va!=c||ja!=d)&&(va=c,ja=d,a.trigger("jsp-arrow-change",[Ia,oa,va,ja]));y.showArrows&&(Ha[c?"addClass":"removeClass"]("jspDisabled"),ua[d?"addClass":"removeClass"]("jspDisabled"));P.css("left",b);a.trigger("jsp-scroll-x",[-b,c,d]).trigger("scroll")}function E(a,b){x(a/(da-J)*V,b)}function H(a,b){D(a/(O-K)*ba,b)}function t(a,b,d){var e,f,g,h,k,n,B=k=0;try{e=c(a)}catch(p){return}f=e.outerHeight();a=e.outerWidth();L.scrollTop(0);for(L.scrollLeft(0);!e.is(".jspPane");)if(k+=
e.position().top,B+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;e=G();h=e+J;e>k||b?g=k-y.horizontalGutter:k+f>h&&(g=k-J+f+y.horizontalGutter);isNaN(g)||E(g,d);g=z();k=g+K;g>B||b?n=B-y.horizontalGutter:B+a>k&&(n=B-K+a+y.horizontalGutter);isNaN(n)||H(n,d)}function z(){return-P.position().left}function G(){return-P.position().top}function F(){var a=da-J;return 20<a&&10>a-G()}function M(){var a=O-K;return 20<a&&10>a-z()}function N(){L.unbind(Da).bind(Da,function(a,b,
c,d){a=U;b=W;return aa.scrollBy(c*y.mouseWheelSpeed,-d*y.mouseWheelSpeed,!1),a==U&&b==W})}function R(){return!1}function S(){P.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){t(a.target,!1)})}function T(){function b(){var a=U,c=W;switch(d){case 40:aa.scrollByY(y.keyboardSpeed,!1);break;case 38:aa.scrollByY(-y.keyboardSpeed,!1);break;case 34:case 32:aa.scrollByY(J*y.scrollPagePercent,!1);break;case 33:aa.scrollByY(-J*y.scrollPagePercent,!1);break;case 39:aa.scrollByX(y.keyboardSpeed,
!1);break;case 37:aa.scrollByX(-y.keyboardSpeed,!1)}return f=a!=U||c!=W}var d,f,g=[];ca&&g.push(Sa[0]);ea&&g.push(la[0]);P.focus(function(){a.focus()});a.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(a){if(a.target===this||g.length&&c(a.target).closest(g).length){var e=U,h=W;switch(a.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=a.keyCode;b();break;case 35:E(da-J);d=null;break;case 36:E(0),d=null}return f=a.keyCode==d&&e!=U||h!=W,!f}}).bind("keypress.jsp",
function(a){return a.keyCode==d&&b(),!f});y.hideFocus?(a.css("outline","none"),"hideFocus"in L[0]&&a.attr("hideFocus",!0)):(a.css("outline",""),"hideFocus"in L[0]&&a.attr("hideFocus",!1))}function Y(){if(location.hash&&1<location.hash.length){var a,b,d=escape(location.hash.substr(1));try{a=c("#"+d+', a[name="'+d+'"]')}catch(e){return}a.length&&P.find(d)&&(0===L.scrollTop()?b=setInterval(function(){0<L.scrollTop()&&(t(a,!0),c(document).scrollTop(L.position().top),clearInterval(b))},50):(t(a,!0),c(document).scrollTop(L.position().top)))}}
function B(){c(document.body).data("jspHijack")||(c(document.body).data("jspHijack",!0),c(document.body).delegate("a[href*=#]","click",function(a){var b,d,e,f,h,k;b=this.href.substr(0,this.href.indexOf("#"));var n=location.href;if(-1!==location.href.indexOf("#")&&(n=location.href.substr(0,location.href.indexOf("#"))),b===n){b=escape(this.href.substr(this.href.indexOf("#")+1));try{d=c("#"+b+', a[name="'+b+'"]')}catch(B){return}d.length&&(e=d.closest(".jspScrollable"),f=e.data("jsp"),f.scrollToElement(d,
!0),e[0].scrollIntoView&&(h=c(g).scrollTop(),k=d.offset().top,(h>k||k>h+c(g).height())&&e[0].scrollIntoView()),a.preventDefault())}}))}function Q(){var a,b,c,d,e,f=!1;L.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){g=g.originalEvent.touches[0];a=z();b=G();c=g.pageX;d=g.pageY;e=!1;f=!0}).bind("touchmove.jsp",function(g){if(f){g=g.originalEvent.touches[0];var h=U,k=W;return aa.scrollTo(a+c-g.pageX,b+d-g.pageY),e=e||5<Math.abs(c-g.pageX)||
5<Math.abs(d-g.pageY),h==U&&k==W}}).bind("touchend.jsp",function(){f=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}var y,P,K,J,L,O,da,ra,ha,ea,ca,X,V,W,Z,ba,U,la,za,bb,Ea,Fa,Na,Oa,Sa,s,ga,na,Ha,ua,Aa,Qa,wa,Ja,aa=this,Ia=!0,va=!0,oa=!1,ja=!1,Ka=a.clone(!1,!1).empty(),Da=c.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===a.css("box-sizing")?(Qa=0,wa=0):(Qa=a.css("paddingTop")+" "+a.css("paddingRight")+" "+a.css("paddingBottom")+" "+a.css("paddingLeft"),wa=
(parseInt(a.css("paddingLeft"),10)||0)+(parseInt(a.css("paddingRight"),10)||0));c.extend(aa,{reinitialise:function(a){a=c.extend({},y,a);d(a)},scrollToElement:function(a,b,c){t(a,b,c)},scrollTo:function(a,b,c){H(a,c);E(b,c)},scrollToX:function(a,b){H(a,b)},scrollToY:function(a,b){E(a,b)},scrollToPercentX:function(a,b){H(a*(O-K),b)},scrollToPercentY:function(a,b){E(a*(da-J),b)},scrollBy:function(a,b,c){aa.scrollByX(a,c);aa.scrollByY(b,c)},scrollByX:function(a,b){var c=(z()+Math[0>a?"floor":"ceil"](a))/
(O-K);D(c*ba,b)},scrollByY:function(a,b){var c=(G()+Math[0>a?"floor":"ceil"](a))/(da-J);x(c*V,b)},positionDragX:function(a,b){D(a,b)},positionDragY:function(a,b){x(a,b)},animate:function(a,b,c,d){var e={};e[b]=c;a.animate(e,{duration:y.animateDuration,easing:y.animateEase,queue:!1,step:d})},getContentPositionX:function(){return z()},getContentPositionY:function(){return G()},getContentWidth:function(){return O},getContentHeight:function(){return da},getPercentScrolledX:function(){return z()/(O-K)},
getPercentScrolledY:function(){return G()/(da-J)},getIsScrollableH:function(){return ca},getIsScrollableV:function(){return ea},getContentPane:function(){return P},scrollToBottom:function(a){x(V,a)},hijackInternalLinks:c.noop,destroy:function(){var b=G(),c=z();a.removeClass("jspScrollable").unbind(".jsp");a.replaceWith(Ka.append(P.children()));Ka.scrollTop(b);Ka.scrollLeft(c);Aa&&clearInterval(Aa)}});d(b)}return a=c.extend({},c.fn.jScrollPane.defaults,a),c.each(["arrowButtonSpeed","trackClickSpeed",
"keyboardSpeed"],function(){a[this]=a[this]||a.speed}),this.each(function(){var e=c(this),b=e.data("jsp");b?b.reinitialise(a):(c("script",e).filter('[type="text/javascript"],:not([type])').remove(),b=new d(e,a),e.data("jsp",b))})};c.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,
animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}}(jQuery,this);
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?module.exports=c:c(jQuery)})(function(c){function g(a){var b=a||window.event,f=[].slice.call(arguments,1),g=0,n=0,r=0,m=0,m=0;a=c.event.fix(b);a.type="mousewheel";b.wheelDelta&&(g=b.wheelDelta);b.detail&&(g=-1*b.detail);b.deltaY&&(g=r=-1*b.deltaY);b.deltaX&&(n=b.deltaX,g=-1*n);void 0!==b.wheelDeltaY&&(r=b.wheelDeltaY);void 0!==b.wheelDeltaX&&(n=-1*b.wheelDeltaX);m=Math.abs(g);if(!d||m<d)d=m;m=Math.max(Math.abs(r),
Math.abs(n));if(!e||m<e)e=m;b=0<g?"floor":"ceil";g=Math[b](g/d);n=Math[b](n/e);r=Math[b](r/e);f.unshift(a,g,n,r);return(c.event.dispatch||c.event.handle).apply(this,f)}var f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d,e;if(c.event.fixHooks)for(var b=f.length;b;)c.event.fixHooks[f[--b]]=c.event.mouseHooks;c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=
a.length;b;)this.addEventListener(a[--b],g,!1);else this.onmousewheel=g},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],g,!1);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
(function(c){if("object"==typeof exports)c(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],c);else{if(!window.Spinner)throw Error("Spin.js not present");c(window.jQuery,window.Spinner)}})(function(c,g){c.fn.spin=function(f,a){return this.each(function(){var d=c(this),e=d.data();e.spinner&&(e.spinner.stop(),delete e.spinner);!1!==f&&(f=c.extend({color:a||d.css("color")},c.fn.spin.presets[f]||f),e.spinner=(new g(f)).spin(this))})};c.fn.spin.presets=
{tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});(function(c){function g(c){if(c){if("string"==typeof a[c])return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(var e,b=0,g=f.length;g>b;b++)if(e=f[b]+c,"string"==typeof a[e])return e}}var f=["Webkit","Moz","ms","Ms","O"],a=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return g}):c.getStyleProperty=g})(window);
(function(c){function g(a){var b=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(b)&&b}function f(a){var c,f=a("boxSizing");return function(){if(f){var a=document.createElement("div");a.style.width="200px";a.style.padding="1px 2px 3px 4px";a.style.borderStyle="solid";a.style.borderWidth="1px 2px 3px 4px";a.style[f]="border-box";var b=document.body||document.documentElement;b.appendChild(a);var d=e(a);c=200===g(d.width);b.removeChild(a)}}(),function(a){if("string"==typeof a&&(a=document.querySelector(a)),
a&&"object"==typeof a&&a.nodeType){var h=e(a);if("none"===h.display){for(var r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},h=0,m=b.length;m>h;h++)r[b[h]]=0;return r}r={};r.width=a.offsetWidth;r.height=a.offsetHeight;for(var m=r.isBorderBox=!(!f||!h[f]||"border-box"!==h[f]),v=0,q=b.length;q>v;v++){var u=b[v],w=h[u];var A=a,x=w;if(d||-1===x.indexOf("%"))w=x;else var w=A.style,C=w.left,D=A.runtimeStyle,I=D&&D.left,w=(I&&(D.left=A.currentStyle.left),w.left=x,x=w.pixelLeft,
w.left=C,I&&(D.left=I),x);A=parseFloat(w);r[u]=isNaN(A)?0:A}a=r.paddingLeft+r.paddingRight;v=r.paddingTop+r.paddingBottom;q=r.marginLeft+r.marginRight;u=r.marginTop+r.marginBottom;A=r.borderLeftWidth+r.borderRightWidth;x=r.borderTopWidth+r.borderBottomWidth;m=m&&c;w=g(h.width);!1!==w&&(r.width=w+(m?0:a+A));h=g(h.height);return!1!==h&&(r.height=h+(m?0:v+x)),r.innerWidth=r.width-(a+A),r.innerHeight=r.height-(v+x),r.outerWidth=r.width+q,r.outerHeight=r.height+u,r}}}var a=document.defaultView,d=a&&a.getComputedStyle,
e=d?function(b){return a.getComputedStyle(b,null)}:function(a){return a.currentStyle},b="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],f):c.getSize=f(c.getStyleProperty)})(window);
(function(c){var g=document.documentElement,f=function(){};g.addEventListener?f=function(a,c,b){a.addEventListener(c,b,!1)}:g.attachEvent&&(f=function(a,e,b){a[e+b]=b.handleEvent?function(){var a=c.event;a.target=a.target||a.srcElement;b.handleEvent.call(b,a)}:function(){var e=c.event;e.target=e.target||e.srcElement;b.call(a,e)};a.attachEvent("on"+e,a[e+b])});var a=function(){};g.removeEventListener?a=function(a,c,b){a.removeEventListener(c,b,!1)}:g.detachEvent&&(a=function(a,c,b){a.detachEvent("on"+
c,a[c+b]);try{delete a[c+b]}catch(f){a[c+b]=void 0}});g={bind:f,unbind:a};"function"==typeof define&&define.amd?define(g):c.eventie=g})(this);
(function(c){function g(a){"function"==typeof a&&(g.isReady?a():e.push(a))}function f(a){a="readystatechange"===a.type&&"complete"!==d.readyState;if(!g.isReady&&!a){g.isReady=!0;a=0;for(var c=e.length;c>a;a++)(0,e[a])()}}function a(a){return a.bind(d,"DOMContentLoaded",f),a.bind(d,"readystatechange",f),a.bind(c,"load",f),g}var d=c.document,e=[];g.isReady=!1;"function"==typeof define&&define.amd?(g.isReady="function"==typeof requirejs,define(["eventie/eventie"],a)):c.docReady=a(c.eventie)})(this);
(function(){function c(){}function g(a,c){for(var b=a.length;b--;)if(a[b].listener===c)return b;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}var a=c.prototype;a.getListeners=function(a){var c,b,f=this._getEvents();if("object"==typeof a)for(b in c={},f)f.hasOwnProperty(b)&&a.test(b)&&(c[b]=f[b]);else c=f[a]||(f[a]=[]);return c};a.flattenListeners=function(a){var c,b=[];for(c=0;a.length>c;c+=1)b.push(a[c].listener);return b};a.getListenersAsObject=function(a){var c,
b=this.getListeners(a);return b instanceof Array&&(c={},c[a]=b),c||b};a.addListener=function(a,c){var b,f=this.getListenersAsObject(a),k="object"==typeof c;for(b in f)f.hasOwnProperty(b)&&-1===g(f[b],c)&&f[b].push(k?c:{listener:c,once:!1});return this};a.on=f("addListener");a.addOnceListener=function(a,c){return this.addListener(a,{listener:c,once:!0})};a.once=f("addOnceListener");a.defineEvent=function(a){return this.getListeners(a),this};a.defineEvents=function(a){for(var c=0;a.length>c;c+=1)this.defineEvent(a[c]);
return this};a.removeListener=function(a,c){var b,f,k=this.getListenersAsObject(a);for(f in k)k.hasOwnProperty(f)&&(b=g(k[f],c),-1!==b&&k[f].splice(b,1));return this};a.off=f("removeListener");a.addListeners=function(a,c){return this.manipulateListeners(!1,a,c)};a.removeListeners=function(a,c){return this.manipulateListeners(!0,a,c)};a.manipulateListeners=function(a,c,b){var f,g,l=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof
RegExp)for(f=b.length;f--;)l.call(this,c,b[f]);else for(f in c)c.hasOwnProperty(f)&&(g=c[f])&&("function"==typeof g?l.call(this,f,g):a.call(this,f,g));return this};a.removeEvent=function(a){var c,b=typeof a,f=this._getEvents();if("string"===b)delete f[a];else if("object"===b)for(c in f)f.hasOwnProperty(c)&&a.test(c)&&delete f[c];else delete this._events;return this};a.removeAllListeners=f("removeEvent");a.emitEvent=function(a,c){var b,f,g,l,p=this.getListenersAsObject(a);for(g in p)if(p.hasOwnProperty(g))for(f=
p[g].length;f--;)b=p[g][f],!0===b.once&&this.removeListener(a,b.listener),l=b.listener.apply(this,c||[]),l===this._getOnceReturnValue()&&this.removeListener(a,b.listener);return this};a.trigger=f("emitEvent");a.emit=function(a){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,c)};a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof module&&module.exports?module.exports=c:this.EventEmitter=c}).call(this);
(function(c){function g(){}function f(c){function e(a){a.prototype.option||(a.prototype.option=function(a){c.isPlainObject(a)&&(this.options=c.extend(!0,this.options,a))})}function b(b,e){c.fn[b]=function(g){if("string"==typeof g){for(var n=a.call(arguments,1),r=0,m=this.length;m>r;r++){var v=c.data(this[r],b);if(v)if(c.isFunction(v[g])&&"_"!==g.charAt(0)){if(v=v[g].apply(v,n),void 0!==v)return v}else f("no such method '"+g+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+
g+"'")}return this}return this.each(function(){var a=c.data(this,b);a?(a.option(g),a._init()):(a=new e(this,g),c.data(this,b,a))})}}if(c){var f="undefined"==typeof console?g:function(a){console.error(a)};c.bridget=function(a,c){e(c);b(a,c)}}}var a=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],f):f(c.jQuery)})(window);
(function(c,g){function f(a,c){return a[b](c)}function a(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);for(var c=a.parentNode.querySelectorAll(b),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1}function d(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);return f(a,b)}var e,b=function(){if(g.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],b=0,c=a.length;c>b;b++){var d=a[b]+"MatchesSelector";if(g[d])return d}}();if(b){var h=document.createElement("div");
e=f(h,"div")?f:d}else e=a;"function"==typeof define&&define.amd?define(function(){return e}):window.matchesSelector=e})(this,Element.prototype);
(function(c){function g(a,c){for(var d in c)a[d]=c[d];return a}function f(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function a(a,c,d){function l(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var p=d("transition"),n=d("transform"),r=p&&n,m=!!d("perspective"),v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[p],q=["transform","transition","transitionDuration","transitionProperty"],
u=function(){for(var a={},b=0,c=q.length;c>b;b++){var e=q[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();g(l.prototype,a.prototype);l.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};l.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)};l.prototype.getSize=function(){this.size=c(this.element)};l.prototype.css=function(a){var b=this.element.style,c;for(c in a)b[u[c]||c]=a[c]};l.prototype.getPosition=function(){var a=
e(this.element),b=this.layout.options,c=b.isOriginLeft,b=b.isOriginTop,d=parseInt(a[c?"left":"right"],10),a=parseInt(a[b?"top":"bottom"],10),d=isNaN(d)?0:d,a=isNaN(a)?0:a,f=this.layout.size,d=d-(c?f.paddingLeft:f.paddingRight),a=a-(b?f.paddingTop:f.paddingBottom);this.position.x=d;this.position.y=a};l.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",
c.left="");b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top="");this.css(c);this.emitEvent("layout",[this])};var w=m?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};l.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),e=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),e&&!this.isTransitioning)return this.layoutPosition(),
void 0;c=a-c;d=b-d;e={};f=this.layout.options;c=f.isOriginLeft?c:-c;d=f.isOriginTop?d:-d;e.transform=w(c,d);this.transition({to:e,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};l.prototype.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};l.prototype.moveTo=r?l.prototype._transitionTo:l.prototype.goTo;l.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};l.prototype._nonTransition=function(a){this.css(a.to);a.isCleaning&&
this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};l.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(a),void 0;var b=this._transition,c;for(c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0};var A=n&&f(n)+",opacity";l.prototype.enableTransition=
function(){this.isTransitioning||(this.css({transitionProperty:A,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(v,this,!1))};l.prototype.transition=l.prototype[p?"_transition":"_nonTransition"];l.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};l.prototype.onotransitionend=function(a){this.ontransitionend(a)};var x={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};l.prototype.ontransitionend=function(a){if(a.target===
this.element){var b=this._transition,c=x[a.propertyName]||a.propertyName;delete b.ingProperties[c];var d;a:{for(d in b.ingProperties){d=!1;break a}d=!0}if(d&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd)b.onEnd[c].call(this),delete b.onEnd[c];this.emitEvent("transitionEnd",[this])}};l.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(v,this,!1);this.isTransitioning=!1};l.prototype._removeStyles=
function(a){var b={},c;for(c in a)b[c]="";this.css(b)};var C={transitionProperty:"",transitionDuration:""};return l.prototype.removeTransitionStyles=function(){this.css(C)},l.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])},l.prototype.remove=function(){if(!p||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0});this.hide()},l.prototype.reveal=
function(){delete this.isHidden;this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},l.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.css({display:"none"})}}})},l.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},l}
var d=document.defaultView,e=d&&d.getComputedStyle?function(a){return d.getComputedStyle(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],a):(c.Outlayer={},c.Outlayer.Item=a(c.EventEmitter,c.getSize,c.getStyleProperty))})(window);
(function(c){function g(a,b){for(var c in b)a[c]=b[c];return a}function f(a){var b=[];if("[object Array]"===p.call(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function a(a,b){var c=r(b,a);-1!==c&&b.splice(c,1)}function d(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function e(e,p,q,r,w,A){function x(a,c){if("string"==typeof a&&(a=b.querySelector(a)),!a||!n(a))return h&&h.error("Bad "+this.settings.namespace+
" element: "+a),void 0;this.element=a;this.options=g({},this.options);this.option(c);var d=++D;this.element.outlayerGUID=d;I[d]=this;this._create();this.options.isInitLayout&&this.layout()}function C(a,b){a.prototype[b]=g({},x.prototype[b])}var D=0,I={};return x.prototype.settings={namespace:"outlayer",item:A},x.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},
visibleStyle:{opacity:1,transform:"scale(1)"}},g(x.prototype,q.prototype),x.prototype.option=function(a){g(this.options,a)},x.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);g(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()},x.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},x.prototype._itemize=function(a){a=this._filterFindItemElements(a);for(var b=this.settings.item,c=[],
d=0,e=a.length;e>d;d++){var f=new b(a[d],this);c.push(f)}return c},x.prototype._filterFindItemElements=function(a){a=f(a);for(var b=this.options.itemSelector,c=[],d=0,e=a.length;e>d;d++){var g=a[d];if(n(g))if(b){w(g,b)&&c.push(g);for(var g=g.querySelectorAll(b),h=0,k=g.length;k>h;h++)c.push(g[h])}else c.push(g)}return c},x.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},x.prototype.layout=function(){this._resetLayout();this._manageStamps();
this.layoutItems(this.items,void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited);this._isLayoutInited=!0},x.prototype._init=x.prototype.layout,x.prototype._resetLayout=function(){this.getSize()},x.prototype.getSize=function(){this.size=r(this.element)},x.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):n(d)&&(c=d),this[a]=c?r(c)[b]:d):this[a]=0},x.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a);
this._layoutItems(a,b);this._postLayout()},x.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},x.prototype._layoutItems=function(a,b){if(!a||!a.length)return this.emitEvent("layoutComplete",[this,a]),void 0;this._itemsOn(a,"layout",function(){this.emitEvent("layoutComplete",[this,a])});for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f;g.isInstant=b;c.push(g)}this._processLayoutQueue(c)},
x.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},x.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},x.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},x.prototype._postLayout=function(){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))},x.prototype._getContainerSize=l,x.prototype._setContainerMeasure=function(a,b){if(void 0!==
a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}},x.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,k=a.length;k>h;h++)a[h].on(b,d)},x.prototype.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)},x.prototype.unignore=function(a){(a=this.getItem(a))&&
delete a.isIgnored},x.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++)this.ignore(a[b])}},x.prototype.unstamp=function(b){if(b=this._find(b))for(var c=0,d=b.length;d>c;c++){var e=b[c];a(e,this.stamps);this.unignore(e)}},x.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),f(a)):void 0},x.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=
0,b=this.stamps.length;b>a;a++)this._manageStamp(this.stamps[a])}},x.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},x.prototype._manageStamp=l,x.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect;a=r(a);
return{left:b.left-c.left-a.marginLeft,top:b.top-c.top-a.marginTop,right:c.right-b.right-a.marginRight,bottom:c.bottom-b.bottom-a.marginBottom}},x.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},x.prototype.bindResize=function(){this.isResizeBound||(e.bind(c,"resize",this),this.isResizeBound=!0)},x.prototype.unbindResize=function(){e.unbind(c,"resize",this);this.isResizeBound=!1},x.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;
this.resizeTimeout=setTimeout(function(){a.resize();delete a.resizeTimeout},100)},x.prototype.resize=function(){var a=r(this.element);this.size&&a&&a.innerWidth===this.size.innerWidth||this.layout()},x.prototype.addItems=function(a){a=this._itemize(a);return a.length&&(this.items=this.items.concat(a)),a},x.prototype.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))},x.prototype.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);
this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}},x.prototype.reveal=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].reveal()},x.prototype.hide=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].hide()},x.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},x.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>
c;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b}},x.prototype.remove=function(b){b=f(b);var c=this.getItems(b);if(c&&c.length){this._itemsOn(c,"remove",function(){this.emitEvent("removeComplete",[this,c])});b=0;for(var d=c.length;d>b;b++){var e=c[b];e.remove();a(e,this.items)}}},x.prototype.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";for(var a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.unbindResize();delete this.element.outlayerGUID;k&&k.removeData(this.element,
this.settings.namespace)},x.data=function(a){return(a=a&&a.outlayerGUID)&&I[a]},x.create=function(a,c){function e(){x.apply(this,arguments)}return g(e.prototype,x.prototype),C(e,"options"),C(e,"settings"),g(e.prototype.options,c),e.prototype.settings.namespace=a,e.data=x.data,e.Item=function(){A.apply(this,arguments)},e.Item.prototype=new A,e.prototype.settings.item=e.Item,p(function(){for(var c=d(a),f=b.querySelectorAll(".js-"+c),c="data-"+c+"-options",g=0,n=f.length;n>g;g++){var p,l=f[g],m=l.getAttribute(c);
try{p=m&&JSON.parse(m)}catch(q){h&&h.error("Error parsing "+c+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+q);continue}m=new e(l,p);k&&k.data(l,a,m)}}),k&&k.bridget&&k.bridget(a,e),e},x.Item=A,x}var b=c.document,h=c.console,k=c.jQuery,l=function(){},p=Object.prototype.toString,n="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},r=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:
function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("eventie/eventie doc-ready/doc-ready eventEmitter/EventEmitter get-size/get-size matches-selector/matches-selector ./item".split(" "),e):c.Outlayer=e(c.eventie,c.docReady,c.EventEmitter,c.getSize,c.matchesSelector,c.Outlayer.Item)})(window);
(function(c){function g(a,c){var e=a.create("masonry");return e.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},e.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&c(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;
this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)},e.prototype.getContainerWidth=function(){var a=c(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=a&&a.innerWidth},e.prototype._getItemLayoutPosition=function(a){a.getSize();var c=Math.ceil(a.size.outerWidth/this.columnWidth),c=Math.min(c,this.cols),d=this._getColGroup(c),e=Math.min.apply(Math,d),c=f(d,e),g={x:this.columnWidth*c,y:e};a=e+a.size.outerHeight;d=this.cols+
1-d.length;for(e=0;d>e;e++)this.colYs[c+e]=a;return g},e.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var c=[],d=this.cols+1-a,e=0;d>e;e++){var f=this.colYs.slice(e,e+a);c[e]=Math.max.apply(Math,f)}return c},e.prototype._manageStamp=function(a){var e=c(a);a=this._getElementOffset(a);var f=this.options.isOriginLeft?a.left:a.right,g=f+e.outerWidth,f=Math.floor(f/this.columnWidth),f=Math.max(0,f),g=Math.floor(g/this.columnWidth),g=Math.min(this.cols-1,g),e=(this.options.isOriginTop?
a.top:a.bottom)+e.outerHeight;for(a=f;g>=a;a++)this.colYs[a]=Math.max(e,this.colYs[a])},e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},e.prototype._getContainerFitWidth=function(){for(var a=0,c=this.cols;--c&&0===this.colYs[c];)a++;return(this.cols-a)*this.columnWidth-this.gutter},e.prototype.resize=function(){var a=this.containerWidth;this.getContainerWidth();a!==
this.containerWidth&&this.layout()},e}var f=Array.prototype.indexOf?function(a,c){return a.indexOf(c)}:function(a,c){for(var e=0,b=a.length;b>e;e++)if(a[e]===c)return e;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],g):c.Masonry=g(c.Outlayer,c.getSize)})(window);
+function(c){var g=function(a,d){this.options=d;this.$element=c(a);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};g.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};g.prototype.toggle=function(a){return this[!this.isShown?"show":"hide"](a)};g.prototype.show=function(a){var d=this,e=c.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(e);!this.isShown&&!e.isDefaultPrevented()&&
(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this)),this.backdrop(function(){var b=c.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(document.body);d.$element.show().scrollTop(0);b&&d.$element[0].offsetWidth;d.$element.addClass("in").attr("aria-hidden",!1);d.enforceFocus();var e=c.Event("shown.bs.modal",{relatedTarget:a});b?d.$element.find(".modal-dialog").one(c.support.transition.end,
function(){d.$element.focus().trigger(e)}).emulateTransitionEnd(300):d.$element.focus().trigger(e)}))};g.prototype.hide=function(a){a&&a.preventDefault();a=c.Event("hide.bs.modal");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,
this)).emulateTransitionEnd(300):this.hideModal())};g.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.focus()},this))};g.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};g.prototype.hideModal=
function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};g.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};g.prototype.backdrop=function(a){var d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=c.support.transition&&d;this.$backdrop=c('<div class="modal-backdrop '+d+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",c.proxy(function(a){a.target===
a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));e&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");a&&(e?this.$backdrop.one(c.support.transition.end,a).emulateTransitionEnd(150):a())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()};var f=c.fn.modal;c.fn.modal=
function(a,d){return this.each(function(){var e=c(this),b=e.data("bs.modal"),f=c.extend({},g.DEFAULTS,e.data(),"object"==typeof a&&a);b||e.data("bs.modal",b=new g(this,f));if("string"==typeof a)b[a](d);else f.show&&b.show(d)})};c.fn.modal.Constructor=g;c.fn.modal.noConflict=function(){c.fn.modal=f;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var d=c(this),e=d.attr("href"),b=c(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),e=b.data("bs.modal")?
"toggle":c.extend({remote:!/#/.test(e)&&e},b.data(),d.data());d.is("a")&&a.preventDefault();b.modal(e,this).one("hide",function(){d.is(":visible")&&d.focus()})});c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")})}(jQuery);
(function(c){function g(){this===f.elem&&(f.pos=[-260,-260],f.elem=!1,a=3)}var f={pos:[-260,-260]},a=3,d=document,e=d.documentElement,b=d.body,h,k;c.event.special.mwheelIntent={setup:function(){var a=c(this).bind("mousewheel",c.event.special.mwheelIntent.handler);this!==d&&(this!==e&&this!==b)&&a.bind("mouseleave",g);return!0},teardown:function(){c(this).unbind("mousewheel",c.event.special.mwheelIntent.handler).unbind("mouseleave",g);return!0},handler:function(b,d){var e=[b.clientX,b.clientY];if(this===
f.elem||Math.abs(f.pos[0]-e[0])>a||Math.abs(f.pos[1]-e[1])>a)return f.elem=this,f.pos=e,a=250,clearTimeout(k),k=setTimeout(function(){a=10},200),clearTimeout(h),h=setTimeout(function(){a=3},1500),b=c.extend({},b,{type:"mwheelIntent"}),(c.event.dispatch||c.event.handle).apply(this,arguments)}};c.fn.extend({mwheelIntent:function(a){return a?this.bind("mwheelIntent",a):this.trigger("mwheelIntent")},unmwheelIntent:function(a){return this.unbind("mwheelIntent",a)}});c(function(){b=d.body;c(d).bind("mwheelIntent.mwheelIntentDefault",
c.noop)})})(jQuery);!function(c){"undefined"==typeof c.fn.each2&&c.extend(c.fn,{each2:function(g){for(var f=c([0]),a=-1,d=this.length;++a<d&&(f.context=f[0]=this[a])&&!1!==g.call(f[0],a,f););return this}})}(jQuery);
(function(c,g){function f(a){var b,c,d,e;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;d>c;c++)e=a.charAt(c),b+=Y[e]||e;return b}function a(a,b){for(var c=0,d=b.length;d>c;c+=1)if(e(a,b[c]))return c;return-1}function d(){var a=c(T);a.appendTo("body");var b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),b}function e(a,b){return a===b?!0:a===g||b===g?!1:null===a||null===b?!1:a.constructor===String?a+""==b+"":b.constructor===String?b+""==a+"":!1}function b(a,
b){var d,e,f;if(null===a||1>a.length)return[];d=a.split(b);e=0;for(f=d.length;f>e;e+=1)d[e]=c.trim(d[e]);return d}function h(a){a.on("keydown",function(){c.data(a,"keyup-change-value")===g&&c.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var b=c.data(a,"keyup-change-value");b!==g&&a.val()!==b&&(c.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))})}function k(a){a.on("mousemove",function(a){var b=S;(b===g||b.x!==a.pageX||b.y!==a.pageY)&&c(a.target).trigger("mousemove-filtered",
a)})}function l(a,b,c){c=c||g;var d;return function(){var e=arguments;window.clearTimeout(d);d=window.setTimeout(function(){b.apply(c,e)},a)}}function p(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}}function n(b,c){var d=l(b,function(a){c.trigger("scroll-debounced",a)});c.on("scroll",function(b){0<=a(b.target,c.get())&&d(b)})}function r(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();a.is(":visible")&&c===document.activeElement&&
(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function m(a){a.preventDefault();a.stopPropagation()}function v(a,b,d){var e,f,g=[];(e=a.attr("class"))&&(e=""+e,c(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&g.push(this)}));(e=b.attr("class"))&&(e=""+e,c(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(f=d(this),f&&g.push(f))}));a.attr("class",g.join(" "))}function q(a,b,c,d){var e=f(a.toUpperCase()).indexOf(f(b.toUpperCase()));
b=b.length;return 0>e?(c.push(d(a)),void 0):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+b))),c.push("</span>"),c.push(d(a.substring(e+b,a.length))),void 0)}function u(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function w(a){var b,d=null,e=a.quietMillis||100,f=a.url,h=this;return function(k){window.clearTimeout(b);b=window.setTimeout(function(){var b=
a.data,e=f,n=a.transport||c.fn.select2.ajaxDefaults.transport,p=c.extend({},c.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||g,dataType:a.dataType||"json"}),b=b?b.call(h,k.term,k.page,k.context):null,e="function"==typeof e?e.call(h,k.term,k.page,k.context):e;d&&d.abort();a.params&&(c.isFunction(a.params)?c.extend(p,a.params.call(h)):c.extend(p,a.params));c.extend(p,{url:e,dataType:a.dataType,data:b,success:function(b){b=a.results(b,k.page);k.callback(b)}});
d=n.call(h,p)},e)}}function A(a){var b,d,e=a,f=function(a){return""+a.text};c.isArray(e)&&(d=e,e={results:d});!1===c.isFunction(e)&&(d=e,e=function(){return d});a=e();return a.text&&(f=a.text,c.isFunction(f)||(b=a.text,f=function(a){return a[b]})),function(a){var b,d=a.term,g={results:[]};return""===d?(a.callback(e()),void 0):(b=function(e,g){var h,k;if(e=e[0],e.children){h={};for(k in e)e.hasOwnProperty(k)&&(h[k]=e[k]);h.children=[];c(e.children).each2(function(a,c){b(c,h.children)});(h.children.length||
a.matcher(d,f(h),e))&&g.push(h)}else a.matcher(d,f(e),e)&&g.push(e)},c(e().results).each2(function(a,c){b(c,g.results)}),a.callback(g),void 0)}}function x(a){var b=c.isFunction(a);return function(d){var e=d.term,f={results:[]};c(b?a():a).each(function(){var a=this.text!==g,b=a?this.text:this;(""===e||d.matcher(e,b))&&f.results.push(a?this:{id:this,text:this})});d.callback(f)}}function C(a,b){if(c.isFunction(a))return!0;if(!a)return!1;throw Error(b+" must be a function or a falsy value");}function D(a){return c.isFunction(a)?
a():a}function I(a){var b=0;return c.each(a,function(a,c){c.children?b+=I(c.children):b++}),b}function E(a,b,c,d){var f,h,k,n,p,l=a;h=!1;if(!d.createSearchChoice||!d.tokenSeparators||1>d.tokenSeparators.length)return g;for(;;){h=-1;k=0;for(n=d.tokenSeparators.length;n>k&&(p=d.tokenSeparators[k],h=a.indexOf(p),!(0<=h));k++);if(0>h)break;if(f=a.substring(0,h),a=a.substring(h+p.length),0<f.length&&(f=d.createSearchChoice.call(this,f,b),f!==g&&null!==f&&d.id(f)!==g&&null!==d.id(f))){h=!1;k=0;for(n=b.length;n>
k;k++)if(e(d.id(f),d.id(b[k]))){h=!0;break}h||c(f)}}return l!==a?a:void 0}function H(a,b){var d=function(){};return d.prototype=new a,d.prototype.constructor=d,d.prototype.parent=a.prototype,d.prototype=c.extend(d.prototype,b),d}if(window.Select2===g){var t,z,G,F,M,N,R,S={x:0,y:0};t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a.which?a.which:a){case t.LEFT:case t.RIGHT:case t.UP:case t.DOWN:return!0}return!1},
isControl:function(a){switch(a.which){case t.SHIFT:case t.CTRL:case t.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,112<=a&&123>=a}};var T="<div class='select2-measure-scrollbar'></div>",Y={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A",
"\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C",
"\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E",
"\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H",
"\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L",
"\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N",
"\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O",
"\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",
"\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U",
"\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W",
"\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a",
"\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",
"\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e",
"\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g",
"\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i",
"\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m",
"\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o",
"\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q",
"\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t",
"\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u",
"\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y",
"\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};z=c(document);M=function(){var a=1;return function(){return a++}}();z.on("mousemove",function(a){S.x=a.pageX;S.y=a.pageY});z=H(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var b,e;this.opts=a=this.prepareOpts(a);
this.id=a.id;a.element.data("select2")!==g&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+M());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=p(function(){return a.element.closest("body")});v(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",
a.element.attr("style"));this.container.css(D(a.containerCss));this.container.addClass(D(a.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(D(a.dropdownCssClass));this.dropdown.data("select2",
this);this.dropdown.on("click",m);this.results=b=this.container.find(".select2-results");this.search=e=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",m);k(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));n(80,this.results);this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));c(this.container).on("change",
".select2-input",function(a){a.stopPropagation()});c(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});c.fn.mousewheel&&b.mousewheel(function(a,c,d,e){c=b.scrollTop();0<e&&0>=c-e?(b.scrollTop(0),m(a)):0>e&&b.get(0).scrollHeight-b.scrollTop()+e<=b.height()&&(b.scrollTop(b.get(0).scrollHeight-b.height()),m(a))});h(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});
this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<c(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});c.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var f=a.element.prop("disabled");f===g&&(f=!1);this.enable(!f);f=a.element.prop("readonly");
f===g&&(f=!1);this.readonly(f);R=R||d();this.autofocus=a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=g},destroy:function(){var a=this.opts.element,b=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);b!==g&&(b.container.remove(),b.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?
a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:e(a.attr("locked"),"locked")||e(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(a){var d,f,h,k,n=this;if(d=a.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=f=a.element),
f&&c.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),a=c.extend({},{populateResults:function(b,d,e){var f,h=this.opts.id;f=function(b,d,k){var p,l,m,q,r,y,v,Q;b=a.sortResults(b,d,e);p=0;for(l=b.length;l>p;p+=1)m=b[p],r=!0===m.disabled,q=!r&&h(m)!==g,y=m.children&&0<m.children.length,v=c("<li></li>"),v.addClass("select2-results-dept-"+k),v.addClass("select2-result"),
v.addClass(q?"select2-result-selectable":"select2-result-unselectable"),r&&v.addClass("select2-disabled"),y&&v.addClass("select2-result-with-children"),v.addClass(n.opts.formatResultCssClass(m)),q=c(document.createElement("div")),q.addClass("select2-result-label"),r=a.formatResult(m,q,e,n.opts.escapeMarkup),r!==g&&q.html(r),v.append(q),y&&(Q=c("<ul></ul>"),Q.addClass("select2-result-sub"),f(m.children,Q,k+1),v.append(Q)),v.data("select2-data",m),d.append(v)};f(d,b,0)}},c.fn.select2.defaults,a),"function"!=
typeof a.id&&(h=a.id,a.id=function(a){return a[h]}),c.isArray(a.element.data("select2Tags"))){if("tags"in a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id");a.tags=a.element.data("select2Tags")}if(f?(a.query=this.bind(function(a){var b,c,e,f={results:[],more:!1},h=a.term;e=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(n.optionToData(b)):b.is("optgroup")&&(d=n.optionToData(b),b.children().each2(function(a,b){e(b,d.children)}),
0<d.children.length&&c.push(d))};b=d.children();this.getPlaceholder()!==g&&0<b.length&&(c=this.getPlaceholderOption(),c&&(b=b.not(c)));b.each2(function(a,b){e(b,f.results)});a.callback(f)}),a.id=function(a){return a.id},a.formatResultCssClass=function(a){return a.css}):"query"in a||("ajax"in a?(k=a.element.data("ajax-url"),k&&0<k.length&&(a.ajax.url=k),a.query=w.call(a.element,a.ajax)):"data"in a?a.query=A(a.data):"tags"in a&&(a.query=x(a.tags),a.createSearchChoice===g&&(a.createSearchChoice=function(a){return{id:c.trim(a),
text:c.trim(a)}}),a.initSelection===g&&(a.initSelection=function(d,f){var g=[];c(b(d.val(),a.separator)).each(function(){var b={id:this,text:this},d=a.tags;c.isFunction(d)&&(d=d());c(d).each(function(){return e(this.id,b.id)?(b=this,!1):void 0});g.push(b)});f(g)}))),"function"!=typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");return a},monitorSource:function(){var a,b,c=this.opts.element;c.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));a=this.bind(function(){var a=c.prop("disabled");a===g&&(a=!1);this.enable(!a);a=c.prop("readonly");a===g&&(a=!1);this.readonly(a);v(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(D(this.opts.containerCssClass));v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(D(this.opts.dropdownCssClass))});c.on("propertychange.select2",a);this.mutationCallback===g&&(this.mutationCallback=function(b){b.forEach(a)});
b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;b!==g&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new b(this.mutationCallback),this.propertyObserver.observe(c.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=c.Event("select2-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(a),!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=c.extend({},a,{type:"change",
val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",!a),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===
g&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){return a===g&&(a=!1),this._readonly===a?!1:(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a,b,d,e,f=this.dropdown,g=this.container.offset(),h=this.container.outerHeight(!1),k=this.container.outerWidth(!1),
n=f.outerHeight(!1),p=c(window),l=p.width(),m=p.height(),q=p.scrollLeft()+l,r=p.scrollTop()+m,v=g.top+h,u=g.left,r=r>=v+n,n=g.top-n>=this.body().scrollTop(),t=f.outerWidth(!1),w=q>=u+t;f.hasClass("select2-drop-above")?(b=!0,!n&&r&&(d=!0,b=!1)):(b=!1,!r&&n&&(d=!0,b=!0));d&&(f.hide(),g=this.container.offset(),h=this.container.outerHeight(!1),k=this.container.outerWidth(!1),f.outerHeight(!1),q=p.scrollLeft()+l,p.scrollTop(),v=g.top+h,u=g.left,t=f.outerWidth(!1),w=q>=u+t,f.show());this.opts.dropdownAutoWidth?
(e=c(".select2-results",f)[0],f.addClass("select2-drop-auto-width"),f.css("width",""),t=f.outerWidth(!1)+(e.scrollHeight===e.clientHeight?0:R.width),t>k?k=t:t=k,w=q>=u+t):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(a=this.body().offset(),v-=a.top,u-=a.left);w||(u=g.left+k-t);a={left:u,width:k};b?(a.bottom=m-g.top,a.top="auto",this.container.addClass("select2-drop-above"),f.addClass("select2-drop-above")):(a.top=v,a.bottom="auto",this.container.removeClass("select2-drop-above"),
f.removeClass("select2-drop-above"));a=c.extend(a,D(this.opts.dropdownCss));f.css(a)},shouldOpen:function(){var a;return this.opened()?!1:!1===this._enabled||!0===this._readonly?!1:(a=c.Event("select2-opening"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var a;a=this.containerId;
var b="scroll."+a,d="resize."+a,e="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());a=c("#select2-drop-mask");0==a.length&&(a=c(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body()),a.on("mousedown touchstart click",function(a){var b,
d=c("#select2-drop");0<d.length&&(b=d.data("select2"),b.opts.selectOnBlur&&b.selectHighlighted({noFocus:!0}),b.close({focus:!0}),a.preventDefault(),a.stopPropagation())}));this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a);c("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");a.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var f=this;this.container.parents().add(window).each(function(){c(this).on(d+
" "+b+" "+e,function(){f.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,b="scroll."+a,d="resize."+a,e="orientationchange."+a;this.container.parents().add(window).each(function(){c(this).off(b).off(d).off(e)});this.clearDropdownAlignmentPreference();c("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");
this.opts.element.trigger(c.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return D(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var a,b,d,e,f,g=this.results;if(b=this.highlight(),!(0>b)){if(0==b)return g.scrollTop(0),void 0;a=this.findHighlightableChoices().find(".select2-result-label");d=c(a[b]);e=d.offset().top+d.outerHeight(!0);b===a.length-1&&(f=g.find("li.select2-more-results"),
0<f.length&&(e=f.offset().top+f.outerHeight(!0)));a=g.offset().top+g.outerHeight(!0);e>a&&g.scrollTop(g.scrollTop()+(e-a));e=d.offset().top-g.offset().top;0>e&&"none"!=d.css("display")&&g.scrollTop(g.scrollTop()+e)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(a){for(var b=this.findHighlightableChoices(),d=this.highlight();-1<d&&d<b.length;){var d=d+a,e=c(b[d]);if(e.hasClass("select2-result-selectable")&&
!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var d,e,f=this.findHighlightableChoices();return 0===arguments.length?a(f.filter(".select2-highlighted")[0],f.get()):(b>=f.length&&(b=f.length-1),0>b&&(b=0),this.removeHighlight(),d=c(f[b]),d.addClass("select2-highlighted"),this.ensureHighlightVisible(),e=d.data("select2-data"),e&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},
countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){a=c(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.findHighlightableChoices();this.highlight(b.index(a))}else 0==a.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-
b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:f,page:d,context:g}),e.postprocessResults(a,!1,!1),!0===a.more?(c.detach().appendTo(b).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,
this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(a){function b(){k.removeClass("select2-active");l.positionDropdown()}function d(a){n.html(a);b()}var f,h,k=this.search,n=this.results,p=this.opts,l=this,m=k.val(),q=c.data(this.container,"select2-last-term");if((!0===a||!q||!e(m,q))&&(c.data(this.container,"select2-last-term",m),!0===a||!1!==this.showSearchInput&&this.opened())){h=++this.queryCount;m=this.getMaximumSelectionSize();if(1<=
m&&(f=this.data(),c.isArray(f)&&f.length>=m&&C(p.formatSelectionTooBig,"formatSelectionTooBig")))return d("<li class='select2-selection-limit'>"+p.formatSelectionTooBig(m)+"</li>"),void 0;if(k.val().length<p.minimumInputLength)return C(p.formatInputTooShort,"formatInputTooShort")?d("<li class='select2-no-results'>"+p.formatInputTooShort(k.val(),p.minimumInputLength)+"</li>"):d(""),a&&this.showSearch&&this.showSearch(!0),void 0;if(p.maximumInputLength&&k.val().length>p.maximumInputLength)return C(p.formatInputTooLong,
"formatInputTooLong")?d("<li class='select2-no-results'>"+p.formatInputTooLong(k.val(),p.maximumInputLength)+"</li>"):d(""),void 0;p.formatSearching&&0===this.findHighlightableChoices().length&&d("<li class='select2-searching'>"+p.formatSearching()+"</li>");k.addClass("select2-active");this.removeHighlight();f=this.tokenize();f!=g&&null!=f&&k.val(f);this.resultsPage=1;p.query({element:p.element,term:k.val(),page:this.resultsPage,context:null,matcher:p.matcher,callback:this.bind(function(f){var m;
if(h==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=f.context===g?null:f.context,this.opts.createSearchChoice&&""!==k.val()&&(m=this.opts.createSearchChoice.call(l,k.val(),f.results),m!==g&&null!==m&&l.id(m)!==g&&null!==l.id(m)&&0===c(f.results).filter(function(){return e(l.id(this),l.id(m))}).length&&f.results.unshift(m)),0===f.results.length&&C(p.formatNoMatches,"formatNoMatches"))return d("<li class='select2-no-results'>"+p.formatNoMatches(k.val())+
"</li>"),void 0;n.empty();l.opts.populateResults.call(this,n,f.results,{term:k.val(),page:this.resultsPage,context:null});!0===f.more&&C(p.formatLoadMore,"formatLoadMore")&&(n.append("<li class='select2-more-results'>"+l.opts.escapeMarkup(p.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){l.loadMoreIfNeeded()},10));this.postprocessResults(f,a);b();this.opts.element.trigger({type:"select2-loaded",items:f})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&
this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){r(this.search)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,
a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==g?a.text():g)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==g)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);
if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,b,d,e,f,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(a=this.opts.element.attr("style"),a!==g){b=a.split(";");e=0;for(f=b.length;f>e;e+=1)if(h=b[e].replace(/\s/g,""),d=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
null!==d&&1<=d.length)return d[1]}return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return c.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==a&&this.container.css("width",a)}});G=H(z,{createContainer:function(){return c(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow'><b></b></span></a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,b,d;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();a=this.search.get(0);a.createTextRange?(b=a.createTextRange(),b.collapse(!1),b.select()):a.setSelectionRange&&(d=this.search.val().length,a.setSelectionRange(d,
d));""===this.search.val()&&this.nextSearchTerm!=g&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(c.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){c("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,b=this.container,d=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=b.find(".select2-choice");this.focusser=b.find(".select2-focusser");this.focusser.attr("id",
"s2id_autogen"+M());c("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===t.PAGE_UP||a.which===t.PAGE_DOWN)return m(a),void 0;switch(a.which){case t.UP:case t.DOWN:return this.moveHighlight(a.which===t.UP?-1:1),m(a),void 0;case t.ENTER:return this.selectHighlighted(),m(a),void 0;case t.TAB:return this.selectHighlighted({noFocus:!0}),
void 0;case t.ESC:return this.cancel(a),m(a),void 0}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==t.TAB&&!t.isControl(a)&&!t.isFunctionKey(a)&&a.which!==t.ESC)return!1===this.opts.openOnEnter&&a.which===t.ENTER?(m(a),void 0):a.which==t.DOWN||a.which==t.UP||a.which==t.ENTER&&this.opts.openOnEnter?a.altKey||
a.ctrlKey||a.shiftKey||a.metaKey?void 0:(this.open(),m(a),void 0):a.which==t.DELETE||a.which==t.BACKSPACE?(this.opts.allowClear&&this.clear(),m(a),void 0):void 0}));h(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&!(a.stopPropagation(),this.opened())&&this.open()}));a.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));
a.on("mousedown",this.bind(function(a){this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();m(a)}));d.on("mousedown",this.bind(function(){this.search.focus()}));a.on("focus",this.bind(function(a){m(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",
this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(c.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var b=this.selection.data("select2-data");
if(b){var d=c.Event("select2-clearing");if(!(this.opts.element.trigger(d),d.isDefaultPrevented()))d=this.getPlaceholderOption(),this.opts.element.val(d?d.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();
else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==g&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==g&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===g||null===this.opts.element.val():!1},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;return"select"===a.element.get(0).tagName.toLowerCase()?
a.initSelection=function(a,c){var d=a.find("option").filter(function(){return this.selected});c(b.optionToData(d))}:"data"in a&&(a.initSelection=a.initSelection||function(b,d){var f=b.val(),g=null;a.query({matcher:function(b,c,d){b=e(f,a.id(d));return b&&(g=d),b},callback:c.isFunction(d)?function(){d(g)}:c.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===g?g:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();
this.isPlaceholderOptionSelected()&&a!==g&&!(this.select&&this.getPlaceholderOption()===g)&&(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var d=0,f=this;if(this.findHighlightableChoices().each2(function(a,b){return e(f.id(b.data("select2-data")),f.opts.element.val())?(d=a,!1):void 0}),!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0)),!0===
b)b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(I(a.results)>=b)},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),c(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));
this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();b&&b.noFocus||this.focusser.focus();e(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var b,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a);c.empty();null!==a&&(b=this.opts.formatSelection(a,c,this.opts.escapeMarkup));b!==g&&c.append(b);a=this.opts.formatSelectionCssClass(a,
c);a!==g&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==g&&this.container.addClass("select2-allowclear")},val:function(){var a,b=!1,c=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],1<arguments.length&&(b=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return c=d.optionToData(b),!1}),this.updateSelection(c),this.setPlaceholder(),
b&&this.triggerChange({added:c,removed:e});else{if(!a&&0!==a)return this.clear(b),void 0;if(this.opts.initSelection===g)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):"");d.updateSelection(a);d.setPlaceholder();b&&d.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;return 0===arguments.length?
(b=this.selection.data("select2-data"),b==g&&(b=null),b):(1<arguments.length&&(c=arguments[1]),a?(b=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),c&&this.triggerChange({added:a,removed:b})):this.clear(c),void 0)}});F=H(z,{createContainer:function(){return c(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,b){var c=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){c.push(d.optionToData(b))});b(c)}:"data"in a&&(a.initSelection=a.initSelection||function(d,f){var g=b(d.val(),a.separator),h=[];a.query({matcher:function(b,d,f){b=c.grep(g,function(b){return e(b,a.id(f))}).length;return b&&h.push(f),b},callback:c.isFunction(f)?
function(){for(var b=[],c=0;c<g.length;c++)for(var d=g[c],k=0;k<h.length;k++){var n=h[k];if(e(d,a.id(n))){b.push(n);h.splice(k,1);break}}f(b)}:c.noop})}),a},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){c("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var b=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){b.search[0].focus();b.selectChoice(c(this))});this.search.attr("id","s2id_autogen"+M());c("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(b){var d,e;if(this.isInterfaceEnabled()){++this.keydowns;var f=a.find(".select2-search-choice-focus"),g=f.prev(".select2-search-choice:not(.select2-locked)"),h=f.next(".select2-search-choice:not(.select2-locked)");d=this.search;d=c(d)[0];var k=0;e=0;"selectionStart"in
d?(k=d.selectionStart,e=d.selectionEnd-k):"selection"in document&&(d.focus(),k=document.selection.createRange(),e=document.selection.createRange().text.length,k.moveStart("character",-d.value.length),k=k.text.length-e);d=k;if(f.length&&(b.which==t.LEFT||b.which==t.RIGHT||b.which==t.BACKSPACE||b.which==t.DELETE||b.which==t.ENTER))return e=f,b.which==t.LEFT&&g.length?e=g:b.which==t.RIGHT?e=h.length?h:null:b.which===t.BACKSPACE?(this.unselect(f.first()),this.search.width(10),e=g.length?g:h):b.which==
t.DELETE?(this.unselect(f.first()),this.search.width(10),e=h.length?h:null):b.which==t.ENTER&&(e=null),this.selectChoice(e),m(b),e&&e.length||this.open(),void 0;if((b.which===t.BACKSPACE&&1==this.keydowns||b.which==t.LEFT)&&0==d&&!e)return this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),m(b),void 0;if(this.selectChoice(null),this.opened())switch(b.which){case t.UP:case t.DOWN:return this.moveHighlight(b.which===t.UP?-1:1),m(b),void 0;case t.ENTER:return this.selectHighlighted(),
m(b),void 0;case t.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case t.ESC:return this.cancel(b),m(b),void 0}if(b.which!==t.TAB&&(!t.isControl(b)&&!t.isFunctionKey(b)&&b.which!==t.BACKSPACE&&b.which!==t.ESC)&&!(b.which===t.ENTER&&(!1===this.opts.openOnEnter||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)))this.open(),(b.which===t.PAGE_UP||b.which===t.PAGE_DOWN)&&m(b),b.which===t.ENTER&&m(b)}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));
this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();this.opts.element.trigger(c.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){this.isInterfaceEnabled()&&(0<c(a.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||
this.opts.element.trigger(c.Event("select2-focus")),this.open(),this.focusSearch(),a.preventDefault()))}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(c.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");
this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==g&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=
this.getPlaceholder(),b=this.getMaxSearchWidth();a!==g&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<b?b:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();
this.updateResults(!0);this.search.focus();this.opts.element.trigger(c.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var d=[],e=[],f=this;c(b).each(function(){0>a(f.id(this),d)&&(d.push(f.id(this)),e.push(this))});b=e;this.selection.find(".select2-search-choice").remove();c(b).each(function(){f.addSelectedChoice(this)});
f.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&a!=g&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):
0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b,d=!a.locked,e=c("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),
f=c("<li class='select2-search-choice select2-locked'><div></div></li>"),e=d?e:f,f=this.id(a),h=this.getVal();b=this.opts.formatSelection(a,e.find("div"),this.opts.escapeMarkup);b!=g&&e.find("div").replaceWith("<div>"+b+"</div>");b=this.opts.formatSelectionCssClass(a,e.find("div"));b!=g&&e.addClass(b);d&&e.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(c(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(c(a.target));
this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),m(a))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));e.data("select2-data",a);e.insertBefore(this.searchContainer);h.push(f);this.setVal(h)},unselect:function(b){var d,e=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+
b+". Must be .select2-search-choice";if(b=b.data("select2-data")){for(;0<=(d=a(this.id(b),e));)e.splice(d,1),this.setVal(e),this.select&&this.postprocessResults();e=c.Event("select2-removing");e.val=this.id(b);e.choice=b;this.opts.element.trigger(e);e.isDefaultPrevented()||(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b}))}},postprocessResults:function(b,c,d){var e=this.getVal();c=this.results.find(".select2-result");var f=this.results.find(".select2-result-with-children"),
g=this;c.each2(function(b,c){var d=g.id(c.data("select2-data"));0<=a(d,e)&&(c.addClass("select2-selected"),c.find(".select2-result-selectable").addClass("select2-selected"))});f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")});-1==this.highlight()&&!1!==d&&g.highlight(0);!this.opts.createSearchChoice&&0<!c.filter(".select2-result:not(.select2-selected)").length&&(!b||b&&!b.more&&0===this.results.find(".select2-no-results").length)&&
C(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+g.opts.formatNoMatches(g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-(this.search.outerWidth(!1)-this.search.width())},resizeSearch:function(){var a,b,d,e,f=this.search.outerWidth(!1)-this.search.width();a=this.search;N||(d=a[0].currentStyle||window.getComputedStyle(a[0],null),N=c(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",
display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),N.attr("class","select2-sizer"),c("body").append(N));a=(N.text(a.val()),N.width())+10;b=this.search.offset().left;d=this.selection.width();e=this.selection.offset().left;b=d-(b-e)-f;a>b&&(b=d-f);40>b&&(b=d-f);0>=b&&(b=a);this.search.width(Math.floor(b))},getVal:function(){var a;return this.select?(a=this.select.val(),
null===a?[]:a):(a=this.opts.element.val(),b(a,this.opts.separator))},setVal:function(b){var d;this.select?this.select.val(b):(d=[],c(b).each(function(){0>a(this,d)&&d.push(this)}),this.opts.element.val(0===d.length?"":d.join(this.opts.separator)))},buildChangeDetails:function(a,b){b=b.slice(0);a=a.slice(0);for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++)e(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(a,b){var d,e=this;if(0===
arguments.length)return this.getVal();if(d=this.data(),d.length||(d=[]),!a&&0!==a)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),b&&this.triggerChange({added:this.data(),removed:d}),void 0;if(this.setVal(a),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),b&&this.triggerChange(this.buildChangeDetails(d,this.data()));else{if(this.opts.initSelection===g)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,
function(a){var f=c.map(a,e.id);e.setVal(f);e.updateSelection(a);e.clearSearch();b&&e.triggerChange(e.buildChangeDetails(d,e.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();
this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(c(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,b){var d,e,f=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return c(this).data("select2-data")}).get():(e=this.data(),a||(a=[]),d=c.map(a,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(a),this.clearSearch(),b&&this.triggerChange(this.buildChangeDetails(e,this.data())),
void 0)}});c.fn.select2=function(){var b,d,e,f,h,k=Array.prototype.slice.call(arguments,0),n="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),p=["opened","isFocused","container","dropdown"],l=["val","data"],m={search:"externalSearch"};return this.each(function(){if(0===k.length||"object"==typeof k[0])b=0===k.length?{}:c.extend({},k[0]),b.element=c(this),"select"===b.element.get(0).tagName.toLowerCase()?
h=b.element.prop("multiple"):(h=b.multiple||!1,"tags"in b&&(b.multiple=h=!0)),d=h?new F:new G,d.init(b);else{if("string"!=typeof k[0])throw"Invalid arguments to select2 plugin: "+k;if(0>a(k[0],n))throw"Unknown method: "+k[0];if(!(f=g,d=c(this).data("select2"),d===g))if(e=k[0],"container"===e?f=d.container:"dropdown"===e?f=d.dropdown:(m[e]&&(e=m[e]),f=d[e].apply(d,k.slice(1))),0<=a(k[0],p)||a(k[0],l)&&1==k.length)return!1}}),f===g?this:f};c.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,
openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];return q(a.text,c.term,b,d),b.join("")},formatSelection:function(a,b,c){return a?c(a.text):g},sortResults:function(a){return a},formatResultCssClass:function(){return g},formatSelectionCssClass:function(){return g},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,
b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=f(""+b).toUpperCase().indexOf(f(""+a).toUpperCase())},separator:",",tokenSeparators:[],
tokenizer:E,escapeMarkup:u,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return g}};c.fn.select2.ajaxDefaults={transport:c.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:w,local:A,tags:x},util:{debounce:l,markMatch:q,escapeMarkup:u,stripDiacritics:f},"class":{"abstract":z,single:G,multi:F}}}})(jQuery);
var TINY=TINY||{},T$=T$||function(c){return document.getElementById(c)},T$$$=T$$$||function(){return document.all?1:0};
TINY.editor=function(){function c(a,c){this.n=a;window[a]=this;this.t=T$(c.id);this.obj=c;this.xhtml=c.xhtml;var e=document.createElement("div"),b=document.createElement("div"),h=document.createElement("div"),k=c.controls.length,l=0;this.i=document.createElement("iframe");this.i.width=c.width||"500";this.i.height=c.height||"250";this.ie=T$$$();h.className=c.rowclass||"tinyeditor-header";e.className=c.cssclass||"tinyeditor";e.style.width=this.i.width+"px";e.appendChild(h);for(l;l<k;l++){var p=c.controls[l];
if("n"==p)h=document.createElement("div"),h.className=c.rowclass||"tinyeditor-header",e.appendChild(h);else if("|"==p){var n=document.createElement("div");n.className=c.dividerclass||"tinyeditor-divider";h.appendChild(n)}else if("font"==p){var p=document.createElement("select"),r=c.fonts||["Verdana","Arial","Georgia"],m=r.length,n=0;p.className="tinyeditor-font";p.onchange=new Function(this.n+'.ddaction(this, "fontname")');p.options[0]=new Option("Font","");for(n;n<m;n++){var v=r[n];p.options[n+1]=
new Option(v,v)}h.appendChild(p)}else if("size"==p){p=document.createElement("select");m=c.sizes||[1,2,3,4,5,6,7];r=m.length;n=0;p.className="tinyeditor-size";p.onchange=new Function(this.n+'.ddaction(this, "fontsize")');for(n;n<r;n++)v=m[n],p.options[n]=new Option(v,v);h.appendChild(p)}else if("style"==p){p=document.createElement("select");m=c.styles||[["Style",""],["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6",
"<h6>"]];r=m.length;n=0;p.className="tinyeditor-style";p.onchange=new Function(this.n+'.ddaction(this, "formatblock")');for(n;n<r;n++)v=m[n],p.options[n]=new Option(v[0],v[1]);h.appendChild(p)}else g[p]&&(r=document.createElement("div"),n=g[p],v=n[2],m=n[0]*f,r.className=c.controlclass,r.unselectable="on",r.style.backgroundPosition="0px "+m+"px",r.title=n[1],n="a"==v?'.action("'+n[3]+'", 0, '+(n[4]||0)+")":'.insert("'+n[4]+'", "'+n[5]+'", "'+n[3]+'")',r.onmousedown=new Function(this.n+("print"==p?
".print()":n)),r.onmouseover=new Function(this.n+".hover(this, "+m+", 1)"),r.onmouseout=new Function(this.n+".hover(this, "+m+", 0)"),h.appendChild(r),this.ie&&(r.unselectable="on"))}this.t.parentNode.insertBefore(e,this.t);this.t.style.width=this.i.width+"px";b.appendChild(this.t);b.appendChild(this.i);e.appendChild(b);this.t.style.display="none";c.footer&&(b=document.createElement("div"),b.className=c.footerclass||"tinyeditor-footer",c.toggle&&(h=c.toggle,k=document.createElement("div"),k.className=
h.cssclass||"toggle",k.innerHTML=c.toggletext||"source",k.onclick=new Function(this.n+".toggle(0, this);return false"),b.appendChild(k)),c.resize&&(h=c.resize,k=document.createElement("div"),k.className=h.cssclass||"resize",k.onmousedown=new Function("event",this.n+".resize(event);return false"),k.onselectstart=function(){return!1},b.appendChild(k)),e.appendChild(b));this.e=this.i.contentWindow.document;this.e.open();e="<html><head>";b=c.bodyid?' id="'+c.bodyid+'"':"";c.cssfile&&(e+='<link rel="stylesheet" href="'+
c.cssfile+'" />');c.css&&(e+='<style type="text/css">'+c.css+"</style>");e+="</head><body"+b+' contenteditable="true">'+(c.content||this.t.value);this.e.write(e+"</body></html>");this.e.close();this.e.designMode="On";this.d=1;if(this.xhtml)try{this.e.execCommand("styleWithCSS",0,0)}catch(q){try{this.e.execCommand("useCSS",0,1)}catch(u){}}}var g=[],f=-30;g.bold=[4,"Bold","a","bold"];g.italic=[5,"Italic","a","italic"];g.underline=[6,"Underline","a","underline"];g.strikethrough=[7,"Strikethrough","a",
"strikethrough"];g.subscript=[8,"Subscript","a","subscript"];g.superscript=[9,"Superscript","a","superscript"];g.orderedlist=[10,"Insert Ordered List","a","insertorderedlist"];g.unorderedlist=[11,"Insert Unordered List","a","insertunorderedlist"];g.outdent=[12,"Outdent","a","outdent"];g.indent=[13,"Indent","a","indent"];g.leftalign=[14,"Left Align","a","justifyleft"];g.centeralign=[15,"Center Align","a","justifycenter"];g.rightalign=[16,"Right Align","a","justifyright"];g.blockjustify=[17,"Block Justify",
"a","justifyfull"];g.undo=[18,"Undo","a","undo"];g.redo=[19,"Redo","a","redo"];g.image=[20,"Insert Image","i","insertimage","Enter Image URL:","http://"];g.hr=[21,"Insert Horizontal Rule","a","inserthorizontalrule"];g.link=[22,"Insert Hyperlink","i","createlink","Enter URL:","http://"];g.unlink=[23,"Remove Hyperlink","a","unlink"];g.unformat=[24,"Remove Formatting","a","removeformat"];g.print=[25,"Print","a","print"];c.prototype.print=function(){this.i.contentWindow.print()};c.prototype.hover=function(a,
c,e){this.getSelection();a.style.backgroundPosition=(e?"34px ":"0px ")+c+"px"};c.prototype.getSelection=function(){this.ie&&this.e.getSelection&&(this.sel=this.e.getSelection(),this.sel.getRangeAt&&this.sel.rangeCount&&(this.range=this.sel.getRangeAt(0)))};c.prototype.restoreSelection=function(){this.range&&this.ie&&this.e.getSelection&&(this.sel=this.e.getSelection(),this.sel.removeAllRanges(),this.sel.addRange(this.range))};c.prototype.ddaction=function(a,c){this.action(c,a.options[a.selectedIndex].value)};
c.prototype.action=function(a,c,e){e&&!this.ie?alert("Your browser does not support this function."):(this.restoreSelection(),this.e.execCommand(a,0,c||null))};c.prototype.insert=function(a,c,e){a=prompt(a,c);null!=a&&""!=a&&this.e.execCommand(e,0,a)};c.prototype.setfont=function(){this.restoreSelection();execCommand("formatblock",0,hType)};c.prototype.resize=function(a){this.mv&&this.freeze();this.i.bcs=TINY.cursor.top(a);this.mv=new Function("event",this.n+".move(event)");this.sr=new Function(this.n+
".freeze()");this.ie?(document.attachEvent("onmousemove",this.mv),document.attachEvent("onmouseup",this.sr)):(document.addEventListener("mousemove",this.mv,1),document.addEventListener("mouseup",this.sr,1))};c.prototype.move=function(a){a=TINY.cursor.top(a);this.i.height=parseInt(this.i.height)+a-this.i.bcs;this.i.bcs=a};c.prototype.freeze=function(){this.ie?(document.detachEvent("onmousemove",this.mv),document.detachEvent("onmouseup",this.sr)):(document.removeEventListener("mousemove",this.mv,1),
document.removeEventListener("mouseup",this.sr,1))};c.prototype.toggle=function(a,c){if(this.d)e=this.e.body.innerHTML,this.xhtml&&(e=e.replace(/<span class="apple-style-span">(.*)<\/span>/gi,"$1"),e=e.replace(/ class="apple-style-span"/gi,""),e=e.replace(/<span style="">/gi,""),e=e.replace(/<br>/gi,"<br />"),e=e.replace(/<br ?\/?>$/gi,""),e=e.replace(/^<br ?\/?>/gi,""),e=e.replace(/(<img [^>]+[^\/])>/gi,"$1 />"),e=e.replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>"),e=e.replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,
"<em>$1</em>"),e=e.replace(/<u\b[^>]*>(.*?)<\/u[^>]*>/gi,'<span style="text-decoration:underline">$1</span>'),e=e.replace(/<(b|strong|em|i|u) style="font-weight:normal;?">(.*)<\/(b|strong|em|i|u)>/gi,"$2"),e=e.replace(/<(b|strong|em|i|u) style="(.*)">(.*)<\/(b|strong|em|i|u)>/gi,'<span style="$2"><$4>$3</$4></span>'),e=e.replace(/<span style="font-weight:normal;?">(.*)<\/span>/gi,"$1"),e=e.replace(/<span style="font-weight:bold;?">(.*)<\/span>/gi,"<strong>$1</strong>"),e=e.replace(/<span style="font-style:italic;?">(.*)<\/span>/gi,
"<em>$1</em>"),e=e.replace(/<span style="font-weight:bold;?">(.*)<\/span>|<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>")),c&&(c.innerHTML=this.obj.toggletext||"wysiwyg"),this.t.value=e,a||(this.t.style.height=this.i.height+"px",this.i.style.display="none",this.t.style.display="block",this.d=0);else{var e=this.t.value;c&&(c.innerHTML=this.obj.toggletext||"source");this.xhtml&&!this.ie&&(e=e.replace(/<strong>(.*)<\/strong>/gi,'<span style="font-weight:bold;">$1</span>'),e=e.replace(/<em>(.*)<\/em>/gi,
'<span style="font-weight:italic;">$1</span>'));this.e.body.innerHTML=e;this.t.style.display="none";this.i.style.display="block";this.d=1}};c.prototype.post=function(){this.d&&this.toggle(1)};return{edit:c}}();TINY.cursor=function(){return{top:function(c){return T$$$()?window.event.clientY+document.documentElement.scrollTop+document.body.scrollTop:c.clientY+window.scrollY}}}();
+function(c){var g=function(a,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,c)};g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};g.prototype.init=function(a,d,e){this.enabled=!0;this.type=a;this.$element=c(d);this.options=this.getOptions(e);a=this.options.trigger.split(" ");
for(d=a.length;d--;)if(e=a[d],"click"==e)this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this));else if("manual"!=e){var b="hover"==e?"mouseleave":"blur";this.$element.on(("hover"==e?"mouseenter":"focus")+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(b+"."+this.type,this.options.selector,c.proxy(this.leave,this))}this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};g.prototype.getDefaults=
function(){return g.DEFAULTS};g.prototype.getOptions=function(a){return a=c.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a};g.prototype.getDelegateOptions=function(){var a={},d=this.getDefaults();return this._options&&c.each(this._options,function(c,b){d[c]!=b&&(a[c]=b)}),a};g.prototype.enter=function(a){var d=a instanceof this.constructor?a:c(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show)return d.show();d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)};g.prototype.leave=function(a){var d=a instanceof this.constructor?a:c(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide)return d.hide();d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)};
g.prototype.show=function(){var a=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(a),!a.isDefaultPrevented())){var d=this.tip();this.setContent();this.options.animation&&d.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,b=e.test(a);b&&(a=a.replace(e,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(a);this.options.container?d.appendTo(this.options.container):
d.insertAfter(this.$element);var e=this.getPosition(),f=d[0].offsetWidth,g=d[0].offsetHeight;if(b){var l=this.$element.parent(),b=a,p=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:l.outerWidth(),r="body"==this.options.container?window.innerHeight:l.outerHeight(),l="body"==this.options.container?0:l.offset().left,a="bottom"==a&&e.top+e.height+g-p>r?"top":"top"==a&&0>e.top-p-g?"bottom":"right"==a&&e.right+f>n?"left":"left"==a&&e.left-
f<l?"right":a;d.removeClass(b).addClass(a)}d=this.getCalculatedOffset(a,e,f,g);this.applyPlacement(d,a);this.$element.trigger("shown.bs."+this.type)}};g.prototype.applyPlacement=function(a,c){var e,b=this.tip(),f=b[0].offsetWidth,g=b[0].offsetHeight,l=parseInt(b.css("margin-top"),10),p=parseInt(b.css("margin-left"),10);isNaN(l)&&(l=0);isNaN(p)&&(p=0);a.top+=l;a.left+=p;b.offset(a).addClass("in");l=b[0].offsetWidth;p=b[0].offsetHeight;"top"==c&&p!=g&&(e=!0,a.top=a.top+g-p);/bottom|top/.test(c)?(g=
0,0>a.left&&(g=-2*a.left,a.left=0,b.offset(a),l=b[0].offsetWidth),this.replaceArrow(g-f+l,l,"left")):this.replaceArrow(p-g,p,"top");e&&b.offset(a)};g.prototype.replaceArrow=function(a,c,e){this.arrow().css(e,a?50*(1-a/c)+"%":"")};g.prototype.setContent=function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")};g.prototype.hide=function(){function a(){"in"!=d.hoverState&&e.detach()}var d=this,e=this.tip(),
b=c.Event("hide.bs."+this.type);this.$element.trigger(b);if(!b.isDefaultPrevented())return e.removeClass("in"),c.support.transition&&this.$tip.hasClass("fade")?e.one(c.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this};g.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};g.prototype.hasContent=function(){return this.getTitle()};
g.prototype.getPosition=function(){var a=this.$element[0];return c.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())};g.prototype.getCalculatedOffset=function(a,c,e,b){return"bottom"==a?{top:c.top+c.height,left:c.left+c.width/2-e/2}:"top"==a?{top:c.top-b,left:c.left+c.width/2-e/2}:"left"==a?{top:c.top+c.height/2-b/2,left:c.left-e}:{top:c.top+c.height/2-b/2,left:c.left+c.width}};g.prototype.getTitle=function(){var a,
c=this.$element,e=this.options;return a=c.attr("data-original-title")||("function"==typeof e.title?e.title.call(c[0]):e.title),a};g.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};g.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};g.prototype.enable=function(){this.enabled=!0};g.prototype.disable=function(){this.enabled=
!1};g.prototype.toggleEnabled=function(){this.enabled=!this.enabled};g.prototype.toggle=function(a){a=a?c(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;a.tip().hasClass("in")?a.leave(a):a.enter(a)};g.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=c.fn.tooltip;c.fn.tooltip=function(a){return this.each(function(){var d=c(this),e=d.data("bs.tooltip"),b="object"==typeof a&&a;e||d.data("bs.tooltip",e=new g(this,
b));"string"==typeof a&&e[a]()})};c.fn.tooltip.Constructor=g;c.fn.tooltip.noConflict=function(){return c.fn.tooltip=f,this}}(window.jQuery);(function(){window.DEBUG=!1}).call(this);this.Templates=this.Templates||{};this.Templates.AddPointLayout=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="place-step place-step_name" id="point-name-region"></div>\r\n<div class="place-step place-step_what" id="point-what-region"></div>\r\n<div class="place-step place-step_commerce" id="point-commers-region"></div>\r\n'});
this.Templates.PointStepCommers=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_place">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item active">2</li>\r\n      <li class="steps__item active">3</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <section class="toggle-list">\r\n    <div class="toggle-list__item">\r\n      <div class="toggle-list__title">\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435</div>\r\n      <div class="toggle-list__body">\r\n      <div class="form">\r\n        <div class="field clearfix">\r\n          <div class="item item_add-cont">\r\n            <label>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</label>\r\n            <input type="text">\r\n          </div>\r\n          <div class="item item_add-cont">\r\n            <label>\u0413\u0440\u0443\u043f\u043f\u0430 vkontakte:</label>\r\n            <input type="text" placeholder="vk.com/groupname">\r\n          </div>\r\n        </div>\r\n        <div class="field clearfix">\r\n          <div class="item item_add-cont">\r\n            <label>\u0412\u0435\u0431-\u0441\u0430\u0439\u0442:</label>\r\n            <input type="text">\r\n          </div>\r\n          <div class="item item_add-cont">\r\n            <label>Twitter:</label>\r\n            <input type="text" placeholder="@twittername">\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class="toggle-list__item">\r\n      <div class="toggle-list__title">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b</div>\r\n      <div class="toggle-list__body">\r\n        <section class="working-period clearfix">\r\n          <div class="working-period__choice">\r\n            <ul class="working-days">\r\n              <li class="working-days__item" data-number="1">\u041f\u041d</li>\r\n              <li class="working-days__item" data-number="2">\u0412\u0422</li>\r\n              <li class="working-days__item" data-number="3">\u0421\u0420</li>\r\n              <li class="working-days__item" data-number="4">\u0427\u0422</li>\r\n              <li class="working-days__item" data-number="5">\u041f\u0422</li>\r\n              <li class="working-days__item" data-number="6">\u0421\u0411</li>\r\n              <li class="working-days__item" data-number="7">\u0412\u0421</li>\r\n            </ul>\r\n            <div class="working-time clearfix">\r\n              <input type="text" value="10:00" class="start-time">&nbsp;&nbsp;&mdash;&nbsp;&nbsp;<input type="text" value="18:00" class="end-time">\r\n              <a href="#?" class="btn btn_color_green js-add-days">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\r\n            </div>\r\n            <div class="note">\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043d\u0435\u0439</div>\r\n          </div>\r\n          <ul class="working-period__result">\r\n            <li class="item hide">\r\n              <span class="days"></span>\r\n              <span class="time"></span>\r\n              <a href="#?" class="delete js-delete"></a>\r\n            </li>\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    </div>\r\n    <div class="toggle-list__item">\r\n      <div class="toggle-list__title">\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438</div>\r\n      <div class="toggle-list__body">\r\n        <div class="form-detail">\r\n          <div class="field field_price clearfix">\r\n            <label>\u0426\u0435\u043d\u0430:</label>\r\n            <div class="input-wrap right">\r\n              \u043e\u0442<input type="text">&nbsp;&nbsp;&nbsp;&nbsp;\u0434\u043e <input type="text">&nbsp;<span class="sprite-ruble-dark"></span>\r\n            </div>\r\n          </div>\r\n          <div class="field clearfix">\r\n            <label>\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f:</label>\r\n            <div class="input-wrap right">\r\n              <div class="select-quasi">\r\n                <div class="select-quasi__btn js-select-quasi">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</div>\r\n                <ul class="select-quasi__list">\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u0417\u0430\u0432\u0442\u0440\u0430\u043a\r\n                    </label>\r\n                  </li>\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447\r\n                    </label>\r\n                  </li>\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u041b\u0438\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438 \u0435\u0434\u044b\r\n                    </label>\r\n                  </li>\r\n                  <li class="select-quasi__item">\r\n                    <label>\r\n                      <input type="checkbox"><span></span> \u0423\u0436\u0438\u043d\r\n                    </label>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="field field_sub clearfix">\r\n            <label>\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group1" data-value="open"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group1" checked="checked" data-value="close"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n            <div class="input-wrap input-wrap_checkbox clear clearfix">\r\n              <label><input type="checkbox"><span></span> Visa</label>\r\n              <label><input type="checkbox"><span></span> MasterCard</label>\r\n              <label><input type="checkbox"><span></span> American Express</label>\r\n              <label><input type="checkbox"><span></span> Discover</label>\r\n            </div>\r\n          </div>\r\n          <div class="field clearfix">\r\n            <label>\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group2"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group2" checked="checked"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n          </div>\r\n          <div class="field field_sub clearfix">\r\n            <label>WiFi:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group3" data-value="open"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group3" checked="checked" data-value="close"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n            <div class="input-wrap input-wrap_checkbox clear clearfix">\r\n              <label><input type="checkbox"><span></span> \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439</label>\r\n              <label><input type="checkbox"><span></span> \u041f\u043b\u0430\u0442\u043d\u044b\u0439</label>\r\n            </div>\r\n          </div>\r\n          <div class="field clearfix">\r\n            <label>\u0423\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u0435\u0440\u0430\u043d\u0434\u0430:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group4"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group4" checked="checked"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n          </div>\r\n          <div class="field field_price clearfix">\r\n            <label>\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:</label>\r\n            <div class="input-wrap input-wrap_radio right">\r\n              <label><input type="radio" name="group5"><span></span>\u0414\u0430</label>\r\n              <label><input type="radio" name="group5" checked="checked"><span></span>\u041d\u0435\u0442</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\x3c!-- class="toggle-list" --\x3e\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#?" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\r\n  <a href="#?" class="btn btn_color_blue right js-finish">\u0413\u043e\u0442\u043e\u0432\u043e</a>\r\n</div>\r\n'});
this.Templates.PointStepName=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_place">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item">2</li>\r\n      <li class="steps__item">3</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <div class="form">\r\n    <form action="/">\r\n      <div class="form__field form__field_name error">\r\n        <label>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\r\n        <input type="text" placeholder="\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0414\u043e\u043c\u0438\u043a \u041f\u0435\u0442\u0440\u0430">\r\n        <span class="star">*</span>\r\n        <div class="already-added hide">\r\n          <div class="already-added__title">\u0423\u0436\u0435 \u0435\u0441\u0442\u044c!</div>\r\n          <ul class="already-added__list">\r\n            <li class="already-added__item">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-1.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u0412\u043e\u043b\u043e\u0433\u0434\u0430</span>\r\n              </a>\r\n            </li>\r\n            <li class="already-added__item active">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-2.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434</span>\r\n              </a>\r\n            </li>\r\n            <li class="already-added__item">\r\n              <a href="#?" class="already-added__link">\r\n                <img src="media/uploads/added-1.png" alt="" class="img">\r\n                <span class="name">\u0421\u043e\u0444\u0438\u0439\u0441\u043a\u0438\u0439 \u0441\u043e\u0431\u043e\u0440</span>\r\n                <span class="city">\u0433.\u041a\u0438\u0435\u0432</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class="form__field form__field_description">\r\n        <label>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442\u0430:</label>\r\n        <textarea placeholder="\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u044d\u0442\u043e\u0442 \u043c\u0435\u0441\u0442\u043e \u0442\u0430\u043a,\u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0445\u043e\u0442\u0435\u043b\u043e\u0441\u044c \u0442\u0443\u0434\u0430 \u043f\u043e\u0435\u0445\u0430\u0442\u044c"></textarea>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class="photo-upload">\r\n    <form action="/photos/add" class="dropzone clearfix" id="place-dropzone">\r\n      <div class="fallback">\r\n        <input name="file" type="file" multiple />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#?" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\r\n</div>\r\n'});
this.Templates.PointStepWhat=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="popupwin__title clearfix">\r\n  <div class="steps">\r\n    <ul class="steps__list steps__list_place">\r\n      <li class="steps__item active">1</li>\r\n      <li class="steps__item active">2</li>\r\n      <li class="steps__item">3</li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="popupwin__container clearfix">\r\n  <div class="field">\r\n    <div class="field__title">\u0423\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u0437\u0430 \u043c\u0435\u0441\u0442\u043e:</div>\r\n    <ul class="categories categories_tag">\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-photo" data-type="photo"></a>\r\n        \u0414\u043e\u0441\u0442\u043e\u043f\u0440\u0438\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-gun" data-type="gun"></a>\r\n        \u041e\u0445\u043e\u0442\u0430\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-fish" data-type="fish"></a>\r\n        \u0420\u044b\u0431\u0430\u043b\u043a\u0430\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-ski" data-type="ski"></a>\r\n        \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u0442\u0434\u044b\u0445\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-music" data-type="music"></a>\r\n        \u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f \u0438 \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-food" data-type="food"></a>\r\n        \u041a\u0430\u0444\u0435 \u0438 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u044b\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-drink" data-type="drink"></a>\r\n        \u041d\u043e\u0447\u043d\u044b\u0435 \u043a\u043b\u0443\u0431\u044b \u0438 \u0431\u0430\u0440\u044b\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-tag" data-type="tag"></a>\r\n        \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-theatre" data-type="theatre"></a>\r\n        \u0423\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f\r\n      </li>\r\n      <li class="categories__item">\r\n        <a href="#?" class="categories__link sprite-filter-place" data-type="place"></a>\r\n        \u0414\u0440\u0443\u0433\u043e\u0435\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class="field field_tags hide">\r\n    <div class="field__title">\r\n      \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u043c\u0435\u0441\u0442\u0430:\r\n    </div>\r\n    <div class="select-type"></div>\r\n    <ul class="tags">\r\n      <li class="tags__item">\r\n        <a href="#?" class="tags__link">\u041b\u043e\u0432\u043b\u044f</a>\r\n      </li>\r\n      <li class="tags__item">\r\n        <a href="#?" class="tags__link">\u0421\u043d\u0430\u0441\u0442\u0438</a>\r\n      </li>\r\n      <li class="tags__item">\r\n        <a href="#?" class="tags__link">\u041c\u0430\u0433\u0430\u0437\u0438\u043d</a>\r\n      </li>\r\n      <li class="tags__item">\r\n        <a href="#?" class="tags__link">\u041e\u043a\u0443\u043d\u0438</a>\r\n      </li>\r\n      <li class="tags__item">\r\n        <a href="#?" class="tags__link">\u0421\u043f\u0438\u043d\u043d\u0438\u043d\u0433</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class="field">\r\n    <div class="field__title">\u0413\u0434\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f:</div>\r\n    <div class="map map_popupwin mb10">\r\n      <a href="#?" class="map__close sprite-close js-map-close"></a>\r\n      <div class="map__container" id="map5"></div>\r\n      <a href="#?" class="btn-open js-map-open"></a>\r\n    </div>\r\n    <div class="field__input-map">\r\n      <input type="text" placeholder="\u0413\u043e\u0440\u043e\u0434, \u0443\u043b\u0438\u0446\u0430, \u0434\u043e\u043c">\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="popupwin__footer clearfix">\r\n  <a href="#?" class="btn btn_color_green left js-back">\u041d\u0430\u0437\u0430\u0434</a>\r\n  <a href="#?" class="btn btn_color_blue right js-next">\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433</a>\r\n</div>\r\n'});
this.Templates.BoardEvent=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return"\r\n"});
this.Templates.BoardPoint=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e,b=this.escapeExpression;c=""+('<div class="box__title box__title_type_place">\u041c\u0435\u0441\u0442\u043e</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-place">\r\n    <img src="'+b((e=(e=(e=g.imgs,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?e.apply(g):e))+'" alt="');(e=f.name)?e=e.call(g,{hash:{},data:d}):
(e=g.name,e="function"===typeof e?e.apply(g):e);c+=b(e)+'" class="img">\r\n    <div class="icons">\r\n      <a class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like ';if((e=f["if"].call(g,g.isliked,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){return"active"},d),data:d}))||0===e)c+=e;c+='" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(e=f.name)?e=e.call(g,{hash:{},data:d}):(e=g.name,e="function"===typeof e?e.apply(g):e);c+=b(e)+'</div>\r\n  <span class="info info_like">';(e=f.likes_count)?e=e.call(g,{hash:{},data:d}):(e=g.likes_count,e="function"===typeof e?e.apply(g):e);c+=b(e)+'</span>\r\n  <span class="info info_comment">';if((e=f["if"].call(g,g.reviews,{hash:{},inverse:this.program(5,function(a,b){return"0"},d),fn:this.program(3,function(a,c){var d;return b((d=(d=a.reviews,null==d||!1===d?d:d.length),"function"===typeof d?
d.apply(a):d))},d),data:d}))||0===e)c+=e;return c+"</span>\r\n</div>\r\n"});
this.Templates.BoardRoute=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e,b=this.escapeExpression;c=""+('<div class="box__title box__title_type_route">\u041c\u0430\u0440\u0448\u0440\u0443\u0442</div>\r\n<div class="box__img">\r\n  <a href="#?" class="js-popupwin-route">\r\n    <img src="'+b((e=(e=(e=(e=(e=g.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?
e.apply(g):e))+'" alt="');(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a="function"===typeof a?a.apply(g):a);c+=b(a)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a="function"===typeof a?a.apply(g):a);c+=b(a)+'</div>\r\n  <span class="info info_like">';(a=f.likes_count)?a=a.call(g,{hash:{},data:d}):(a=g.likes_count,a="function"===typeof a?a.apply(g):a);return c+=b(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+b((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="'+b((e=(e=g.author,null==e||!1===e?e:e.first_name),
"function"===typeof e?e.apply(g):e))+" "+b((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+b((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+b((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardSet=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e,b=this.escapeExpression;c=""+('<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+b((e=(e=(e=(e=(e=g.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?e.apply(g):
e))+'" alt="');(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a="function"===typeof a?a.apply(g):a);c+=b(a)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a="function"===typeof a?a.apply(g):a);c+=b(a)+'</div>\r\n  <span class="info info_like">';(a=f.likes_count)?a=a.call(g,{hash:{},data:d}):(a=g.likes_count,a="function"===typeof a?a.apply(g):a);return c+=b(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+b((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="'+b((e=(e=g.author,null==e||!1===e?e:e.first_name),
"function"===typeof e?e.apply(g):e))+" "+b((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+b((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+b((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.BoardTrip=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e,b=this.escapeExpression;c=""+('<div class="box__title box__title_type_trip">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</div>\r\n<div class="box__img">\r\n  <a href="#?">\r\n    <img src="'+b((e=(e=(e=(e=(e=g.points,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.imgs),null==e||!1===e?e:e[0]),null==e||!1===e?e:e.thumbnail207),"function"===typeof e?
e.apply(g):e))+'" alt="');(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a="function"===typeof a?a.apply(g):a);c+=b(a)+'" class="img">\r\n    <div class="icons">\r\n      <a href="#?" class="icon sprite-place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"></a>\r\n      <a href="#?" class="icon sprite-like" data-toggle="tooltip" title="\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"></a>\r\n    </div>\r\n  </a>\r\n</div>\r\n<div class="box__description">\r\n  <div class="name">';
(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a="function"===typeof a?a.apply(g):a);c+=b(a)+'</div>\r\n  <span class="info info_like">';(a=f.likes_count)?a=a.call(g,{hash:{},data:d}):(a=g.likes_count,a="function"===typeof a?a.apply(g):a);return c+=b(a)+'</span>\r\n  <span class="info info_comment">0</span>\r\n</div>\r\n<div class="box__person">\r\n  <img src="'+b((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="'+b((e=(e=g.author,null==e||!1===e?e:e.first_name),
"function"===typeof e?e.apply(g):e))+" "+b((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+'" class="img">\r\n  <div class="text">\r\n    \u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b<br>\r\n    <span class="name">'+b((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+b((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):e))+"</span>\r\n  </div>\r\n</div>\r\n"});
this.Templates.PointComments=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};c="";var e,b=this.escapeExpression,h=f.blockHelperMissing;e={hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var d,e;d=""+('\r\n  <li class="comments__item">\r\n    <a href="#?" class="photo">\r\n      <img src="/media/'+b((e=(e=a.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(a):e))+'" alt="user1" class="photo__img">\r\n    </a>\r\n    <div class="text">\r\n      <div class="text__info">\r\n        <a href="#?" class="name">'+
b((e=(e=a.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(a):e))+" "+b((e=(e=a.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(a):e))+'</a>\r\n        <span class="time">&bull; 12.04.2013 \u0432 17:27</span>\r\n      </div>\r\n      <div class="text__comment">');(e=f.review)?e=e.call(a,{hash:{},data:c}):(e=a.review,e="function"===typeof e?e.apply(a):e);return d+=b(e)+"</div>\r\n    </div>\r\n  </li>\r\n"},d),data:d};(a=f.reviews)?a=a.call(g,e):(a=g.reviews,
a="function"===typeof a?a.apply(g):a);f.reviews||(a=h.call(g,a,e));if(a||0===a)c+=a;c+="\r\n";if((g=f["if"].call(g,(a=g.user,null==a||!1===a?a:a.authorized),{hash:{},inverse:this.noop,fn:this.program(3,function(a,c){var d,e;return d=""+('\r\n<li class="comments__item">\r\n  <form action="/">\r\n    <a href="#?" class="photo">\r\n      <img src="/media/'+b((e=(e=a.user,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(a):e))+'" alt="user1" class="photo__img">\r\n    </a>\r\n    <div class="text">\r\n      <textarea placeholder="\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea>\r\n      <input type="submit" class="btn btn_color_blue" value="\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c">\r\n    </div>\r\n  </form>\r\n</li>\r\n')},
d),data:d}))||0===g)c+=g;return c+"\r\n"});
this.Templates.PointHeader=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e;a=this.escapeExpression;c=""+('<a href="#?" class="user">\r\n  <img src="'+a((e=(e=g.author,null==e||!1===e?e:e.avatar),"function"===typeof e?e.apply(g):e))+'" alt="" class="img">\r\n  <span class="name">'+a((e=(e=g.author,null==e||!1===e?e:e.first_name),"function"===typeof e?e.apply(g):e))+" "+a((e=(e=g.author,null==e||!1===e?e:e.last_name),"function"===typeof e?e.apply(g):
e))+'</span><br>\r\n  \u0434\u043e\u0431\u0430\u0432\u0438\u043b <span class="type c-place">\u043c\u0435\u0441\u0442\u043e</span>\r\n</a>\r\n<ul class="actions">\r\n  <li class="item">\r\n    <a href="#?" class="btn-like ');if((e=f["if"].call(g,g.isliked,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){return"active"},d),data:d}))||0===e)c+=e;c+='" data-toggle="tooltip" data-original-title="\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f" data-placement="bottom">\r\n      <span class="icon sprite-like-user"></span>\r\n      <span class="text">';
(e=f.likes_count)?e=e.call(g,{hash:{},data:d}):(e=g.likes_count,e="function"===typeof e?e.apply(g):e);return c+=a(e)+'</span>\r\n    </a>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#?" class="btn-place">\r\n      <span class="icon sprite-place-user"></span>\u0412 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\r\n    </a>\r\n  </li>\r\n  <li class="item">\r\n    <a href="#?" class="btn-upload">\r\n      <span class="icon sprite-upload"></span>\r\n    </a>\r\n    <div class="soc-wrap">\r\n      <ul class="soc-list">\r\n        <li class="soc-list__item">\r\n          <a href="#?" class="btn-soc btn-soc_tw">Twitter</a>\r\n        </li>\r\n        <li class="soc-list__item">\r\n          <a href="#?" class="btn-soc btn-soc_vk">\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435</a>\r\n        </li>\r\n        <li class="soc-list__item">\r\n          <a href="#?" class="btn-soc btn-soc_fb">Facebook</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </li>\r\n</ul>\r\n'});
this.Templates.PointLayout=Handlebars.template(function(c,g,f,a,d){function e(a,c){var d,e;return d=""+('\r\n      <li class="peoples__item">\r\n        <a href="#?" class="peoples__link">\r\n          <img src="'+h((e=(e=a.author,null==e||!1===e?e:e.avatar),typeof e===b?e.apply(a):e))+'" alt="user" class="peoples__img">\r\n        </a>\r\n      </li>\r\n    ')}this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var b="function",h=this.escapeExpression,k=this,l=f.blockHelperMissing;c='<div class="popupwin__content clearfix">\r\n  <div id="point-header-region" class="place-info clearfix"></div>\r\n  \r\n  <div id="point-photo-region"></div> \r\n\r\n  <div class="description">\r\n    <h3 class="description__title">';
(a=f.name)?a=a.call(g,{hash:{},data:d}):(a=g.name,a=typeof a===b?a.apply(g):a);c+=h(a)+'</h3>\r\n    <p class="description__text">';(a=f.description)?a=a.call(g,{hash:{},data:d}):(a=g.description,a=typeof a===b?a.apply(g):a);c+=h(a)+'</p>\r\n    <div class="description__additional commercial-info">\r\n      <div class="commercial-info__head">\r\n        <ul class="list">\r\n          <li class="item item_phone">8 (817) 272-45-50</li>\r\n          <li class="item item_site"><a href="#?" class="link">mysite.ru</a></li>\r\n          <li class="item item_tw"><a href="#?" class="link">@kirillo_belozer</a></li>\r\n          <li class="item item_vk"><a href="#?" class="link">vk.com/groupname</a></li>\r\n        </ul>\r\n        <a href="#?" class="link-open js-open"></a>\r\n      </div>\r\n      <div class="commercial-info__body clearfix">\r\n        <ul class="list list_first">\r\n          <li class="item">\r\n            <div class="entry-title">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b:</div>\r\n            <div class="text">\r\n              \u041f\u043d-\u041f\u0442    12:20 - 22:00<br>\r\n              \u0421\u0431-\u0412\u0441    12:00 - 18:00\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b:</div>\r\n            <div class="text">\r\n              \u0414\u0430 (\u0432\u043a\u043b. Visa, Master Card)\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u0423\u043b\u0438\u0447\u043d\u0430\u044f \u0432\u0435\u0440\u0430\u043d\u0434\u0430:  </div>\r\n            <div class="text">\r\n              \u0414\u0430\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <ul class="list list_second">\r\n          <li class="item">\r\n            <div class="entry-title">\u0426\u0435\u043d\u0430:</div>\r\n            <div class="text">\r\n              500 <span class="sprite-ruble-commercial"></span>\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f:</div>\r\n            <div class="text">\r\n              \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u0430\u043d\u0447,<br>\r\n              \u041b\u0438\u043d\u0438\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:  </div>\r\n            <div class="text">\r\n              \u0414\u0430\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <ul class="list list_third">\r\n          <li class="item">\r\n            <div class="entry-title">\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</div>\r\n            <div class="text">\r\n              \u0434\u0430\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <div class="entry-title">WiFi:</div>\r\n            <div class="text">\r\n              \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439\r\n            </div>\r\n          </li>\r\n          <li class="item">\r\n            <a href="#?" class="link-changes">\u0425\u043e\u0447\u0443 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class="description__address">';
(a=f.address)?a=a.call(g,{hash:{},data:d}):(a=g.address,a=typeof a===b?a.apply(g):a);c+=h(a)+'</div>\r\n  </div>\r\n\r\n  <div class="map map_popupwin">\r\n    <a href="#?" class="map__close sprite-close js-map-close"></a>\r\n    <div class="map__container" id="map2"></div>\r\n    <a href="#?" class="btn-open js-map-open"></a>\r\n  </div>\r\n\r\n  <div class="comments-wrap" id="point-comments-region"></div>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n\r\n<div class="popupwin__content clearfix">\r\n  <div class="title title_blue title_bg_light">\u0418\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c:</div>\r\n  <ul class="peoples">\r\n    <li class="peoples__item">\r\n      <a href="#?" class="peoples__link">\r\n        <img src="media/uploads/user-comments-1.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n\r\n';
if((a=f["if"].call(g,g.sets,{hash:{},inverse:k.noop,fn:k.program(1,function(a,c){var d,g,h;d='\r\n<div class="popupwin__content clearfix">\r\n  <div class="title title_green title_bg_light">\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a \u0441\u0435\u0431\u0435 \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435:</div>\r\n  <ul class="peoples">\r\n    ';h={hash:{},inverse:k.noop,fn:k.program(2,e,c),data:c};(g=f.sets)?g=g.call(a,h):(g=a.sets,g=typeof g===b?g.apply(a):
g);f.sets||(g=l.call(a,g,h));if(g||0===g)d+=g;return d+'\r\n    <li class="peoples__item hide">\r\n      <a href="#?" class="peoples__link">\r\n        <img src="media/uploads/user-comments-4.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n    <li class="peoples__item hide">\r\n      <a href="#?" class="peoples__link">\r\n        <img src="media/uploads/user-comments-yp.png" alt="user" class="peoples__img">\r\n      </a>\r\n    </li>\r\n    <li class="peoples__item">\r\n      <a href="#?" class="peoples__link peoples__link_all js-more-people">\r\n        \u0415\u0449\u0451\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'},
d),data:d}))||0===a)c+=a;return c+"\r\n"});
this.Templates.PointPhoto=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e,b=this.escapeExpression,h=f.blockHelperMissing;c='<div class="slider">\r\n  <ul class="bxslider bxslider-place">\r\n    ';e={hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var d,e;d='\r\n    <li class="item"><img src="';(e=f.thumbnail560)?e=e.call(a,{hash:{},data:c}):(e=a.thumbnail560,e="function"===typeof e?e.apply(a):e);return d+=b(e)+'" class="img" /></li>\r\n    '},
d),data:d};(a=f.imgs)?a=a.call(g,e):(a=g.imgs,a="function"===typeof a?a.apply(g):a);f.imgs||(a=h.call(g,a,e));if(a||0===a)c+=a;c+='\r\n  </ul>\r\n  <div class="bx-pager" id="bx-pager">\r\n    <div class="bx-pager__viewport">\r\n      <div class="bx-pager__scrollbox">\r\n        ';e={hash:{},inverse:this.noop,fn:this.program(3,function(a,c){var d,e;d=""+('\r\n        <a data-slide-index="'+b((e=c.index,"function"===typeof e?e.apply(a):e))+'" href="" class="bx-pager__item">\r\n          <img src="');
(e=f.thumbnail104x104)?e=e.call(a,{hash:{},data:c}):(e=a.thumbnail104x104,e="function"===typeof e?e.apply(a):e);return d+=b(e)+'" class="img"/>\r\n          </a>\r\n        '},d),data:d};(a=f.imgs)?a=a.call(g,e):(a=g.imgs,a="function"===typeof a?a.apply(g):a);f.imgs||(a=h.call(g,a,e));if(a||0===a)c+=a;return c+'\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <a href="#?" class="btn-photo-add js-popup-add-photos">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c</a>\r\n</div>\r\n'});
this.Templates.FooterView=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="logo"><img src="/static/images/logo-footer.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c" class="img"></div>\r\n<div class="constrain">\r\n  <nav class="nav">\r\n    <ul class="nav_list">\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435</a></li>\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</a></li>\r\n      <li class="nav__item"><a href="#?" class="nav__link">\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435</a></li>\r\n    </ul>\r\n  </nav>\r\n  <a href="#?" class="link-up js-up">\u0412\u0432\u0435\u0440\u0445</a>\r\n</div>\r\n'});
this.Templates.Ctrls=Handlebars.template(function(c,g,f,a,d){function e(a,b){var c,d;return c="/media/"+l((d=(d=a.user,null==d||!1===d?d:d.avatar),typeof d===k?d.apply(a):d))}function b(a,b){return"/static/images/guest.png"}this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var h,k="function",l=this.escapeExpression,p=this;c='<div class="header__search">\r\n  <input type="text" placeholder="\u041c\u0435\u0441\u0442\u0430, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f...">\r\n</div>\x3c!-- class="header__search" --\x3e\r\n<a href="/" class="logo">\r\n  <img src="/static/images/logo.png" alt="\u042f\u0441\u0435\u043d\u041f\u0443\u0442\u044c">\r\n</a>\r\n<div class="header__btns">\r\n  ';
if((g=f["if"].call(g,(h=g.user,null==h||!1===h?h:h.authorized),{hash:{},inverse:p.program(6,function(a,b){return'\r\n  <a href="#?" class="btn btn_color_blue">\u0412\u043e\u0439\u0442\u0438</a>\r\n  '},d),fn:p.program(1,function(a,c){var d,g,h;d='\r\n  <a href="#?" class="btn btn_action_add btn_color_green js-popup-add">\r\n    <span class="sprite-add"></span>\r\n  </a>\r\n    <div class="header__user">\r\n      <a href="#?" class="link-user">\r\n        <img src="';if((h=f["if"].call(a,(g=a.user,
null==g||!1===g?g:g.avatar),{hash:{},inverse:p.program(4,b,c),fn:p.program(2,e,c),data:c}))||0===h)d+=h;return d+='" alt="'+l((g=(g=a.user,null==g||!1===g?g:g.first_name),typeof g===k?g.apply(a):g))+" "+l((g=(g=a.user,null==g||!1===g?g:g.last_name),typeof g===k?g.apply(a):g))+'" class="photo">\r\n        '+l((g=(g=a.user,null==g||!1===g?g:g.first_name),typeof g===k?g.apply(a):g))+"<br>"+l((g=(g=a.user,null==g||!1===g?g:g.last_name),typeof g===k?g.apply(a):g))+' \r\n      </a>\r\n      <a href="#?" class="btn btn_color_blue js-profile-menu"></a>\r\n      <ul class="profile-menu">\r\n        <li class="item">\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-bag"></span>\r\n            \u042f \u0441\u043e\u0437\u0434\u0430\u043b\r\n          </a>\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-heart"></span>\r\n            \u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f\r\n          </a>\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-settings"></span>\r\n            \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\r\n          </a>\r\n          <a href="#?" class="link">\r\n            <span class="icon sprite-power"></span>\r\n            \u0412\u044b\u0445\u043e\u0434\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  '},
d),data:d}))||0===g)c+=g;return c+'\r\n</div>\x3c!-- class="header__btns" --\x3e\r\n'});this.Templates.Destination=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="slogan">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0443\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0430\u043c\u0438</div>\r\n<div class="query">\r\n  <form id="destination-form" action="/">\r\n    <input id="destination-input" type="text" placeholder="\u041a\u0443\u0434\u0430 \u0432\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c?">\r\n    <button type="submit" class="btn btn_color_blue">\u041f\u043e\u0435\u0445\u0430\u043b\u0438</button>\r\n  </form>\r\n</div>\r\n'});
this.Templates.Filter=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};var e=this.escapeExpression;c='<ul class="categories">\r\n  ';if((g=f.each.call(g,g.items,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var d,g;d='\r\n  <li class="categories__item">\r\n    <a href="#" class="categories__link sprite-filter-photo ';(g=f.style)?g=g.call(a,{hash:{},data:c}):(g=a.style,g="function"===typeof g?g.apply(a):g);d+=e(g)+'" data-id="';(g=f.id)?
g=g.call(a,{hash:{},data:c}):(g=a.id,g="function"===typeof g?g.apply(a):g);d+=e(g)+'" data-toggle="tooltip" data-placement="bottom" title="';(g=f.name)?g=g.call(a,{hash:{},data:c}):(g=a.name,g="function"===typeof g?g.apply(a):g);return d+=e(g)+'"></a>\r\n  </li>\r\n  '},d),data:d}))||0===g)c+=g;return c+'\r\n  <li class="categories__item"><a href="#?" class="categories__link categories__link_type_all sprite-filter-all"></a></li>\r\n  \x3c!--\r\n  <li class="categories__item"><a href="#?" class="categories__link sprite-filter-photo" data-toggle="tooltip" title="\u0424\u043e\u0442\u043e"></a></li>\r\n  --\x3e\r\n</ul>\r\n<div class="filter-sort">\r\n  <a href="#?" class="sprite-filter-down" data-toggle="tooltip" data-placement="bottom" title="\u041d\u043e\u0432\u043e\u0435"></a>\r\n  <a href="#?" class="sprite-filter-up" data-toggle="tooltip" data-placement="bottom" title="\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"></a>\r\n</div>\r\n<div class="filter-type">\r\n  <a href="#?" class="btn btn_color_grey js-open">\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f</a>\r\n  <ul class="filter-type__list">\r\n    <li class="filter-type__item">\r\n      <a data-models="sets" href="#?" class="filter-type__link c-blue">\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="points" href="#?" class="filter-type__link c-green">\u041c\u0435\u0441\u0442\u0430</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="routes" href="#?" class="filter-type__link c-brown">\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u044b</a>\r\n    </li>\r\n    <li class="filter-type__item">\r\n      <a data-models="events" href="#?" class="filter-type__link c-yellow">\u0421\u043e\u0431\u044b\u0442\u0438\u044f</a>\r\n    </li>\r\n    <li class="filter-type__item filter-type__item_checkbox">\r\n      <label class="checkbox-label">\r\n        <input type="checkbox">\r\n        <span class="checkbox-bg"></span>\r\n      </label>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'});
this.Templates.HeaderView=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="header__ctrls"></div>\r\n<div class="header__destination"></div>\r\n<div class="header__filter"></div>\r\n'});this.Templates.PopupAdd=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="popupwin__content clearfix">\r\n  <div class="popupwin__title clearfix">\r\n    \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\r\n  </div>\r\n  <ul class="stuff-add">\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-place">\r\n        <span class="icon icon_place"></span>\r\n        <span class="btn btn_color_green">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e</span>\r\n        <span class="text">\u0413\u043e\u0440\u043e\u0434, \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430, \u043a\u0430\u0444\u0435, \u0443\u043b\u0438\u0446\u0430...</span>\r\n      </a>\r\n    </li>\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-event">\r\n        <span class="icon icon_event"></span>\r\n        <span class="btn btn_color_yel">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435</span>\r\n        <span class="text">\u0424\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u0438, \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0438, \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438...</span>\r\n      </a>\r\n    </li>\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-route">\r\n        <span class="icon icon_route"></span>\r\n        <span class="btn btn_color_brown">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442</span>\r\n        <span class="text">\u041e\u0442\u043a\u0443\u0434\u0430, \u043a\u0443\u0434\u0430 \u0438 \u043a\u0430\u043a...</span>\r\n      </a>\r\n    </li>\r\n    <li class="stuff-add__item">\r\n      <a href="#?" class="stuff-add__link js-popup-add-trip">\r\n        <span class="icon icon_trip"></span>\r\n        <span class="btn btn_color_blue">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435</span>\r\n        <span class="text">\u0424\u043e\u0442\u043e, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043c\u0435\u0441\u0442\u0430</span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>\x3c!-- class="popup-content" --\x3e\r\n'});
this.Templates.IconTemplate=Handlebars.template(function(c,g,f,a,d){function e(a,c){var d,e;d='\r\n  <a href="#" data-toggle="tooltip" title="';(e=f.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===k?e.apply(a):e);d+=l(e)+'" data-placement="top" data-type-ico="';(e=f.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===k?e.apply(a):e);d+=l(e)+'">\r\n    <span class="m-ico ';if((e=f["if"].call(a,a.style,{hash:{},inverse:p.program(5,h,c),fn:p.program(3,b,c),data:c}))||0===e)d+=e;d+='" data-id="';
(e=f.id)?e=e.call(a,{hash:{},data:c}):(e=a.id,e=typeof e===k?e.apply(a):e);return d+=l(e)+'"></span>\r\n  </a>\r\n  '}function b(a,b){var c;(c=f.style)?c=c.call(a,{hash:{},data:b}):(c=a.style,c=typeof c===k?c.apply(a):c);return l(c)}function h(a,b){return"m-dostoprimechatelnost"}this.compilerInfo=[3,">= 1.0.0-rc.4"];f=f||c.helpers;d=d||{};c="";var k="function",l=this.escapeExpression,p=this,n=f.helperMissing;if((g=f.each.call(g,g.items,{hash:{},inverse:p.noop,fn:p.program(1,function(a,b){var c,d,
g;c="\r\n  ";g={hash:{},inverse:p.noop,fn:p.program(2,e,b),data:b};if((g=(d=f.ifEquals,d?d.call(a,a.level,0,g):n.call(a,"ifEquals",a.level,0,g)))||0===g)c+=g;return c+"\r\n"},d),data:d}))||0===g)c+=g;return c+"\r\n"});this.Templates.MapView=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'\x3c!--<div id="mainmap" style="width: 100%;"></div>\r\n\r\n<div id="m-ico-group" class="m-ico-group"></div>\r\n\r\n<div class="toggle-bottom">\r\n  <a href="#" class="a-toggle">\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443</a>\r\n</div>--\x3e\r\n\r\n\r\n    <div class="constrain">\r\n      <a href="#?" class="map__close sprite-close js-map-close"></a>\r\n    </div>\r\n    <div class="map__route route-list route-list_draggable route-list_deleteable">\r\n      <ul class="list">\r\n        <li class="item hide">\r\n          <span class="drag"></span>\r\n          <span class="number">0</span>\r\n          <img src="" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place"></span>\r\n            <span class="text__type c-place"></span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">1</span>\r\n          <img src="media/uploads/route-1.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0424\u0435\u0440\u0430\u043f\u043e\u043d\u0442\u043e\u0432 \u043c\u043e\u043d\u0430\u0441\u0442\u044b\u0440\u044c</span>\r\n            <span class="text__type c-place">\u043c\u0435\u0441\u0442\u043e</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">2</span>\r\n          <img src="media/uploads/route-2.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0434\u0435\u043b\u044c\u0444\u0438\u043d\u0430\u0440\u0438\u0439 \u0432\u043f\u0435\u0440\u0432\u044b\u0435...</span>\r\n            <span class="text__type c-event">\u0441\u043e\u0431\u044b\u0442\u0438\u0435 14.09\u201420.10</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">3</span>\r\n          <img src="media/uploads/route-3.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0424\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u044c \u043a\u0440\u0430\u0441\u043e\u043a \u0425\u041e\u041b\u0418 \u041d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0439...</span>\r\n            <span class="text__type c-event">\u0441\u043e\u0431\u044b\u0442\u0438\u0435 14.09</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">4</span>\r\n          <img src="media/uploads/route-4.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0410\u0440\u0445\u0438\u0435\u0440\u0435\u0439\u0441\u043a\u043e\u0435 \u043f\u043e\u0434\u0432\u043e\u0440\u044c\u0435 (\u0412\u043e\u043b\u043e\u0433\u043e\u0434\u0441\u043a\u0438\u0439 \u043a\u0440\u0435\u043c\u043b\u044c)</span>\r\n            <span class="text__type c-place">\u043c\u0435\u0441\u0442\u043e</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">5</span>\r\n          <img src="media/uploads/route-1.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0424\u0435\u0440\u0430\u043f\u043e\u043d\u0442\u043e\u0432 \u043c\u043e\u043d\u0430\u0441\u0442\u044b\u0440\u044c</span>\r\n            <span class="text__type c-place">\u043c\u0435\u0441\u0442\u043e</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">6</span>\r\n          <img src="media/uploads/route-2.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0434\u0435\u043b\u044c\u0444\u0438\u043d\u0430\u0440\u0438\u0439 \u0432\u043f\u0435\u0440\u0432\u044b\u0435...</span>\r\n            <span class="text__type c-event">\u0441\u043e\u0431\u044b\u0442\u0438\u0435 14.09\u201420.10</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">7</span>\r\n          <img src="media/uploads/route-3.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0424\u0435\u0441\u0442\u0438\u0432\u0430\u043b\u044c \u043a\u0440\u0430\u0441\u043e\u043a \u0425\u041e\u041b\u0418 \u041d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0439...</span>\r\n            <span class="text__type c-event">\u0441\u043e\u0431\u044b\u0442\u0438\u0435 14.09</span>\r\n          </div>\r\n        </li>\r\n        <li class="item">\r\n          <span class="drag"></span>\r\n          <span class="number">8</span>\r\n          <img src="media/uploads/route-4.png" alt="" class="img">\r\n          <div class="text">\r\n            <span class="text__place">\u0410\u0440\u0445\u0438\u0435\u0440\u0435\u0439\u0441\u043a\u043e\u0435 \u043f\u043e\u0434\u0432\u043e\u0440\u044c\u0435 (\u0412\u043e\u043b\u043e\u0433\u043e\u0434\u0441\u043a\u0438\u0439 \u043a\u0440\u0435\u043c\u043b\u044c)</span>\r\n            <span class="text__type c-place">\u043c\u0435\u0441\u0442\u043e</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <a href="#?" class="delete-item js-delete"></a>\r\n    </div>\r\n    <div class="baloon">\r\n      <div class="baloon__head">\r\n        <a href="#?" class="title title_tag">\r\n          <i class="icon"></i>\r\n           \u0422\u0420\u041a \u00ab\u042f\u0440\u043e\u0441\u043b\u0430\u0432\u0441\u043a\u0438\u0439 \u0412\u0435\u0440\u043d\u0438\u0441\u0430\u0436\u00bb\r\n        </a>\r\n        <a href="#?" class="close"></a>\r\n      </div>\r\n      <div class="baloon__body">\r\n        <div class="text">\r\n          <img src="media/uploads/baloon-img.png" alt="" class="img">\r\n          \u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d \u0432 \u042f\u0440\u043e\u0441\u043b\u0430\u0432\u043b\u0435 \u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0438 \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043f\u0435\u043a\u0442\u0430 \u0438 \u0443\u043b\u0438\u0446\u044b \u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0430 30 \u0413\u0430. \u041d\u0430\r\n        </div>\r\n        <div class="type">\r\n          <i class="icon sprite-place-small"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="map__container" id="map"></div>\r\n    <div class="map__ctrls-wrap">\r\n      <div class="map__ctrls hide">\r\n        <form action="/">\r\n          <input type="submit" value="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442" class="btn btn_color_blue">\r\n          <ul class="map-counter">\r\n            <li class="map-counter__item hide">\r\n              <a href="#?" class="map-counter__link map-counter__link_type_event " data-type="event" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435&nbsp;\u0441\u043e\u0431\u044b\u0442\u0438\u044f">0</a>\r\n            </li>\r\n            <li class="map-counter__item hide">\r\n              <a href="#?" class="map-counter__link map-counter__link_type_place" data-type="place" data-toggle="tooltip" title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435&nbsp;\u043c\u0435\u0441\u0442\u0430">0</a>\r\n            </li>\r\n          </ul>\r\n          <div class="hint hint_pos_ne" style="bottom: -115px; left: -115px; width: 220px;">\r\n            \u041c\u0435\u0441\u0442\u0430 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0432 \u0432\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\r\n            <a href="#?" class="hint__close"></a>\r\n          </div>\x3c!-- class="hint" --\x3e\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class="constrain">\r\n      <div class="map__where">\r\n        <a href="#?" class="btn btn_color_green btn-change-city js-change-city"><span class="text">\u0412\u044b \u0435\u0434\u0435\u0442\u0435 \u0438\u0437 <span class="city">\u0412\u043e\u043b\u043e\u0433\u0434\u044b</span>  ?</span></a>\r\n        <div class="select-wrap">\r\n          <select>\r\n            <option value="1">\u0412\u043e\u043b\u043e\u0433\u0434\u0430</option>\r\n            <option value="2">\u041c\u043e\u0441\u043a\u0432\u0430</option>\r\n            <option value="3">\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433</option>\r\n            <option value="4">\u0412\u043e\u0440\u043e\u043d\u0435\u0436</option>\r\n            <option value="5">\u041f\u0435\u0440\u043c\u044c</option>\r\n          </select>\r\n          <a href="#?" class="btn btn_color_green js-chosen-city">\u041e\u041a</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n'});
this.Templates.LoadingView=Handlebars.template(function(c,g,f,a,d){this.compilerInfo=[3,">= 1.0.0-rc.4"];return'<div class="loader">\r\n</div>\r\n'});
(function(){Handlebars.registerHelper("ifEquals",function(c,g,f){return(null!=c?c.toString():void 0)===(null!=g?g.toString():void 0)?f.fn(this):f.inverse(this)});Handlebars.registerHelper("ifContains",function(c,g,f){return void 0===g?!1:_.contains(g,c)?f.fn(this):f.inverse(this)});Handlebars.registerHelper("ifBelong",function(c,g,f){var a,d,e,b;if(void 0===g)return!1;e=0;for(b=g.length;e<b;e++)d=g[e],d.id===c.id&&(a=!0);return a?f.fn(this):f.inverse(this)});Handlebars.registerHelper("dateFormat",
function(c,g){var f;return window.moment?(f=g.hash.format||"D MMMM YYYY \u0432 HH:mm",moment(c).format(f)):c});Handlebars.registerHelper("eachKey",function(c,g){var f,a,d,e;a="";c=c.toString().substring(1,c.length-1).split(",");d=0;for(e=c.length;d<e;d++)f=c[d],a+=g.fn(f.trim());return a});Handlebars.registerHelper("splitAddr",function(c,g,f){c=c.split(g);return c[2]});Handlebars.registerHelper("addShy",function(c,g){var f,a;if(_.contains(c," "))return c;f=c.slice(0,10);a=c.slice(10);return new Handlebars.SafeString(""+
f+"&shy;"+a)});Handlebars.registerHelper("safe",function(c,g){return new Handlebars.SafeString(c)})}).call(this);
(function(){(function(c,g,f){g.ajaxSetup({headers:{"X-CSRFToken":g.cookie("csrftoken")}});f.autoDiscover=!1;c.emulateJSON=!0;return _.extend(c.Marionette.Application.prototype,{settings:{},navigate:function(a,d){null==d&&(d={});return c.history.navigate(a,d)},getCurrentRoute:function(){var a;a=c.history.fragment;return _.isEmpty(a)?null:a},startHistory:function(){if(c.history)return c.history.start()},register:function(a,c){null==this._registry&&(this._registry={});return this._registry[c]=a},unregister:function(a,
c){return delete this._registry[c]},resetRegistry:function(){var a,c,e,b;e=this.getRegistrySize();b=this._registry;for(c in b)a=b[c],a.region.close();a="There were "+e+" controllers in the registry, there are now "+this.getRegistrySize();return 0<this.getRegistrySize()?console.warn(a,this._registry):console.log(a)},getRegistrySize:function(){return _.size(this._registry)},updateSettings:function(a){var c,e,b;e={};c=!1;for(b in a)a.hasOwnProperty(b)&&this.settings[b]!==a[b]&&(_.isNumber(a[b])||!_.isEmpty(a[b])?
this.settings[b]=a[b]:delete this.settings[b],e[b]=a[b],c=!0);if(c)return this.vent.trigger("change:settings",e)},getCookie:function(a){var c,e,b,f,g,l;c=null;if(document.cookie&&""!==document.cookie){e=document.cookie.split(";");f=function(b){b=b.trim();if(b.substring(0,a.length+1)===a+"=")return c=decodeURIComponent(b.substring(a.length+1))};g=0;for(l=e.length;g<l;g++)b=e[g],f(b)}return c},apiRequest:function(a){var c,e=this;c=this.API_BASE_URL+a.url;console.log([""+a.type+" request to "+c+" with data:",
a.data]);return g.ajax({url:c,type:a.type,dataType:a.dataType||"json",processData:a.processData,contentType:a.contentType,data:a.data,beforeSend:function(a){return a.setRequestHeader("X-CSRFToken",e.getCookie("csrftoken"))},success:function(b){var c;console.log(["response from API: ",b]);if(a.successCallback)return c=[b],_.each(a.params,function(a){return c.push(a)}),a.successCallback.apply(a.context,c)}})}})})(Backbone,$,Dropzone)}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};(function(c,a){return a.Region.Modal=function(a){function e(){_.extend(this,c.Events);_.bindAll(this)}g(e,a);e.prototype.open=function(a){this.$el.find(".modal-dialog").empty().append(a.el);return this.$el.on("hidden.bs.modal",this.closeModal)};e.prototype.onShow=function(a){this.setupBindings(a);a=this.getDefaultOptions(_.result(a,
"modal"));return this.$el.modal(a)};e.prototype.getDefaultOptions=function(a){null==a&&(a={});return _.defaults(a,{modalClass:a.className})};e.prototype.setupBindings=function(a){return this.listenTo(a,"modal:close",this.closeModal)};e.prototype.closeModal=function(a){this.$el.off();this.stopListening();return this.close()};return e}(a.Region)})(Backbone,Marionette)}).call(this);(function(){(function(c){return _.extend(c.Renderer,{render:function(c,f){var a;if(!1!==c)return a=Templates[c],a(f)}})})(Marionette)}).call(this);
(function(){(function(c){var g;_.extend(c.Marionette.Application.prototype,{API_BASE_URL:""},void 0!==window.DEBUG?g=window.DEBUG:g=!0,{DEBUG:g});c="undefined"===typeof window.console?{}:window.console;if(!1===window.DEBUG||"undefined"===typeof c.log)return c.log=c.debug=c.trace=c.dir=c.dirxml=c.group=c.groupEnd=c.time=c.timeEnd=c.assert=c.profile=function(){}})(Backbone)}).call(this);
(function(){(function(c){var g;g=c.sync;return c.sync=function(c,a,d){null==d&&(d={});d=g(c,a,d);!a._fetch&&"read"===c&&(a._fetch=d);return d}})(Backbone)}).call(this);
(function(){this.Yapp=function(c,g){var f;f=new g.Application;f.addRegions({headerRegion:"#header-region",boardRegion:"#board-region",footerRegion:"#footer-region",mapRegion:"#map-region",addPopupRegion:g.Region.Modal.extend({el:".popupwin_add"}),pointPopup:g.Region.Modal.extend({el:".popupwin_place"}),addPointPopup:g.Region.Modal.extend({el:".popupwin_add-place"})});f.reqres.setHandler("default:region",function(){return f.boardRegion});f.rootRoute="/";f.commands.setHandler("register:instance",function(a,
c){return f.register(a,c)});f.commands.setHandler("unregister:instance",function(a,c){return f.unregister(a,c)});f.on("initialize:after",function(a){this.startHistory();if(!this.getCurrentRoute())return this.navigate(this.rootRoute,{trigger:!0})});return f}(Backbone,Marionette)}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Controllers",function(c,a,d,e,b,h){return c.Base=function(b){function c(b){null==b&&(b={});this.region=b.region||a.request("default:region");this._instance_id=h.uniqueId("controller");a.execute("register:instance",this,this._instance_id);c.__super__.constructor.apply(this,arguments)}
g(c,b);c.prototype.close=function(){a.execute("unregister:instance",this,this._instance_id);return c.__super__.close.apply(this,arguments)};c.prototype.show=function(a,b){null==b&&(b={});h.defaults(b,{loading:!1,region:this.region});this._setMainView(a);return this._manageView(a,b)};c.prototype._setMainView=function(a){if(!this._mainView)return this._mainView=a,this.listenTo(a,"close",this.close)};c.prototype._manageView=function(b,c){return c.loading?a.execute("show:loading",b,c):c.region.show(b)};
return c}(e.Controller)})}).call(this);(function(){this.Yapp.module("Views",function(c,g,f,a,d,e){return e.extend(a.View.prototype,{templateHelpers:function(){return{user:g.request("get:my:profile").toJSON()}}})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Views",function(c,a,d,e,b,h){var k;return c.CollectionView=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.itemViewEventPrefix="childview";return b}(e.CollectionView)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Views",function(c,a,d,e,b,h){var k;return c.CompositeView=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.itemViewEventPrefix="childview";return b}(e.CompositeView)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Views",function(c,a,d,e,b,h){var k;return c.ItemView=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(e.ItemView)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Views",function(c,a,d,e,b,h){var k;return c.Layout=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(e.Layout)})}).call(this);
(function(){this.Yapp.module("Entities",function(c,g,f,a,d,e){return g.commands.setHandler("when:fetched",function(a,c){var f;f=e.chain([a]).flatten().pluck("_fetch").value();return d.when.apply(d,f).done(function(){return c()})})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k;return c.Collection=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.model=function(a,b){return"point"===a.type_of_item?new c.Point(a,b):"set"===a.type_of_item?new c.Set(a,b):"trip"===a.type_of_item?
new c.Set(a,b):"route"===a.type_of_item?new c.Route(a,b):new c.Point};b.prototype.initialize=function(){return console.log("initializing Entities.Collection")};return b}(d.Collection)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k;return c.Model=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.initialize=function(){return console.log("initializing Entities.Model")};b.prototype.idAttribute="unid";b.prototype.parse=function(a){h.isArray(a)&&
(a=a[0]);return a};return b}(d.Model)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.Event=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/events/"};return c}(c.Model);k={getDetailSets:function(a,b){var d;null==b&&(b={});h.defaults(b);
d=new c.Set({unid:a});d.fetch({reset:!0,data:b});return d}};return a.reqres.setHandler("get:detail:events",function(a){return k.getDetailSets(a)})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.Point=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.urlRoot=a.API_BASE_URL+"/api/v1/points/";return c}(c.Model);k={getDetail:function(a,b){null==b&&(b={});a.id=a.get("id");h.defaults(b);a.fetch({reset:!0,
data:b});return a},like:function(b,c){var d;null==c&&(c={});d=b.get("id");return a.apiRequest({url:a.API_BASE_URL+("/api/v1/points/"+d+"/like/"),type:"POST",successCallback:function(a){return b.trigger("point:like:response",a)},data:{id:d}})}};a.reqres.setHandler("get:detail:point",function(a){return k.getDetail(a)});return a.reqres.setHandler("like:point",function(a){k.like(a).done(function(b){return a.set(b[0])});return a})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.Route=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/route/"};return c}(c.Model);k={getDetail:function(a,b){var d;null==b&&(b={});h.defaults(b);
d=new c.Route({unid:a});d.fetch({reset:!0,data:b});return d}};return a.reqres.setHandler("get:detail:route",function(a){return k.getDetail(a)})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.Set=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/sets/"};return c}(c.Model);k={getDetailSets:function(a,b){var d;null==b&&(b={});h.defaults(b);
d=new c.Set({unid:a});d.fetch({reset:!0,data:b});return d}};return a.reqres.setHandler("get:detail:sets",function(a){return k.getDetailSets(a)})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.TagCollection=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(d.Collection);k={getTags:function(b){var d;null==b&&(b={});h.defaults(b);d=new c.TagCollection;d.url=a.API_BASE_URL+"/api/v1/tags/";
d.fetch({reset:!0,data:b});return d}};return a.reqres.setHandler("get:all:tags",function(){return k.getTags()})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.Trip=function(b){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.urlRoot=function(){return a.API_BASE_URL+"/api/v1/trips/"};return c}(c.Model);k={getDetailSets:function(a,b){var d;null==b&&(b={});h.defaults(b);
d=new c.Set({unid:a});d.fetch({reset:!0,data:b});return d}};return a.reqres.setHandler("get:detail:trips",function(a){return k.getDetailSets(a)})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.User=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.idAttribute="id";b.prototype.defaults={first_name:"",last_name:"",authorized:!1,email:!1,avatar:"",count_liked_objects:0,count_commented_objects:0};
return b}(c.Model);k={me:function(b){null==b&&(b={});h.defaults(b);return this.user=this.user||new c.User(a.USER)}};return a.reqres.setHandler("get:my:profile",function(){return k.me()})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Entities",function(c,a,d,e,b,h){var k,l;c.YapensCollection=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);return b}(c.Collection);k={getEntities:function(b){var d;null==b&&(b={});d=new c.YapensCollection;d.url=a.API_BASE_URL+"/api/v1/yapens/";
d.fetch({reset:!0,data:b});return d},search:function(b,c){null==b&&(b={});h.defaults(b,{s:""});return a.apiRequest({url:a.API_BASE_URL+"/api/v1/search/",data:b,successCallback:c})}};a.reqres.setHandler("get:all:yapens",function(a){null==a&&(a={});return k.getEntities(a)});return a.reqres.setHandler("search:all:yapens",function(a,b){null==a&&(a={});return k.search(a,b)})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Components.Loading",function(c,a,d,e,b,h){var k;c.LoadingController=function(b){function d(){return k=d.__super__.constructor.apply(this,arguments)}g(d,b);d.prototype.initialize=function(a){var b,c;console.log("initialize LoadingController");c=a.view;a=a.config;a=h.isBoolean(a)?{}:a;
h.defaults(a,{loadingType:"spinner",entities:this.getEntities(c),debug:!1});switch(a.loadingType){case "opacity":this.region.currentView.$el.css("opacity",0.5);break;case "spinner":b=this.getLoadingView();this.show(b);break;default:throw Error("Invalid loadingType");}return this.showRealView(c,b,a)};d.prototype.showRealView=function(b,c,d){var e=this;return a.execute("when:fetched",d.entities,function(){switch(d.loadingType){case "opacity":e.region.currentView.$el.removeAttr("style");break;case "spinner":if(e.region.currentView!==
c)return b.close()}if(!d.debug)return e.show(b)})};d.prototype.getEntities=function(a){return h.chain(a).pick("model","collection").toArray().compact().value()};d.prototype.getLoadingView=function(){return new c.LoadingView};return d}(a.Controllers.Base);return a.commands.setHandler("show:loading",function(a,b){console.log("show:loading");return new c.LoadingController({view:a,region:b.region,config:b.loading})})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("Components.Loading",function(c,a,d,e,b,h){var k;return c.LoadingView=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="LoadingView";b.prototype.className="loading-container";b.prototype.onClose=function(){return this.close()};
return b}(a.Views.ItemView)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("AddPopupApp",function(c,a,d,e,b,h){var k,l;c.Router=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.appRoutes={"add/point":"point"};return b}(e.AppRouter);k={point:function(){return new c.Point.Controller({content:"ypi"})}};return a.addInitializer(function(){return new c.Router({controller:k})})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("AddPopupApp.Point",function(c,a,d,e,b,h){var k;return c.Controller=function(b){function d(){return k=d.__super__.constructor.apply(this,arguments)}g(d,b);d.prototype.initialize=function(){var b=this;console.log("initialize AddPopupApp.Point.Controller");this.model=new a.Entities.Point;
this.layout=new c.Layout({model:this.model});this.listenTo(this.layout,"show",function(){b.showStepName();b.showStepWhat();return b.showStepCommers()});return a.addPointPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showStepName=function(){this.nameView=new c.StepName({model:this.model});this.show(this.nameView,{region:this.layout.stepNameRegion,loading:!0});return this.listenTo(this.nameView,"show:step:what",function(){this.layout.stepNameRegion.$el.hide();
return this.layout.stepWhatRegion.$el.show()})};d.prototype.showStepWhat=function(){this.whatView=new c.StepWhat({model:this.model});this.show(this.whatView,{region:this.layout.stepWhatRegion});this.listenTo(this.whatView,"show:step:commers",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepCommersRegion.$el.show()});return this.listenTo(this.whatView,"show:step:name",function(){this.layout.stepWhatRegion.$el.hide();return this.layout.stepNameRegion.$el.show()})};d.prototype.showStepCommers=
function(){this.commersView=new c.StepCommers({model:this.model});this.show(this.commersView,{region:this.layout.stepCommersRegion});return this.listenTo(this.commersView,"show:step:what",function(){this.layout.stepCommersRegion.$el.hide();return this.layout.stepWhatRegion.$el.show()})};return d}(a.Controllers.Base)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("AddPopupApp.Point",function(c,a,d,e,b,h){var k,l,p,n;c.Layout=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="AddPointLayout";b.prototype.className="popupwin__scrollbox";b.prototype.regions={stepNameRegion:"#point-name-region",
stepWhatRegion:"#point-what-region",stepCommersRegion:"#point-commers-region"};b.prototype.onShow=function(){return this.stepNameRegion.$el.show()};return b}(a.Views.Layout);c.StepName=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.template="PointStepName";c.prototype.className="popupwin__content clearfix";c.prototype.events={"click .js-next":"nextStep"};c.prototype.onShow=function(){return this.$("#place-dropzone").dropzone({paramName:"img",headers:{"X-CSRFToken":b.cookie("csrftoken")}})};
c.prototype.nextStep=function(a){a.preventDefault();return this.trigger("show:step:what")};return c}(a.Views.ItemView);c.StepWhat=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointStepWhat";b.prototype.className="popupwin__content clearfix";b.prototype.events={"click .js-back":"backStep","click .js-next":"nextStep"};b.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:name")};b.prototype.nextStep=function(a){a.preventDefault();
return this.trigger("show:step:commers")};return b}(a.Views.ItemView);return c.StepCommers=function(a){function b(){return n=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointStepCommers";b.prototype.className="popupwin__content clearfix";b.prototype.events={"click .js-back":"backStep","click .js-finish":"finishStep"};b.prototype.finishStep=function(a){return a.preventDefault()};b.prototype.backStep=function(a){a.preventDefault();return this.trigger("show:step:what")};
return b}(a.Views.ItemView)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp",function(c,a,d,e,b,h){var k,l;c.Router=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.appRoutes={"":"index","!new":"new"};return b}(e.AppRouter);k={index:function(){return new c.List.Controller({content:"ypi"})},"new":function(){return new c.List.Controller({content:"updated"})}};
a.vent.on("show:detail:popup",function(a){return new c.Point.Controller({model:a})});a.vent.on("filter:all:yapens",function(){return new c.List.Controller});return a.addInitializer(function(){return new c.Router({controller:k})})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.List",function(c,a,d,e,b,h){var k;return c.Controller=function(b){function d(){return k=d.__super__.constructor.apply(this,arguments)}g(d,b);d.prototype.initialize=function(){console.log("initialize BoardApp.List.Controller");a.updateSettings({content:this.options.content||
"ypi"});this.yapens=a.request("get:all:yapens",a.settings);return this.showYapens()};d.prototype.onClose=function(){this.stopListening();return this.yapens.reset()};d.prototype.showYapens=function(){var b;b=new c.Yapens({collection:this.yapens});b.on("childview:show:detail:popup",function(b,c){return a.vent.trigger("show:detail:popup",c)});return this.show(b,{region:a.boardRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.List",function(c,a,d,e,b,h){var k,l;c.Yapen=function(c){function d(){return k=d.__super__.constructor.apply(this,arguments)}g(d,c);d.prototype.initialize=function(){return this.listenTo(this.model,"point:like:response",this.pointLikeResponse)};d.prototype.getTemplate=function(){return"point"===
this.model.get("type_of_item")?"BoardPoint":"set"===this.model.get("type_of_item")?"BoardSet":"trip"===this.model.get("type_of_item")?"BoardTrip":"event"===this.model.get("type_of_item")?"BoardEvent":"route"===this.model.get("type_of_item")?"BoardRoute":"BoardPoint"};d.prototype.className="box";d.prototype.events={"click .js-popupwin-place":function(){return this.trigger("show:detail:popup",this.model)},"click .sprite-like":function(){return a.request("like:point",this.model)},"click .sprite-place":"mark"};
d.prototype.modelEvents={"change:likes_count":"render","change:reviews":"render"};d.prototype.onRender=function(){console.log("onRender model");return this.tips=this.$(".box__img .icon").tooltip({placement:"bottom"})};d.prototype.pointLikeResponse=function(a){if(1===a.status)return console.error(a)};d.prototype.mark=function(){var c,d,e;console.log(this.model.attributes);c=[[1,[[80,0],[112,36]]],[2,[[0,40],[32,76]]],[3,[[40,0],[72,36]]],[4,[[40,80],[72,116]]],[6,[[0,120],[32,156]]],[7,[[80,80],[112,
116]]],[85,[[40,40],[72,76]]],[86,[[80,40],[112,76]]],[87,[[0,0],[32,36]]],[1136,[[0,80],[32,116]]]];console.log(c[1]);e=this;d=[[0,0],[32,36]];b(c).each(function(){if(this[0]===e.model.attributes.tags[0].id)return d=this[1]});c=new a.ymaps.Placemark([this.model.attributes.latitude,this.model.attributes.longitude],{},{iconImageClipRect:d,iconImageHref:"static/images/sprite-baloon.png",iconImageSize:[32,36]});a.mmap.geoObjects.add(c);return console.log(c)};return d}(a.Views.ItemView);return c.Yapens=
function(e){function k(){return l=k.__super__.constructor.apply(this,arguments)}g(k,e);k.prototype.itemView=c.Yapen;k.prototype.className="content";k.prototype.id="grid";k.prototype.initialize=function(){h.bindAll(this,"onShow");return this.infiniScroll=new d.InfiniScroll(this.collection,{scrollOffset:350,includePage:!0,extraParams:a.settings,onFetch:function(){return b(".loader").removeClass("hide")},success:function(){return b(".loader").addClass("hide")}})};k.prototype.onAfterItemAdded=function(a){var b=
this;if(this.wall)return a.$el.imagesLoaded(function(){return b.wall.appended(a.$el)})};k.prototype.onShow=function(){var b=this;return a.execute("when:fetched",this.collection,function(){console.log("collection fetched",b.collection);return b.$el.imagesLoaded(function(){return b.wall=new Masonry(b.el,{itemSelector:".box"})})})};k.prototype.onClose=function(){this.infiniScroll.destroy();this.wall&&this.wall.destroy();return this.remove()};return k}(a.Views.CollectionView)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.Point",function(c,a,d,e,b,h){var k;return c.Controller=function(b){function d(){return k=d.__super__.constructor.apply(this,arguments)}g(d,b);d.prototype.initialize=function(){var b=this;console.log("initialize BoardApp.Point.Controller");this.model=a.request("get:detail:point",
this.options.model);this.layout=new c.Layout({model:this.model});this.listenTo(this.layout,"show",function(){b.showPhotos();b.showHeader();return b.showComments()});return a.pointPopup.show(this.layout,{loading:!0})};d.prototype.onClose=function(){return this.stopListening()};d.prototype.showHeader=function(){this.headerView=new c.Header({model:this.model});return this.show(this.headerView,{region:this.layout.headerRegion})};d.prototype.showPhotos=function(){this.photoView=new c.Photo({model:this.model});
return this.show(this.photoView,{region:this.layout.photoRegion,loading:!0})};d.prototype.showComments=function(){this.commentsView=new c.Comments({model:this.model});return this.show(this.commentsView,{region:this.layout.commentsRegion,loading:!0})};return d}(a.Controllers.Base)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("BoardApp.Point",function(c,a,d,e,b,h){var k,l,p,n,r,m;c.Layout=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointLayout";b.prototype.regions={headerRegion:"#point-header-region",photoRegion:"#point-photo-region",mapRegion:"#point-map-region",
commentsRegion:"#point-comments-region",tagsRegion:"#point-tags-region"};b.prototype.className="popupwin__scrollbox";return b}(a.Views.Layout);c.Header=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,c);d.prototype.template="PointHeader";d.prototype.modelEvents={"change:isliked":"render","change:likes_count":"render"};d.prototype.events={"click .btn-like":function(){return a.request("like:point",this.model)},"click .btn-place":function(){return this.trigger("add:path:popup",
this.model)},"click .btn-upload":"upload"};d.prototype.initialize=function(){return this.listenTo(this.model,"point:like:response",this.pointLikeResponse)};d.prototype.pointLikeResponse=function(a){var b=this;if(1===a.status)return this.$(".btn-like").tooltip("show"),setTimeout(function(){return b.$(".btn-like").tooltip("destroy")},1E3)};d.prototype.upload=function(a){a.preventDefault();return b(a.currentTarget).toggleClass("active")};return d}(a.Views.ItemView);c.Photo=function(a){function c(){return p=
c.__super__.constructor.apply(this,arguments)}g(c,a);c.prototype.template="PointPhoto";c.prototype.initialize=function(){return this.bxPagerInit=function(){return b(".bx-pager").each(function(){var a,c,d;a=b(this);d=a.find(".bx-pager__item:first-child").outerWidth(!0);c=a.find(".bx-pager__item").length;a.find(".bx-pager__scrollbox").width(d*c);return b(this).find(".bx-pager__viewport").scrollLeft(0)})}};c.prototype.onShow=function(){this.bxPagerInit();return b(".bxslider-place").bxSlider({pagerCustom:"#bx-pager",
onSliderLoad:function(){return b("#bx-pager .bx-pager__viewport").scrollLeft(-100)},onSlideNext:function(a,c,d){a=b("#bx-pager .bx-pager__scrollbox .active").position().left+b("#bx-pager .bx-pager__item").outerWidth(!0);b("#bx-pager .bx-pager__viewport").scrollLeft(a);if(b("#bx-pager .bx-pager__item:first-child").index()===d)return b("#bx-pager .bx-pager__viewport").scrollLeft(0)},onSlidePrev:function(a,c,d){a=b("#bx-pager .bx-pager__scrollbox .active").position().left-b("#bx-pager .bx-pager__item").outerWidth(!0);
b("#bx-pager .bx-pager__viewport").scrollLeft(a);if(b("#bx-pager .bx-pager__item:last-child").index()===d)return b("#bx-pager .bx-pager__viewport").scrollLeft(b("#bx-pager .bx-pager__viewport").width())}})};return c}(a.Views.ItemView);c.Map=function(a){function b(){return n=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointMap";return b}(a.Views.ItemView);c.Comments=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template=
"PointComments";b.prototype.className="comments";b.prototype.tagName="ul";return b}(a.Views.ItemView);return c.Tags=function(a){function b(){return m=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PointTags";b.prototype.modelEvents={"change:tags":"render"};return b}(a.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("FooterApp",function(c,g,f,a,d,e){var b;b={show:function(){return new c.Show.Controller({region:g.footerRegion})}};return c.on("start",function(){console.log("FooterApp onStart event");return b.show()})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("FooterApp.Show",function(c,a,d,e,b,h){var k;return c.Controller=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.initialize=function(){console.log("initialize FooterApp.Show.Controller");this.layout=this.getLayoutView();return this.show(this.layout)};
b.prototype.getLayoutView=function(){return new c.Layout};return b}(a.Controllers.Base)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("FooterApp.Show",function(c,a,d,e,b,h){var k;return c.Layout=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="FooterView";b.prototype.className="f-body";return b}(a.Views.Layout)})}).call(this);
(function(){this.Yapp.module("HeaderApp",function(c,g,f,a,d,e){var b;b={show:function(){return new c.Show.Controller({region:g.headerRegion})}};g.vent.on("show:add:popup",function(){var a;console.log("event fired");a=new g.Views.ItemView({template:"PopupAdd",className:"popupwin__scrollbox"});return g.addPopupRegion.show(a)});return c.on("start",function(){console.log("HeaderApp onStart event");return b.show()})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("HeaderApp.Show",function(c,a,d,e,b,h){var k;return c.Controller=function(b){function d(){return k=d.__super__.constructor.apply(this,arguments)}g(d,b);d.prototype.initialize=function(){var b=this;console.log("initialize HeaderApp.Show.Controller");this.layout=this.getLayoutView();this.tags=
a.request("get:all:tags");this.listenTo(this.layout,"show",function(){b.ctrlsView();b.destinationView();return b.filterView()});return this.show(this.layout)};d.prototype.ctrlsView=function(){var a;a=new c.Ctrls;return this.show(a,{region:this.layout.ctrlsRegion})};d.prototype.destinationView=function(){var a;a=new c.Destination;return this.show(a,{region:this.layout.destinationRegion})};d.prototype.filterView=function(){var b=this;return a.execute("when:fetched",this.tags,function(){var a;a=new c.Filter({collection:b.tags});
return b.show(a,{region:b.layout.filterRegion})})};d.prototype.getLayoutView=function(){return new c.Layout};d.prototype.onClose=function(){return this.stopListening()};return d}(a.Controllers.Base)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("HeaderApp.Show",function(c,a,d,e,b,h){var k,l,p,n,r;console.log("initialize HeaderApp.Show.Layout");c.Layout=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="HeaderView";b.prototype.className="h-body";b.prototype.regions={ctrlsRegion:".header__ctrls",
destinationRegion:".header__destination",filterRegion:".header__filter"};return b}(a.Views.Layout);c.Ctrls=function(b){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,b);d.prototype.template="Ctrls";d.prototype.className="constrain";d.prototype.events={"click .btn_action_add":"showAddPopup"};d.prototype.initialize=function(){return a.request("get:my:profile")};d.prototype.showAddPopup=function(b){b.preventDefault();return a.addPopupRegion.show(new c.PopupAdd)};d.prototype.format=
function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};d.prototype.onShow=function(){return this.$("input").select2({allowClear:!0,ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;console.log(a);c=h.map(a,function(a,b){h.map(a,function(a){return a.type=b});return a});return{results:h.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:3,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},
formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},escapeMarkup:function(a){return a}})};return d}(a.Views.ItemView);c.Destination=function(b){function c(){return p=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.template="Destination";c.prototype.className="constrain";c.prototype.events={"submit #destination-form":"submitSearch","select2-selecting #destination-input":"submitSearch","select2-clearing #destination-input":"submitSearch"};
c.prototype.submitSearch=function(b){"submit"===b.type&&(b.preventDefault(),console.log(b));b=b.object;a.updateSettings({s:b?b.name:""});return a.vent.trigger("filter:all:yapens")};c.prototype.format=function(a){return"<span data-id='"+a.id+"' class='type type_"+a.type+"'>"+a.name+"</span>"};c.prototype.onShow=function(){return window.select2=this.$("#destination-input").select2({containerCssClass:"select2-container_destination",dropdownCssClass:"select2-drop_destination",quietMillis:750,allowClear:!0,
ajax:{dataType:"json",url:a.API_BASE_URL+"/api/v1/search/",data:function(a,b){return{s:a}},results:function(a,b){var c;c=h.map(a,function(a,b){h.map(a,function(a){return a.type=b});return a});return{results:h.flatten(c)}}},formatResult:this.format,formatSelection:this.format,minimumInputLength:1,formatInputTooShort:function(){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0438\u043c\u0432\u043e\u043b"},formatNoMatches:function(){return"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},
escapeMarkup:function(a){return a},createSearchChoice:function(a){return{id:0,type:"custom",name:a}}})};return c}(a.Views.ItemView);c.Filter=function(c){function d(){return n=d.__super__.constructor.apply(this,arguments)}g(d,c);d.prototype.template="Filter";d.prototype.className="constrain clearfix";d.prototype.events={"click .categories__link":"filterCategory","click .categories__link_type_all":"filterAllCategory","click .filter-type > a":"openFilterType","click .filter-type__link":"filterType"};
d.prototype.ui={filterTypeList:".filter-type__list",filterAllCategory:".categories__link"};d.prototype.onShow=function(){return b("[data-toggle=tooltip]").tooltip()};d.prototype.filterCategory=function(c){c.preventDefault();c=b(c.target);if(!c.hasClass("categories__link_type_all"))return c.toggleClass("active"),c=h.map(this.$(".categories__link.sprite-filter-photo.active"),function(a){return b(a).data("id")}),a.updateSettings({tags:c.join(",")}),a.vent.trigger("filter:all:yapens")};d.prototype.filterAllCategory=
function(c){c.preventDefault();b(c.target).hasClass("active")?(b(c.target).removeClass("active"),this.ui.filterAllCategory.removeClass("active")):(b(c.target).addClass("active"),this.ui.filterAllCategory.addClass("active"));c=h.map(this.$(".categories__link.sprite-filter-photo.active"),function(a){return b(a).data("id")});a.updateSettings({tags:c.join(",")});return a.vent.trigger("filter:all:yapens")};d.prototype.openFilterType=function(a){a.preventDefault();return this.ui.filterTypeList.toggle()};
d.prototype.filterType=function(c){c.preventDefault();b(c.target).toggleClass("active");c=h.map(this.$(".filter-type__link.active"),function(a){return b(a).data("models")});a.updateSettings({models:c.join(",")});return a.vent.trigger("filter:all:yapens")};return d}(a.Views.ItemView);return c.PopupAdd=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="PopupAdd";b.prototype.className="popupwin__scrollbox";return b}(a.Views.ItemView)})}).call(this);
(function(){this.Yapp.module("MapApp",function(c,g,f,a,d,e){var b;b={show:function(){return new c.Show.Controller({region:g.mapRegion})},mapToggle:function(a){g.mapRegion.$el.toggleClass("map-opened");d("#wrap").toggleClass("map-opened");a&&(g.map.$el.addClass("map-opened"),d("#wrap").addClass("map-opened"));a="\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443"===g.mapRegion.$el.find(".a-toggle").html()?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443":
"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0440\u0442\u0443";return g.mapRegion.$el.find(".a-toggle").html(a)}};c.on("start",function(){console.log("MapApp onStart event");console.log("\u0437\u0431\u0441");return b.show()});return g.commands.setHandler("toggle:map",function(a){return b.mapToggle(a)})})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("MapApp.Show",function(c,a,d,e,b,h){var k;return c.Controller=function(a){function b(){return k=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.initialize=function(){var a=this;console.log("initialize MapApp.Show.Controller");this.layout=this.getLayoutView();this.listenTo(this.layout,
"show",function(){return a.mapView()});return this.show(this.layout)};b.prototype.getLayoutView=function(){return new c.Layout};b.prototype.mapView=function(){return new c.Map};return b}(a.Controllers.Base)})}).call(this);
(function(){var c={}.hasOwnProperty,g=function(f,a){function d(){this.constructor=f}for(var e in a)c.call(a,e)&&(f[e]=a[e]);d.prototype=a.prototype;f.prototype=new d;f.__super__=a.prototype;return f};this.Yapp.module("MapApp.Show",function(c,a,d,e,b,h){var k,l,p;c.Layout=function(b){function c(){return k=c.__super__.constructor.apply(this,arguments)}g(c,b);c.prototype.template="MapView";c.prototype.className="map map_main";c.prototype.regions={tagsRegion:"#m-ico-group"};c.prototype.events={"click .a-toggle":"toggleMap"};
c.prototype.toggleMap=function(b){b.preventDefault();return a.execute("toggle:map")};return c}(a.Views.Layout);c.Map=function(c){function d(){return l=d.__super__.constructor.apply(this,arguments)}g(d,c);d.prototype.template=!1;d.prototype.initialize=function(){var c=this;console.log("initialize MapApp.Show.Map");if(void 0!==a.ymaps)return a.ymaps.ready(function(){return a.mmap=new a.ymaps.Map("map",{center:[a.ymaps.geolocation.latitude,a.ymaps.geolocation.longitude],zoom:6},{autoFitToViewport:"always"})}),
console.log(this),b(".map").resizable({minHeight:80,handles:"s",resize:function(a,d){var e;e=b(c);return 440<d.size.height?e.addClass("open"):e.removeClass("open")}})};return d}(a.Views.ItemView);return c.Tags=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments)}g(b,a);b.prototype.template="IconTemplate";return b}(a.Views.ItemView)})}).call(this);
